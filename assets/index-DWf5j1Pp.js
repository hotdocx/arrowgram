const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mermaid.core-D-mGnfG0.js","assets/step-CdWOLO1w.js","assets/vega.module-DlPeonZJ.js","assets/linear-BfjZ8xob.js","assets/init-Dmth1JHB.js","assets/defaultLocale-CNpUPyHh.js","assets/time-BEjrHOyX.js","assets/range-OtVwhkKS.js","assets/ordinal-BeghXfj9.js","assets/colors-Cc3OSVma.js","assets/arc-r7J50yS7.js","assets/index-Bi7T_FA4.js","assets/index-ByJ9Ii8b.js"])))=>i.map(i=>d[i]);
var NS=Object.defineProperty;var OS=(e,t,r)=>t in e?NS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var No=(e,t,r)=>OS(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hh={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function CS(){if(oy)return ru;oy=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:n,key:u,ref:s!==void 0?s:null,props:o}}return ru.Fragment=t,ru.jsx=r,ru.jsxs=r,ru}var ly;function RS(){return ly||(ly=1,Hh.exports=CS()),Hh.exports}var z=RS(),Ph={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function IS(){if(uy)return We;uy=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function C(L,ie,W){this.props=L,this.context=ie,this.refs=A,this.updater=W||k}C.prototype.isReactComponent={},C.prototype.setState=function(L,ie){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ie,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function R(){}R.prototype=C.prototype;function M(L,ie,W){this.props=L,this.context=ie,this.refs=A,this.updater=W||k}var I=M.prototype=new R;I.constructor=M,S(I,C.prototype),I.isPureReactComponent=!0;var D=Array.isArray;function B(){}var E={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function F(L,ie,W){var te=W.ref;return{$$typeof:e,type:L,key:ie,ref:te!==void 0?te:null,props:W}}function ue(L,ie){return F(L.type,ie,L.props)}function ee(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function V(L){var ie={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(W){return ie[W]})}var K=/\/+/g;function X(L,ie){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):ie.toString(36)}function re(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(B,B):(L.status="pending",L.then(function(ie){L.status==="pending"&&(L.status="fulfilled",L.value=ie)},function(ie){L.status==="pending"&&(L.status="rejected",L.reason=ie)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function $(L,ie,W,te,ge){var Te=typeof L;(Te==="undefined"||Te==="boolean")&&(L=null);var le=!1;if(L===null)le=!0;else switch(Te){case"bigint":case"string":case"number":le=!0;break;case"object":switch(L.$$typeof){case e:case t:le=!0;break;case p:return le=L._init,$(le(L._payload),ie,W,te,ge)}}if(le)return ge=ge(L),le=te===""?"."+X(L,0):te,D(ge)?(W="",le!=null&&(W=le.replace(K,"$&/")+"/"),$(ge,ie,W,"",function(Ye){return Ye})):ge!=null&&(ee(ge)&&(ge=ue(ge,W+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(K,"$&/")+"/")+le)),ie.push(ge)),1;le=0;var Me=te===""?".":te+":";if(D(L))for(var je=0;je<L.length;je++)te=L[je],Te=Me+X(te,je),le+=$(te,ie,W,Te,ge);else if(je=x(L),typeof je=="function")for(L=je.call(L),je=0;!(te=L.next()).done;)te=te.value,Te=Me+X(te,je++),le+=$(te,ie,W,Te,ge);else if(Te==="object"){if(typeof L.then=="function")return $(re(L),ie,W,te,ge);throw ie=String(L),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return le}function Z(L,ie,W){if(L==null)return L;var te=[],ge=0;return $(L,te,"","",function(Te){return ie.call(W,Te,ge++)}),te}function J(L){if(L._status===-1){var ie=L._result;ie=ie(),ie.then(function(W){(L._status===0||L._status===-1)&&(L._status=1,L._result=W)},function(W){(L._status===0||L._status===-1)&&(L._status=2,L._result=W)}),L._status===-1&&(L._status=0,L._result=ie)}if(L._status===1)return L._result.default;throw L._result}var Ae=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ze={map:Z,forEach:function(L,ie,W){Z(L,function(){ie.apply(this,arguments)},W)},count:function(L){var ie=0;return Z(L,function(){ie++}),ie},toArray:function(L){return Z(L,function(ie){return ie})||[]},only:function(L){if(!ee(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return We.Activity=g,We.Children=ze,We.Component=C,We.Fragment=r,We.Profiler=s,We.PureComponent=M,We.StrictMode=n,We.Suspense=f,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,We.__COMPILER_RUNTIME={__proto__:null,c:function(L){return E.H.useMemoCache(L)}},We.cache=function(L){return function(){return L.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(L,ie,W){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var te=S({},L.props),ge=L.key;if(ie!=null)for(Te in ie.key!==void 0&&(ge=""+ie.key),ie)!j.call(ie,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ie.ref===void 0||(te[Te]=ie[Te]);var Te=arguments.length-2;if(Te===1)te.children=W;else if(1<Te){for(var le=Array(Te),Me=0;Me<Te;Me++)le[Me]=arguments[Me+2];te.children=le}return F(L.type,ge,te)},We.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},We.createElement=function(L,ie,W){var te,ge={},Te=null;if(ie!=null)for(te in ie.key!==void 0&&(Te=""+ie.key),ie)j.call(ie,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ge[te]=ie[te]);var le=arguments.length-2;if(le===1)ge.children=W;else if(1<le){for(var Me=Array(le),je=0;je<le;je++)Me[je]=arguments[je+2];ge.children=Me}if(L&&L.defaultProps)for(te in le=L.defaultProps,le)ge[te]===void 0&&(ge[te]=le[te]);return F(L,Te,ge)},We.createRef=function(){return{current:null}},We.forwardRef=function(L){return{$$typeof:d,render:L}},We.isValidElement=ee,We.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:J}},We.memo=function(L,ie){return{$$typeof:h,type:L,compare:ie===void 0?null:ie}},We.startTransition=function(L){var ie=E.T,W={};E.T=W;try{var te=L(),ge=E.S;ge!==null&&ge(W,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(B,Ae)}catch(Te){Ae(Te)}finally{ie!==null&&W.types!==null&&(ie.types=W.types),E.T=ie}},We.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},We.use=function(L){return E.H.use(L)},We.useActionState=function(L,ie,W){return E.H.useActionState(L,ie,W)},We.useCallback=function(L,ie){return E.H.useCallback(L,ie)},We.useContext=function(L){return E.H.useContext(L)},We.useDebugValue=function(){},We.useDeferredValue=function(L,ie){return E.H.useDeferredValue(L,ie)},We.useEffect=function(L,ie){return E.H.useEffect(L,ie)},We.useEffectEvent=function(L){return E.H.useEffectEvent(L)},We.useId=function(){return E.H.useId()},We.useImperativeHandle=function(L,ie,W){return E.H.useImperativeHandle(L,ie,W)},We.useInsertionEffect=function(L,ie){return E.H.useInsertionEffect(L,ie)},We.useLayoutEffect=function(L,ie){return E.H.useLayoutEffect(L,ie)},We.useMemo=function(L,ie){return E.H.useMemo(L,ie)},We.useOptimistic=function(L,ie){return E.H.useOptimistic(L,ie)},We.useReducer=function(L,ie,W){return E.H.useReducer(L,ie,W)},We.useRef=function(L){return E.H.useRef(L)},We.useState=function(L){return E.H.useState(L)},We.useSyncExternalStore=function(L,ie,W){return E.H.useSyncExternalStore(L,ie,W)},We.useTransition=function(){return E.H.useTransition()},We.version="19.2.4",We}var cy;function _p(){return cy||(cy=1,Ph.exports=IS()),Ph.exports}var _e=_p();const hn=G5(_e);var Zh={exports:{}},au={},Gh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function DS(){return dy||(dy=1,function(e){function t($,Z){var J=$.length;$.push(Z);e:for(;0<J;){var Ae=J-1>>>1,ze=$[Ae];if(0<s(ze,Z))$[Ae]=Z,$[J]=ze,J=Ae;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var Z=$[0],J=$.pop();if(J!==Z){$[0]=J;e:for(var Ae=0,ze=$.length,L=ze>>>1;Ae<L;){var ie=2*(Ae+1)-1,W=$[ie],te=ie+1,ge=$[te];if(0>s(W,J))te<ze&&0>s(ge,W)?($[Ae]=ge,$[te]=J,Ae=te):($[Ae]=W,$[ie]=J,Ae=ie);else if(te<ze&&0>s(ge,J))$[Ae]=ge,$[te]=J,Ae=te;else break e}}return Z}function s($,Z){var J=$.sortIndex-Z.sortIndex;return J!==0?J:$.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],h=[],p=1,g=null,y=3,x=!1,k=!1,S=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function I($){for(var Z=r(h);Z!==null;){if(Z.callback===null)n(h);else if(Z.startTime<=$)n(h),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=r(h)}}function D($){if(S=!1,I($),!k)if(r(f)!==null)k=!0,B||(B=!0,V());else{var Z=r(h);Z!==null&&re(D,Z.startTime-$)}}var B=!1,E=-1,j=5,F=-1;function ue(){return A?!0:!(e.unstable_now()-F<j)}function ee(){if(A=!1,B){var $=e.unstable_now();F=$;var Z=!0;try{e:{k=!1,S&&(S=!1,R(E),E=-1),x=!0;var J=y;try{t:{for(I($),g=r(f);g!==null&&!(g.expirationTime>$&&ue());){var Ae=g.callback;if(typeof Ae=="function"){g.callback=null,y=g.priorityLevel;var ze=Ae(g.expirationTime<=$);if($=e.unstable_now(),typeof ze=="function"){g.callback=ze,I($),Z=!0;break t}g===r(f)&&n(f),I($)}else n(f);g=r(f)}if(g!==null)Z=!0;else{var L=r(h);L!==null&&re(D,L.startTime-$),Z=!1}}break e}finally{g=null,y=J,x=!1}Z=void 0}}finally{Z?V():B=!1}}}var V;if(typeof M=="function")V=function(){M(ee)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=ee,V=function(){X.postMessage(null)}}else V=function(){C(ee,0)};function re($,Z){E=C(function(){$(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function($){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var J=y;y=Z;try{return $()}finally{y=J}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=y;y=$;try{return Z()}finally{y=J}},e.unstable_scheduleCallback=function($,Z,J){var Ae=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ae+J:Ae):J=Ae,$){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=J+ze,$={id:p++,callback:Z,priorityLevel:$,startTime:J,expirationTime:ze,sortIndex:-1},J>Ae?($.sortIndex=J,t(h,$),r(f)===null&&$===r(h)&&(S?(R(E),E=-1):S=!0,re(D,J-Ae))):($.sortIndex=ze,t(f,$),k||x||(k=!0,B||(B=!0,V()))),$},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function($){var Z=y;return function(){var J=y;y=Z;try{return $.apply(this,arguments)}finally{y=J}}}}(Vh)),Vh}var fy;function jS(){return fy||(fy=1,Gh.exports=DS()),Gh.exports}var Yh={exports:{}},Fr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function $S(){if(hy)return Fr;hy=1;var e=_p();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Fr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},Fr.flushSync=function(f){var h=u.T,p=n.p;try{if(u.T=null,n.p=2,f)return f()}finally{u.T=h,n.p=p,n.d.f()}},Fr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Fr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Fr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Fr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Fr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Fr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Fr.requestFormReset=function(f){n.d.r(f)},Fr.unstable_batchedUpdates=function(f,h){return f(h)},Fr.useFormState=function(f,h,p){return u.H.useFormState(f,h,p)},Fr.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fr.version="19.2.4",Fr}var my;function V5(){if(my)return Yh.exports;my=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yh.exports=$S(),Yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function BS(){if(py)return au;py=1;var e=jS(),t=_p(),r=V5();function n(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var i=a,l=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(l=i.return),a=i.return;while(a)}return i.tag===3?l:null}function u(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function d(a){if(a.tag===31){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(n(188))}function h(a){var i=a.alternate;if(!i){if(i=o(a),i===null)throw Error(n(188));return i!==a?null:a}for(var l=a,c=i;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return f(m),a;if(v===c)return f(m),i;v=v.sibling}throw Error(n(188))}if(l.return!==c.return)l=m,c=v;else{for(var _=!1,N=m.child;N;){if(N===l){_=!0,l=m,c=v;break}if(N===c){_=!0,c=m,l=v;break}N=N.sibling}if(!_){for(N=v.child;N;){if(N===l){_=!0,l=v,c=m;break}if(N===c){_=!0,c=v,l=m;break}N=N.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:i}function p(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=p(a),i!==null)return i;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=ee&&a[ee]||a["@@iterator"],typeof a=="function"?a:null)}var K=Symbol.for("react.client.reference");function X(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===K?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case B:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case k:return"Portal";case M:return a.displayName||"Context";case R:return(a._context.displayName||"Context")+".Consumer";case I:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case E:return i=a.displayName||null,i!==null?i:X(a.type)||"Memo";case j:i=a._payload,a=a._init;try{return X(a(i))}catch{}}return null}var re=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Ae=[],ze=-1;function L(a){return{current:a}}function ie(a){0>ze||(a.current=Ae[ze],Ae[ze]=null,ze--)}function W(a,i){ze++,Ae[ze]=a.current,a.current=i}var te=L(null),ge=L(null),Te=L(null),le=L(null);function Me(a,i){switch(W(Te,i),W(ge,a),W(te,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?N4(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=N4(i),a=O4(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(te),W(te,a)}function je(){ie(te),ie(ge),ie(Te)}function Ye(a){a.memoizedState!==null&&W(le,a);var i=te.current,l=O4(i,a.type);i!==l&&(W(ge,a),W(te,l))}function nt(a){ge.current===a&&(ie(te),ie(ge)),le.current===a&&(ie(le),Wl._currentValue=J)}var tt,Dt;function kt(a){if(tt===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);tt=i&&i[1]||"",Dt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+a+Dt}var Yt=!1;function Ut(a,i){if(!a||Yt)return"";Yt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ce){var oe=ce}Reflect.construct(a,[],pe)}else{try{pe.call()}catch(ce){oe=ce}a.call(pe.prototype)}}else{try{throw Error()}catch(ce){oe=ce}(pe=a())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ce){if(ce&&oe&&typeof ce.stack=="string")return[ce.stack,oe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),_=v[0],N=v[1];if(_&&N){var P=_.split(`
`),se=N.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<se.length&&!se[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===se.length)for(c=P.length-1,m=se.length-1;1<=c&&0<=m&&P[c]!==se[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==se[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==se[m]){var he=`
`+P[c].replace(" at new "," at ");return a.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",a.displayName)),he}while(1<=c&&0<=m);break}}}finally{Yt=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?kt(l):""}function er(a,i){switch(a.tag){case 26:case 27:case 5:return kt(a.type);case 16:return kt("Lazy");case 13:return a.child!==i&&i!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return Ut(a.type,!1);case 11:return Ut(a.type.render,!1);case 1:return Ut(a.type,!0);case 31:return kt("Activity");default:return""}}function _t(a){try{var i="",l=null;do i+=er(a,l),l=a,a=a.return;while(a);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var xt=Object.prototype.hasOwnProperty,Ft=e.unstable_scheduleCallback,jt=e.unstable_cancelCallback,lt=e.unstable_shouldYield,hr=e.unstable_requestPaint,or=e.unstable_now,Ne=e.unstable_getCurrentPriorityLevel,Ot=e.unstable_ImmediatePriority,rn=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,Gs=e.unstable_LowPriority,Jr=e.unstable_IdlePriority,Vs=e.log,$r=e.unstable_setDisableYieldValue,br=null,vt=null;function ya(a){if(typeof Vs=="function"&&$r(a),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(br,a)}catch{}}var Yr=Math.clz32?Math.clz32:Uu,hi=Math.log,Rd=Math.LN2;function Uu(a){return a>>>=0,a===0?32:31-(hi(a)/Rd|0)|0}var ls=256,gn=262144,Cr=4194304;function ia(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function us(a,i,l){var c=a.pendingLanes;if(c===0)return 0;var m=0,v=a.suspendedLanes,_=a.pingedLanes;a=a.warmLanes;var N=c&134217727;return N!==0?(c=N&~v,c!==0?m=ia(c):(_&=N,_!==0?m=ia(_):l||(l=N&~a,l!==0&&(m=ia(l))))):(N=c&~v,N!==0?m=ia(N):_!==0?m=ia(_):l||(l=c&~a,l!==0&&(m=ia(l)))),m===0?0:i!==0&&i!==m&&(i&v)===0&&(v=m&-m,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:m}function Cn(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function cl(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(){var a=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),a}function dl(a){for(var i=[],l=0;31>l;l++)i.push(a);return i}function mi(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Hu(a,i,l,c,m,v){var _=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var N=a.entanglements,P=a.expirationTimes,se=a.hiddenUpdates;for(l=_&~l;0<l;){var he=31-Yr(l),pe=1<<he;N[he]=0,P[he]=-1;var oe=se[he];if(oe!==null)for(se[he]=null,he=0;he<oe.length;he++){var ce=oe[he];ce!==null&&(ce.lane&=-536870913)}l&=~pe}c!==0&&Rn(a,c,0),v!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=v&~(_&~i))}function Rn(a,i,l){a.pendingLanes|=i,a.suspendedLanes&=~i;var c=31-Yr(i);a.entangledLanes|=i,a.entanglements[c]=a.entanglements[c]|1073741824|l&261930}function fl(a,i){var l=a.entangledLanes|=i;for(a=a.entanglements;l;){var c=31-Yr(l),m=1<<c;m&i|a[c]&i&&(a[c]|=i),l&=~m}}function Pu(a,i){var l=i&-i;return l=(l&42)!==0?1:hl(l),(l&(a.suspendedLanes|i))!==0?0:l}function hl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function In(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function pi(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:ey(a.type))}function Ys(a,i){var l=Z.p;try{return Z.p=a,i()}finally{Z.p=l}}var Da=Math.random().toString(36).slice(2),tr="__reactFiber$"+Da,Br="__reactProps$"+Da,Lr="__reactContainer$"+Da,cs="__reactEvents$"+Da,Zu="__reactListeners$"+Da,ja="__reactHandles$"+Da,ml="__reactResources$"+Da,Le="__reactMarker$"+Da;function xr(a){delete a[tr],delete a[Br],delete a[cs],delete a[Zu],delete a[ja]}function $a(a){var i=a[tr];if(i)return i;for(var l=a.parentNode;l;){if(i=l[Lr]||l[tr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(a=B4(a);a!==null;){if(l=a[tr])return l;a=B4(a)}return i}a=l,l=a.parentNode}return null}function Ba(a){if(a=a[tr]||a[Lr]){var i=a.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return a}return null}function yn(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(n(33))}function qt(a){var i=a[ml];return i||(i=a[ml]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Xt(a){a[Le]=!0}var Fs=new Set,rr={};function an(a,i){Xs(a,i),Xs(a+"Capture",i)}function Xs(a,i){for(rr[a]=i,a=0;a<i.length;a++)Fs.add(i[a])}var w9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),x1={},w1={};function S9(a){return xt.call(w1,a)?!0:xt.call(x1,a)?!1:w9.test(a)?w1[a]=!0:(x1[a]=!0,!1)}function Gu(a,i,l){if(S9(i))if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+l)}}function Vu(a,i,l){if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+l)}}function Dn(a,i,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(i,l,""+c)}}function La(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function S1(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _9(a,i,l){var c=Object.getOwnPropertyDescriptor(a.constructor.prototype,i);if(!a.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return m.call(this)},set:function(_){l=""+_,v.call(this,_)}}),Object.defineProperty(a,i,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function Id(a){if(!a._valueTracker){var i=S1(a)?"checked":"value";a._valueTracker=_9(a,i,""+a[i])}}function _1(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return a&&(c=S1(a)?a.checked?"true":"false":a.value),a=c,a!==l?(i.setValue(a),!0):!1}function Yu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var z9=/[\n"\\]/g;function Ua(a){return a.replace(z9,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dd(a,i,l,c,m,v,_,N){a.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.type=_:a.removeAttribute("type"),i!=null?_==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+La(i)):a.value!==""+La(i)&&(a.value=""+La(i)):_!=="submit"&&_!=="reset"||a.removeAttribute("value"),i!=null?jd(a,_,La(i)):l!=null?jd(a,_,La(l)):c!=null&&a.removeAttribute("value"),m==null&&v!=null&&(a.defaultChecked=!!v),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.name=""+La(N):a.removeAttribute("name")}function z1(a,i,l,c,m,v,_,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Id(a);return}l=l!=null?""+La(l):"",i=i!=null?""+La(i):l,N||i===a.value||(a.value=i),a.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,a.checked=N?a.checked:!!c,a.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.name=_),Id(a)}function jd(a,i,l){i==="number"&&Yu(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Ks(a,i,l,c){if(a=a.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<a.length;l++)m=i.hasOwnProperty("$"+a[l].value),a[l].selected!==m&&(a[l].selected=m),m&&c&&(a[l].defaultSelected=!0)}else{for(l=""+La(l),i=null,m=0;m<a.length;m++){if(a[m].value===l){a[m].selected=!0,c&&(a[m].defaultSelected=!0);return}i!==null||a[m].disabled||(i=a[m])}i!==null&&(i.selected=!0)}}function k1(a,i,l){if(i!=null&&(i=""+La(i),i!==a.value&&(a.value=i),l==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=l!=null?""+La(l):""}function T1(a,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(n(92));if(re(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=La(i),a.defaultValue=l,c=a.textContent,c===l&&c!==""&&c!==null&&(a.value=c),Id(a)}function Js(a,i){if(i){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=i;return}}a.textContent=i}var k9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function A1(a,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":c?a.setProperty(i,l):typeof l!="number"||l===0||k9.has(i)?i==="float"?a.cssFloat=l:a[i]=(""+l).trim():a[i]=l+"px"}function E1(a,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(a=a.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&l[m]!==c&&A1(a,m,c)}else for(var v in i)i.hasOwnProperty(v)&&A1(a,v,i[v])}function $d(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fu(a){return A9.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function jn(){}var Bd=null;function Ld(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ws=null,Qs=null;function M1(a){var i=Ba(a);if(i&&(a=i.stateNode)){var l=a[Br]||null;e:switch(a=i.stateNode,i.type){case"input":if(Dd(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ua(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==a&&c.form===a.form){var m=c[Br]||null;if(!m)throw Error(n(90));Dd(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===a.form&&_1(c)}break e;case"textarea":k1(a,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Ks(a,!!l.multiple,i,!1)}}}var Ud=!1;function N1(a,i,l){if(Ud)return a(i,l);Ud=!0;try{var c=a(i);return c}finally{if(Ud=!1,(Ws!==null||Qs!==null)&&(D0(),Ws&&(i=Ws,a=Qs,Qs=Ws=null,M1(i),a)))for(i=0;i<a.length;i++)M1(a[i])}}function pl(a,i){var l=a.stateNode;if(l===null)return null;var c=l[Br]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qd=!1;if($n)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){qd=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{qd=!1}var vi=null,Hd=null,Xu=null;function O1(){if(Xu)return Xu;var a,i=Hd,l=i.length,c,m="value"in vi?vi.value:vi.textContent,v=m.length;for(a=0;a<l&&i[a]===m[a];a++);var _=l-a;for(c=1;c<=_&&i[l-c]===m[v-c];c++);return Xu=m.slice(a,1<c?1-c:void 0)}function Ku(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Ju(){return!0}function C1(){return!1}function sa(a){function i(l,c,m,v,_){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(l=a[N],this[N]=l?l(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ju:C1,this.isPropagationStopped=C1,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),i}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=sa(ds),gl=g({},ds,{view:0,detail:0}),E9=sa(gl),Pd,Zd,yl,Qu=g({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yl&&(yl&&a.type==="mousemove"?(Pd=a.screenX-yl.screenX,Zd=a.screenY-yl.screenY):Zd=Pd=0,yl=a),Pd)},movementY:function(a){return"movementY"in a?a.movementY:Zd}}),R1=sa(Qu),M9=g({},Qu,{dataTransfer:0}),N9=sa(M9),O9=g({},gl,{relatedTarget:0}),Gd=sa(O9),C9=g({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),R9=sa(C9),I9=g({},ds,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),D9=sa(I9),j9=g({},ds,{data:0}),I1=sa(j9),$9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U9(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=L9[a])?!!i[a]:!1}function Vd(){return U9}var q9=g({},gl,{key:function(a){if(a.key){var i=$9[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Ku(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?B9[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(a){return a.type==="keypress"?Ku(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ku(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),H9=sa(q9),P9=g({},Qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D1=sa(P9),Z9=g({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),G9=sa(Z9),V9=g({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y9=sa(V9),F9=g({},Qu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),X9=sa(F9),K9=g({},ds,{newState:0,oldState:0}),J9=sa(K9),W9=[9,13,27,32],Yd=$n&&"CompositionEvent"in window,bl=null;$n&&"documentMode"in document&&(bl=document.documentMode);var Q9=$n&&"TextEvent"in window&&!bl,j1=$n&&(!Yd||bl&&8<bl&&11>=bl),$1=" ",B1=!1;function L1(a,i){switch(a){case"keyup":return W9.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var eo=!1;function ew(a,i){switch(a){case"compositionend":return U1(i);case"keypress":return i.which!==32?null:(B1=!0,$1);case"textInput":return a=i.data,a===$1&&B1?null:a;default:return null}}function tw(a,i){if(eo)return a==="compositionend"||!Yd&&L1(a,i)?(a=O1(),Xu=Hd=vi=null,eo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return j1&&i.locale!=="ko"?null:i.data;default:return null}}var rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q1(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!rw[a.type]:i==="textarea"}function H1(a,i,l,c){Ws?Qs?Qs.push(c):Qs=[c]:Ws=c,i=H0(i,"onChange"),0<i.length&&(l=new Wu("onChange","change",null,l,c),a.push({event:l,listeners:i}))}var xl=null,wl=null;function aw(a){z4(a,0)}function e0(a){var i=yn(a);if(_1(i))return a}function P1(a,i){if(a==="change")return i}var Z1=!1;if($n){var Fd;if($n){var Xd="oninput"in document;if(!Xd){var G1=document.createElement("div");G1.setAttribute("oninput","return;"),Xd=typeof G1.oninput=="function"}Fd=Xd}else Fd=!1;Z1=Fd&&(!document.documentMode||9<document.documentMode)}function V1(){xl&&(xl.detachEvent("onpropertychange",Y1),wl=xl=null)}function Y1(a){if(a.propertyName==="value"&&e0(wl)){var i=[];H1(i,wl,a,Ld(a)),N1(aw,i)}}function nw(a,i,l){a==="focusin"?(V1(),xl=i,wl=l,xl.attachEvent("onpropertychange",Y1)):a==="focusout"&&V1()}function iw(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return e0(wl)}function sw(a,i){if(a==="click")return e0(i)}function ow(a,i){if(a==="input"||a==="change")return e0(i)}function lw(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var ba=typeof Object.is=="function"?Object.is:lw;function Sl(a,i){if(ba(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var l=Object.keys(a),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!xt.call(i,m)||!ba(a[m],i[m]))return!1}return!0}function F1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function X1(a,i){var l=F1(a);a=0;for(var c;l;){if(l.nodeType===3){if(c=a+l.textContent.length,a<=i&&c>=i)return{node:l,offset:i-a};a=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=F1(l)}}function K1(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?K1(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function J1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=Yu(a.document);i instanceof a.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)a=i.contentWindow;else break;i=Yu(a.document)}return i}function Kd(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var uw=$n&&"documentMode"in document&&11>=document.documentMode,to=null,Jd=null,_l=null,Wd=!1;function W1(a,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wd||to==null||to!==Yu(c)||(c=to,"selectionStart"in c&&Kd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_l&&Sl(_l,c)||(_l=c,c=H0(Jd,"onSelect"),0<c.length&&(i=new Wu("onSelect","select",null,i,l),a.push({event:i,listeners:c}),i.target=to)))}function fs(a,i){var l={};return l[a.toLowerCase()]=i.toLowerCase(),l["Webkit"+a]="webkit"+i,l["Moz"+a]="moz"+i,l}var ro={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Qd={},Q1={};$n&&(Q1=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function hs(a){if(Qd[a])return Qd[a];if(!ro[a])return a;var i=ro[a],l;for(l in i)if(i.hasOwnProperty(l)&&l in Q1)return Qd[a]=i[l];return a}var ev=hs("animationend"),tv=hs("animationiteration"),rv=hs("animationstart"),cw=hs("transitionrun"),dw=hs("transitionstart"),fw=hs("transitioncancel"),av=hs("transitionend"),nv=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function nn(a,i){nv.set(a,i),an(i,[a])}var t0=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},qa=[],ao=0,tf=0;function r0(){for(var a=ao,i=tf=ao=0;i<a;){var l=qa[i];qa[i++]=null;var c=qa[i];qa[i++]=null;var m=qa[i];qa[i++]=null;var v=qa[i];if(qa[i++]=null,c!==null&&m!==null){var _=c.pending;_===null?m.next=m:(m.next=_.next,_.next=m),c.pending=m}v!==0&&iv(l,m,v)}}function a0(a,i,l,c){qa[ao++]=a,qa[ao++]=i,qa[ao++]=l,qa[ao++]=c,tf|=c,a.lanes|=c,a=a.alternate,a!==null&&(a.lanes|=c)}function rf(a,i,l,c){return a0(a,i,l,c),n0(a)}function ms(a,i){return a0(a,null,null,i),n0(a)}function iv(a,i,l){a.lanes|=l;var c=a.alternate;c!==null&&(c.lanes|=l);for(var m=!1,v=a.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(m=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,m&&i!==null&&(m=31-Yr(l),a=v.hiddenUpdates,c=a[m],c===null?a[m]=[i]:c.push(i),i.lane=l|536870912),v):null}function n0(a){if(50<Gl)throw Gl=0,fh=null,Error(n(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var no={};function hw(a,i,l,c){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(a,i,l,c){return new hw(a,i,l,c)}function af(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Bn(a,i){var l=a.alternate;return l===null?(l=xa(a.tag,i,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=i,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,i=a.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function sv(a,i){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,i=l.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function i0(a,i,l,c,m,v){var _=0;if(c=a,typeof a=="function")af(a)&&(_=1);else if(typeof a=="string")_=yS(a,l,te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=xa(31,l,i,m),a.elementType=F,a.lanes=v,a;case S:return ps(l.children,m,v,i);case A:_=8,m|=24;break;case C:return a=xa(12,l,i,m|2),a.elementType=C,a.lanes=v,a;case D:return a=xa(13,l,i,m),a.elementType=D,a.lanes=v,a;case B:return a=xa(19,l,i,m),a.elementType=B,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:_=10;break e;case R:_=9;break e;case I:_=11;break e;case E:_=14;break e;case j:_=16,c=null;break e}_=29,l=Error(n(130,a===null?"null":typeof a,"")),c=null}return i=xa(_,l,i,m),i.elementType=a,i.type=c,i.lanes=v,i}function ps(a,i,l,c){return a=xa(7,a,c,i),a.lanes=l,a}function nf(a,i,l){return a=xa(6,a,null,i),a.lanes=l,a}function ov(a){var i=xa(18,null,null,0);return i.stateNode=a,i}function sf(a,i,l){return i=xa(4,a.children!==null?a.children:[],a.key,i),i.lanes=l,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var lv=new WeakMap;function Ha(a,i){if(typeof a=="object"&&a!==null){var l=lv.get(a);return l!==void 0?l:(i={value:a,source:i,stack:_t(i)},lv.set(a,i),i)}return{value:a,source:i,stack:_t(i)}}var io=[],so=0,s0=null,zl=0,Pa=[],Za=0,gi=null,bn=1,xn="";function Ln(a,i){io[so++]=zl,io[so++]=s0,s0=a,zl=i}function uv(a,i,l){Pa[Za++]=bn,Pa[Za++]=xn,Pa[Za++]=gi,gi=a;var c=bn;a=xn;var m=32-Yr(c)-1;c&=~(1<<m),l+=1;var v=32-Yr(i)+m;if(30<v){var _=m-m%5;v=(c&(1<<_)-1).toString(32),c>>=_,m-=_,bn=1<<32-Yr(i)+m|l<<m|c,xn=v+a}else bn=1<<v|l<<m|c,xn=a}function of(a){a.return!==null&&(Ln(a,1),uv(a,1,0))}function lf(a){for(;a===s0;)s0=io[--so],io[so]=null,zl=io[--so],io[so]=null;for(;a===gi;)gi=Pa[--Za],Pa[Za]=null,xn=Pa[--Za],Pa[Za]=null,bn=Pa[--Za],Pa[Za]=null}function cv(a,i){Pa[Za++]=bn,Pa[Za++]=xn,Pa[Za++]=gi,bn=i.id,xn=i.overflow,gi=a}var Hr=null,Kt=null,ht=!1,yi=null,Ga=!1,uf=Error(n(519));function bi(a){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Ha(i,a)),uf}function dv(a){var i=a.stateNode,l=a.type,c=a.memoizedProps;switch(i[tr]=a,i[Br]=c,l){case"dialog":ct("cancel",i),ct("close",i);break;case"iframe":case"object":case"embed":ct("load",i);break;case"video":case"audio":for(l=0;l<Yl.length;l++)ct(Yl[l],i);break;case"source":ct("error",i);break;case"img":case"image":case"link":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"input":ct("invalid",i),z1(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ct("invalid",i);break;case"textarea":ct("invalid",i),T1(i,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||E4(i.textContent,l)?(c.popover!=null&&(ct("beforetoggle",i),ct("toggle",i)),c.onScroll!=null&&ct("scroll",i),c.onScrollEnd!=null&&ct("scrollend",i),c.onClick!=null&&(i.onclick=jn),i=!0):i=!1,i||bi(a,!0)}function fv(a){for(Hr=a.return;Hr;)switch(Hr.tag){case 5:case 31:case 13:Ga=!1;return;case 27:case 3:Ga=!0;return;default:Hr=Hr.return}}function oo(a){if(a!==Hr)return!1;if(!ht)return fv(a),ht=!0,!1;var i=a.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Ah(a.type,a.memoizedProps)),l=!l),l&&Kt&&bi(a),fv(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Kt=$4(a)}else if(i===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Kt=$4(a)}else i===27?(i=Kt,Ri(a.type)?(a=Ch,Ch=null,Kt=a):Kt=i):Kt=Hr?Ya(a.stateNode.nextSibling):null;return!0}function vs(){Kt=Hr=null,ht=!1}function cf(){var a=yi;return a!==null&&(ca===null?ca=a:ca.push.apply(ca,a),yi=null),a}function kl(a){yi===null?yi=[a]:yi.push(a)}var df=L(null),gs=null,Un=null;function xi(a,i,l){W(df,i._currentValue),i._currentValue=l}function qn(a){a._currentValue=df.current,ie(df)}function ff(a,i,l){for(;a!==null;){var c=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),a===l)break;a=a.return}}function hf(a,i,l,c){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var v=m.dependencies;if(v!==null){var _=m.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=m;for(var P=0;P<i.length;P++)if(N.context===i[P]){v.lanes|=l,N=v.alternate,N!==null&&(N.lanes|=l),ff(v.return,l,a),c||(_=null);break e}v=N.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=l,v=_.alternate,v!==null&&(v.lanes|=l),ff(_,l,a),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===a){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function lo(a,i,l,c){a=null;for(var m=i,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var N=m.type;ba(m.pendingProps.value,_.value)||(a!==null?a.push(N):a=[N])}}else if(m===le.current){if(_=m.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(Wl):a=[Wl])}m=m.return}a!==null&&hf(i,a,l,c),i.flags|=262144}function o0(a){for(a=a.firstContext;a!==null;){if(!ba(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ys(a){gs=a,Un=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Pr(a){return hv(gs,a)}function l0(a,i){return gs===null&&ys(a),hv(a,i)}function hv(a,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Un===null){if(a===null)throw Error(n(308));Un=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else Un=Un.next=i;return l}var mw=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(l,c){a.push(c)}};this.abort=function(){i.aborted=!0,a.forEach(function(l){return l()})}},pw=e.unstable_scheduleCallback,vw=e.unstable_NormalPriority,kr={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new mw,data:new Map,refCount:0}}function Tl(a){a.refCount--,a.refCount===0&&pw(vw,function(){a.controller.abort()})}var Al=null,pf=0,uo=0,co=null;function gw(a,i){if(Al===null){var l=Al=[];pf=0,uo=yh(),co={status:"pending",value:void 0,then:function(c){l.push(c)}}}return pf++,i.then(mv,mv),i}function mv(){if(--pf===0&&Al!==null){co!==null&&(co.status="fulfilled");var a=Al;Al=null,uo=0,co=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function yw(a,i){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return a.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var pv=$.S;$.S=function(a,i){Wg=or(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&gw(a,i),pv!==null&&pv(a,i)};var bs=L(null);function vf(){var a=bs.current;return a!==null?a:$t.pooledCache}function u0(a,i){i===null?W(bs,bs.current):W(bs,i.pool)}function vv(){var a=vf();return a===null?null:{parent:kr._currentValue,pool:a}}var fo=Error(n(460)),gf=Error(n(474)),c0=Error(n(542)),d0={then:function(){}};function gv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function yv(a,i,l){switch(l=a[l],l===void 0?a.push(i):l!==i&&(i.then(jn,jn),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,xv(a),a;default:if(typeof i.status=="string")i.then(jn,jn);else{if(a=$t,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=i,a.status="pending",a.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,xv(a),a}throw ws=i,fo}}function xs(a){try{var i=a._init;return i(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ws=l,fo):l}}var ws=null;function bv(){if(ws===null)throw Error(n(459));var a=ws;return ws=null,a}function xv(a){if(a===fo||a===c0)throw Error(n(483))}var ho=null,El=0;function f0(a){var i=El;return El+=1,ho===null&&(ho=[]),yv(ho,a,i)}function Ml(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function h0(a,i){throw i.$$typeof===y?Error(n(525)):(a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function wv(a){function i(Q,G){if(a){var ae=Q.deletions;ae===null?(Q.deletions=[G],Q.flags|=16):ae.push(G)}}function l(Q,G){if(!a)return null;for(;G!==null;)i(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=Bn(Q,G),Q.index=0,Q.sibling=null,Q}function v(Q,G,ae){return Q.index=ae,a?(ae=Q.alternate,ae!==null?(ae=ae.index,ae<G?(Q.flags|=67108866,G):ae):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function _(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,G,ae,me){return G===null||G.tag!==6?(G=nf(ae,Q.mode,me),G.return=Q,G):(G=m(G,ae),G.return=Q,G)}function P(Q,G,ae,me){var Ue=ae.type;return Ue===S?he(Q,G,ae.props.children,me,ae.key):G!==null&&(G.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===j&&xs(Ue)===G.type)?(G=m(G,ae.props),Ml(G,ae),G.return=Q,G):(G=i0(ae.type,ae.key,ae.props,null,Q.mode,me),Ml(G,ae),G.return=Q,G)}function se(Q,G,ae,me){return G===null||G.tag!==4||G.stateNode.containerInfo!==ae.containerInfo||G.stateNode.implementation!==ae.implementation?(G=sf(ae,Q.mode,me),G.return=Q,G):(G=m(G,ae.children||[]),G.return=Q,G)}function he(Q,G,ae,me,Ue){return G===null||G.tag!==7?(G=ps(ae,Q.mode,me,Ue),G.return=Q,G):(G=m(G,ae),G.return=Q,G)}function pe(Q,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=nf(""+G,Q.mode,ae),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return ae=i0(G.type,G.key,G.props,null,Q.mode,ae),Ml(ae,G),ae.return=Q,ae;case k:return G=sf(G,Q.mode,ae),G.return=Q,G;case j:return G=xs(G),pe(Q,G,ae)}if(re(G)||V(G))return G=ps(G,Q.mode,ae,null),G.return=Q,G;if(typeof G.then=="function")return pe(Q,f0(G),ae);if(G.$$typeof===M)return pe(Q,l0(Q,G),ae);h0(Q,G)}return null}function oe(Q,G,ae,me){var Ue=G!==null?G.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ue!==null?null:N(Q,G,""+ae,me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return ae.key===Ue?P(Q,G,ae,me):null;case k:return ae.key===Ue?se(Q,G,ae,me):null;case j:return ae=xs(ae),oe(Q,G,ae,me)}if(re(ae)||V(ae))return Ue!==null?null:he(Q,G,ae,me,null);if(typeof ae.then=="function")return oe(Q,G,f0(ae),me);if(ae.$$typeof===M)return oe(Q,G,l0(Q,ae),me);h0(Q,ae)}return null}function ce(Q,G,ae,me,Ue){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Q=Q.get(ae)||null,N(G,Q,""+me,Ue);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case x:return Q=Q.get(me.key===null?ae:me.key)||null,P(G,Q,me,Ue);case k:return Q=Q.get(me.key===null?ae:me.key)||null,se(G,Q,me,Ue);case j:return me=xs(me),ce(Q,G,ae,me,Ue)}if(re(me)||V(me))return Q=Q.get(ae)||null,he(G,Q,me,Ue,null);if(typeof me.then=="function")return ce(Q,G,ae,f0(me),Ue);if(me.$$typeof===M)return ce(Q,G,ae,l0(G,me),Ue);h0(G,me)}return null}function Ce(Q,G,ae,me){for(var Ue=null,wt=null,$e=G,rt=G=0,ft=null;$e!==null&&rt<ae.length;rt++){$e.index>rt?(ft=$e,$e=null):ft=$e.sibling;var St=oe(Q,$e,ae[rt],me);if(St===null){$e===null&&($e=ft);break}a&&$e&&St.alternate===null&&i(Q,$e),G=v(St,G,rt),wt===null?Ue=St:wt.sibling=St,wt=St,$e=ft}if(rt===ae.length)return l(Q,$e),ht&&Ln(Q,rt),Ue;if($e===null){for(;rt<ae.length;rt++)$e=pe(Q,ae[rt],me),$e!==null&&(G=v($e,G,rt),wt===null?Ue=$e:wt.sibling=$e,wt=$e);return ht&&Ln(Q,rt),Ue}for($e=c($e);rt<ae.length;rt++)ft=ce($e,Q,rt,ae[rt],me),ft!==null&&(a&&ft.alternate!==null&&$e.delete(ft.key===null?rt:ft.key),G=v(ft,G,rt),wt===null?Ue=ft:wt.sibling=ft,wt=ft);return a&&$e.forEach(function(Bi){return i(Q,Bi)}),ht&&Ln(Q,rt),Ue}function Ve(Q,G,ae,me){if(ae==null)throw Error(n(151));for(var Ue=null,wt=null,$e=G,rt=G=0,ft=null,St=ae.next();$e!==null&&!St.done;rt++,St=ae.next()){$e.index>rt?(ft=$e,$e=null):ft=$e.sibling;var Bi=oe(Q,$e,St.value,me);if(Bi===null){$e===null&&($e=ft);break}a&&$e&&Bi.alternate===null&&i(Q,$e),G=v(Bi,G,rt),wt===null?Ue=Bi:wt.sibling=Bi,wt=Bi,$e=ft}if(St.done)return l(Q,$e),ht&&Ln(Q,rt),Ue;if($e===null){for(;!St.done;rt++,St=ae.next())St=pe(Q,St.value,me),St!==null&&(G=v(St,G,rt),wt===null?Ue=St:wt.sibling=St,wt=St);return ht&&Ln(Q,rt),Ue}for($e=c($e);!St.done;rt++,St=ae.next())St=ce($e,Q,rt,St.value,me),St!==null&&(a&&St.alternate!==null&&$e.delete(St.key===null?rt:St.key),G=v(St,G,rt),wt===null?Ue=St:wt.sibling=St,wt=St);return a&&$e.forEach(function(MS){return i(Q,MS)}),ht&&Ln(Q,rt),Ue}function It(Q,G,ae,me){if(typeof ae=="object"&&ae!==null&&ae.type===S&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:e:{for(var Ue=ae.key;G!==null;){if(G.key===Ue){if(Ue=ae.type,Ue===S){if(G.tag===7){l(Q,G.sibling),me=m(G,ae.props.children),me.return=Q,Q=me;break e}}else if(G.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===j&&xs(Ue)===G.type){l(Q,G.sibling),me=m(G,ae.props),Ml(me,ae),me.return=Q,Q=me;break e}l(Q,G);break}else i(Q,G);G=G.sibling}ae.type===S?(me=ps(ae.props.children,Q.mode,me,ae.key),me.return=Q,Q=me):(me=i0(ae.type,ae.key,ae.props,null,Q.mode,me),Ml(me,ae),me.return=Q,Q=me)}return _(Q);case k:e:{for(Ue=ae.key;G!==null;){if(G.key===Ue)if(G.tag===4&&G.stateNode.containerInfo===ae.containerInfo&&G.stateNode.implementation===ae.implementation){l(Q,G.sibling),me=m(G,ae.children||[]),me.return=Q,Q=me;break e}else{l(Q,G);break}else i(Q,G);G=G.sibling}me=sf(ae,Q.mode,me),me.return=Q,Q=me}return _(Q);case j:return ae=xs(ae),It(Q,G,ae,me)}if(re(ae))return Ce(Q,G,ae,me);if(V(ae)){if(Ue=V(ae),typeof Ue!="function")throw Error(n(150));return ae=Ue.call(ae),Ve(Q,G,ae,me)}if(typeof ae.then=="function")return It(Q,G,f0(ae),me);if(ae.$$typeof===M)return It(Q,G,l0(Q,ae),me);h0(Q,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,G!==null&&G.tag===6?(l(Q,G.sibling),me=m(G,ae),me.return=Q,Q=me):(l(Q,G),me=nf(ae,Q.mode,me),me.return=Q,Q=me),_(Q)):l(Q,G)}return function(Q,G,ae,me){try{El=0;var Ue=It(Q,G,ae,me);return ho=null,Ue}catch($e){if($e===fo||$e===c0)throw $e;var wt=xa(29,$e,null,Q.mode);return wt.lanes=me,wt.return=Q,wt}finally{}}}var Ss=wv(!0),Sv=wv(!1),wi=!1;function yf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Si(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function _i(a,i,l){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,(zt&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=n0(a),iv(a,null,l),i}return a0(a,c,i,l),n0(a)}function Nl(a,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=a.pendingLanes,l|=c,i.lanes=l,fl(a,l)}}function xf(a,i){var l=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?m=v=_:v=v.next=_,l=l.next}while(l!==null);v===null?m=v=i:v=v.next=i}else m=v=i;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=i:a.next=i,l.lastBaseUpdate=i}var wf=!1;function Ol(){if(wf){var a=co;if(a!==null)throw a}}function Cl(a,i,l,c){wf=!1;var m=a.updateQueue;wi=!1;var v=m.firstBaseUpdate,_=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var P=N,se=P.next;P.next=null,_===null?v=se:_.next=se,_=P;var he=a.alternate;he!==null&&(he=he.updateQueue,N=he.lastBaseUpdate,N!==_&&(N===null?he.firstBaseUpdate=se:N.next=se,he.lastBaseUpdate=P))}if(v!==null){var pe=m.baseState;_=0,he=se=P=null,N=v;do{var oe=N.lane&-536870913,ce=oe!==N.lane;if(ce?(dt&oe)===oe:(c&oe)===oe){oe!==0&&oe===uo&&(wf=!0),he!==null&&(he=he.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ce=a,Ve=N;oe=i;var It=l;switch(Ve.tag){case 1:if(Ce=Ve.payload,typeof Ce=="function"){pe=Ce.call(It,pe,oe);break e}pe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ve.payload,oe=typeof Ce=="function"?Ce.call(It,pe,oe):Ce,oe==null)break e;pe=g({},pe,oe);break e;case 2:wi=!0}}oe=N.callback,oe!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=m.callbacks,ce===null?m.callbacks=[oe]:ce.push(oe))}else ce={lane:oe,tag:N.tag,payload:N.payload,callback:N.callback,next:null},he===null?(se=he=ce,P=pe):he=he.next=ce,_|=oe;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ce=N,N=ce.next,ce.next=null,m.lastBaseUpdate=ce,m.shared.pending=null}}while(!0);he===null&&(P=pe),m.baseState=P,m.firstBaseUpdate=se,m.lastBaseUpdate=he,v===null&&(m.shared.lanes=0),Ei|=_,a.lanes=_,a.memoizedState=pe}}function _v(a,i){if(typeof a!="function")throw Error(n(191,a));a.call(i)}function zv(a,i){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)_v(l[a],i)}var mo=L(null),m0=L(0);function kv(a,i){a=Kn,W(m0,a),W(mo,i),Kn=a|i.baseLanes}function Sf(){W(m0,Kn),W(mo,mo.current)}function _f(){Kn=m0.current,ie(mo),ie(m0)}var wa=L(null),Va=null;function zi(a){var i=a.alternate;W(wr,wr.current&1),W(wa,a),Va===null&&(i===null||mo.current!==null||i.memoizedState!==null)&&(Va=a)}function zf(a){W(wr,wr.current),W(wa,a),Va===null&&(Va=a)}function Tv(a){a.tag===22?(W(wr,wr.current),W(wa,a),Va===null&&(Va=a)):ki()}function ki(){W(wr,wr.current),W(wa,wa.current)}function Sa(a){ie(wa),Va===a&&(Va=null),ie(wr)}var wr=L(0);function p0(a){for(var i=a;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Nh(l)||Oh(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hn=0,et=null,Ct=null,Tr=null,v0=!1,po=!1,_s=!1,g0=0,Rl=0,vo=null,bw=0;function mr(){throw Error(n(321))}function kf(a,i){if(i===null)return!1;for(var l=0;l<i.length&&l<a.length;l++)if(!ba(a[l],i[l]))return!1;return!0}function Tf(a,i,l,c,m,v){return Hn=v,et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=a===null||a.memoizedState===null?ug:qf,_s=!1,v=l(c,m),_s=!1,po&&(v=Ev(i,l,c,m)),Av(a),v}function Av(a){$.H=jl;var i=Ct!==null&&Ct.next!==null;if(Hn=0,Tr=Ct=et=null,v0=!1,Rl=0,vo=null,i)throw Error(n(300));a===null||Ar||(a=a.dependencies,a!==null&&o0(a)&&(Ar=!0))}function Ev(a,i,l,c){et=a;var m=0;do{if(po&&(vo=null),Rl=0,po=!1,25<=m)throw Error(n(301));if(m+=1,Tr=Ct=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=cg,v=i(l,c)}while(po);return v}function xw(){var a=$.H,i=a.useState()[0];return i=typeof i.then=="function"?Il(i):i,a=a.useState()[0],(Ct!==null?Ct.memoizedState:null)!==a&&(et.flags|=1024),i}function Af(){var a=g0!==0;return g0=0,a}function Ef(a,i,l){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~l}function Mf(a){if(v0){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}v0=!1}Hn=0,Tr=Ct=et=null,po=!1,Rl=g0=0,vo=null}function Wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?et.memoizedState=Tr=a:Tr=Tr.next=a,Tr}function Sr(){if(Ct===null){var a=et.alternate;a=a!==null?a.memoizedState:null}else a=Ct.next;var i=Tr===null?et.memoizedState:Tr.next;if(i!==null)Tr=i,Ct=a;else{if(a===null)throw et.alternate===null?Error(n(467)):Error(n(310));Ct=a,a={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Tr===null?et.memoizedState=Tr=a:Tr=Tr.next=a}return Tr}function y0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(a){var i=Rl;return Rl+=1,vo===null&&(vo=[]),a=yv(vo,a,i),i=et,(Tr===null?i.memoizedState:Tr.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?ug:qf),a}function b0(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Il(a);if(a.$$typeof===M)return Pr(a)}throw Error(n(438,String(a)))}function Nf(a){var i=null,l=et.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=et.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=y0(),et.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(a),c=0;c<a;c++)l[c]=ue;return i.index++,l}function Pn(a,i){return typeof i=="function"?i(a):i}function x0(a){var i=Sr();return Of(i,Ct,a)}function Of(a,i,l){var c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=l;var m=a.baseQueue,v=c.pending;if(v!==null){if(m!==null){var _=m.next;m.next=v.next,v.next=_}i.baseQueue=m=v,c.pending=null}if(v=a.baseState,m===null)a.memoizedState=v;else{i=m.next;var N=_=null,P=null,se=i,he=!1;do{var pe=se.lane&-536870913;if(pe!==se.lane?(dt&pe)===pe:(Hn&pe)===pe){var oe=se.revertLane;if(oe===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),pe===uo&&(he=!0);else if((Hn&oe)===oe){se=se.next,oe===uo&&(he=!0);continue}else pe={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},P===null?(N=P=pe,_=v):P=P.next=pe,et.lanes|=oe,Ei|=oe;pe=se.action,_s&&l(v,pe),v=se.hasEagerState?se.eagerState:l(v,pe)}else oe={lane:pe,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},P===null?(N=P=oe,_=v):P=P.next=oe,et.lanes|=pe,Ei|=pe;se=se.next}while(se!==null&&se!==i);if(P===null?_=v:P.next=N,!ba(v,a.memoizedState)&&(Ar=!0,he&&(l=co,l!==null)))throw l;a.memoizedState=v,a.baseState=_,a.baseQueue=P,c.lastRenderedState=v}return m===null&&(c.lanes=0),[a.memoizedState,c.dispatch]}function Cf(a){var i=Sr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var c=l.dispatch,m=l.pending,v=i.memoizedState;if(m!==null){l.pending=null;var _=m=m.next;do v=a(v,_.action),_=_.next;while(_!==m);ba(v,i.memoizedState)||(Ar=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function Mv(a,i,l){var c=et,m=Sr(),v=ht;if(v){if(l===void 0)throw Error(n(407));l=l()}else l=i();var _=!ba((Ct||m).memoizedState,l);if(_&&(m.memoizedState=l,Ar=!0),m=m.queue,Df(Cv.bind(null,c,m,a),[a]),m.getSnapshot!==i||_||Tr!==null&&Tr.memoizedState.tag&1){if(c.flags|=2048,go(9,{destroy:void 0},Ov.bind(null,c,m,l,i),null),$t===null)throw Error(n(349));v||(Hn&127)!==0||Nv(c,i,l)}return l}function Nv(a,i,l){a.flags|=16384,a={getSnapshot:i,value:l},i=et.updateQueue,i===null?(i=y0(),et.updateQueue=i,i.stores=[a]):(l=i.stores,l===null?i.stores=[a]:l.push(a))}function Ov(a,i,l,c){i.value=l,i.getSnapshot=c,Rv(i)&&Iv(a)}function Cv(a,i,l){return l(function(){Rv(i)&&Iv(a)})}function Rv(a){var i=a.getSnapshot;a=a.value;try{var l=i();return!ba(a,l)}catch{return!0}}function Iv(a){var i=ms(a,2);i!==null&&da(i,a,2)}function Rf(a){var i=Wr();if(typeof a=="function"){var l=a;if(a=l(),_s){ya(!0);try{l()}finally{ya(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:a},i}function Dv(a,i,l,c){return a.baseState=l,Of(a,Ct,typeof c=="function"?c:Pn)}function ww(a,i,l,c,m){if(_0(a))throw Error(n(485));if(a=i.action,a!==null){var v={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};$.T!==null?l(!0):v.isTransition=!1,c(v),l=i.pending,l===null?(v.next=i.pending=v,jv(i,v)):(v.next=l.next,i.pending=l.next=v)}}function jv(a,i){var l=i.action,c=i.payload,m=a.state;if(i.isTransition){var v=$.T,_={};$.T=_;try{var N=l(m,c),P=$.S;P!==null&&P(_,N),$v(a,i,N)}catch(se){If(a,i,se)}finally{v!==null&&_.types!==null&&(v.types=_.types),$.T=v}}else try{v=l(m,c),$v(a,i,v)}catch(se){If(a,i,se)}}function $v(a,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Bv(a,i,c)},function(c){return If(a,i,c)}):Bv(a,i,l)}function Bv(a,i,l){i.status="fulfilled",i.value=l,Lv(i),a.state=l,i=a.pending,i!==null&&(l=i.next,l===i?a.pending=null:(l=l.next,i.next=l,jv(a,l)))}function If(a,i,l){var c=a.pending;if(a.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,Lv(i),i=i.next;while(i!==c)}a.action=null}function Lv(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function Uv(a,i){return i}function qv(a,i){if(ht){var l=$t.formState;if(l!==null){e:{var c=et;if(ht){if(Kt){t:{for(var m=Kt,v=Ga;m.nodeType!==8;){if(!v){m=null;break t}if(m=Ya(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Kt=Ya(m.nextSibling),c=m.data==="F!";break e}}bi(c)}c=!1}c&&(i=l[0])}}return l=Wr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uv,lastRenderedState:i},l.queue=c,l=sg.bind(null,et,c),c.dispatch=l,c=Rf(!1),v=Uf.bind(null,et,!1,c.queue),c=Wr(),m={state:i,dispatch:null,action:a,pending:null},c.queue=m,l=ww.bind(null,et,m,v,l),m.dispatch=l,c.memoizedState=a,[i,l,!1]}function Hv(a){var i=Sr();return Pv(i,Ct,a)}function Pv(a,i,l){if(i=Of(a,i,Uv)[0],a=x0(Pn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Il(i)}catch(_){throw _===fo?c0:_}else c=i;i=Sr();var m=i.queue,v=m.dispatch;return l!==i.memoizedState&&(et.flags|=2048,go(9,{destroy:void 0},Sw.bind(null,m,l),null)),[c,v,a]}function Sw(a,i){a.action=i}function Zv(a){var i=Sr(),l=Ct;if(l!==null)return Pv(i,l,a);Sr(),i=i.memoizedState,l=Sr();var c=l.queue.dispatch;return l.memoizedState=a,[i,c,!1]}function go(a,i,l,c){return a={tag:a,create:l,deps:c,inst:i,next:null},i=et.updateQueue,i===null&&(i=y0(),et.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=a.next=a:(c=l.next,l.next=a,a.next=c,i.lastEffect=a),a}function Gv(){return Sr().memoizedState}function w0(a,i,l,c){var m=Wr();et.flags|=a,m.memoizedState=go(1|i,{destroy:void 0},l,c===void 0?null:c)}function S0(a,i,l,c){var m=Sr();c=c===void 0?null:c;var v=m.memoizedState.inst;Ct!==null&&c!==null&&kf(c,Ct.memoizedState.deps)?m.memoizedState=go(i,v,l,c):(et.flags|=a,m.memoizedState=go(1|i,v,l,c))}function Vv(a,i){w0(8390656,8,a,i)}function Df(a,i){S0(2048,8,a,i)}function _w(a){et.flags|=4;var i=et.updateQueue;if(i===null)i=y0(),et.updateQueue=i,i.events=[a];else{var l=i.events;l===null?i.events=[a]:l.push(a)}}function Yv(a){var i=Sr().memoizedState;return _w({ref:i,nextImpl:a}),function(){if((zt&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function Fv(a,i){return S0(4,2,a,i)}function Xv(a,i){return S0(4,4,a,i)}function Kv(a,i){if(typeof i=="function"){a=a();var l=i(a);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Jv(a,i,l){l=l!=null?l.concat([a]):null,S0(4,4,Kv.bind(null,i,a),l)}function jf(){}function Wv(a,i){var l=Sr();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&kf(i,c[1])?c[0]:(l.memoizedState=[a,i],a)}function Qv(a,i){var l=Sr();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&kf(i,c[1]))return c[0];if(c=a(),_s){ya(!0);try{a()}finally{ya(!1)}}return l.memoizedState=[c,i],c}function $f(a,i,l){return l===void 0||(Hn&1073741824)!==0&&(dt&261930)===0?a.memoizedState=i:(a.memoizedState=l,a=e4(),et.lanes|=a,Ei|=a,l)}function eg(a,i,l,c){return ba(l,i)?l:mo.current!==null?(a=$f(a,l,c),ba(a,i)||(Ar=!0),a):(Hn&42)===0||(Hn&1073741824)!==0&&(dt&261930)===0?(Ar=!0,a.memoizedState=l):(a=e4(),et.lanes|=a,Ei|=a,i)}function tg(a,i,l,c,m){var v=Z.p;Z.p=v!==0&&8>v?v:8;var _=$.T,N={};$.T=N,Uf(a,!1,i,l);try{var P=m(),se=$.S;if(se!==null&&se(N,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var he=yw(P,c);Dl(a,i,he,ka(a))}else Dl(a,i,c,ka(a))}catch(pe){Dl(a,i,{then:function(){},status:"rejected",reason:pe},ka())}finally{Z.p=v,_!==null&&N.types!==null&&(_.types=N.types),$.T=_}}function zw(){}function Bf(a,i,l,c){if(a.tag!==5)throw Error(n(476));var m=rg(a).queue;tg(a,m,i,J,l===null?zw:function(){return ag(a),l(c)})}function rg(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:J},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:l},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function ag(a){var i=rg(a);i.next===null&&(i=a.alternate.memoizedState),Dl(a,i.next.queue,{},ka())}function Lf(){return Pr(Wl)}function ng(){return Sr().memoizedState}function ig(){return Sr().memoizedState}function kw(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var l=ka();a=Si(l);var c=_i(i,a,l);c!==null&&(da(c,i,l),Nl(c,i,l)),i={cache:mf()},a.payload=i;return}i=i.return}}function Tw(a,i,l){var c=ka();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_0(a)?og(i,l):(l=rf(a,i,l,c),l!==null&&(da(l,a,c),lg(l,i,c)))}function sg(a,i,l){var c=ka();Dl(a,i,l,c)}function Dl(a,i,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(_0(a))og(i,m);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var _=i.lastRenderedState,N=v(_,l);if(m.hasEagerState=!0,m.eagerState=N,ba(N,_))return a0(a,i,m,0),$t===null&&r0(),!1}catch{}finally{}if(l=rf(a,i,m,c),l!==null)return da(l,a,c),lg(l,i,c),!0}return!1}function Uf(a,i,l,c){if(c={lane:2,revertLane:yh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},_0(a)){if(i)throw Error(n(479))}else i=rf(a,l,c,2),i!==null&&da(i,a,2)}function _0(a){var i=a.alternate;return a===et||i!==null&&i===et}function og(a,i){po=v0=!0;var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}function lg(a,i,l){if((l&4194048)!==0){var c=i.lanes;c&=a.pendingLanes,l|=c,i.lanes=l,fl(a,l)}}var jl={readContext:Pr,use:b0,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useLayoutEffect:mr,useInsertionEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useSyncExternalStore:mr,useId:mr,useHostTransitionStatus:mr,useFormState:mr,useActionState:mr,useOptimistic:mr,useMemoCache:mr,useCacheRefresh:mr};jl.useEffectEvent=mr;var ug={readContext:Pr,use:b0,useCallback:function(a,i){return Wr().memoizedState=[a,i===void 0?null:i],a},useContext:Pr,useEffect:Vv,useImperativeHandle:function(a,i,l){l=l!=null?l.concat([a]):null,w0(4194308,4,Kv.bind(null,i,a),l)},useLayoutEffect:function(a,i){return w0(4194308,4,a,i)},useInsertionEffect:function(a,i){w0(4,2,a,i)},useMemo:function(a,i){var l=Wr();i=i===void 0?null:i;var c=a();if(_s){ya(!0);try{a()}finally{ya(!1)}}return l.memoizedState=[c,i],c},useReducer:function(a,i,l){var c=Wr();if(l!==void 0){var m=l(i);if(_s){ya(!0);try{l(i)}finally{ya(!1)}}}else m=i;return c.memoizedState=c.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},c.queue=a,a=a.dispatch=Tw.bind(null,et,a),[c.memoizedState,a]},useRef:function(a){var i=Wr();return a={current:a},i.memoizedState=a},useState:function(a){a=Rf(a);var i=a.queue,l=sg.bind(null,et,i);return i.dispatch=l,[a.memoizedState,l]},useDebugValue:jf,useDeferredValue:function(a,i){var l=Wr();return $f(l,a,i)},useTransition:function(){var a=Rf(!1);return a=tg.bind(null,et,a.queue,!0,!1),Wr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,l){var c=et,m=Wr();if(ht){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),$t===null)throw Error(n(349));(dt&127)!==0||Nv(c,i,l)}m.memoizedState=l;var v={value:l,getSnapshot:i};return m.queue=v,Vv(Cv.bind(null,c,v,a),[a]),c.flags|=2048,go(9,{destroy:void 0},Ov.bind(null,c,v,l,i),null),l},useId:function(){var a=Wr(),i=$t.identifierPrefix;if(ht){var l=xn,c=bn;l=(c&~(1<<32-Yr(c)-1)).toString(32)+l,i="_"+i+"R_"+l,l=g0++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=bw++,i="_"+i+"r_"+l.toString(32)+"_";return a.memoizedState=i},useHostTransitionStatus:Lf,useFormState:qv,useActionState:qv,useOptimistic:function(a){var i=Wr();i.memoizedState=i.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Uf.bind(null,et,!0,l),l.dispatch=i,[a,i]},useMemoCache:Nf,useCacheRefresh:function(){return Wr().memoizedState=kw.bind(null,et)},useEffectEvent:function(a){var i=Wr(),l={impl:a};return i.memoizedState=l,function(){if((zt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},qf={readContext:Pr,use:b0,useCallback:Wv,useContext:Pr,useEffect:Df,useImperativeHandle:Jv,useInsertionEffect:Fv,useLayoutEffect:Xv,useMemo:Qv,useReducer:x0,useRef:Gv,useState:function(){return x0(Pn)},useDebugValue:jf,useDeferredValue:function(a,i){var l=Sr();return eg(l,Ct.memoizedState,a,i)},useTransition:function(){var a=x0(Pn)[0],i=Sr().memoizedState;return[typeof a=="boolean"?a:Il(a),i]},useSyncExternalStore:Mv,useId:ng,useHostTransitionStatus:Lf,useFormState:Hv,useActionState:Hv,useOptimistic:function(a,i){var l=Sr();return Dv(l,Ct,a,i)},useMemoCache:Nf,useCacheRefresh:ig};qf.useEffectEvent=Yv;var cg={readContext:Pr,use:b0,useCallback:Wv,useContext:Pr,useEffect:Df,useImperativeHandle:Jv,useInsertionEffect:Fv,useLayoutEffect:Xv,useMemo:Qv,useReducer:Cf,useRef:Gv,useState:function(){return Cf(Pn)},useDebugValue:jf,useDeferredValue:function(a,i){var l=Sr();return Ct===null?$f(l,a,i):eg(l,Ct.memoizedState,a,i)},useTransition:function(){var a=Cf(Pn)[0],i=Sr().memoizedState;return[typeof a=="boolean"?a:Il(a),i]},useSyncExternalStore:Mv,useId:ng,useHostTransitionStatus:Lf,useFormState:Zv,useActionState:Zv,useOptimistic:function(a,i){var l=Sr();return Ct!==null?Dv(l,Ct,a,i):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:ig};cg.useEffectEvent=Yv;function Hf(a,i,l,c){i=a.memoizedState,l=l(c,i),l=l==null?i:g({},i,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var Pf={enqueueSetState:function(a,i,l){a=a._reactInternals;var c=ka(),m=Si(c);m.payload=i,l!=null&&(m.callback=l),i=_i(a,m,c),i!==null&&(da(i,a,c),Nl(i,a,c))},enqueueReplaceState:function(a,i,l){a=a._reactInternals;var c=ka(),m=Si(c);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=_i(a,m,c),i!==null&&(da(i,a,c),Nl(i,a,c))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var l=ka(),c=Si(l);c.tag=2,i!=null&&(c.callback=i),i=_i(a,c,l),i!==null&&(da(i,a,l),Nl(i,a,l))}};function dg(a,i,l,c,m,v,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,v,_):i.prototype&&i.prototype.isPureReactComponent?!Sl(l,c)||!Sl(m,v):!0}function fg(a,i,l,c){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==a&&Pf.enqueueReplaceState(i,i.state,null)}function zs(a,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(a=a.defaultProps){l===i&&(l=g({},l));for(var m in a)l[m]===void 0&&(l[m]=a[m])}return l}function hg(a){t0(a)}function mg(a){console.error(a)}function pg(a){t0(a)}function z0(a,i){try{var l=a.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function vg(a,i,l){try{var c=a.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Zf(a,i,l){return l=Si(l),l.tag=3,l.payload={element:null},l.callback=function(){z0(a,i)},l}function gg(a){return a=Si(a),a.tag=3,a}function yg(a,i,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;a.payload=function(){return m(v)},a.callback=function(){vg(i,l,c)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){vg(i,l,c),typeof m!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function Aw(a,i,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&lo(i,l,m,!0),l=wa.current,l!==null){switch(l.tag){case 31:case 13:return Va===null?j0():l.alternate===null&&pr===0&&(pr=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===d0?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),ph(a,c,m)),!1;case 22:return l.flags|=65536,c===d0?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),ph(a,c,m)),!1}throw Error(n(435,l.tag))}return ph(a,c,m),j0(),!1}if(ht)return i=wa.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==uf&&(a=Error(n(422),{cause:c}),kl(Ha(a,l)))):(c!==uf&&(i=Error(n(423),{cause:c}),kl(Ha(i,l))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,c=Ha(c,l),m=Zf(a.stateNode,c,m),xf(a,m),pr!==4&&(pr=2)),!1;var v=Error(n(520),{cause:c});if(v=Ha(v,l),Zl===null?Zl=[v]:Zl.push(v),pr!==4&&(pr=2),i===null)return!0;c=Ha(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,a=m&-m,l.lanes|=a,a=Zf(l.stateNode,c,a),xf(l,a),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Mi===null||!Mi.has(v))))return l.flags|=65536,m&=-m,l.lanes|=m,m=gg(m),yg(m,a,l,c),xf(l,m),!1}l=l.return}while(l!==null);return!1}var Gf=Error(n(461)),Ar=!1;function Zr(a,i,l,c){i.child=a===null?Sv(i,null,l,c):Ss(i,a.child,l,c)}function bg(a,i,l,c,m){l=l.render;var v=i.ref;if("ref"in c){var _={};for(var N in c)N!=="ref"&&(_[N]=c[N])}else _=c;return ys(i),c=Tf(a,i,l,_,v,m),N=Af(),a!==null&&!Ar?(Ef(a,i,m),Zn(a,i,m)):(ht&&N&&of(i),i.flags|=1,Zr(a,i,c,m),i.child)}function xg(a,i,l,c,m){if(a===null){var v=l.type;return typeof v=="function"&&!af(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,wg(a,i,v,c,m)):(a=i0(l.type,null,c,i,i.mode,m),a.ref=i.ref,a.return=i,i.child=a)}if(v=a.child,!Qf(a,m)){var _=v.memoizedProps;if(l=l.compare,l=l!==null?l:Sl,l(_,c)&&a.ref===i.ref)return Zn(a,i,m)}return i.flags|=1,a=Bn(v,c),a.ref=i.ref,a.return=i,i.child=a}function wg(a,i,l,c,m){if(a!==null){var v=a.memoizedProps;if(Sl(v,c)&&a.ref===i.ref)if(Ar=!1,i.pendingProps=c=v,Qf(a,m))(a.flags&131072)!==0&&(Ar=!0);else return i.lanes=a.lanes,Zn(a,i,m)}return Vf(a,i,l,c,m)}function Sg(a,i,l,c){var m=c.children,v=a!==null?a.memoizedState:null;if(a===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,a!==null){for(c=i.child=a.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~v}else c=0,i.child=null;return _g(a,i,v,l,c)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&u0(i,v!==null?v.cachePool:null),v!==null?kv(i,v):Sf(),Tv(i);else return c=i.lanes=536870912,_g(a,i,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(u0(i,v.cachePool),kv(i,v),ki(),i.memoizedState=null):(a!==null&&u0(i,null),Sf(),ki());return Zr(a,i,m,l),i.child}function $l(a,i){return a!==null&&a.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function _g(a,i,l,c,m){var v=vf();return v=v===null?null:{parent:kr._currentValue,pool:v},i.memoizedState={baseLanes:l,cachePool:v},a!==null&&u0(i,null),Sf(),Tv(i),a!==null&&lo(a,i,c,!0),i.childLanes=m,null}function k0(a,i){return i=A0({mode:i.mode,children:i.children},a.mode),i.ref=a.ref,a.child=i,i.return=a,i}function zg(a,i,l){return Ss(i,a.child,null,l),a=k0(i,i.pendingProps),a.flags|=2,Sa(i),i.memoizedState=null,a}function Ew(a,i,l){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,a===null){if(ht){if(c.mode==="hidden")return a=k0(i,c),i.lanes=536870912,$l(null,a);if(zf(i),(a=Kt)?(a=j4(a,Ga),a=a!==null&&a.data==="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:gi!==null?{id:bn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},l=ov(a),l.return=i,i.child=l,Hr=i,Kt=null)):a=null,a===null)throw bi(i);return i.lanes=536870912,null}return k0(i,c)}var v=a.memoizedState;if(v!==null){var _=v.dehydrated;if(zf(i),m)if(i.flags&256)i.flags&=-257,i=zg(a,i,l);else if(i.memoizedState!==null)i.child=a.child,i.flags|=128,i=null;else throw Error(n(558));else if(Ar||lo(a,i,l,!1),m=(l&a.childLanes)!==0,Ar||m){if(c=$t,c!==null&&(_=Pu(c,l),_!==0&&_!==v.retryLane))throw v.retryLane=_,ms(a,_),da(c,a,_),Gf;j0(),i=zg(a,i,l)}else a=v.treeContext,Kt=Ya(_.nextSibling),Hr=i,ht=!0,yi=null,Ga=!1,a!==null&&cv(i,a),i=k0(i,c),i.flags|=4096;return i}return a=Bn(a.child,{mode:c.mode,children:c.children}),a.ref=i.ref,i.child=a,a.return=i,a}function T0(a,i){var l=i.ref;if(l===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(i.flags|=4194816)}}function Vf(a,i,l,c,m){return ys(i),l=Tf(a,i,l,c,void 0,m),c=Af(),a!==null&&!Ar?(Ef(a,i,m),Zn(a,i,m)):(ht&&c&&of(i),i.flags|=1,Zr(a,i,l,m),i.child)}function kg(a,i,l,c,m,v){return ys(i),i.updateQueue=null,l=Ev(i,c,l,m),Av(a),c=Af(),a!==null&&!Ar?(Ef(a,i,v),Zn(a,i,v)):(ht&&c&&of(i),i.flags|=1,Zr(a,i,l,v),i.child)}function Tg(a,i,l,c,m){if(ys(i),i.stateNode===null){var v=no,_=l.contextType;typeof _=="object"&&_!==null&&(v=Pr(_)),v=new l(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Pf,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},yf(i),_=l.contextType,v.context=typeof _=="object"&&_!==null?Pr(_):no,v.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Hf(i,l,_,c),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&Pf.enqueueReplaceState(v,v.state,null),Cl(i,c,v,m),Ol(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(a===null){v=i.stateNode;var N=i.memoizedProps,P=zs(l,N);v.props=P;var se=v.context,he=l.contextType;_=no,typeof he=="object"&&he!==null&&(_=Pr(he));var pe=l.getDerivedStateFromProps;he=typeof pe=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,he||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||se!==_)&&fg(i,v,c,_),wi=!1;var oe=i.memoizedState;v.state=oe,Cl(i,c,v,m),Ol(),se=i.memoizedState,N||oe!==se||wi?(typeof pe=="function"&&(Hf(i,l,pe,c),se=i.memoizedState),(P=wi||dg(i,l,P,c,oe,se,_))?(he||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=se),v.props=c,v.state=se,v.context=_,c=P):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,bf(a,i),_=i.memoizedProps,he=zs(l,_),v.props=he,pe=i.pendingProps,oe=v.context,se=l.contextType,P=no,typeof se=="object"&&se!==null&&(P=Pr(se)),N=l.getDerivedStateFromProps,(se=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==pe||oe!==P)&&fg(i,v,c,P),wi=!1,oe=i.memoizedState,v.state=oe,Cl(i,c,v,m),Ol();var ce=i.memoizedState;_!==pe||oe!==ce||wi||a!==null&&a.dependencies!==null&&o0(a.dependencies)?(typeof N=="function"&&(Hf(i,l,N,c),ce=i.memoizedState),(he=wi||dg(i,l,he,c,oe,ce,P)||a!==null&&a.dependencies!==null&&o0(a.dependencies))?(se||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ce,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ce,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===a.memoizedProps&&oe===a.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&oe===a.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ce),v.props=c,v.state=ce,v.context=P,c=he):(typeof v.componentDidUpdate!="function"||_===a.memoizedProps&&oe===a.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&oe===a.memoizedState||(i.flags|=1024),c=!1)}return v=c,T0(a,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,a!==null&&c?(i.child=Ss(i,a.child,null,m),i.child=Ss(i,null,l,m)):Zr(a,i,l,m),i.memoizedState=v.state,a=i.child):a=Zn(a,i,m),a}function Ag(a,i,l,c){return vs(),i.flags|=256,Zr(a,i,l,c),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(a){return{baseLanes:a,cachePool:vv()}}function Xf(a,i,l){return a=a!==null?a.childLanes&~l:0,i&&(a|=za),a}function Eg(a,i,l){var c=i.pendingProps,m=!1,v=(i.flags&128)!==0,_;if((_=v)||(_=a!==null&&a.memoizedState===null?!1:(wr.current&2)!==0),_&&(m=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,a===null){if(ht){if(m?zi(i):ki(),(a=Kt)?(a=j4(a,Ga),a=a!==null&&a.data!=="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:gi!==null?{id:bn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},l=ov(a),l.return=i,i.child=l,Hr=i,Kt=null)):a=null,a===null)throw bi(i);return Oh(a)?i.lanes=32:i.lanes=536870912,null}var N=c.children;return c=c.fallback,m?(ki(),m=i.mode,N=A0({mode:"hidden",children:N},m),c=ps(c,m,l,null),N.return=i,c.return=i,N.sibling=c,i.child=N,c=i.child,c.memoizedState=Ff(l),c.childLanes=Xf(a,_,l),i.memoizedState=Yf,$l(null,c)):(zi(i),Kf(i,N))}var P=a.memoizedState;if(P!==null&&(N=P.dehydrated,N!==null)){if(v)i.flags&256?(zi(i),i.flags&=-257,i=Jf(a,i,l)):i.memoizedState!==null?(ki(),i.child=a.child,i.flags|=128,i=null):(ki(),N=c.fallback,m=i.mode,c=A0({mode:"visible",children:c.children},m),N=ps(N,m,l,null),N.flags|=2,c.return=i,N.return=i,c.sibling=N,i.child=c,Ss(i,a.child,null,l),c=i.child,c.memoizedState=Ff(l),c.childLanes=Xf(a,_,l),i.memoizedState=Yf,i=$l(null,c));else if(zi(i),Oh(N)){if(_=N.nextSibling&&N.nextSibling.dataset,_)var se=_.dgst;_=se,c=Error(n(419)),c.stack="",c.digest=_,kl({value:c,source:null,stack:null}),i=Jf(a,i,l)}else if(Ar||lo(a,i,l,!1),_=(l&a.childLanes)!==0,Ar||_){if(_=$t,_!==null&&(c=Pu(_,l),c!==0&&c!==P.retryLane))throw P.retryLane=c,ms(a,c),da(_,a,c),Gf;Nh(N)||j0(),i=Jf(a,i,l)}else Nh(N)?(i.flags|=192,i.child=a.child,i=null):(a=P.treeContext,Kt=Ya(N.nextSibling),Hr=i,ht=!0,yi=null,Ga=!1,a!==null&&cv(i,a),i=Kf(i,c.children),i.flags|=4096);return i}return m?(ki(),N=c.fallback,m=i.mode,P=a.child,se=P.sibling,c=Bn(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,se!==null?N=Bn(se,N):(N=ps(N,m,l,null),N.flags|=2),N.return=i,c.return=i,c.sibling=N,i.child=c,$l(null,c),c=i.child,N=a.child.memoizedState,N===null?N=Ff(l):(m=N.cachePool,m!==null?(P=kr._currentValue,m=m.parent!==P?{parent:P,pool:P}:m):m=vv(),N={baseLanes:N.baseLanes|l,cachePool:m}),c.memoizedState=N,c.childLanes=Xf(a,_,l),i.memoizedState=Yf,$l(a.child,c)):(zi(i),l=a.child,a=l.sibling,l=Bn(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,a!==null&&(_=i.deletions,_===null?(i.deletions=[a],i.flags|=16):_.push(a)),i.child=l,i.memoizedState=null,l)}function Kf(a,i){return i=A0({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function A0(a,i){return a=xa(22,a,null,i),a.lanes=0,a}function Jf(a,i,l){return Ss(i,a.child,null,l),a=Kf(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Mg(a,i,l){a.lanes|=i;var c=a.alternate;c!==null&&(c.lanes|=i),ff(a.return,i,l)}function Wf(a,i,l,c,m,v){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:v}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=m,_.treeForkCount=v)}function Ng(a,i,l){var c=i.pendingProps,m=c.revealOrder,v=c.tail;c=c.children;var _=wr.current,N=(_&2)!==0;if(N?(_=_&1|2,i.flags|=128):_&=1,W(wr,_),Zr(a,i,c,l),c=ht?zl:0,!N&&a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Mg(a,l,i);else if(a.tag===19)Mg(a,l,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(m){case"forwards":for(l=i.child,m=null;l!==null;)a=l.alternate,a!==null&&p0(a)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),Wf(i,!1,m,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(a=m.alternate,a!==null&&p0(a)===null){i.child=m;break}a=m.sibling,m.sibling=l,l=m,m=a}Wf(i,!0,l,null,v,c);break;case"together":Wf(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Zn(a,i,l){if(a!==null&&(i.dependencies=a.dependencies),Ei|=i.lanes,(l&i.childLanes)===0)if(a!==null){if(lo(a,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,l=Bn(a,a.pendingProps),i.child=l,l.return=i;a.sibling!==null;)a=a.sibling,l=l.sibling=Bn(a,a.pendingProps),l.return=i;l.sibling=null}return i.child}function Qf(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&o0(a)))}function Mw(a,i,l){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),xi(i,kr,a.memoizedState.cache),vs();break;case 27:case 5:Ye(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:xi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(zi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Eg(a,i,l):(zi(i),a=Zn(a,i,l),a!==null?a.sibling:null);zi(i);break;case 19:var m=(a.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(lo(a,i,l,!1),c=(l&i.childLanes)!==0),m){if(c)return Ng(a,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),W(wr,wr.current),c)break;return null;case 22:return i.lanes=0,Sg(a,i,l,i.pendingProps);case 24:xi(i,kr,a.memoizedState.cache)}return Zn(a,i,l)}function Og(a,i,l){if(a!==null)if(a.memoizedProps!==i.pendingProps)Ar=!0;else{if(!Qf(a,l)&&(i.flags&128)===0)return Ar=!1,Mw(a,i,l);Ar=(a.flags&131072)!==0}else Ar=!1,ht&&(i.flags&1048576)!==0&&uv(i,zl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(a=xs(i.elementType),i.type=a,typeof a=="function")af(a)?(c=zs(a,c),i.tag=1,i=Tg(null,i,a,c,l)):(i.tag=0,i=Vf(null,i,a,c,l));else{if(a!=null){var m=a.$$typeof;if(m===I){i.tag=11,i=bg(null,i,a,c,l);break e}else if(m===E){i.tag=14,i=xg(null,i,a,c,l);break e}}throw i=X(a)||a,Error(n(306,i,""))}}return i;case 0:return Vf(a,i,i.type,i.pendingProps,l);case 1:return c=i.type,m=zs(c,i.pendingProps),Tg(a,i,c,m,l);case 3:e:{if(Me(i,i.stateNode.containerInfo),a===null)throw Error(n(387));c=i.pendingProps;var v=i.memoizedState;m=v.element,bf(a,i),Cl(i,c,null,l);var _=i.memoizedState;if(c=_.cache,xi(i,kr,c),c!==v.cache&&hf(i,[kr],l,!0),Ol(),c=_.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Ag(a,i,c,l);break e}else if(c!==m){m=Ha(Error(n(424)),i),kl(m),i=Ag(a,i,c,l);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Kt=Ya(a.firstChild),Hr=i,ht=!0,yi=null,Ga=!0,l=Sv(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(vs(),c===m){i=Zn(a,i,l);break e}Zr(a,i,c,l)}i=i.child}return i;case 26:return T0(a,i),a===null?(l=H4(i.type,null,i.pendingProps,null))?i.memoizedState=l:ht||(l=i.type,a=i.pendingProps,c=P0(Te.current).createElement(l),c[tr]=i,c[Br]=a,Gr(c,l,a),Xt(c),i.stateNode=c):i.memoizedState=H4(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return Ye(i),a===null&&ht&&(c=i.stateNode=L4(i.type,i.pendingProps,Te.current),Hr=i,Ga=!0,m=Kt,Ri(i.type)?(Ch=m,Kt=Ya(c.firstChild)):Kt=m),Zr(a,i,i.pendingProps.children,l),T0(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&ht&&((m=c=Kt)&&(c=iS(c,i.type,i.pendingProps,Ga),c!==null?(i.stateNode=c,Hr=i,Kt=Ya(c.firstChild),Ga=!1,m=!0):m=!1),m||bi(i)),Ye(i),m=i.type,v=i.pendingProps,_=a!==null?a.memoizedProps:null,c=v.children,Ah(m,v)?c=null:_!==null&&Ah(m,_)&&(i.flags|=32),i.memoizedState!==null&&(m=Tf(a,i,xw,null,null,l),Wl._currentValue=m),T0(a,i),Zr(a,i,c,l),i.child;case 6:return a===null&&ht&&((a=l=Kt)&&(l=sS(l,i.pendingProps,Ga),l!==null?(i.stateNode=l,Hr=i,Kt=null,a=!0):a=!1),a||bi(i)),null;case 13:return Eg(a,i,l);case 4:return Me(i,i.stateNode.containerInfo),c=i.pendingProps,a===null?i.child=Ss(i,null,c,l):Zr(a,i,c,l),i.child;case 11:return bg(a,i,i.type,i.pendingProps,l);case 7:return Zr(a,i,i.pendingProps,l),i.child;case 8:return Zr(a,i,i.pendingProps.children,l),i.child;case 12:return Zr(a,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,xi(i,i.type,c.value),Zr(a,i,c.children,l),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,ys(i),m=Pr(m),c=c(m),i.flags|=1,Zr(a,i,c,l),i.child;case 14:return xg(a,i,i.type,i.pendingProps,l);case 15:return wg(a,i,i.type,i.pendingProps,l);case 19:return Ng(a,i,l);case 31:return Ew(a,i,l);case 22:return Sg(a,i,l,i.pendingProps);case 24:return ys(i),c=Pr(kr),a===null?(m=vf(),m===null&&(m=$t,v=mf(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=l),m=v),i.memoizedState={parent:c,cache:m},yf(i),xi(i,kr,m)):((a.lanes&l)!==0&&(bf(a,i),Cl(i,null,null,l),Ol()),m=a.memoizedState,v=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),xi(i,kr,c)):(c=v.cache,xi(i,kr,c),c!==m.cache&&hf(i,[kr],l,!0))),Zr(a,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Gn(a){a.flags|=4}function eh(a,i,l,c,m){if((i=(a.mode&32)!==0)&&(i=!1),i){if(a.flags|=16777216,(m&335544128)===m)if(a.stateNode.complete)a.flags|=8192;else if(n4())a.flags|=8192;else throw ws=d0,gf}else a.flags&=-16777217}function Cg(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Y4(i))if(n4())a.flags|=8192;else throw ws=d0,gf}function E0(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?qu():536870912,a.lanes|=i,wo|=i)}function Bl(a,i){if(!ht)switch(a.tailMode){case"hidden":i=a.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function Jt(a){var i=a.alternate!==null&&a.alternate.child===a.child,l=0,c=0;if(i)for(var m=a.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=c,a.childLanes=l,i}function Nw(a,i,l){var c=i.pendingProps;switch(lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return l=i.stateNode,c=null,a!==null&&(c=a.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),qn(kr),je(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(oo(i)?Gn(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cf())),Jt(i),null;case 26:var m=i.type,v=i.memoizedState;return a===null?(Gn(i),v!==null?(Jt(i),Cg(i,v)):(Jt(i),eh(i,m,null,c,l))):v?v!==a.memoizedState?(Gn(i),Jt(i),Cg(i,v)):(Jt(i),i.flags&=-16777217):(a=a.memoizedProps,a!==c&&Gn(i),Jt(i),eh(i,m,a,c,l)),null;case 27:if(nt(i),l=Te.current,m=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==c&&Gn(i);else{if(!c){if(i.stateNode===null)throw Error(n(166));return Jt(i),null}a=te.current,oo(i)?dv(i):(a=L4(m,c,l),i.stateNode=a,Gn(i))}return Jt(i),null;case 5:if(nt(i),m=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==c&&Gn(i);else{if(!c){if(i.stateNode===null)throw Error(n(166));return Jt(i),null}if(v=te.current,oo(i))dv(i);else{var _=P0(Te.current);switch(v){case 1:v=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=_.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?_.createElement(m,{is:c.is}):_.createElement(m)}}v[tr]=i,v[Br]=c;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)v.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=v;e:switch(Gr(v,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Gn(i)}}return Jt(i),eh(i,i.type,a===null?null:a.memoizedProps,i.pendingProps,l),null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==c&&Gn(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(a=Te.current,oo(i)){if(a=i.stateNode,l=i.memoizedProps,c=null,m=Hr,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}a[tr]=i,a=!!(a.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||E4(a.nodeValue,l)),a||bi(i,!0)}else a=P0(a).createTextNode(c),a[tr]=i,i.stateNode=a}return Jt(i),null;case 31:if(l=i.memoizedState,a===null||a.memoizedState!==null){if(c=oo(i),l!==null){if(a===null){if(!c)throw Error(n(318));if(a=i.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[tr]=i}else vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),a=!1}else l=cf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return i.flags&256?(Sa(i),i):(Sa(i),null);if((i.flags&128)!==0)throw Error(n(558))}return Jt(i),null;case 13:if(c=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=oo(i),c!==null&&c.dehydrated!==null){if(a===null){if(!m)throw Error(n(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[tr]=i}else vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),m=!1}else m=cf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Sa(i),i):(Sa(i),null)}return Sa(i),(i.flags&128)!==0?(i.lanes=l,i):(l=c!==null,a=a!==null&&a.memoizedState!==null,l&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)),l!==a&&l&&(i.child.flags|=8192),E0(i,i.updateQueue),Jt(i),null);case 4:return je(),a===null&&Sh(i.stateNode.containerInfo),Jt(i),null;case 10:return qn(i.type),Jt(i),null;case 19:if(ie(wr),c=i.memoizedState,c===null)return Jt(i),null;if(m=(i.flags&128)!==0,v=c.rendering,v===null)if(m)Bl(c,!1);else{if(pr!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(v=p0(a),v!==null){for(i.flags|=128,Bl(c,!1),a=v.updateQueue,i.updateQueue=a,E0(i,a),i.subtreeFlags=0,a=l,l=i.child;l!==null;)sv(l,a),l=l.sibling;return W(wr,wr.current&1|2),ht&&Ln(i,c.treeForkCount),i.child}a=a.sibling}c.tail!==null&&or()>R0&&(i.flags|=128,m=!0,Bl(c,!1),i.lanes=4194304)}else{if(!m)if(a=p0(v),a!==null){if(i.flags|=128,m=!0,a=a.updateQueue,i.updateQueue=a,E0(i,a),Bl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!ht)return Jt(i),null}else 2*or()-c.renderingStartTime>R0&&l!==536870912&&(i.flags|=128,m=!0,Bl(c,!1),i.lanes=4194304);c.isBackwards?(v.sibling=i.child,i.child=v):(a=c.last,a!==null?a.sibling=v:i.child=v,c.last=v)}return c.tail!==null?(a=c.tail,c.rendering=a,c.tail=a.sibling,c.renderingStartTime=or(),a.sibling=null,l=wr.current,W(wr,m?l&1|2:l&1),ht&&Ln(i,c.treeForkCount),a):(Jt(i),null);case 22:case 23:return Sa(i),_f(),c=i.memoizedState!==null,a!==null?a.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),l=i.updateQueue,l!==null&&E0(i,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),a!==null&&ie(bs),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qn(kr),Jt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function Ow(a,i){switch(lf(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return qn(kr),je(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return nt(i),null;case 31:if(i.memoizedState!==null){if(Sa(i),i.alternate===null)throw Error(n(340));vs()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 13:if(Sa(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));vs()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return ie(wr),null;case 4:return je(),null;case 10:return qn(i.type),null;case 22:case 23:return Sa(i),_f(),a!==null&&ie(bs),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return qn(kr),null;case 25:return null;default:return null}}function Rg(a,i){switch(lf(i),i.tag){case 3:qn(kr),je();break;case 26:case 27:case 5:nt(i);break;case 4:je();break;case 31:i.memoizedState!==null&&Sa(i);break;case 13:Sa(i);break;case 19:ie(wr);break;case 10:qn(i.type);break;case 22:case 23:Sa(i),_f(),a!==null&&ie(bs);break;case 24:qn(kr)}}function Ll(a,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&a)===a){c=void 0;var v=l.create,_=l.inst;c=v(),_.destroy=c}l=l.next}while(l!==m)}}catch(N){Et(i,i.return,N)}}function Ti(a,i,l){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&a)===a){var _=c.inst,N=_.destroy;if(N!==void 0){_.destroy=void 0,m=i;var P=l,se=N;try{se()}catch(he){Et(m,P,he)}}}c=c.next}while(c!==v)}}catch(he){Et(i,i.return,he)}}function Ig(a){var i=a.updateQueue;if(i!==null){var l=a.stateNode;try{zv(i,l)}catch(c){Et(a,a.return,c)}}}function Dg(a,i,l){l.props=zs(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(c){Et(a,i,c)}}function Ul(a,i){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var c=a.stateNode;break;case 30:c=a.stateNode;break;default:c=a.stateNode}typeof l=="function"?a.refCleanup=l(c):l.current=c}}catch(m){Et(a,i,m)}}function wn(a,i){var l=a.ref,c=a.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Et(a,i,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Et(a,i,m)}else l.current=null}function jg(a){var i=a.type,l=a.memoizedProps,c=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Et(a,a.return,m)}}function th(a,i,l){try{var c=a.stateNode;Qw(c,a.type,l,i),c[Br]=i}catch(m){Et(a,a.return,m)}}function $g(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ri(a.type)||a.tag===4}function rh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$g(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ri(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ah(a,i,l){var c=a.tag;if(c===5||c===6)a=a.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(a),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=jn));else if(c!==4&&(c===27&&Ri(a.type)&&(l=a.stateNode,i=null),a=a.child,a!==null))for(ah(a,i,l),a=a.sibling;a!==null;)ah(a,i,l),a=a.sibling}function M0(a,i,l){var c=a.tag;if(c===5||c===6)a=a.stateNode,i?l.insertBefore(a,i):l.appendChild(a);else if(c!==4&&(c===27&&Ri(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(M0(a,i,l),a=a.sibling;a!==null;)M0(a,i,l),a=a.sibling}function Bg(a){var i=a.stateNode,l=a.memoizedProps;try{for(var c=a.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Gr(i,c,l),i[tr]=a,i[Br]=l}catch(v){Et(a,a.return,v)}}var Vn=!1,Er=!1,nh=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,Ur=null;function Cw(a,i){if(a=a.containerInfo,kh=K0,a=J1(a),Kd(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var _=0,N=-1,P=-1,se=0,he=0,pe=a,oe=null;t:for(;;){for(var ce;pe!==l||m!==0&&pe.nodeType!==3||(N=_+m),pe!==v||c!==0&&pe.nodeType!==3||(P=_+c),pe.nodeType===3&&(_+=pe.nodeValue.length),(ce=pe.firstChild)!==null;)oe=pe,pe=ce;for(;;){if(pe===a)break t;if(oe===l&&++se===m&&(N=_),oe===v&&++he===c&&(P=_),(ce=pe.nextSibling)!==null)break;pe=oe,oe=pe.parentNode}pe=ce}l=N===-1||P===-1?null:{start:N,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Th={focusedElem:a,selectionRange:l},K0=!1,Ur=i;Ur!==null;)if(i=Ur,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Ur=a;else for(;Ur!==null;){switch(i=Ur,v=i.alternate,a=i.flags,i.tag){case 0:if((a&4)!==0&&(a=i.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)m=a[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,l=i,m=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var Ce=zs(l.type,m);a=c.getSnapshotBeforeUpdate(Ce,v),c.__reactInternalSnapshotBeforeUpdate=a}catch(Ve){Et(l,l.return,Ve)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,l=a.nodeType,l===9)Mh(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Mh(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=i.sibling,a!==null){a.return=i.return,Ur=a;break}Ur=i.return}}function Ug(a,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Fn(a,l),c&4&&Ll(5,l);break;case 1:if(Fn(a,l),c&4)if(a=l.stateNode,i===null)try{a.componentDidMount()}catch(_){Et(l,l.return,_)}else{var m=zs(l.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(m,i,a.__reactInternalSnapshotBeforeUpdate)}catch(_){Et(l,l.return,_)}}c&64&&Ig(l),c&512&&Ul(l,l.return);break;case 3:if(Fn(a,l),c&64&&(a=l.updateQueue,a!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{zv(a,i)}catch(_){Et(l,l.return,_)}}break;case 27:i===null&&c&4&&Bg(l);case 26:case 5:Fn(a,l),i===null&&c&4&&jg(l),c&512&&Ul(l,l.return);break;case 12:Fn(a,l);break;case 31:Fn(a,l),c&4&&Pg(a,l);break;case 13:Fn(a,l),c&4&&Zg(a,l),c&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=qw.bind(null,l),oS(a,l))));break;case 22:if(c=l.memoizedState!==null||Vn,!c){i=i!==null&&i.memoizedState!==null||Er,m=Vn;var v=Er;Vn=c,(Er=i)&&!v?Xn(a,l,(l.subtreeFlags&8772)!==0):Fn(a,l),Vn=m,Er=v}break;case 30:break;default:Fn(a,l)}}function qg(a){var i=a.alternate;i!==null&&(a.alternate=null,qg(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&xr(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ar=null,oa=!1;function Yn(a,i,l){for(l=l.child;l!==null;)Hg(a,i,l),l=l.sibling}function Hg(a,i,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(br,l)}catch{}switch(l.tag){case 26:Er||wn(l,i),Yn(a,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Er||wn(l,i);var c=ar,m=oa;Ri(l.type)&&(ar=l.stateNode,oa=!1),Yn(a,i,l),Xl(l.stateNode),ar=c,oa=m;break;case 5:Er||wn(l,i);case 6:if(c=ar,m=oa,ar=null,Yn(a,i,l),ar=c,oa=m,ar!==null)if(oa)try{(ar.nodeType===9?ar.body:ar.nodeName==="HTML"?ar.ownerDocument.body:ar).removeChild(l.stateNode)}catch(v){Et(l,i,v)}else try{ar.removeChild(l.stateNode)}catch(v){Et(l,i,v)}break;case 18:ar!==null&&(oa?(a=ar,I4(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Mo(a)):I4(ar,l.stateNode));break;case 4:c=ar,m=oa,ar=l.stateNode.containerInfo,oa=!0,Yn(a,i,l),ar=c,oa=m;break;case 0:case 11:case 14:case 15:Ti(2,l,i),Er||Ti(4,l,i),Yn(a,i,l);break;case 1:Er||(wn(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Dg(l,i,c)),Yn(a,i,l);break;case 21:Yn(a,i,l);break;case 22:Er=(c=Er)||l.memoizedState!==null,Yn(a,i,l),Er=c;break;default:Yn(a,i,l)}}function Pg(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Mo(a)}catch(l){Et(i,i.return,l)}}}function Zg(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Mo(a)}catch(l){Et(i,i.return,l)}}function Rw(a){switch(a.tag){case 31:case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new Lg),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new Lg),i;default:throw Error(n(435,a.tag))}}function N0(a,i){var l=Rw(a);i.forEach(function(c){if(!l.has(c)){l.add(c);var m=Hw.bind(null,a,c);c.then(m,m)}})}function la(a,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],v=a,_=i,N=_;e:for(;N!==null;){switch(N.tag){case 27:if(Ri(N.type)){ar=N.stateNode,oa=!1;break e}break;case 5:ar=N.stateNode,oa=!1;break e;case 3:case 4:ar=N.stateNode.containerInfo,oa=!0;break e}N=N.return}if(ar===null)throw Error(n(160));Hg(v,_,m),ar=null,oa=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Gg(i,a),i=i.sibling}var sn=null;function Gg(a,i){var l=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:la(i,a),ua(a),c&4&&(Ti(3,a,a.return),Ll(3,a),Ti(5,a,a.return));break;case 1:la(i,a),ua(a),c&512&&(Er||l===null||wn(l,l.return)),c&64&&Vn&&(a=a.updateQueue,a!==null&&(c=a.callbacks,c!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=sn;if(la(i,a),ua(a),c&512&&(Er||l===null||wn(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=a.memoizedState,l===null)if(c===null)if(a.stateNode===null){e:{c=a.type,l=a.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Le]||v[tr]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),Gr(v,c,l),v[tr]=a,Xt(v),c=v;break e;case"link":var _=G4("link","href",m).get(c+(l.href||""));if(_){for(var N=0;N<_.length;N++)if(v=_[N],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(N,1);break t}}v=m.createElement(c),Gr(v,c,l),m.head.appendChild(v);break;case"meta":if(_=G4("meta","content",m).get(c+(l.content||""))){for(N=0;N<_.length;N++)if(v=_[N],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(N,1);break t}}v=m.createElement(c),Gr(v,c,l),m.head.appendChild(v);break;default:throw Error(n(468,c))}v[tr]=a,Xt(v),c=v}a.stateNode=c}else V4(m,a.type,a.stateNode);else a.stateNode=Z4(m,c,a.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?V4(m,a.type,a.stateNode):Z4(m,c,a.memoizedProps)):c===null&&a.stateNode!==null&&th(a,a.memoizedProps,l.memoizedProps)}break;case 27:la(i,a),ua(a),c&512&&(Er||l===null||wn(l,l.return)),l!==null&&c&4&&th(a,a.memoizedProps,l.memoizedProps);break;case 5:if(la(i,a),ua(a),c&512&&(Er||l===null||wn(l,l.return)),a.flags&32){m=a.stateNode;try{Js(m,"")}catch(Ce){Et(a,a.return,Ce)}}c&4&&a.stateNode!=null&&(m=a.memoizedProps,th(a,m,l!==null?l.memoizedProps:m)),c&1024&&(nh=!0);break;case 6:if(la(i,a),ua(a),c&4){if(a.stateNode===null)throw Error(n(162));c=a.memoizedProps,l=a.stateNode;try{l.nodeValue=c}catch(Ce){Et(a,a.return,Ce)}}break;case 3:if(V0=null,m=sn,sn=Z0(i.containerInfo),la(i,a),sn=m,ua(a),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Mo(i.containerInfo)}catch(Ce){Et(a,a.return,Ce)}nh&&(nh=!1,Vg(a));break;case 4:c=sn,sn=Z0(a.stateNode.containerInfo),la(i,a),ua(a),sn=c;break;case 12:la(i,a),ua(a);break;case 31:la(i,a),ua(a),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,N0(a,c)));break;case 13:la(i,a),ua(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(C0=or()),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,N0(a,c)));break;case 22:m=a.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,se=Vn,he=Er;if(Vn=se||m,Er=he||P,la(i,a),Er=he,Vn=se,ua(a),c&8192)e:for(i=a.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||P||Vn||Er||ks(a)),l=null,i=a;;){if(i.tag===5||i.tag===26){if(l===null){P=l=i;try{if(v=P.stateNode,m)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{N=P.stateNode;var pe=P.memoizedProps.style,oe=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;N.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Ce){Et(P,P.return,Ce)}}}else if(i.tag===6){if(l===null){P=i;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(Ce){Et(P,P.return,Ce)}}}else if(i.tag===18){if(l===null){P=i;try{var ce=P.stateNode;m?D4(ce,!0):D4(P.stateNode,!1)}catch(Ce){Et(P,P.return,Ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=a.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,N0(a,l))));break;case 19:la(i,a),ua(a),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,N0(a,c)));break;case 30:break;case 21:break;default:la(i,a),ua(a)}}function ua(a){var i=a.flags;if(i&2){try{for(var l,c=a.return;c!==null;){if($g(c)){l=c;break}c=c.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var m=l.stateNode,v=rh(a);M0(a,v,m);break;case 5:var _=l.stateNode;l.flags&32&&(Js(_,""),l.flags&=-33);var N=rh(a);M0(a,N,_);break;case 3:case 4:var P=l.stateNode.containerInfo,se=rh(a);ah(a,se,P);break;default:throw Error(n(161))}}catch(he){Et(a,a.return,he)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Vg(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;Vg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function Fn(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ug(a,i.alternate,i),i=i.sibling}function ks(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:Ti(4,i,i.return),ks(i);break;case 1:wn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Dg(i,i.return,l),ks(i);break;case 27:Xl(i.stateNode);case 26:case 5:wn(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}a=a.sibling}}function Xn(a,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=a,v=i,_=v.flags;switch(v.tag){case 0:case 11:case 15:Xn(m,v,l),Ll(4,v);break;case 1:if(Xn(m,v,l),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(se){Et(c,c.return,se)}if(c=v,m=c.updateQueue,m!==null){var N=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)_v(P[m],N)}catch(se){Et(c,c.return,se)}}l&&_&64&&Ig(v),Ul(v,v.return);break;case 27:Bg(v);case 26:case 5:Xn(m,v,l),l&&c===null&&_&4&&jg(v),Ul(v,v.return);break;case 12:Xn(m,v,l);break;case 31:Xn(m,v,l),l&&_&4&&Pg(m,v);break;case 13:Xn(m,v,l),l&&_&4&&Zg(m,v);break;case 22:v.memoizedState===null&&Xn(m,v,l),Ul(v,v.return);break;case 30:break;default:Xn(m,v,l)}i=i.sibling}}function ih(a,i){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Tl(l))}function sh(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Tl(a))}function on(a,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yg(a,i,l,c),i=i.sibling}function Yg(a,i,l,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:on(a,i,l,c),m&2048&&Ll(9,i);break;case 1:on(a,i,l,c);break;case 3:on(a,i,l,c),m&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Tl(a)));break;case 12:if(m&2048){on(a,i,l,c),a=i.stateNode;try{var v=i.memoizedProps,_=v.id,N=v.onPostCommit;typeof N=="function"&&N(_,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(P){Et(i,i.return,P)}}else on(a,i,l,c);break;case 31:on(a,i,l,c);break;case 13:on(a,i,l,c);break;case 23:break;case 22:v=i.stateNode,_=i.alternate,i.memoizedState!==null?v._visibility&2?on(a,i,l,c):ql(a,i):v._visibility&2?on(a,i,l,c):(v._visibility|=2,yo(a,i,l,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&ih(_,i);break;case 24:on(a,i,l,c),m&2048&&sh(i.alternate,i);break;default:on(a,i,l,c)}}function yo(a,i,l,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=a,_=i,N=l,P=c,se=_.flags;switch(_.tag){case 0:case 11:case 15:yo(v,_,N,P,m),Ll(8,_);break;case 23:break;case 22:var he=_.stateNode;_.memoizedState!==null?he._visibility&2?yo(v,_,N,P,m):ql(v,_):(he._visibility|=2,yo(v,_,N,P,m)),m&&se&2048&&ih(_.alternate,_);break;case 24:yo(v,_,N,P,m),m&&se&2048&&sh(_.alternate,_);break;default:yo(v,_,N,P,m)}i=i.sibling}}function ql(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=a,c=i,m=c.flags;switch(c.tag){case 22:ql(l,c),m&2048&&ih(c.alternate,c);break;case 24:ql(l,c),m&2048&&sh(c.alternate,c);break;default:ql(l,c)}i=i.sibling}}var Hl=8192;function bo(a,i,l){if(a.subtreeFlags&Hl)for(a=a.child;a!==null;)Fg(a,i,l),a=a.sibling}function Fg(a,i,l){switch(a.tag){case 26:bo(a,i,l),a.flags&Hl&&a.memoizedState!==null&&bS(l,sn,a.memoizedState,a.memoizedProps);break;case 5:bo(a,i,l);break;case 3:case 4:var c=sn;sn=Z0(a.stateNode.containerInfo),bo(a,i,l),sn=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=Hl,Hl=16777216,bo(a,i,l),Hl=c):bo(a,i,l));break;default:bo(a,i,l)}}function Xg(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function Pl(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];Ur=c,Jg(c,a)}Xg(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Kg(a),a=a.sibling}function Kg(a){switch(a.tag){case 0:case 11:case 15:Pl(a),a.flags&2048&&Ti(9,a,a.return);break;case 3:Pl(a);break;case 12:Pl(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,O0(a)):Pl(a);break;default:Pl(a)}}function O0(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];Ur=c,Jg(c,a)}Xg(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:Ti(8,i,i.return),O0(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,O0(i));break;default:O0(i)}a=a.sibling}}function Jg(a,i){for(;Ur!==null;){var l=Ur;switch(l.tag){case 0:case 11:case 15:Ti(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Tl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Ur=c;else e:for(l=a;Ur!==null;){c=Ur;var m=c.sibling,v=c.return;if(qg(c),c===l){Ur=null;break e}if(m!==null){m.return=v,Ur=m;break e}Ur=v}}}var Iw={getCacheForType:function(a){var i=Pr(kr),l=i.data.get(a);return l===void 0&&(l=a(),i.data.set(a,l)),l},cacheSignal:function(){return Pr(kr).controller.signal}},Dw=typeof WeakMap=="function"?WeakMap:Map,zt=0,$t=null,ut=null,dt=0,At=0,_a=null,Ai=!1,xo=!1,oh=!1,Kn=0,pr=0,Ei=0,Ts=0,lh=0,za=0,wo=0,Zl=null,ca=null,uh=!1,C0=0,Wg=0,R0=1/0,I0=null,Mi=null,Rr=0,Ni=null,So=null,Jn=0,ch=0,dh=null,Qg=null,Gl=0,fh=null;function ka(){return(zt&2)!==0&&dt!==0?dt&-dt:$.T!==null?yh():pi()}function e4(){if(za===0)if((dt&536870912)===0||ht){var a=gn;gn<<=1,(gn&3932160)===0&&(gn=262144),za=a}else za=536870912;return a=wa.current,a!==null&&(a.flags|=32),za}function da(a,i,l){(a===$t&&(At===2||At===9)||a.cancelPendingCommit!==null)&&(_o(a,0),Oi(a,dt,za,!1)),mi(a,l),((zt&2)===0||a!==$t)&&(a===$t&&((zt&2)===0&&(Ts|=l),pr===4&&Oi(a,dt,za,!1)),Sn(a))}function t4(a,i,l){if((zt&6)!==0)throw Error(n(327));var c=!l&&(i&127)===0&&(i&a.expiredLanes)===0||Cn(a,i),m=c?Bw(a,i):mh(a,i,!0),v=c;do{if(m===0){xo&&!c&&Oi(a,i,0,!1);break}else{if(l=a.current.alternate,v&&!jw(l)){m=mh(a,i,!1),v=!1;continue}if(m===2){if(v=i,a.errorRecoveryDisabledLanes&v)var _=0;else _=a.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var N=a;m=Zl;var P=N.current.memoizedState.isDehydrated;if(P&&(_o(N,_).flags|=256),_=mh(N,_,!1),_!==2){if(oh&&!P){N.errorRecoveryDisabledLanes|=v,Ts|=v,m=4;break e}v=ca,ca=m,v!==null&&(ca===null?ca=v:ca.push.apply(ca,v))}m=_}if(v=!1,m!==2)continue}}if(m===1){_o(a,0),Oi(a,i,0,!0);break}e:{switch(c=a,v=m,v){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Oi(c,i,za,!Ai);break e;case 2:ca=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(m=C0+300-or(),10<m)){if(Oi(c,i,za,!Ai),us(c,0,!0)!==0)break e;Jn=i,c.timeoutHandle=C4(r4.bind(null,c,l,ca,I0,uh,i,za,Ts,wo,Ai,v,"Throttled",-0,0),m);break e}r4(c,l,ca,I0,uh,i,za,Ts,wo,Ai,v,null,-0,0)}}break}while(!0);Sn(a)}function r4(a,i,l,c,m,v,_,N,P,se,he,pe,oe,ce){if(a.timeoutHandle=-1,pe=i.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Fg(i,v,pe);var Ce=(v&62914560)===v?C0-or():(v&4194048)===v?Wg-or():0;if(Ce=xS(pe,Ce),Ce!==null){Jn=v,a.cancelPendingCommit=Ce(c4.bind(null,a,i,v,l,c,m,_,N,P,he,pe,null,oe,ce)),Oi(a,v,_,!se);return}}c4(a,i,v,l,c,m,_,N,P)}function jw(a){for(var i=a;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],v=m.getSnapshot;m=m.value;try{if(!ba(v(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Oi(a,i,l,c){i&=~lh,i&=~Ts,a.suspendedLanes|=i,a.pingedLanes&=~i,c&&(a.warmLanes|=i),c=a.expirationTimes;for(var m=i;0<m;){var v=31-Yr(m),_=1<<v;c[v]=-1,m&=~_}l!==0&&Rn(a,l,i)}function D0(){return(zt&6)===0?(Vl(0),!1):!0}function hh(){if(ut!==null){if(At===0)var a=ut.return;else a=ut,Un=gs=null,Mf(a),ho=null,El=0,a=ut;for(;a!==null;)Rg(a.alternate,a),a=a.return;ut=null}}function _o(a,i){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,rS(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Jn=0,hh(),$t=a,ut=l=Bn(a.current,null),dt=i,At=0,_a=null,Ai=!1,xo=Cn(a,i),oh=!1,wo=za=lh=Ts=Ei=pr=0,ca=Zl=null,uh=!1,(i&8)!==0&&(i|=i&32);var c=a.entangledLanes;if(c!==0)for(a=a.entanglements,c&=i;0<c;){var m=31-Yr(c),v=1<<m;i|=a[m],c&=~v}return Kn=i,r0(),l}function a4(a,i){et=null,$.H=jl,i===fo||i===c0?(i=bv(),At=3):i===gf?(i=bv(),At=4):At=i===Gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_a=i,ut===null&&(pr=1,z0(a,Ha(i,a.current)))}function n4(){var a=wa.current;return a===null?!0:(dt&4194048)===dt?Va===null:(dt&62914560)===dt||(dt&536870912)!==0?a===Va:!1}function i4(){var a=$.H;return $.H=jl,a===null?jl:a}function s4(){var a=$.A;return $.A=Iw,a}function j0(){pr=4,Ai||(dt&4194048)!==dt&&wa.current!==null||(xo=!0),(Ei&134217727)===0&&(Ts&134217727)===0||$t===null||Oi($t,dt,za,!1)}function mh(a,i,l){var c=zt;zt|=2;var m=i4(),v=s4();($t!==a||dt!==i)&&(I0=null,_o(a,i)),i=!1;var _=pr;e:do try{if(At!==0&&ut!==null){var N=ut,P=_a;switch(At){case 8:hh(),_=6;break e;case 3:case 2:case 9:case 6:wa.current===null&&(i=!0);var se=At;if(At=0,_a=null,zo(a,N,P,se),l&&xo){_=0;break e}break;default:se=At,At=0,_a=null,zo(a,N,P,se)}}$w(),_=pr;break}catch(he){a4(a,he)}while(!0);return i&&a.shellSuspendCounter++,Un=gs=null,zt=c,$.H=m,$.A=v,ut===null&&($t=null,dt=0,r0()),_}function $w(){for(;ut!==null;)o4(ut)}function Bw(a,i){var l=zt;zt|=2;var c=i4(),m=s4();$t!==a||dt!==i?(I0=null,R0=or()+500,_o(a,i)):xo=Cn(a,i);e:do try{if(At!==0&&ut!==null){i=ut;var v=_a;t:switch(At){case 1:At=0,_a=null,zo(a,i,v,1);break;case 2:case 9:if(gv(v)){At=0,_a=null,l4(i);break}i=function(){At!==2&&At!==9||$t!==a||(At=7),Sn(a)},v.then(i,i);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:gv(v)?(At=0,_a=null,l4(i)):(At=0,_a=null,zo(a,i,v,7));break;case 5:var _=null;switch(ut.tag){case 26:_=ut.memoizedState;case 5:case 27:var N=ut;if(_?Y4(_):N.stateNode.complete){At=0,_a=null;var P=N.sibling;if(P!==null)ut=P;else{var se=N.return;se!==null?(ut=se,$0(se)):ut=null}break t}}At=0,_a=null,zo(a,i,v,5);break;case 6:At=0,_a=null,zo(a,i,v,6);break;case 8:hh(),pr=6;break e;default:throw Error(n(462))}}Lw();break}catch(he){a4(a,he)}while(!0);return Un=gs=null,$.H=c,$.A=m,zt=l,ut!==null?0:($t=null,dt=0,r0(),pr)}function Lw(){for(;ut!==null&&!lt();)o4(ut)}function o4(a){var i=Og(a.alternate,a,Kn);a.memoizedProps=a.pendingProps,i===null?$0(a):ut=i}function l4(a){var i=a,l=i.alternate;switch(i.tag){case 15:case 0:i=kg(l,i,i.pendingProps,i.type,void 0,dt);break;case 11:i=kg(l,i,i.pendingProps,i.type.render,i.ref,dt);break;case 5:Mf(i);default:Rg(l,i),i=ut=sv(i,Kn),i=Og(l,i,Kn)}a.memoizedProps=a.pendingProps,i===null?$0(a):ut=i}function zo(a,i,l,c){Un=gs=null,Mf(i),ho=null,El=0;var m=i.return;try{if(Aw(a,m,i,l,dt)){pr=1,z0(a,Ha(l,a.current)),ut=null;return}}catch(v){if(m!==null)throw ut=m,v;pr=1,z0(a,Ha(l,a.current)),ut=null;return}i.flags&32768?(ht||c===1?a=!0:xo||(dt&536870912)!==0?a=!1:(Ai=a=!0,(c===2||c===9||c===3||c===6)&&(c=wa.current,c!==null&&c.tag===13&&(c.flags|=16384))),u4(i,a)):$0(i)}function $0(a){var i=a;do{if((i.flags&32768)!==0){u4(i,Ai);return}a=i.return;var l=Nw(i.alternate,i,Kn);if(l!==null){ut=l;return}if(i=i.sibling,i!==null){ut=i;return}ut=i=a}while(i!==null);pr===0&&(pr=5)}function u4(a,i){do{var l=Ow(a.alternate,a);if(l!==null){l.flags&=32767,ut=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(a=a.sibling,a!==null)){ut=a;return}ut=a=l}while(a!==null);pr=6,ut=null}function c4(a,i,l,c,m,v,_,N,P){a.cancelPendingCommit=null;do B0();while(Rr!==0);if((zt&6)!==0)throw Error(n(327));if(i!==null){if(i===a.current)throw Error(n(177));if(v=i.lanes|i.childLanes,v|=tf,Hu(a,l,v,_,N,P),a===$t&&(ut=$t=null,dt=0),So=i,Ni=a,Jn=l,ch=v,dh=m,Qg=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Pw(vn,function(){return p4(),null})):(a.callbackNode=null,a.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=Z.p,Z.p=2,_=zt,zt|=4;try{Cw(a,i,l)}finally{zt=_,Z.p=m,$.T=c}}Rr=1,d4(),f4(),h4()}}function d4(){if(Rr===1){Rr=0;var a=Ni,i=So,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=Z.p;Z.p=2;var m=zt;zt|=4;try{Gg(i,a);var v=Th,_=J1(a.containerInfo),N=v.focusedElem,P=v.selectionRange;if(_!==N&&N&&N.ownerDocument&&K1(N.ownerDocument.documentElement,N)){if(P!==null&&Kd(N)){var se=P.start,he=P.end;if(he===void 0&&(he=se),"selectionStart"in N)N.selectionStart=se,N.selectionEnd=Math.min(he,N.value.length);else{var pe=N.ownerDocument||document,oe=pe&&pe.defaultView||window;if(oe.getSelection){var ce=oe.getSelection(),Ce=N.textContent.length,Ve=Math.min(P.start,Ce),It=P.end===void 0?Ve:Math.min(P.end,Ce);!ce.extend&&Ve>It&&(_=It,It=Ve,Ve=_);var Q=X1(N,Ve),G=X1(N,It);if(Q&&G&&(ce.rangeCount!==1||ce.anchorNode!==Q.node||ce.anchorOffset!==Q.offset||ce.focusNode!==G.node||ce.focusOffset!==G.offset)){var ae=pe.createRange();ae.setStart(Q.node,Q.offset),ce.removeAllRanges(),Ve>It?(ce.addRange(ae),ce.extend(G.node,G.offset)):(ae.setEnd(G.node,G.offset),ce.addRange(ae))}}}}for(pe=[],ce=N;ce=ce.parentNode;)ce.nodeType===1&&pe.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<pe.length;N++){var me=pe[N];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}K0=!!kh,Th=kh=null}finally{zt=m,Z.p=c,$.T=l}}a.current=i,Rr=2}}function f4(){if(Rr===2){Rr=0;var a=Ni,i=So,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=Z.p;Z.p=2;var m=zt;zt|=4;try{Ug(a,i.alternate,i)}finally{zt=m,Z.p=c,$.T=l}}Rr=3}}function h4(){if(Rr===4||Rr===3){Rr=0,hr();var a=Ni,i=So,l=Jn,c=Qg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Rr=5:(Rr=0,So=Ni=null,m4(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(Mi=null),In(l),i=i.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(br,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,m=Z.p,Z.p=2,$.T=null;try{for(var v=a.onRecoverableError,_=0;_<c.length;_++){var N=c[_];v(N.value,{componentStack:N.stack})}}finally{$.T=i,Z.p=m}}(Jn&3)!==0&&B0(),Sn(a),m=a.pendingLanes,(l&261930)!==0&&(m&42)!==0?a===fh?Gl++:(Gl=0,fh=a):Gl=0,Vl(0)}}function m4(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,Tl(i)))}function B0(){return d4(),f4(),h4(),p4()}function p4(){if(Rr!==5)return!1;var a=Ni,i=ch;ch=0;var l=In(Jn),c=$.T,m=Z.p;try{Z.p=32>l?32:l,$.T=null,l=dh,dh=null;var v=Ni,_=Jn;if(Rr=0,So=Ni=null,Jn=0,(zt&6)!==0)throw Error(n(331));var N=zt;if(zt|=4,Kg(v.current),Yg(v,v.current,_,l),zt=N,Vl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(br,v)}catch{}return!0}finally{Z.p=m,$.T=c,m4(a,i)}}function v4(a,i,l){i=Ha(l,i),i=Zf(a.stateNode,i,2),a=_i(a,i,2),a!==null&&(mi(a,2),Sn(a))}function Et(a,i,l){if(a.tag===3)v4(a,a,l);else for(;i!==null;){if(i.tag===3){v4(i,a,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Mi===null||!Mi.has(c))){a=Ha(l,a),l=gg(2),c=_i(i,l,2),c!==null&&(yg(l,c,i,a),mi(c,2),Sn(c));break}}i=i.return}}function ph(a,i,l){var c=a.pingCache;if(c===null){c=a.pingCache=new Dw;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(l)||(oh=!0,m.add(l),a=Uw.bind(null,a,i,l),i.then(a,a))}function Uw(a,i,l){var c=a.pingCache;c!==null&&c.delete(i),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,$t===a&&(dt&l)===l&&(pr===4||pr===3&&(dt&62914560)===dt&&300>or()-C0?(zt&2)===0&&_o(a,0):lh|=l,wo===dt&&(wo=0)),Sn(a)}function g4(a,i){i===0&&(i=qu()),a=ms(a,i),a!==null&&(mi(a,i),Sn(a))}function qw(a){var i=a.memoizedState,l=0;i!==null&&(l=i.retryLane),g4(a,l)}function Hw(a,i){var l=0;switch(a.tag){case 31:case 13:var c=a.stateNode,m=a.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=a.stateNode;break;case 22:c=a.stateNode._retryCache;break;default:throw Error(n(314))}c!==null&&c.delete(i),g4(a,l)}function Pw(a,i){return Ft(a,i)}var L0=null,ko=null,vh=!1,U0=!1,gh=!1,Ci=0;function Sn(a){a!==ko&&a.next===null&&(ko===null?L0=ko=a:ko=ko.next=a),U0=!0,vh||(vh=!0,Gw())}function Vl(a,i){if(!gh&&U0){gh=!0;do for(var l=!1,c=L0;c!==null;){if(a!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var _=c.suspendedLanes,N=c.pingedLanes;v=(1<<31-Yr(42|a)+1)-1,v&=m&~(_&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,w4(c,v))}else v=dt,v=us(c,c===$t?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Cn(c,v)||(l=!0,w4(c,v));c=c.next}while(l);gh=!1}}function Zw(){y4()}function y4(){U0=vh=!1;var a=0;Ci!==0&&tS()&&(a=Ci);for(var i=or(),l=null,c=L0;c!==null;){var m=c.next,v=b4(c,i);v===0?(c.next=null,l===null?L0=m:l.next=m,m===null&&(ko=l)):(l=c,(a!==0||(v&3)!==0)&&(U0=!0)),c=m}Rr!==0&&Rr!==5||Vl(a),Ci!==0&&(Ci=0)}function b4(a,i){for(var l=a.suspendedLanes,c=a.pingedLanes,m=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var _=31-Yr(v),N=1<<_,P=m[_];P===-1?((N&l)===0||(N&c)!==0)&&(m[_]=cl(N,i)):P<=i&&(a.expiredLanes|=N),v&=~N}if(i=$t,l=dt,l=us(a,a===i?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c=a.callbackNode,l===0||a===i&&(At===2||At===9)||a.cancelPendingCommit!==null)return c!==null&&c!==null&&jt(c),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Cn(a,l)){if(i=l&-l,i===a.callbackPriority)return i;switch(c!==null&&jt(c),In(l)){case 2:case 8:l=rn;break;case 32:l=vn;break;case 268435456:l=Jr;break;default:l=vn}return c=x4.bind(null,a),l=Ft(l,c),a.callbackPriority=i,a.callbackNode=l,i}return c!==null&&c!==null&&jt(c),a.callbackPriority=2,a.callbackNode=null,2}function x4(a,i){if(Rr!==0&&Rr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(B0()&&a.callbackNode!==l)return null;var c=dt;return c=us(a,a===$t?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c===0?null:(t4(a,c,i),b4(a,or()),a.callbackNode!=null&&a.callbackNode===l?x4.bind(null,a):null)}function w4(a,i){if(B0())return null;t4(a,i,!0)}function Gw(){aS(function(){(zt&6)!==0?Ft(Ot,Zw):y4()})}function yh(){if(Ci===0){var a=uo;a===0&&(a=ls,ls<<=1,(ls&261888)===0&&(ls=256)),Ci=a}return Ci}function S4(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Fu(""+a)}function _4(a,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,a.id&&l.setAttribute("form",a.id),i.parentNode.insertBefore(l,i),a=new FormData(a),l.parentNode.removeChild(l),a}function Vw(a,i,l,c,m){if(i==="submit"&&l&&l.stateNode===m){var v=S4((m[Br]||null).action),_=c.submitter;_&&(i=(i=_[Br]||null)?S4(i.formAction):_.getAttribute("formAction"),i!==null&&(v=i,_=null));var N=new Wu("action","action",null,c,m);a.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ci!==0){var P=_?_4(m,_):new FormData(m);Bf(l,{pending:!0,data:P,method:m.method,action:v},null,P)}}else typeof v=="function"&&(N.preventDefault(),P=_?_4(m,_):new FormData(m),Bf(l,{pending:!0,data:P,method:m.method,action:v},v,P))},currentTarget:m}]})}}for(var bh=0;bh<ef.length;bh++){var xh=ef[bh],Yw=xh.toLowerCase(),Fw=xh[0].toUpperCase()+xh.slice(1);nn(Yw,"on"+Fw)}nn(ev,"onAnimationEnd"),nn(tv,"onAnimationIteration"),nn(rv,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(cw,"onTransitionRun"),nn(dw,"onTransitionStart"),nn(fw,"onTransitionCancel"),nn(av,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function z4(a,i){i=(i&4)!==0;for(var l=0;l<a.length;l++){var c=a[l],m=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var _=c.length-1;0<=_;_--){var N=c[_],P=N.instance,se=N.currentTarget;if(N=N.listener,P!==v&&m.isPropagationStopped())break e;v=N,m.currentTarget=se;try{v(m)}catch(he){t0(he)}m.currentTarget=null,v=P}else for(_=0;_<c.length;_++){if(N=c[_],P=N.instance,se=N.currentTarget,N=N.listener,P!==v&&m.isPropagationStopped())break e;v=N,m.currentTarget=se;try{v(m)}catch(he){t0(he)}m.currentTarget=null,v=P}}}}function ct(a,i){var l=i[cs];l===void 0&&(l=i[cs]=new Set);var c=a+"__bubble";l.has(c)||(k4(i,a,2,!1),l.add(c))}function wh(a,i,l){var c=0;i&&(c|=4),k4(l,a,c,i)}var q0="_reactListening"+Math.random().toString(36).slice(2);function Sh(a){if(!a[q0]){a[q0]=!0,Fs.forEach(function(l){l!=="selectionchange"&&(Xw.has(l)||wh(l,!1,a),wh(l,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[q0]||(i[q0]=!0,wh("selectionchange",!1,i))}}function k4(a,i,l,c){switch(ey(i)){case 2:var m=_S;break;case 8:m=zS;break;default:m=$h}l=m.bind(null,i,l,a),m=void 0,!qd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?a.addEventListener(i,l,{capture:!0,passive:m}):a.addEventListener(i,l,!0):m!==void 0?a.addEventListener(i,l,{passive:m}):a.addEventListener(i,l,!1)}function _h(a,i,l,c,m){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var N=c.stateNode.containerInfo;if(N===m)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;N!==null;){if(_=$a(N),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){c=v=_;continue e}N=N.parentNode}}c=c.return}N1(function(){var se=v,he=Ld(l),pe=[];e:{var oe=nv.get(a);if(oe!==void 0){var ce=Wu,Ce=a;switch(a){case"keypress":if(Ku(l)===0)break e;case"keydown":case"keyup":ce=H9;break;case"focusin":Ce="focus",ce=Gd;break;case"focusout":Ce="blur",ce=Gd;break;case"beforeblur":case"afterblur":ce=Gd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=R1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=N9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G9;break;case ev:case tv:case rv:ce=R9;break;case av:ce=Y9;break;case"scroll":case"scrollend":ce=E9;break;case"wheel":ce=X9;break;case"copy":case"cut":case"paste":ce=D9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=D1;break;case"toggle":case"beforetoggle":ce=J9}var Ve=(i&4)!==0,It=!Ve&&(a==="scroll"||a==="scrollend"),Q=Ve?oe!==null?oe+"Capture":null:oe;Ve=[];for(var G=se,ae;G!==null;){var me=G;if(ae=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ae===null||Q===null||(me=pl(G,Q),me!=null&&Ve.push(Fl(G,me,ae))),It)break;G=G.return}0<Ve.length&&(oe=new ce(oe,Ce,null,l,he),pe.push({event:oe,listeners:Ve}))}}if((i&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",oe&&l!==Bd&&(Ce=l.relatedTarget||l.fromElement)&&($a(Ce)||Ce[Lr]))break e;if((ce||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,ce?(Ce=l.relatedTarget||l.toElement,ce=se,Ce=Ce?$a(Ce):null,Ce!==null&&(It=o(Ce),Ve=Ce.tag,Ce!==It||Ve!==5&&Ve!==27&&Ve!==6)&&(Ce=null)):(ce=null,Ce=se),ce!==Ce)){if(Ve=R1,me="onMouseLeave",Q="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Ve=D1,me="onPointerLeave",Q="onPointerEnter",G="pointer"),It=ce==null?oe:yn(ce),ae=Ce==null?oe:yn(Ce),oe=new Ve(me,G+"leave",ce,l,he),oe.target=It,oe.relatedTarget=ae,me=null,$a(he)===se&&(Ve=new Ve(Q,G+"enter",Ce,l,he),Ve.target=ae,Ve.relatedTarget=It,me=Ve),It=me,ce&&Ce)t:{for(Ve=Kw,Q=ce,G=Ce,ae=0,me=Q;me;me=Ve(me))ae++;me=0;for(var Ue=G;Ue;Ue=Ve(Ue))me++;for(;0<ae-me;)Q=Ve(Q),ae--;for(;0<me-ae;)G=Ve(G),me--;for(;ae--;){if(Q===G||G!==null&&Q===G.alternate){Ve=Q;break t}Q=Ve(Q),G=Ve(G)}Ve=null}else Ve=null;ce!==null&&T4(pe,oe,ce,Ve,!1),Ce!==null&&It!==null&&T4(pe,It,Ce,Ve,!0)}}e:{if(oe=se?yn(se):window,ce=oe.nodeName&&oe.nodeName.toLowerCase(),ce==="select"||ce==="input"&&oe.type==="file")var wt=P1;else if(q1(oe))if(Z1)wt=ow;else{wt=iw;var $e=nw}else ce=oe.nodeName,!ce||ce.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&$d(se.elementType)&&(wt=P1):wt=sw;if(wt&&(wt=wt(a,se))){H1(pe,wt,l,he);break e}$e&&$e(a,oe,se),a==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&jd(oe,"number",oe.value)}switch($e=se?yn(se):window,a){case"focusin":(q1($e)||$e.contentEditable==="true")&&(to=$e,Jd=se,_l=null);break;case"focusout":_l=Jd=to=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,W1(pe,l,he);break;case"selectionchange":if(uw)break;case"keydown":case"keyup":W1(pe,l,he)}var rt;if(Yd)e:{switch(a){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else eo?L1(a,l)&&(ft="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(ft="onCompositionStart");ft&&(j1&&l.locale!=="ko"&&(eo||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&eo&&(rt=O1()):(vi=he,Hd="value"in vi?vi.value:vi.textContent,eo=!0)),$e=H0(se,ft),0<$e.length&&(ft=new I1(ft,a,null,l,he),pe.push({event:ft,listeners:$e}),rt?ft.data=rt:(rt=U1(l),rt!==null&&(ft.data=rt)))),(rt=Q9?ew(a,l):tw(a,l))&&(ft=H0(se,"onBeforeInput"),0<ft.length&&($e=new I1("onBeforeInput","beforeinput",null,l,he),pe.push({event:$e,listeners:ft}),$e.data=rt)),Vw(pe,a,se,l,he)}z4(pe,i)})}function Fl(a,i,l){return{instance:a,listener:i,currentTarget:l}}function H0(a,i){for(var l=i+"Capture",c=[];a!==null;){var m=a,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=pl(a,l),m!=null&&c.unshift(Fl(a,m,v)),m=pl(a,i),m!=null&&c.push(Fl(a,m,v))),a.tag===3)return c;a=a.return}return[]}function Kw(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function T4(a,i,l,c,m){for(var v=i._reactName,_=[];l!==null&&l!==c;){var N=l,P=N.alternate,se=N.stateNode;if(N=N.tag,P!==null&&P===c)break;N!==5&&N!==26&&N!==27||se===null||(P=se,m?(se=pl(l,v),se!=null&&_.unshift(Fl(l,se,P))):m||(se=pl(l,v),se!=null&&_.push(Fl(l,se,P)))),l=l.return}_.length!==0&&a.push({event:i,listeners:_})}var Jw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function A4(a){return(typeof a=="string"?a:""+a).replace(Jw,`
`).replace(Ww,"")}function E4(a,i){return i=A4(i),A4(a)===i}function Rt(a,i,l,c,m,v){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Js(a,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Js(a,""+c);break;case"className":Vu(a,"class",c);break;case"tabIndex":Vu(a,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vu(a,l,c);break;case"style":E1(a,c,v);break;case"data":if(i!=="object"){Vu(a,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){a.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(l);break}c=Fu(""+c),a.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Rt(a,i,"name",m.name,m,null),Rt(a,i,"formEncType",m.formEncType,m,null),Rt(a,i,"formMethod",m.formMethod,m,null),Rt(a,i,"formTarget",m.formTarget,m,null)):(Rt(a,i,"encType",m.encType,m,null),Rt(a,i,"method",m.method,m,null),Rt(a,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(l);break}c=Fu(""+c),a.setAttribute(l,c);break;case"onClick":c!=null&&(a.onclick=jn);break;case"onScroll":c!=null&&ct("scroll",a);break;case"onScrollEnd":c!=null&&ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":a.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){a.removeAttribute("xlink:href");break}l=Fu(""+c),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,""+c):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":c===!0?a.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,c):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?a.setAttribute(l,c):a.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?a.removeAttribute(l):a.setAttribute(l,c);break;case"popover":ct("beforetoggle",a),ct("toggle",a),Gu(a,"popover",c);break;case"xlinkActuate":Dn(a,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Dn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Dn(a,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Dn(a,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Dn(a,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Dn(a,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Dn(a,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Dn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Dn(a,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Gu(a,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=T9.get(l)||l,Gu(a,l,c))}}function zh(a,i,l,c,m,v){switch(l){case"style":E1(a,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof c=="string"?Js(a,c):(typeof c=="number"||typeof c=="bigint")&&Js(a,""+c);break;case"onScroll":c!=null&&ct("scroll",a);break;case"onScrollEnd":c!=null&&ct("scrollend",a);break;case"onClick":c!=null&&(a.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),v=a[Br]||null,v=v!=null?v[l]:null,typeof v=="function"&&a.removeEventListener(i,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(i,c,m);break e}l in a?a[l]=c:c===!0?a.setAttribute(l,""):Gu(a,l,c)}}}function Gr(a,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",a),ct("load",a);var c=!1,m=!1,v;for(v in l)if(l.hasOwnProperty(v)){var _=l[v];if(_!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Rt(a,i,v,_,l,null)}}m&&Rt(a,i,"srcSet",l.srcSet,l,null),c&&Rt(a,i,"src",l.src,l,null);return;case"input":ct("invalid",a);var N=v=_=m=null,P=null,se=null;for(c in l)if(l.hasOwnProperty(c)){var he=l[c];if(he!=null)switch(c){case"name":m=he;break;case"type":_=he;break;case"checked":P=he;break;case"defaultChecked":se=he;break;case"value":v=he;break;case"defaultValue":N=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,i));break;default:Rt(a,i,c,he,l,null)}}z1(a,v,N,P,se,_,m,!1);return;case"select":ct("invalid",a),c=_=v=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":v=N;break;case"defaultValue":_=N;break;case"multiple":c=N;default:Rt(a,i,m,N,l,null)}i=v,l=_,a.multiple=!!c,i!=null?Ks(a,!!c,i,!1):l!=null&&Ks(a,!!c,l,!0);return;case"textarea":ct("invalid",a),v=m=c=null;for(_ in l)if(l.hasOwnProperty(_)&&(N=l[_],N!=null))switch(_){case"value":c=N;break;case"defaultValue":m=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:Rt(a,i,_,N,l,null)}T1(a,c,m,v);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(c=l[P],c!=null))switch(P){case"selected":a.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Rt(a,i,P,c,l,null)}return;case"dialog":ct("beforetoggle",a),ct("toggle",a),ct("cancel",a),ct("close",a);break;case"iframe":case"object":ct("load",a);break;case"video":case"audio":for(c=0;c<Yl.length;c++)ct(Yl[c],a);break;case"image":ct("error",a),ct("load",a);break;case"details":ct("toggle",a);break;case"embed":case"source":case"link":ct("error",a),ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(c=l[se],c!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Rt(a,i,se,c,l,null)}return;default:if($d(i)){for(he in l)l.hasOwnProperty(he)&&(c=l[he],c!==void 0&&zh(a,i,he,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&Rt(a,i,N,c,l,null))}function Qw(a,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,_=null,N=null,P=null,se=null,he=null;for(ce in l){var pe=l[ce];if(l.hasOwnProperty(ce)&&pe!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":P=pe;default:c.hasOwnProperty(ce)||Rt(a,i,ce,null,c,pe)}}for(var oe in c){var ce=c[oe];if(pe=l[oe],c.hasOwnProperty(oe)&&(ce!=null||pe!=null))switch(oe){case"type":v=ce;break;case"name":m=ce;break;case"checked":se=ce;break;case"defaultChecked":he=ce;break;case"value":_=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,i));break;default:ce!==pe&&Rt(a,i,oe,ce,c,pe)}}Dd(a,_,N,P,se,he,v,m);return;case"select":ce=_=N=oe=null;for(v in l)if(P=l[v],l.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":ce=P;default:c.hasOwnProperty(v)||Rt(a,i,v,null,c,P)}for(m in c)if(v=c[m],P=l[m],c.hasOwnProperty(m)&&(v!=null||P!=null))switch(m){case"value":oe=v;break;case"defaultValue":N=v;break;case"multiple":_=v;default:v!==P&&Rt(a,i,m,v,c,P)}i=N,l=_,c=ce,oe!=null?Ks(a,!!l,oe,!1):!!c!=!!l&&(i!=null?Ks(a,!!l,i,!0):Ks(a,!!l,l?[]:"",!1));return;case"textarea":ce=oe=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Rt(a,i,N,null,c,m)}for(_ in c)if(m=c[_],v=l[_],c.hasOwnProperty(_)&&(m!=null||v!=null))switch(_){case"value":oe=m;break;case"defaultValue":ce=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==v&&Rt(a,i,_,m,c,v)}k1(a,oe,ce);return;case"option":for(var Ce in l)if(oe=l[Ce],l.hasOwnProperty(Ce)&&oe!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":a.selected=!1;break;default:Rt(a,i,Ce,null,c,oe)}for(P in c)if(oe=c[P],ce=l[P],c.hasOwnProperty(P)&&oe!==ce&&(oe!=null||ce!=null))switch(P){case"selected":a.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Rt(a,i,P,oe,c,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)oe=l[Ve],l.hasOwnProperty(Ve)&&oe!=null&&!c.hasOwnProperty(Ve)&&Rt(a,i,Ve,null,c,oe);for(se in c)if(oe=c[se],ce=l[se],c.hasOwnProperty(se)&&oe!==ce&&(oe!=null||ce!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,i));break;default:Rt(a,i,se,oe,c,ce)}return;default:if($d(i)){for(var It in l)oe=l[It],l.hasOwnProperty(It)&&oe!==void 0&&!c.hasOwnProperty(It)&&zh(a,i,It,void 0,c,oe);for(he in c)oe=c[he],ce=l[he],!c.hasOwnProperty(he)||oe===ce||oe===void 0&&ce===void 0||zh(a,i,he,oe,c,ce);return}}for(var Q in l)oe=l[Q],l.hasOwnProperty(Q)&&oe!=null&&!c.hasOwnProperty(Q)&&Rt(a,i,Q,null,c,oe);for(pe in c)oe=c[pe],ce=l[pe],!c.hasOwnProperty(pe)||oe===ce||oe==null&&ce==null||Rt(a,i,pe,oe,c,ce)}function M4(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eS(){if(typeof performance.getEntriesByType=="function"){for(var a=0,i=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],v=m.transferSize,_=m.initiatorType,N=m.duration;if(v&&N&&M4(_)){for(_=0,N=m.responseEnd,c+=1;c<l.length;c++){var P=l[c],se=P.startTime;if(se>N)break;var he=P.transferSize,pe=P.initiatorType;he&&M4(pe)&&(P=P.responseEnd,_+=he*(P<N?1:(N-se)/(P-se)))}if(--c,i+=8*(v+_)/(m.duration/1e3),a++,10<a)break}}if(0<a)return i/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var kh=null,Th=null;function P0(a){return a.nodeType===9?a:a.ownerDocument}function N4(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O4(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function Ah(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Eh=null;function tS(){var a=window.event;return a&&a.type==="popstate"?a===Eh?!1:(Eh=a,!0):(Eh=null,!1)}var C4=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,R4=typeof Promise=="function"?Promise:void 0,aS=typeof queueMicrotask=="function"?queueMicrotask:typeof R4<"u"?function(a){return R4.resolve(null).then(a).catch(nS)}:C4;function nS(a){setTimeout(function(){throw a})}function Ri(a){return a==="head"}function I4(a,i){var l=i,c=0;do{var m=l.nextSibling;if(a.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){a.removeChild(m),Mo(i);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Xl(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,Xl(l);for(var v=l.firstChild;v;){var _=v.nextSibling,N=v.nodeName;v[Le]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=_}}else l==="body"&&Xl(a.ownerDocument.body);l=m}while(l);Mo(i)}function D4(a,i){var l=a;a=0;do{var c=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=c}while(l)}function Mh(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mh(l),xr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function iS(a,i,l,c){for(;a.nodeType===1;){var m=l;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(c){if(!a[Le])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Ya(a.nextSibling),a===null)break}return null}function sS(a,i,l){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ya(a.nextSibling),a===null))return null;return a}function j4(a,i){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!i||(a=Ya(a.nextSibling),a===null))return null;return a}function Nh(a){return a.data==="$?"||a.data==="$~"}function Oh(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function oS(a,i){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=i;else if(a.data!=="$?"||l.readyState!=="loading")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),a._reactRetry=c}}function Ya(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return a}var Ch=null;function $4(a){a=a.nextSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(i===0)return Ya(a.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}a=a.nextSibling}return null}function B4(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return a;i--}else l!=="/$"&&l!=="/&"||i++}a=a.previousSibling}return null}function L4(a,i,l){switch(i=P0(l),a){case"html":if(a=i.documentElement,!a)throw Error(n(452));return a;case"head":if(a=i.head,!a)throw Error(n(453));return a;case"body":if(a=i.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Xl(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);xr(a)}var Fa=new Map,U4=new Set;function Z0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Wn=Z.d;Z.d={f:lS,r:uS,D:cS,C:dS,L:fS,m:hS,X:pS,S:mS,M:vS};function lS(){var a=Wn.f(),i=D0();return a||i}function uS(a){var i=Ba(a);i!==null&&i.tag===5&&i.type==="form"?ag(i):Wn.r(a)}var To=typeof document>"u"?null:document;function q4(a,i,l){var c=To;if(c&&typeof i=="string"&&i){var m=Ua(i);m='link[rel="'+a+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),U4.has(m)||(U4.add(m),a={rel:a,crossOrigin:l,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),Gr(i,"link",a),Xt(i),c.head.appendChild(i)))}}function cS(a){Wn.D(a),q4("dns-prefetch",a,null)}function dS(a,i){Wn.C(a,i),q4("preconnect",a,i)}function fS(a,i,l){Wn.L(a,i,l);var c=To;if(c&&a&&i){var m='link[rel="preload"][as="'+Ua(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Ua(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Ua(l.imageSizes)+'"]')):m+='[href="'+Ua(a)+'"]';var v=m;switch(i){case"style":v=Ao(a);break;case"script":v=Eo(a)}Fa.has(v)||(a=g({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:a,as:i},l),Fa.set(v,a),c.querySelector(m)!==null||i==="style"&&c.querySelector(Kl(v))||i==="script"&&c.querySelector(Jl(v))||(i=c.createElement("link"),Gr(i,"link",a),Xt(i),c.head.appendChild(i)))}}function hS(a,i){Wn.m(a,i);var l=To;if(l&&a){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Ua(c)+'"][href="'+Ua(a)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Eo(a)}if(!Fa.has(v)&&(a=g({rel:"modulepreload",href:a},i),Fa.set(v,a),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Jl(v)))return}c=l.createElement("link"),Gr(c,"link",a),Xt(c),l.head.appendChild(c)}}}function mS(a,i,l){Wn.S(a,i,l);var c=To;if(c&&a){var m=qt(c).hoistableStyles,v=Ao(a);i=i||"default";var _=m.get(v);if(!_){var N={loading:0,preload:null};if(_=c.querySelector(Kl(v)))N.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":i},l),(l=Fa.get(v))&&Rh(a,l);var P=_=c.createElement("link");Xt(P),Gr(P,"link",a),P._p=new Promise(function(se,he){P.onload=se,P.onerror=he}),P.addEventListener("load",function(){N.loading|=1}),P.addEventListener("error",function(){N.loading|=2}),N.loading|=4,G0(_,i,c)}_={type:"stylesheet",instance:_,count:1,state:N},m.set(v,_)}}}function pS(a,i){Wn.X(a,i);var l=To;if(l&&a){var c=qt(l).hoistableScripts,m=Eo(a),v=c.get(m);v||(v=l.querySelector(Jl(m)),v||(a=g({src:a,async:!0},i),(i=Fa.get(m))&&Ih(a,i),v=l.createElement("script"),Xt(v),Gr(v,"link",a),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function vS(a,i){Wn.M(a,i);var l=To;if(l&&a){var c=qt(l).hoistableScripts,m=Eo(a),v=c.get(m);v||(v=l.querySelector(Jl(m)),v||(a=g({src:a,async:!0,type:"module"},i),(i=Fa.get(m))&&Ih(a,i),v=l.createElement("script"),Xt(v),Gr(v,"link",a),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function H4(a,i,l,c){var m=(m=Te.current)?Z0(m):null;if(!m)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Ao(l.href),l=qt(m).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Ao(l.href);var v=qt(m).hoistableStyles,_=v.get(a);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,_),(v=m.querySelector(Kl(a)))&&!v._p&&(_.instance=v,_.state.loading=5),Fa.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Fa.set(a,l),v||gS(m,a,l,_.state))),i&&c===null)throw Error(n(528,""));return _}if(i&&c!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(l),l=qt(m).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Ao(a){return'href="'+Ua(a)+'"'}function Kl(a){return'link[rel="stylesheet"]['+a+"]"}function P4(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function gS(a,i,l,c){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=a.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Gr(i,"link",l),Xt(i),a.head.appendChild(i))}function Eo(a){return'[src="'+Ua(a)+'"]'}function Jl(a){return"script[async]"+a}function Z4(a,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=a.querySelector('style[data-href~="'+Ua(l.href)+'"]');if(c)return i.instance=c,Xt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(a.ownerDocument||a).createElement("style"),Xt(c),Gr(c,"style",m),G0(c,l.precedence,a),i.instance=c;case"stylesheet":m=Ao(l.href);var v=a.querySelector(Kl(m));if(v)return i.state.loading|=4,i.instance=v,Xt(v),v;c=P4(l),(m=Fa.get(m))&&Rh(c,m),v=(a.ownerDocument||a).createElement("link"),Xt(v);var _=v;return _._p=new Promise(function(N,P){_.onload=N,_.onerror=P}),Gr(v,"link",c),i.state.loading|=4,G0(v,l.precedence,a),i.instance=v;case"script":return v=Eo(l.src),(m=a.querySelector(Jl(v)))?(i.instance=m,Xt(m),m):(c=l,(m=Fa.get(v))&&(c=g({},l),Ih(c,m)),a=a.ownerDocument||a,m=a.createElement("script"),Xt(m),Gr(m,"link",c),a.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,G0(c,l.precedence,a));return i.instance}function G0(a,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,_=0;_<c.length;_++){var N=c[_];if(N.dataset.precedence===i)v=N;else if(v!==m)break}v?v.parentNode.insertBefore(a,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(a,i.firstChild))}function Rh(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function Ih(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var V0=null;function G4(a,i,l){if(V0===null){var c=new Map,m=V0=new Map;m.set(l,c)}else m=V0,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(a))return c;for(c.set(a,null),l=l.getElementsByTagName(a),m=0;m<l.length;m++){var v=l[m];if(!(v[Le]||v[tr]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(i)||"";_=a+_;var N=c.get(_);N?N.push(v):c.set(_,[v])}}return c}function V4(a,i,l){a=a.ownerDocument||a,a.head.insertBefore(l,i==="title"?a.querySelector("head > title"):null)}function yS(a,i,l){if(l===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y4(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function bS(a,i,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Ao(c.href),v=i.querySelector(Kl(m));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(a.count++,a=Y0.bind(a),i.then(a,a)),l.state.loading|=4,l.instance=v,Xt(v);return}v=i.ownerDocument||i,c=P4(c),(m=Fa.get(m))&&Rh(c,m),v=v.createElement("link"),Xt(v);var _=v;_._p=new Promise(function(N,P){_.onload=N,_.onerror=P}),Gr(v,"link",c),l.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=Y0.bind(a),i.addEventListener("load",l),i.addEventListener("error",l))}}var Dh=0;function xS(a,i){return a.stylesheets&&a.count===0&&X0(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var c=setTimeout(function(){if(a.stylesheets&&X0(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+i);0<a.imgBytes&&Dh===0&&(Dh=62500*eS());var m=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&X0(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>Dh?50:800)+i);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Y0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)X0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var F0=null;function X0(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,F0=new Map,i.forEach(wS,a),F0=null,Y0.call(a))}function wS(a,i){if(!(i.state.loading&4)){var l=F0.get(a);if(l)var c=l.get(null);else{l=new Map,F0.set(a,l);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var _=m[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),c=_)}c&&l.set(null,c)}m=i.instance,_=m.getAttribute("data-precedence"),v=l.get(_)||c,v===c&&l.set(null,m),l.set(_,m),this.count++,c=Y0.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),i.state.loading|=4}}var Wl={$$typeof:M,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function SS(a,i,l,c,m,v,_,N,P){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.hiddenUpdates=dl(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function F4(a,i,l,c,m,v,_,N,P,se,he,pe){return a=new SS(a,i,l,_,P,se,he,pe,N),i=1,v===!0&&(i|=24),v=xa(3,null,null,i),a.current=v,v.stateNode=a,i=mf(),i.refCount++,a.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:i},yf(v),a}function X4(a){return a?(a=no,a):no}function K4(a,i,l,c,m,v){m=X4(m),c.context===null?c.context=m:c.pendingContext=m,c=Si(i),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=_i(a,c,i),l!==null&&(da(l,a,i),Nl(l,a,i))}function J4(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<i?l:i}}function jh(a,i){J4(a,i),(a=a.alternate)&&J4(a,i)}function W4(a){if(a.tag===13||a.tag===31){var i=ms(a,67108864);i!==null&&da(i,a,67108864),jh(a,67108864)}}function Q4(a){if(a.tag===13||a.tag===31){var i=ka();i=hl(i);var l=ms(a,i);l!==null&&da(l,a,i),jh(a,i)}}var K0=!0;function _S(a,i,l,c){var m=$.T;$.T=null;var v=Z.p;try{Z.p=2,$h(a,i,l,c)}finally{Z.p=v,$.T=m}}function zS(a,i,l,c){var m=$.T;$.T=null;var v=Z.p;try{Z.p=8,$h(a,i,l,c)}finally{Z.p=v,$.T=m}}function $h(a,i,l,c){if(K0){var m=Bh(c);if(m===null)_h(a,i,c,J0,l),ty(a,c);else if(TS(m,a,i,l,c))c.stopPropagation();else if(ty(a,c),i&4&&-1<kS.indexOf(a)){for(;m!==null;){var v=Ba(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=ia(v.pendingLanes);if(_!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;_;){var P=1<<31-Yr(_);N.entanglements[1]|=P,_&=~P}Sn(v),(zt&6)===0&&(R0=or()+500,Vl(0))}}break;case 31:case 13:N=ms(v,2),N!==null&&da(N,v,2),D0(),jh(v,2)}if(v=Bh(c),v===null&&_h(a,i,c,J0,l),v===m)break;m=v}m!==null&&c.stopPropagation()}else _h(a,i,c,null,l)}}function Bh(a){return a=Ld(a),Lh(a)}var J0=null;function Lh(a){if(J0=null,a=$a(a),a!==null){var i=o(a);if(i===null)a=null;else{var l=i.tag;if(l===13){if(a=u(i),a!==null)return a;a=null}else if(l===31){if(a=d(i),a!==null)return a;a=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return J0=a,null}function ey(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case Ot:return 2;case rn:return 8;case vn:case Gs:return 32;case Jr:return 268435456;default:return 32}default:return 32}}var Uh=!1,Ii=null,Di=null,ji=null,Ql=new Map,eu=new Map,$i=[],kS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ty(a,i){switch(a){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(i.pointerId)}}function tu(a,i,l,c,m,v){return a===null||a.nativeEvent!==v?(a={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},i!==null&&(i=Ba(i),i!==null&&W4(i)),a):(a.eventSystemFlags|=c,i=a.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),a)}function TS(a,i,l,c,m){switch(i){case"focusin":return Ii=tu(Ii,a,i,l,c,m),!0;case"dragenter":return Di=tu(Di,a,i,l,c,m),!0;case"mouseover":return ji=tu(ji,a,i,l,c,m),!0;case"pointerover":var v=m.pointerId;return Ql.set(v,tu(Ql.get(v)||null,a,i,l,c,m)),!0;case"gotpointercapture":return v=m.pointerId,eu.set(v,tu(eu.get(v)||null,a,i,l,c,m)),!0}return!1}function ry(a){var i=$a(a.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){a.blockedOn=i,Ys(a.priority,function(){Q4(l)});return}}else if(i===31){if(i=d(l),i!==null){a.blockedOn=i,Ys(a.priority,function(){Q4(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function W0(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var l=Bh(a.nativeEvent);if(l===null){l=a.nativeEvent;var c=new l.constructor(l.type,l);Bd=c,l.target.dispatchEvent(c),Bd=null}else return i=Ba(l),i!==null&&W4(i),a.blockedOn=l,!1;i.shift()}return!0}function ay(a,i,l){W0(a)&&l.delete(i)}function AS(){Uh=!1,Ii!==null&&W0(Ii)&&(Ii=null),Di!==null&&W0(Di)&&(Di=null),ji!==null&&W0(ji)&&(ji=null),Ql.forEach(ay),eu.forEach(ay)}function Q0(a,i){a.blockedOn===i&&(a.blockedOn=null,Uh||(Uh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,AS)))}var ec=null;function ny(a){ec!==a&&(ec=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ec===a&&(ec=null);for(var i=0;i<a.length;i+=3){var l=a[i],c=a[i+1],m=a[i+2];if(typeof c!="function"){if(Lh(c||l)===null)continue;break}var v=Ba(l);v!==null&&(a.splice(i,3),i-=3,Bf(v,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Mo(a){function i(P){return Q0(P,a)}Ii!==null&&Q0(Ii,a),Di!==null&&Q0(Di,a),ji!==null&&Q0(ji,a),Ql.forEach(i),eu.forEach(i);for(var l=0;l<$i.length;l++){var c=$i[l];c.blockedOn===a&&(c.blockedOn=null)}for(;0<$i.length&&(l=$i[0],l.blockedOn===null);)ry(l),l.blockedOn===null&&$i.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],v=l[c+1],_=m[Br]||null;if(typeof v=="function")_||ny(l);else if(_){var N=null;if(v&&v.hasAttribute("formAction")){if(m=v,_=v[Br]||null)N=_.formAction;else if(Lh(m)!==null)continue}else N=_.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),ny(l)}}}function iy(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function qh(a){this._internalRoot=a}tc.prototype.render=qh.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,c=ka();K4(l,c,a,i,null,null)},tc.prototype.unmount=qh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;K4(a.current,2,null,a,null,null),D0(),i[Lr]=null}};function tc(a){this._internalRoot=a}tc.prototype.unstable_scheduleHydration=function(a){if(a){var i=pi();a={blockedOn:null,target:a,priority:i};for(var l=0;l<$i.length&&i!==0&&i<$i[l].priority;l++);$i.splice(l,0,a),l===0&&ry(a)}};var sy=t.version;if(sy!=="19.2.4")throw Error(n(527,sy,"19.2.4"));Z.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(i),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var ES={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{br=rc.inject(ES),vt=rc}catch{}}return au.createRoot=function(a,i){if(!s(a))throw Error(n(299));var l=!1,c="",m=hg,v=mg,_=pg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=F4(a,1,!1,null,null,l,c,null,m,v,_,iy),a[Lr]=i.current,Sh(a),new qh(i)},au.hydrateRoot=function(a,i,l){if(!s(a))throw Error(n(299));var c=!1,m="",v=hg,_=mg,N=pg,P=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),i=F4(a,1,!0,i,l??null,c,m,P,v,_,N,iy),i.context=X4(null),l=i.current,c=ka(),c=hl(c),m=Si(c),m.callback=null,_i(l,m,c),l=c,i.current.lanes=l,mi(i,l),Sn(i),a[Lr]=i.current,Sh(a),new tc(i)},au.version="19.2.4",au}var vy;function LS(){if(vy)return Zh.exports;vy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zh.exports=BS(),Zh.exports}var Y5=LS();class Ea{constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new Ea(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}}class Ja{constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new Ja(r,Ea.range(this,t))}}let xe=class F5{constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,s,o,u=r&&r.loc;if(u&&u.start<=u.end){var d=u.lexer.input;s=u.start,o=u.end,s===d.length?n+=" at end of input: ":n+=" at position "+(s+1)+": ";var f=d.slice(s,o).replace(/[^]/g,"$&"),h;s>15?h=""+d.slice(s-15,s):h=d.slice(0,s);var p;o+15<d.length?p=d.slice(o,o+15)+"":p=d.slice(o),n+=h+f+p}var g=new Error(n);return g.name="ParseError",g.__proto__=F5.prototype,g.position=s,s!=null&&o!=null&&(g.length=o-s),g.rawMessage=t,g}};xe.prototype.__proto__=Error.prototype;var US=function(t,r){return t.indexOf(r)!==-1},qS=function(t,r){return t===void 0?r:t},HS=/([A-Z])/g,PS=function(t){return t.replace(HS,"-$1").toLowerCase()},ZS={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},GS=/[&><"']/g;function VS(e){return String(e).replace(GS,t=>ZS[t])}var X5=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},YS=function(t){var r=X5(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},FS=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},XS=function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},He={contains:US,deflt:qS,escape:VS,hyphenate:PS,getBaseElem:X5,isCharacterBox:YS,protocolFromUrl:XS},vu={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function KS(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let zp=class{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in vu)if(vu.hasOwnProperty(r)){var n=vu[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:KS(n)}}reportNonstrict(t,r,n){var s=this.strict;if(typeof s=="function"&&(s=s(t,r,n)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new xe("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var s=this.strict;if(typeof s=="function")try{s=s(t,r,n)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=He.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}};class Li{constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return kn[JS[this.id]]}sub(){return kn[WS[this.id]]}fracNum(){return kn[QS[this.id]]}fracDen(){return kn[e_[this.id]]}cramp(){return kn[t_[this.id]]}text(){return kn[r_[this.id]]}isTight(){return this.size>=2}}var kp=0,Ic=1,Po=2,ai=3,bu=4,Ka=5,Xo=6,aa=7,kn=[new Li(kp,0,!1),new Li(Ic,0,!0),new Li(Po,1,!1),new Li(ai,1,!0),new Li(bu,2,!1),new Li(Ka,2,!0),new Li(Xo,3,!1),new Li(aa,3,!0)],JS=[bu,Ka,bu,Ka,Xo,aa,Xo,aa],WS=[Ka,Ka,Ka,Ka,aa,aa,aa,aa],QS=[Po,ai,bu,Ka,Xo,aa,Xo,aa],e_=[ai,ai,Ka,Ka,aa,aa,aa,aa],t_=[Ic,Ic,ai,ai,Ka,Ka,aa,aa],r_=[kp,Ic,Po,ai,Po,ai,Po,ai],Ge={DISPLAY:kn[kp],TEXT:kn[Po],SCRIPT:kn[bu],SCRIPTSCRIPT:kn[Xo]},Bm=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function a_(e){for(var t=0;t<Bm.length;t++)for(var r=Bm[t],n=0;n<r.blocks.length;n++){var s=r.blocks[n];if(e>=s[0]&&e<=s[1])return r.name}return null}var Tc=[];Bm.forEach(e=>e.blocks.forEach(t=>Tc.push(...t)));function K5(e){for(var t=0;t<Tc.length;t+=2)if(e>=Tc[t]&&e<=Tc[t+1])return!0;return!1}var Oo=80,n_=function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},i_=function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},s_=function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},o_=function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},l_=function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},u_=function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},c_=function(t,r,n){var s=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},d_=function(t,r,n){r=1e3*r;var s="";switch(t){case"sqrtMain":s=n_(r,Oo);break;case"sqrtSize1":s=i_(r,Oo);break;case"sqrtSize2":s=s_(r,Oo);break;case"sqrtSize3":s=o_(r,Oo);break;case"sqrtSize4":s=l_(r,Oo);break;case"sqrtTall":s=c_(r,Oo,n)}return s},f_=function(t,r){switch(t){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},gy={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},h_=function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Iu{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return He.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=r=>r.toText();return this.children.map(t).join("")}}var An={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},nc={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},yy={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function J5(e,t){An[e]=t}function Tp(e,t,r){if(!An[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),s=An[t][n];if(!s&&e[0]in yy&&(n=yy[e[0]].charCodeAt(0),s=An[t][n]),!s&&r==="text"&&K5(n)&&(s=An[t][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var Fh={};function m_(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!Fh[t]){var r=Fh[t]={cssEmPerMu:nc.quad[t]/18};for(var n in nc)nc.hasOwnProperty(n)&&(r[n]=nc[n][t])}return Fh[t]}var p_=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],by=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],xy=function(t,r){return r.size<2?t:p_[t-1][r.size-1]};class ti{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||ti.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=by[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new ti(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:xy(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:by[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=xy(ti.BASESIZE,t);return this.size===r&&this.textSize===ti.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ti.BASESIZE?["sizing","reset-size"+this.size,"size"+ti.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=m_(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ti.BASESIZE=6;var Lm={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},v_={ex:!0,em:!0,mu:!0},W5=function(t){return typeof t!="string"&&(t=t.unit),t in Lm||t in v_||t==="ex"},ur=function(t,r){var n;if(t.unit in Lm)n=Lm[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var s;if(r.style.isTight()?s=r.havingStyle(r.style.text()):s=r,t.unit==="ex")n=s.fontMetrics().xHeight;else if(t.unit==="em")n=s.fontMetrics().quad;else throw new xe("Invalid unit: '"+t.unit+"'");s!==r&&(n*=s.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},ke=function(t){return+t.toFixed(4)+"em"},Ki=function(t){return t.filter(r=>r).join(" ")},Q5=function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var s=r.getColor();s&&(this.style.color=s)}},e6=function(t){var r=document.createElement(t);r.className=Ki(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&r.setAttribute(s,this.attributes[s]);for(var o=0;o<this.children.length;o++)r.appendChild(this.children[o].toNode());return r},g_=/[\s"'>/=\x00-\x1f]/,t6=function(t){var r="<"+t;this.classes.length&&(r+=' class="'+He.escape(Ki(this.classes))+'"');var n="";for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=He.hyphenate(s)+":"+this.style[s]+";");n&&(r+=' style="'+He.escape(n)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(g_.test(o))throw new xe("Invalid attribute name '"+o+"'");r+=" "+o+'="'+He.escape(this.attributes[o])+'"'}r+=">";for(var u=0;u<this.children.length;u++)r+=this.children[u].toMarkup();return r+="</"+t+">",r};class Du{constructor(t,r,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Q5.call(this,t,n,s),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return He.contains(this.classes,t)}toNode(){return e6.call(this,"span")}toMarkup(){return t6.call(this,"span")}}class Ap{constructor(t,r,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Q5.call(this,r,s),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return He.contains(this.classes,t)}toNode(){return e6.call(this,"a")}toMarkup(){return t6.call(this,"a")}}class y_{constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return He.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+He.escape(this.src)+'"'+(' alt="'+He.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=He.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+He.escape(r)+'"'),t+="'/>",t}}var b_={:"",:"",:"",:""};class Wa{constructor(t,r,n,s,o,u,d,f){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=s||0,this.skew=o||0,this.width=u||0,this.classes=d||[],this.style=f||{},this.maxFontSize=0;var h=a_(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=b_[this.text])}hasClass(t){return He.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=ke(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Ki(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=He.escape(Ki(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=He.hyphenate(s)+":"+this.style[s]+";");n&&(t=!0,r+=' style="'+He.escape(n)+'"');var o=He.escape(this.text);return t?(r+=">",r+=o,r+="</span>",r):o}}class ii{constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+He.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}}class Ji{constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",gy[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+He.escape(this.alternate)+'"/>':'<path d="'+He.escape(gy[this.pathName])+'"/>'}}class Um{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+He.escape(this.attributes[r])+'"');return t+="/>",t}}function wy(e){if(e instanceof Wa)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function x_(e){if(e instanceof Du)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var w_={bin:1,close:1,inner:1,open:1,punct:1,rel:1},S_={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ht={math:{},text:{}};function b(e,t,r,n,s,o){Ht[e][s]={font:t,group:r,replace:n},o&&n&&(Ht[e][n]=Ht[e][s])}var w="math",ye="text",T="main",U="ams",nr="accent-token",Oe="bin",na="close",Qo="inner",Ze="mathord",Mr="op-token",Ia="open",dd="punct",H="rel",fi="spacing",Y="textord";b(w,T,H,"","\\equiv",!0);b(w,T,H,"","\\prec",!0);b(w,T,H,"","\\succ",!0);b(w,T,H,"","\\sim",!0);b(w,T,H,"","\\perp");b(w,T,H,"","\\preceq",!0);b(w,T,H,"","\\succeq",!0);b(w,T,H,"","\\simeq",!0);b(w,T,H,"","\\mid",!0);b(w,T,H,"","\\ll",!0);b(w,T,H,"","\\gg",!0);b(w,T,H,"","\\asymp",!0);b(w,T,H,"","\\parallel");b(w,T,H,"","\\bowtie",!0);b(w,T,H,"","\\smile",!0);b(w,T,H,"","\\sqsubseteq",!0);b(w,T,H,"","\\sqsupseteq",!0);b(w,T,H,"","\\doteq",!0);b(w,T,H,"","\\frown",!0);b(w,T,H,"","\\ni",!0);b(w,T,H,"","\\propto",!0);b(w,T,H,"","\\vdash",!0);b(w,T,H,"","\\dashv",!0);b(w,T,H,"","\\owns");b(w,T,dd,".","\\ldotp");b(w,T,dd,"","\\cdotp");b(w,T,Y,"#","\\#");b(ye,T,Y,"#","\\#");b(w,T,Y,"&","\\&");b(ye,T,Y,"&","\\&");b(w,T,Y,"","\\aleph",!0);b(w,T,Y,"","\\forall",!0);b(w,T,Y,"","\\hbar",!0);b(w,T,Y,"","\\exists",!0);b(w,T,Y,"","\\nabla",!0);b(w,T,Y,"","\\flat",!0);b(w,T,Y,"","\\ell",!0);b(w,T,Y,"","\\natural",!0);b(w,T,Y,"","\\clubsuit",!0);b(w,T,Y,"","\\wp",!0);b(w,T,Y,"","\\sharp",!0);b(w,T,Y,"","\\diamondsuit",!0);b(w,T,Y,"","\\Re",!0);b(w,T,Y,"","\\heartsuit",!0);b(w,T,Y,"","\\Im",!0);b(w,T,Y,"","\\spadesuit",!0);b(w,T,Y,"","\\S",!0);b(ye,T,Y,"","\\S");b(w,T,Y,"","\\P",!0);b(ye,T,Y,"","\\P");b(w,T,Y,"","\\dag");b(ye,T,Y,"","\\dag");b(ye,T,Y,"","\\textdagger");b(w,T,Y,"","\\ddag");b(ye,T,Y,"","\\ddag");b(ye,T,Y,"","\\textdaggerdbl");b(w,T,na,"","\\rmoustache",!0);b(w,T,Ia,"","\\lmoustache",!0);b(w,T,na,"","\\rgroup",!0);b(w,T,Ia,"","\\lgroup",!0);b(w,T,Oe,"","\\mp",!0);b(w,T,Oe,"","\\ominus",!0);b(w,T,Oe,"","\\uplus",!0);b(w,T,Oe,"","\\sqcap",!0);b(w,T,Oe,"","\\ast");b(w,T,Oe,"","\\sqcup",!0);b(w,T,Oe,"","\\bigcirc",!0);b(w,T,Oe,"","\\bullet",!0);b(w,T,Oe,"","\\ddagger");b(w,T,Oe,"","\\wr",!0);b(w,T,Oe,"","\\amalg");b(w,T,Oe,"&","\\And");b(w,T,H,"","\\longleftarrow",!0);b(w,T,H,"","\\Leftarrow",!0);b(w,T,H,"","\\Longleftarrow",!0);b(w,T,H,"","\\longrightarrow",!0);b(w,T,H,"","\\Rightarrow",!0);b(w,T,H,"","\\Longrightarrow",!0);b(w,T,H,"","\\leftrightarrow",!0);b(w,T,H,"","\\longleftrightarrow",!0);b(w,T,H,"","\\Leftrightarrow",!0);b(w,T,H,"","\\Longleftrightarrow",!0);b(w,T,H,"","\\mapsto",!0);b(w,T,H,"","\\longmapsto",!0);b(w,T,H,"","\\nearrow",!0);b(w,T,H,"","\\hookleftarrow",!0);b(w,T,H,"","\\hookrightarrow",!0);b(w,T,H,"","\\searrow",!0);b(w,T,H,"","\\leftharpoonup",!0);b(w,T,H,"","\\rightharpoonup",!0);b(w,T,H,"","\\swarrow",!0);b(w,T,H,"","\\leftharpoondown",!0);b(w,T,H,"","\\rightharpoondown",!0);b(w,T,H,"","\\nwarrow",!0);b(w,T,H,"","\\rightleftharpoons",!0);b(w,U,H,"","\\nless",!0);b(w,U,H,"","\\@nleqslant");b(w,U,H,"","\\@nleqq");b(w,U,H,"","\\lneq",!0);b(w,U,H,"","\\lneqq",!0);b(w,U,H,"","\\@lvertneqq");b(w,U,H,"","\\lnsim",!0);b(w,U,H,"","\\lnapprox",!0);b(w,U,H,"","\\nprec",!0);b(w,U,H,"","\\npreceq",!0);b(w,U,H,"","\\precnsim",!0);b(w,U,H,"","\\precnapprox",!0);b(w,U,H,"","\\nsim",!0);b(w,U,H,"","\\@nshortmid");b(w,U,H,"","\\nmid",!0);b(w,U,H,"","\\nvdash",!0);b(w,U,H,"","\\nvDash",!0);b(w,U,H,"","\\ntriangleleft");b(w,U,H,"","\\ntrianglelefteq",!0);b(w,U,H,"","\\subsetneq",!0);b(w,U,H,"","\\@varsubsetneq");b(w,U,H,"","\\subsetneqq",!0);b(w,U,H,"","\\@varsubsetneqq");b(w,U,H,"","\\ngtr",!0);b(w,U,H,"","\\@ngeqslant");b(w,U,H,"","\\@ngeqq");b(w,U,H,"","\\gneq",!0);b(w,U,H,"","\\gneqq",!0);b(w,U,H,"","\\@gvertneqq");b(w,U,H,"","\\gnsim",!0);b(w,U,H,"","\\gnapprox",!0);b(w,U,H,"","\\nsucc",!0);b(w,U,H,"","\\nsucceq",!0);b(w,U,H,"","\\succnsim",!0);b(w,U,H,"","\\succnapprox",!0);b(w,U,H,"","\\ncong",!0);b(w,U,H,"","\\@nshortparallel");b(w,U,H,"","\\nparallel",!0);b(w,U,H,"","\\nVDash",!0);b(w,U,H,"","\\ntriangleright");b(w,U,H,"","\\ntrianglerighteq",!0);b(w,U,H,"","\\@nsupseteqq");b(w,U,H,"","\\supsetneq",!0);b(w,U,H,"","\\@varsupsetneq");b(w,U,H,"","\\supsetneqq",!0);b(w,U,H,"","\\@varsupsetneqq");b(w,U,H,"","\\nVdash",!0);b(w,U,H,"","\\precneqq",!0);b(w,U,H,"","\\succneqq",!0);b(w,U,H,"","\\@nsubseteqq");b(w,U,Oe,"","\\unlhd");b(w,U,Oe,"","\\unrhd");b(w,U,H,"","\\nleftarrow",!0);b(w,U,H,"","\\nrightarrow",!0);b(w,U,H,"","\\nLeftarrow",!0);b(w,U,H,"","\\nRightarrow",!0);b(w,U,H,"","\\nleftrightarrow",!0);b(w,U,H,"","\\nLeftrightarrow",!0);b(w,U,H,"","\\vartriangle");b(w,U,Y,"","\\hslash");b(w,U,Y,"","\\triangledown");b(w,U,Y,"","\\lozenge");b(w,U,Y,"","\\circledS");b(w,U,Y,"","\\circledR");b(ye,U,Y,"","\\circledR");b(w,U,Y,"","\\measuredangle",!0);b(w,U,Y,"","\\nexists");b(w,U,Y,"","\\mho");b(w,U,Y,"","\\Finv",!0);b(w,U,Y,"","\\Game",!0);b(w,U,Y,"","\\backprime");b(w,U,Y,"","\\blacktriangle");b(w,U,Y,"","\\blacktriangledown");b(w,U,Y,"","\\blacksquare");b(w,U,Y,"","\\blacklozenge");b(w,U,Y,"","\\bigstar");b(w,U,Y,"","\\sphericalangle",!0);b(w,U,Y,"","\\complement",!0);b(w,U,Y,"","\\eth",!0);b(ye,T,Y,"","");b(w,U,Y,"","\\diagup");b(w,U,Y,"","\\diagdown");b(w,U,Y,"","\\square");b(w,U,Y,"","\\Box");b(w,U,Y,"","\\Diamond");b(w,U,Y,"","\\yen",!0);b(ye,U,Y,"","\\yen",!0);b(w,U,Y,"","\\checkmark",!0);b(ye,U,Y,"","\\checkmark");b(w,U,Y,"","\\beth",!0);b(w,U,Y,"","\\daleth",!0);b(w,U,Y,"","\\gimel",!0);b(w,U,Y,"","\\digamma",!0);b(w,U,Y,"","\\varkappa");b(w,U,Ia,"","\\@ulcorner",!0);b(w,U,na,"","\\@urcorner",!0);b(w,U,Ia,"","\\@llcorner",!0);b(w,U,na,"","\\@lrcorner",!0);b(w,U,H,"","\\leqq",!0);b(w,U,H,"","\\leqslant",!0);b(w,U,H,"","\\eqslantless",!0);b(w,U,H,"","\\lesssim",!0);b(w,U,H,"","\\lessapprox",!0);b(w,U,H,"","\\approxeq",!0);b(w,U,Oe,"","\\lessdot");b(w,U,H,"","\\lll",!0);b(w,U,H,"","\\lessgtr",!0);b(w,U,H,"","\\lesseqgtr",!0);b(w,U,H,"","\\lesseqqgtr",!0);b(w,U,H,"","\\doteqdot");b(w,U,H,"","\\risingdotseq",!0);b(w,U,H,"","\\fallingdotseq",!0);b(w,U,H,"","\\backsim",!0);b(w,U,H,"","\\backsimeq",!0);b(w,U,H,"","\\subseteqq",!0);b(w,U,H,"","\\Subset",!0);b(w,U,H,"","\\sqsubset",!0);b(w,U,H,"","\\preccurlyeq",!0);b(w,U,H,"","\\curlyeqprec",!0);b(w,U,H,"","\\precsim",!0);b(w,U,H,"","\\precapprox",!0);b(w,U,H,"","\\vartriangleleft");b(w,U,H,"","\\trianglelefteq");b(w,U,H,"","\\vDash",!0);b(w,U,H,"","\\Vvdash",!0);b(w,U,H,"","\\smallsmile");b(w,U,H,"","\\smallfrown");b(w,U,H,"","\\bumpeq",!0);b(w,U,H,"","\\Bumpeq",!0);b(w,U,H,"","\\geqq",!0);b(w,U,H,"","\\geqslant",!0);b(w,U,H,"","\\eqslantgtr",!0);b(w,U,H,"","\\gtrsim",!0);b(w,U,H,"","\\gtrapprox",!0);b(w,U,Oe,"","\\gtrdot");b(w,U,H,"","\\ggg",!0);b(w,U,H,"","\\gtrless",!0);b(w,U,H,"","\\gtreqless",!0);b(w,U,H,"","\\gtreqqless",!0);b(w,U,H,"","\\eqcirc",!0);b(w,U,H,"","\\circeq",!0);b(w,U,H,"","\\triangleq",!0);b(w,U,H,"","\\thicksim");b(w,U,H,"","\\thickapprox");b(w,U,H,"","\\supseteqq",!0);b(w,U,H,"","\\Supset",!0);b(w,U,H,"","\\sqsupset",!0);b(w,U,H,"","\\succcurlyeq",!0);b(w,U,H,"","\\curlyeqsucc",!0);b(w,U,H,"","\\succsim",!0);b(w,U,H,"","\\succapprox",!0);b(w,U,H,"","\\vartriangleright");b(w,U,H,"","\\trianglerighteq");b(w,U,H,"","\\Vdash",!0);b(w,U,H,"","\\shortmid");b(w,U,H,"","\\shortparallel");b(w,U,H,"","\\between",!0);b(w,U,H,"","\\pitchfork",!0);b(w,U,H,"","\\varpropto");b(w,U,H,"","\\blacktriangleleft");b(w,U,H,"","\\therefore",!0);b(w,U,H,"","\\backepsilon");b(w,U,H,"","\\blacktriangleright");b(w,U,H,"","\\because",!0);b(w,U,H,"","\\llless");b(w,U,H,"","\\gggtr");b(w,U,Oe,"","\\lhd");b(w,U,Oe,"","\\rhd");b(w,U,H,"","\\eqsim",!0);b(w,T,H,"","\\Join");b(w,U,H,"","\\Doteq",!0);b(w,U,Oe,"","\\dotplus",!0);b(w,U,Oe,"","\\smallsetminus");b(w,U,Oe,"","\\Cap",!0);b(w,U,Oe,"","\\Cup",!0);b(w,U,Oe,"","\\doublebarwedge",!0);b(w,U,Oe,"","\\boxminus",!0);b(w,U,Oe,"","\\boxplus",!0);b(w,U,Oe,"","\\divideontimes",!0);b(w,U,Oe,"","\\ltimes",!0);b(w,U,Oe,"","\\rtimes",!0);b(w,U,Oe,"","\\leftthreetimes",!0);b(w,U,Oe,"","\\rightthreetimes",!0);b(w,U,Oe,"","\\curlywedge",!0);b(w,U,Oe,"","\\curlyvee",!0);b(w,U,Oe,"","\\circleddash",!0);b(w,U,Oe,"","\\circledast",!0);b(w,U,Oe,"","\\centerdot");b(w,U,Oe,"","\\intercal",!0);b(w,U,Oe,"","\\doublecap");b(w,U,Oe,"","\\doublecup");b(w,U,Oe,"","\\boxtimes",!0);b(w,U,H,"","\\dashrightarrow",!0);b(w,U,H,"","\\dashleftarrow",!0);b(w,U,H,"","\\leftleftarrows",!0);b(w,U,H,"","\\leftrightarrows",!0);b(w,U,H,"","\\Lleftarrow",!0);b(w,U,H,"","\\twoheadleftarrow",!0);b(w,U,H,"","\\leftarrowtail",!0);b(w,U,H,"","\\looparrowleft",!0);b(w,U,H,"","\\leftrightharpoons",!0);b(w,U,H,"","\\curvearrowleft",!0);b(w,U,H,"","\\circlearrowleft",!0);b(w,U,H,"","\\Lsh",!0);b(w,U,H,"","\\upuparrows",!0);b(w,U,H,"","\\upharpoonleft",!0);b(w,U,H,"","\\downharpoonleft",!0);b(w,T,H,"","\\origof",!0);b(w,T,H,"","\\imageof",!0);b(w,U,H,"","\\multimap",!0);b(w,U,H,"","\\leftrightsquigarrow",!0);b(w,U,H,"","\\rightrightarrows",!0);b(w,U,H,"","\\rightleftarrows",!0);b(w,U,H,"","\\twoheadrightarrow",!0);b(w,U,H,"","\\rightarrowtail",!0);b(w,U,H,"","\\looparrowright",!0);b(w,U,H,"","\\curvearrowright",!0);b(w,U,H,"","\\circlearrowright",!0);b(w,U,H,"","\\Rsh",!0);b(w,U,H,"","\\downdownarrows",!0);b(w,U,H,"","\\upharpoonright",!0);b(w,U,H,"","\\downharpoonright",!0);b(w,U,H,"","\\rightsquigarrow",!0);b(w,U,H,"","\\leadsto");b(w,U,H,"","\\Rrightarrow",!0);b(w,U,H,"","\\restriction");b(w,T,Y,"","`");b(w,T,Y,"$","\\$");b(ye,T,Y,"$","\\$");b(ye,T,Y,"$","\\textdollar");b(w,T,Y,"%","\\%");b(ye,T,Y,"%","\\%");b(w,T,Y,"_","\\_");b(ye,T,Y,"_","\\_");b(ye,T,Y,"_","\\textunderscore");b(w,T,Y,"","\\angle",!0);b(w,T,Y,"","\\infty",!0);b(w,T,Y,"","\\prime");b(w,T,Y,"","\\triangle");b(w,T,Y,"","\\Gamma",!0);b(w,T,Y,"","\\Delta",!0);b(w,T,Y,"","\\Theta",!0);b(w,T,Y,"","\\Lambda",!0);b(w,T,Y,"","\\Xi",!0);b(w,T,Y,"","\\Pi",!0);b(w,T,Y,"","\\Sigma",!0);b(w,T,Y,"","\\Upsilon",!0);b(w,T,Y,"","\\Phi",!0);b(w,T,Y,"","\\Psi",!0);b(w,T,Y,"","\\Omega",!0);b(w,T,Y,"A","");b(w,T,Y,"B","");b(w,T,Y,"E","");b(w,T,Y,"Z","");b(w,T,Y,"H","");b(w,T,Y,"I","");b(w,T,Y,"K","");b(w,T,Y,"M","");b(w,T,Y,"N","");b(w,T,Y,"O","");b(w,T,Y,"P","");b(w,T,Y,"T","");b(w,T,Y,"X","");b(w,T,Y,"","\\neg",!0);b(w,T,Y,"","\\lnot");b(w,T,Y,"","\\top");b(w,T,Y,"","\\bot");b(w,T,Y,"","\\emptyset");b(w,U,Y,"","\\varnothing");b(w,T,Ze,"","\\alpha",!0);b(w,T,Ze,"","\\beta",!0);b(w,T,Ze,"","\\gamma",!0);b(w,T,Ze,"","\\delta",!0);b(w,T,Ze,"","\\epsilon",!0);b(w,T,Ze,"","\\zeta",!0);b(w,T,Ze,"","\\eta",!0);b(w,T,Ze,"","\\theta",!0);b(w,T,Ze,"","\\iota",!0);b(w,T,Ze,"","\\kappa",!0);b(w,T,Ze,"","\\lambda",!0);b(w,T,Ze,"","\\mu",!0);b(w,T,Ze,"","\\nu",!0);b(w,T,Ze,"","\\xi",!0);b(w,T,Ze,"","\\omicron",!0);b(w,T,Ze,"","\\pi",!0);b(w,T,Ze,"","\\rho",!0);b(w,T,Ze,"","\\sigma",!0);b(w,T,Ze,"","\\tau",!0);b(w,T,Ze,"","\\upsilon",!0);b(w,T,Ze,"","\\phi",!0);b(w,T,Ze,"","\\chi",!0);b(w,T,Ze,"","\\psi",!0);b(w,T,Ze,"","\\omega",!0);b(w,T,Ze,"","\\varepsilon",!0);b(w,T,Ze,"","\\vartheta",!0);b(w,T,Ze,"","\\varpi",!0);b(w,T,Ze,"","\\varrho",!0);b(w,T,Ze,"","\\varsigma",!0);b(w,T,Ze,"","\\varphi",!0);b(w,T,Oe,"","*",!0);b(w,T,Oe,"+","+");b(w,T,Oe,"","-",!0);b(w,T,Oe,"","\\cdot",!0);b(w,T,Oe,"","\\circ",!0);b(w,T,Oe,"","\\div",!0);b(w,T,Oe,"","\\pm",!0);b(w,T,Oe,"","\\times",!0);b(w,T,Oe,"","\\cap",!0);b(w,T,Oe,"","\\cup",!0);b(w,T,Oe,"","\\setminus",!0);b(w,T,Oe,"","\\land");b(w,T,Oe,"","\\lor");b(w,T,Oe,"","\\wedge",!0);b(w,T,Oe,"","\\vee",!0);b(w,T,Y,"","\\surd");b(w,T,Ia,"","\\langle",!0);b(w,T,Ia,"","\\lvert");b(w,T,Ia,"","\\lVert");b(w,T,na,"?","?");b(w,T,na,"!","!");b(w,T,na,"","\\rangle",!0);b(w,T,na,"","\\rvert");b(w,T,na,"","\\rVert");b(w,T,H,"=","=");b(w,T,H,":",":");b(w,T,H,"","\\approx",!0);b(w,T,H,"","\\cong",!0);b(w,T,H,"","\\ge");b(w,T,H,"","\\geq",!0);b(w,T,H,"","\\gets");b(w,T,H,">","\\gt",!0);b(w,T,H,"","\\in",!0);b(w,T,H,"","\\@not");b(w,T,H,"","\\subset",!0);b(w,T,H,"","\\supset",!0);b(w,T,H,"","\\subseteq",!0);b(w,T,H,"","\\supseteq",!0);b(w,U,H,"","\\nsubseteq",!0);b(w,U,H,"","\\nsupseteq",!0);b(w,T,H,"","\\models");b(w,T,H,"","\\leftarrow",!0);b(w,T,H,"","\\le");b(w,T,H,"","\\leq",!0);b(w,T,H,"<","\\lt",!0);b(w,T,H,"","\\rightarrow",!0);b(w,T,H,"","\\to");b(w,U,H,"","\\ngeq",!0);b(w,U,H,"","\\nleq",!0);b(w,T,fi,"","\\ ");b(w,T,fi,"","\\space");b(w,T,fi,"","\\nobreakspace");b(ye,T,fi,"","\\ ");b(ye,T,fi,""," ");b(ye,T,fi,"","\\space");b(ye,T,fi,"","\\nobreakspace");b(w,T,fi,null,"\\nobreak");b(w,T,fi,null,"\\allowbreak");b(w,T,dd,",",",");b(w,T,dd,";",";");b(w,U,Oe,"","\\barwedge",!0);b(w,U,Oe,"","\\veebar",!0);b(w,T,Oe,"","\\odot",!0);b(w,T,Oe,"","\\oplus",!0);b(w,T,Oe,"","\\otimes",!0);b(w,T,Y,"","\\partial",!0);b(w,T,Oe,"","\\oslash",!0);b(w,U,Oe,"","\\circledcirc",!0);b(w,U,Oe,"","\\boxdot",!0);b(w,T,Oe,"","\\bigtriangleup");b(w,T,Oe,"","\\bigtriangledown");b(w,T,Oe,"","\\dagger");b(w,T,Oe,"","\\diamond");b(w,T,Oe,"","\\star");b(w,T,Oe,"","\\triangleleft");b(w,T,Oe,"","\\triangleright");b(w,T,Ia,"{","\\{");b(ye,T,Y,"{","\\{");b(ye,T,Y,"{","\\textbraceleft");b(w,T,na,"}","\\}");b(ye,T,Y,"}","\\}");b(ye,T,Y,"}","\\textbraceright");b(w,T,Ia,"{","\\lbrace");b(w,T,na,"}","\\rbrace");b(w,T,Ia,"[","\\lbrack",!0);b(ye,T,Y,"[","\\lbrack",!0);b(w,T,na,"]","\\rbrack",!0);b(ye,T,Y,"]","\\rbrack",!0);b(w,T,Ia,"(","\\lparen",!0);b(w,T,na,")","\\rparen",!0);b(ye,T,Y,"<","\\textless",!0);b(ye,T,Y,">","\\textgreater",!0);b(w,T,Ia,"","\\lfloor",!0);b(w,T,na,"","\\rfloor",!0);b(w,T,Ia,"","\\lceil",!0);b(w,T,na,"","\\rceil",!0);b(w,T,Y,"\\","\\backslash");b(w,T,Y,"","|");b(w,T,Y,"","\\vert");b(ye,T,Y,"|","\\textbar",!0);b(w,T,Y,"","\\|");b(w,T,Y,"","\\Vert");b(ye,T,Y,"","\\textbardbl");b(ye,T,Y,"~","\\textasciitilde");b(ye,T,Y,"\\","\\textbackslash");b(ye,T,Y,"^","\\textasciicircum");b(w,T,H,"","\\uparrow",!0);b(w,T,H,"","\\Uparrow",!0);b(w,T,H,"","\\downarrow",!0);b(w,T,H,"","\\Downarrow",!0);b(w,T,H,"","\\updownarrow",!0);b(w,T,H,"","\\Updownarrow",!0);b(w,T,Mr,"","\\coprod");b(w,T,Mr,"","\\bigvee");b(w,T,Mr,"","\\bigwedge");b(w,T,Mr,"","\\biguplus");b(w,T,Mr,"","\\bigcap");b(w,T,Mr,"","\\bigcup");b(w,T,Mr,"","\\int");b(w,T,Mr,"","\\intop");b(w,T,Mr,"","\\iint");b(w,T,Mr,"","\\iiint");b(w,T,Mr,"","\\prod");b(w,T,Mr,"","\\sum");b(w,T,Mr,"","\\bigotimes");b(w,T,Mr,"","\\bigoplus");b(w,T,Mr,"","\\bigodot");b(w,T,Mr,"","\\oint");b(w,T,Mr,"","\\oiint");b(w,T,Mr,"","\\oiiint");b(w,T,Mr,"","\\bigsqcup");b(w,T,Mr,"","\\smallint");b(ye,T,Qo,"","\\textellipsis");b(w,T,Qo,"","\\mathellipsis");b(ye,T,Qo,"","\\ldots",!0);b(w,T,Qo,"","\\ldots",!0);b(w,T,Qo,"","\\@cdots",!0);b(w,T,Qo,"","\\ddots",!0);b(w,T,Y,"","\\varvdots");b(ye,T,Y,"","\\varvdots");b(w,T,nr,"","\\acute");b(w,T,nr,"","\\grave");b(w,T,nr,"","\\ddot");b(w,T,nr,"~","\\tilde");b(w,T,nr,"","\\bar");b(w,T,nr,"","\\breve");b(w,T,nr,"","\\check");b(w,T,nr,"^","\\hat");b(w,T,nr,"","\\vec");b(w,T,nr,"","\\dot");b(w,T,nr,"","\\mathring");b(w,T,Ze,"","\\@imath");b(w,T,Ze,"","\\@jmath");b(w,T,Y,"","");b(w,T,Y,"","");b(ye,T,Y,"","\\i",!0);b(ye,T,Y,"","\\j",!0);b(ye,T,Y,"","\\ss",!0);b(ye,T,Y,"","\\ae",!0);b(ye,T,Y,"","\\oe",!0);b(ye,T,Y,"","\\o",!0);b(ye,T,Y,"","\\AE",!0);b(ye,T,Y,"","\\OE",!0);b(ye,T,Y,"","\\O",!0);b(ye,T,nr,"","\\'");b(ye,T,nr,"","\\`");b(ye,T,nr,"","\\^");b(ye,T,nr,"","\\~");b(ye,T,nr,"","\\=");b(ye,T,nr,"","\\u");b(ye,T,nr,"","\\.");b(ye,T,nr,"","\\c");b(ye,T,nr,"","\\r");b(ye,T,nr,"","\\v");b(ye,T,nr,"",'\\"');b(ye,T,nr,"","\\H");b(ye,T,nr,"","\\textcircled");var r6={"--":!0,"---":!0,"``":!0,"''":!0};b(ye,T,Y,"","--",!0);b(ye,T,Y,"","\\textendash");b(ye,T,Y,"","---",!0);b(ye,T,Y,"","\\textemdash");b(ye,T,Y,"","`",!0);b(ye,T,Y,"","\\textquoteleft");b(ye,T,Y,"","'",!0);b(ye,T,Y,"","\\textquoteright");b(ye,T,Y,"","``",!0);b(ye,T,Y,"","\\textquotedblleft");b(ye,T,Y,"","''",!0);b(ye,T,Y,"","\\textquotedblright");b(w,T,Y,"","\\degree",!0);b(ye,T,Y,"","\\degree");b(ye,T,Y,"","\\textdegree",!0);b(w,T,Y,"","\\pounds");b(w,T,Y,"","\\mathsterling",!0);b(ye,T,Y,"","\\pounds");b(ye,T,Y,"","\\textsterling",!0);b(w,U,Y,"","\\maltese");b(ye,U,Y,"","\\maltese");var Sy='0123456789/@."';for(var Xh=0;Xh<Sy.length;Xh++){var _y=Sy.charAt(Xh);b(w,T,Y,_y,_y)}var zy='0123456789!@*()-=+";:?/.,';for(var Kh=0;Kh<zy.length;Kh++){var ky=zy.charAt(Kh);b(ye,T,Y,ky,ky)}var Dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Jh=0;Jh<Dc.length;Jh++){var ic=Dc.charAt(Jh);b(w,T,Ze,ic,ic),b(ye,T,Y,ic,ic)}b(w,U,Y,"C","");b(ye,U,Y,"C","");b(w,U,Y,"H","");b(ye,U,Y,"H","");b(w,U,Y,"N","");b(ye,U,Y,"N","");b(w,U,Y,"P","");b(ye,U,Y,"P","");b(w,U,Y,"Q","");b(ye,U,Y,"Q","");b(w,U,Y,"R","");b(ye,U,Y,"R","");b(w,U,Y,"Z","");b(ye,U,Y,"Z","");b(w,T,Ze,"h","");b(ye,T,Ze,"h","");var Xe="";for(var Qr=0;Qr<Dc.length;Qr++){var vr=Dc.charAt(Qr);Xe=String.fromCharCode(55349,56320+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Xe=String.fromCharCode(55349,56372+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Xe=String.fromCharCode(55349,56424+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Xe=String.fromCharCode(55349,56580+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Xe=String.fromCharCode(55349,56684+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Xe=String.fromCharCode(55349,56736+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Xe=String.fromCharCode(55349,56788+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Xe=String.fromCharCode(55349,56840+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Xe=String.fromCharCode(55349,56944+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Qr<26&&(Xe=String.fromCharCode(55349,56632+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe),Xe=String.fromCharCode(55349,56476+Qr),b(w,T,Ze,vr,Xe),b(ye,T,Y,vr,Xe))}Xe="";b(w,T,Ze,"k",Xe);b(ye,T,Y,"k",Xe);for(var As=0;As<10;As++){var Ui=As.toString();Xe=String.fromCharCode(55349,57294+As),b(w,T,Ze,Ui,Xe),b(ye,T,Y,Ui,Xe),Xe=String.fromCharCode(55349,57314+As),b(w,T,Ze,Ui,Xe),b(ye,T,Y,Ui,Xe),Xe=String.fromCharCode(55349,57324+As),b(w,T,Ze,Ui,Xe),b(ye,T,Y,Ui,Xe),Xe=String.fromCharCode(55349,57334+As),b(w,T,Ze,Ui,Xe),b(ye,T,Y,Ui,Xe)}var qm="";for(var Wh=0;Wh<qm.length;Wh++){var sc=qm.charAt(Wh);b(w,T,Ze,sc,sc),b(ye,T,Y,sc,sc)}var oc=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ty=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],__=function(t,r){var n=t.charCodeAt(0),s=t.charCodeAt(1),o=(n-55296)*1024+(s-56320)+65536,u=r==="math"?0:1;if(119808<=o&&o<120484){var d=Math.floor((o-119808)/26);return[oc[d][2],oc[d][u]]}else if(120782<=o&&o<=120831){var f=Math.floor((o-120782)/10);return[Ty[f][2],Ty[f][u]]}else{if(o===120485||o===120486)return[oc[0][2],oc[0][u]];if(120486<o&&o<120782)return["",""];throw new xe("Unsupported character: "+t)}},fd=function(t,r,n){return Ht[n][t]&&Ht[n][t].replace&&(t=Ht[n][t].replace),{value:t,metrics:Tp(t,r,n)}},fn=function(t,r,n,s,o){var u=fd(t,r,n),d=u.metrics;t=u.value;var f;if(d){var h=d.italic;(n==="text"||s&&s.font==="mathit")&&(h=0),f=new Wa(t,d.height,d.depth,h,d.skew,d.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),f=new Wa(t,0,0,0,0,0,o);if(s){f.maxFontSize=s.sizeMultiplier,s.style.isTight()&&f.classes.push("mtight");var p=s.getColor();p&&(f.style.color=p)}return f},z_=function(t,r,n,s){return s===void 0&&(s=[]),n.font==="boldsymbol"&&fd(t,"Main-Bold",r).metrics?fn(t,"Main-Bold",r,n,s.concat(["mathbf"])):t==="\\"||Ht[r][t].font==="main"?fn(t,"Main-Regular",r,n,s):fn(t,"AMS-Regular",r,n,s.concat(["amsrm"]))},k_=function(t,r,n,s,o){return o!=="textord"&&fd(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},T_=function(t,r,n){var s=t.mode,o=t.text,u=["mord"],d=s==="math"||s==="text"&&r.font,f=d?r.font:r.fontFamily,h="",p="";if(o.charCodeAt(0)===55349&&([h,p]=__(o,s)),h.length>0)return fn(o,h,s,r,u.concat(p));if(f){var g,y;if(f==="boldsymbol"){var x=k_(o,s,r,u,n);g=x.fontName,y=[x.fontClass]}else d?(g=i6[f].fontName,y=[f]):(g=lc(f,r.fontWeight,r.fontShape),y=[f,r.fontWeight,r.fontShape]);if(fd(o,g,s).metrics)return fn(o,g,s,r,u.concat(y));if(r6.hasOwnProperty(o)&&g.slice(0,10)==="Typewriter"){for(var k=[],S=0;S<o.length;S++)k.push(fn(o[S],g,s,r,u.concat(y)));return n6(k)}}if(n==="mathord")return fn(o,"Math-Italic",s,r,u.concat(["mathnormal"]));if(n==="textord"){var A=Ht[s][o]&&Ht[s][o].font;if(A==="ams"){var C=lc("amsrm",r.fontWeight,r.fontShape);return fn(o,C,s,r,u.concat("amsrm",r.fontWeight,r.fontShape))}else if(A==="main"||!A){var R=lc("textrm",r.fontWeight,r.fontShape);return fn(o,R,s,r,u.concat(r.fontWeight,r.fontShape))}else{var M=lc(A,r.fontWeight,r.fontShape);return fn(o,M,s,r,u.concat(M,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},A_=(e,t)=>{if(Ki(e.classes)!==Ki(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var s in t.style)if(t.style.hasOwnProperty(s)&&e.style[s]!==t.style[s])return!1;return!0},E_=e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof Wa&&n instanceof Wa&&A_(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},Ep=function(t){for(var r=0,n=0,s=0,o=0;o<t.children.length;o++){var u=t.children[o];u.height>r&&(r=u.height),u.depth>n&&(n=u.depth),u.maxFontSize>s&&(s=u.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=s},fa=function(t,r,n,s){var o=new Du(t,r,n,s);return Ep(o),o},a6=(e,t,r,n)=>new Du(e,t,r,n),M_=function(t,r,n){var s=fa([t],[],r);return s.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),s.style.borderBottomWidth=ke(s.height),s.maxFontSize=1,s},N_=function(t,r,n,s){var o=new Ap(t,r,n,s);return Ep(o),o},n6=function(t){var r=new Iu(t);return Ep(r),r},O_=function(t,r){return t instanceof Iu?fa([],[t],r):t},C_=function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],s=-r[0].shift-r[0].elem.depth,o=s,u=1;u<r.length;u++){var d=-r[u].shift-o-r[u].elem.depth,f=d-(r[u-1].elem.height+r[u-1].elem.depth);o=o+d,n.push({type:"kern",size:f}),n.push(r[u])}return{children:n,depth:s}}var h;if(t.positionType==="top"){for(var p=t.positionData,g=0;g<t.children.length;g++){var y=t.children[g];p-=y.type==="kern"?y.size:y.elem.height+y.elem.depth}h=p}else if(t.positionType==="bottom")h=-t.positionData;else{var x=t.children[0];if(x.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")h=-x.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")h=-x.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:h}},R_=function(t,r){for(var{children:n,depth:s}=C_(t),o=0,u=0;u<n.length;u++){var d=n[u];if(d.type==="elem"){var f=d.elem;o=Math.max(o,f.maxFontSize,f.height)}}o+=2;var h=fa(["pstrut"],[]);h.style.height=ke(o);for(var p=[],g=s,y=s,x=s,k=0;k<n.length;k++){var S=n[k];if(S.type==="kern")x+=S.size;else{var A=S.elem,C=S.wrapperClasses||[],R=S.wrapperStyle||{},M=fa(C,[h,A],void 0,R);M.style.top=ke(-o-x-A.depth),S.marginLeft&&(M.style.marginLeft=S.marginLeft),S.marginRight&&(M.style.marginRight=S.marginRight),p.push(M),x+=A.height+A.depth}g=Math.min(g,x),y=Math.max(y,x)}var I=fa(["vlist"],p);I.style.height=ke(y);var D;if(g<0){var B=fa([],[]),E=fa(["vlist"],[B]);E.style.height=ke(-g);var j=fa(["vlist-s"],[new Wa("")]);D=[fa(["vlist-r"],[I,j]),fa(["vlist-r"],[E])]}else D=[fa(["vlist-r"],[I])];var F=fa(["vlist-t"],D);return D.length===2&&F.classes.push("vlist-t2"),F.height=y,F.depth=-g,F},I_=(e,t)=>{var r=fa(["mspace"],[],t),n=ur(e,t);return r.style.marginRight=ke(n),r},lc=function(t,r,n){var s="";switch(t){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=t}var o;return r==="textbf"&&n==="textit"?o="BoldItalic":r==="textbf"?o="Bold":r==="textit"?o="Italic":o="Regular",s+"-"+o},i6={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},s6={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},D_=function(t,r){var[n,s,o]=s6[t],u=new Ji(n),d=new ii([u],{width:ke(s),height:ke(o),style:"width:"+ke(s),viewBox:"0 0 "+1e3*s+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),f=a6(["overlay"],[d],r);return f.height=o,f.style.height=ke(o),f.style.width=ke(s),f},ne={fontMap:i6,makeSymbol:fn,mathsym:z_,makeSpan:fa,makeSvgSpan:a6,makeLineSpan:M_,makeAnchor:N_,makeFragment:n6,wrapFragment:O_,makeVList:R_,makeOrd:T_,makeGlue:I_,staticSvg:D_,svgData:s6,tryCombineChars:E_},lr={number:3,unit:"mu"},Es={number:4,unit:"mu"},Qn={number:5,unit:"mu"},j_={mord:{mop:lr,mbin:Es,mrel:Qn,minner:lr},mop:{mord:lr,mop:lr,mrel:Qn,minner:lr},mbin:{mord:Es,mop:Es,mopen:Es,minner:Es},mrel:{mord:Qn,mop:Qn,mopen:Qn,minner:Qn},mopen:{},mclose:{mop:lr,mbin:Es,mrel:Qn,minner:lr},mpunct:{mord:lr,mop:lr,mrel:Qn,mopen:lr,mclose:lr,mpunct:lr,minner:lr},minner:{mord:lr,mop:lr,mbin:Es,mrel:Qn,mopen:lr,mpunct:lr,minner:lr}},$_={mord:{mop:lr},mop:{mord:lr,mop:lr},mbin:{},mrel:{},mopen:{},mclose:{mop:lr},mpunct:{},minner:{mop:lr}},o6={},jc={},$c={};function Ee(e){for(var{type:t,names:r,props:n,handler:s,htmlBuilder:o,mathmlBuilder:u}=e,d={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:s},f=0;f<r.length;++f)o6[r[f]]=d;t&&(o&&(jc[t]=o),u&&($c[t]=u))}function Hs(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;Ee({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Bc=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},zr=function(t){return t.type==="ordgroup"?t.body:[t]},si=ne.makeSpan,B_=["leftmost","mbin","mopen","mrel","mop","mpunct"],L_=["rightmost","mrel","mclose","mpunct"],U_={display:Ge.DISPLAY,text:Ge.TEXT,script:Ge.SCRIPT,scriptscript:Ge.SCRIPTSCRIPT},q_={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},jr=function(t,r,n,s){s===void 0&&(s=[null,null]);for(var o=[],u=0;u<t.length;u++){var d=bt(t[u],r);if(d instanceof Iu){var f=d.children;o.push(...f)}else o.push(d)}if(ne.tryCombineChars(o),!n)return o;var h=r;if(t.length===1){var p=t[0];p.type==="sizing"?h=r.havingSize(p.size):p.type==="styling"&&(h=r.havingStyle(U_[p.style]))}var g=si([s[0]||"leftmost"],[],r),y=si([s[1]||"rightmost"],[],r),x=n==="root";return Ay(o,(k,S)=>{var A=S.classes[0],C=k.classes[0];A==="mbin"&&He.contains(L_,C)?S.classes[0]="mord":C==="mbin"&&He.contains(B_,A)&&(k.classes[0]="mord")},{node:g},y,x),Ay(o,(k,S)=>{var A=Hm(S),C=Hm(k),R=A&&C?k.hasClass("mtight")?$_[A][C]:j_[A][C]:null;if(R)return ne.makeGlue(R,h)},{node:g},y,x),o},Ay=function e(t,r,n,s,o){s&&t.push(s);for(var u=0;u<t.length;u++){var d=t[u],f=l6(d);if(f){e(f.children,r,n,null,o);continue}var h=!d.hasClass("mspace");if(h){var p=r(d,n.node);p&&(n.insertAfter?n.insertAfter(p):(t.unshift(p),u++))}h?n.node=d:o&&d.hasClass("newline")&&(n.node=si(["leftmost"])),n.insertAfter=(g=>y=>{t.splice(g+1,0,y),u++})(u)}s&&t.pop()},l6=function(t){return t instanceof Iu||t instanceof Ap||t instanceof Du&&t.hasClass("enclosing")?t:null},H_=function e(t,r){var n=l6(t);if(n){var s=n.children;if(s.length){if(r==="right")return e(s[s.length-1],"right");if(r==="left")return e(s[0],"left")}}return t},Hm=function(t,r){return t?(r&&(t=H_(t,r)),q_[t.classes[0]]||null):null},xu=function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return si(r.concat(n))},bt=function(t,r,n){if(!t)return si();if(jc[t.type]){var s=jc[t.type](t,r);if(n&&r.size!==n.size){s=si(r.sizingClasses(n),[s],r);var o=r.sizeMultiplier/n.sizeMultiplier;s.height*=o,s.depth*=o}return s}else throw new xe("Got group of unknown type: '"+t.type+"'")};function uc(e,t){var r=si(["base"],e,t),n=si(["strut"]);return n.style.height=ke(r.height+r.depth),r.depth&&(n.style.verticalAlign=ke(-r.depth)),r.children.unshift(n),r}function Pm(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=jr(e,t,"root"),s;n.length===2&&n[1].hasClass("tag")&&(s=n.pop());for(var o=[],u=[],d=0;d<n.length;d++)if(u.push(n[d]),n[d].hasClass("mbin")||n[d].hasClass("mrel")||n[d].hasClass("allowbreak")){for(var f=!1;d<n.length-1&&n[d+1].hasClass("mspace")&&!n[d+1].hasClass("newline");)d++,u.push(n[d]),n[d].hasClass("nobreak")&&(f=!0);f||(o.push(uc(u,t)),u=[])}else n[d].hasClass("newline")&&(u.pop(),u.length>0&&(o.push(uc(u,t)),u=[]),o.push(n[d]));u.length>0&&o.push(uc(u,t));var h;r?(h=uc(jr(r,t,!0)),h.classes=["tag"],o.push(h)):s&&o.push(s);var p=si(["katex-html"],o);if(p.setAttribute("aria-hidden","true"),h){var g=h.children[0];g.style.height=ke(p.height+p.depth),p.depth&&(g.style.verticalAlign=ke(-p.depth))}return p}function u6(e){return new Iu(e)}class Oa{constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Ki(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof En&&this.children[n+1]instanceof En){for(var s=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof En;)s+=this.children[++n].toText();t.appendChild(new En(s).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=He.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+He.escape(Ki(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class En{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return He.escape(this.toText())}toText(){return this.text}}class P_{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",ke(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var be={MathNode:Oa,TextNode:En,SpaceNode:P_,newDocumentFragment:u6},Qa=function(t,r,n){return Ht[r][t]&&Ht[r][t].replace&&t.charCodeAt(0)!==55349&&!(r6.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=Ht[r][t].replace),new be.TextNode(t)},Mp=function(t){return t.length===1?t[0]:new be.MathNode("mrow",t)},Np=function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var s=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var o=t.text;if(He.contains(["\\imath","\\jmath"],o))return null;Ht[s][o]&&Ht[s][o].replace&&(o=Ht[s][o].replace);var u=ne.fontMap[n].fontName;return Tp(o,u,s)?ne.fontMap[n].variant:null};function Qh(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof En&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof En&&r.text===","}else return!1}var pa=function(t,r,n){if(t.length===1){var s=Bt(t[0],r);return n&&s instanceof Oa&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var o=[],u,d=0;d<t.length;d++){var f=Bt(t[d],r);if(f instanceof Oa&&u instanceof Oa){if(f.type==="mtext"&&u.type==="mtext"&&f.getAttribute("mathvariant")===u.getAttribute("mathvariant")){u.children.push(...f.children);continue}else if(f.type==="mn"&&u.type==="mn"){u.children.push(...f.children);continue}else if(Qh(f)&&u.type==="mn"){u.children.push(...f.children);continue}else if(f.type==="mn"&&Qh(u))f.children=[...u.children,...f.children],o.pop();else if((f.type==="msup"||f.type==="msub")&&f.children.length>=1&&(u.type==="mn"||Qh(u))){var h=f.children[0];h instanceof Oa&&h.type==="mn"&&(h.children=[...u.children,...h.children],o.pop())}else if(u.type==="mi"&&u.children.length===1){var p=u.children[0];if(p instanceof En&&p.text===""&&(f.type==="mo"||f.type==="mi"||f.type==="mn")){var g=f.children[0];g instanceof En&&g.text.length>0&&(g.text=g.text.slice(0,1)+""+g.text.slice(1),o.pop())}}}o.push(f),u=f}return o},Wi=function(t,r,n){return Mp(pa(t,r,n))},Bt=function(t,r){if(!t)return new be.MathNode("mrow");if($c[t.type]){var n=$c[t.type](t,r);return n}else throw new xe("Got group of unknown type: '"+t.type+"'")};function Ey(e,t,r,n,s){var o=pa(e,r),u;o.length===1&&o[0]instanceof Oa&&He.contains(["mrow","mtable"],o[0].type)?u=o[0]:u=new be.MathNode("mrow",o);var d=new be.MathNode("annotation",[new be.TextNode(t)]);d.setAttribute("encoding","application/x-tex");var f=new be.MathNode("semantics",[u,d]),h=new be.MathNode("math",[f]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&h.setAttribute("display","block");var p=s?"katex":"katex-mathml";return ne.makeSpan([p],[h])}var c6=function(t){return new ti({style:t.displayMode?Ge.DISPLAY:Ge.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},d6=function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=ne.makeSpan(n,[t])}return t},Z_=function(t,r,n){var s=c6(n),o;if(n.output==="mathml")return Ey(t,r,s,n.displayMode,!0);if(n.output==="html"){var u=Pm(t,s);o=ne.makeSpan(["katex"],[u])}else{var d=Ey(t,r,s,n.displayMode,!1),f=Pm(t,s);o=ne.makeSpan(["katex"],[d,f])}return d6(o,n)},G_=function(t,r,n){var s=c6(n),o=Pm(t,s),u=ne.makeSpan(["katex"],[o]);return d6(u,n)},V_={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Y_=function(t){var r=new be.MathNode("mo",[new be.TextNode(V_[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},F_={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},X_=function(t){return t.type==="ordgroup"?t.body.length:1},K_=function(t,r){function n(){var d=4e5,f=t.label.slice(1);if(He.contains(["widehat","widecheck","widetilde","utilde"],f)){var h=t,p=X_(h.base),g,y,x;if(p>5)f==="widehat"||f==="widecheck"?(g=420,d=2364,x=.42,y=f+"4"):(g=312,d=2340,x=.34,y="tilde4");else{var k=[1,1,2,2,3,3][p];f==="widehat"||f==="widecheck"?(d=[0,1062,2364,2364,2364][k],g=[0,239,300,360,420][k],x=[0,.24,.3,.3,.36,.42][k],y=f+k):(d=[0,600,1033,2339,2340][k],g=[0,260,286,306,312][k],x=[0,.26,.286,.3,.306,.34][k],y="tilde"+k)}var S=new Ji(y),A=new ii([S],{width:"100%",height:ke(x),viewBox:"0 0 "+d+" "+g,preserveAspectRatio:"none"});return{span:ne.makeSvgSpan([],[A],r),minWidth:0,height:x}}else{var C=[],R=F_[f],[M,I,D]=R,B=D/1e3,E=M.length,j,F;if(E===1){var ue=R[3];j=["hide-tail"],F=[ue]}else if(E===2)j=["halfarrow-left","halfarrow-right"],F=["xMinYMin","xMaxYMin"];else if(E===3)j=["brace-left","brace-center","brace-right"],F=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+E+" children.");for(var ee=0;ee<E;ee++){var V=new Ji(M[ee]),K=new ii([V],{width:"400em",height:ke(B),viewBox:"0 0 "+d+" "+D,preserveAspectRatio:F[ee]+" slice"}),X=ne.makeSvgSpan([j[ee]],[K],r);if(E===1)return{span:X,minWidth:I,height:B};X.style.height=ke(B),C.push(X)}return{span:ne.makeSpan(["stretchy"],C,r),minWidth:I,height:B}}}var{span:s,minWidth:o,height:u}=n();return s.height=u,s.style.height=ke(u),o>0&&(s.style.minWidth=ke(o)),s},J_=function(t,r,n,s,o){var u,d=t.height+t.depth+n+s;if(/fbox|color|angl/.test(r)){if(u=ne.makeSpan(["stretchy",r],[],o),r==="fbox"){var f=o.color&&o.getColor();f&&(u.style.borderColor=f)}}else{var h=[];/^[bx]cancel$/.test(r)&&h.push(new Um({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&h.push(new Um({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var p=new ii(h,{width:"100%",height:ke(d)});u=ne.makeSvgSpan([],[p],o)}return u.height=d,u.style.height=ke(d),u},oi={encloseSpan:J_,mathMLnode:Y_,svgSpan:K_};function at(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Op(e){var t=hd(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function hd(e){return e&&(e.type==="atom"||S_.hasOwnProperty(e.type))?e:null}var Cp=(e,t)=>{var r,n,s;e&&e.type==="supsub"?(n=at(e.base,"accent"),r=n.base,e.base=r,s=x_(bt(e,t)),e.base=n):(n=at(e,"accent"),r=n.base);var o=bt(r,t.havingCrampedStyle()),u=n.isShifty&&He.isCharacterBox(r),d=0;if(u){var f=He.getBaseElem(r),h=bt(f,t.havingCrampedStyle());d=wy(h).skew}var p=n.label==="\\c",g=p?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight),y;if(n.isStretchy)y=oi.svgSpan(n,t),y=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:y,wrapperClasses:["svg-align"],wrapperStyle:d>0?{width:"calc(100% - "+ke(2*d)+")",marginLeft:ke(2*d)}:void 0}]},t);else{var x,k;n.label==="\\vec"?(x=ne.staticSvg("vec",t),k=ne.svgData.vec[1]):(x=ne.makeOrd({mode:n.mode,text:n.label},t,"textord"),x=wy(x),x.italic=0,k=x.width,p&&(g+=x.depth)),y=ne.makeSpan(["accent-body"],[x]);var S=n.label==="\\textcircled";S&&(y.classes.push("accent-full"),g=o.height);var A=d;S||(A-=k/2),y.style.left=ke(A),n.label==="\\textcircled"&&(y.style.top=".2em"),y=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-g},{type:"elem",elem:y}]},t)}var C=ne.makeSpan(["mord","accent"],[y],t);return s?(s.children[0]=C,s.height=Math.max(C.height,s.height),s.classes[0]="mord",s):C},f6=(e,t)=>{var r=e.isStretchy?oi.mathMLnode(e.label):new be.MathNode("mo",[Qa(e.label,e.mode)]),n=new be.MathNode("mover",[Bt(e.base,t),r]);return n.setAttribute("accent","true"),n},W_=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Ee({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=Bc(t[0]),n=!W_.test(e.funcName),s=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:s,base:r}},htmlBuilder:Cp,mathmlBuilder:f6});Ee({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Cp,mathmlBuilder:f6});Ee({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:s}},htmlBuilder:(e,t)=>{var r=bt(e.base,t),n=oi.svgSpan(e,t),s=e.label==="\\utilde"?.12:0,o=ne.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:r}]},t);return ne.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:(e,t)=>{var r=oi.mathMLnode(e.label),n=new be.MathNode("munder",[Bt(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var cc=e=>{var t=new be.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ee({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:s}=e;return{type:"xArrow",mode:n.mode,label:s,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),s=ne.wrapFragment(bt(e.body,n,t),t),o=e.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(o+"-arrow-pad");var u;e.below&&(n=t.havingStyle(r.sub()),u=ne.wrapFragment(bt(e.below,n,t),t),u.classes.push(o+"-arrow-pad"));var d=oi.svgSpan(e,t),f=-t.fontMetrics().axisHeight+.5*d.height,h=-t.fontMetrics().axisHeight-.5*d.height-.111;(s.depth>.25||e.label==="\\xleftequilibrium")&&(h-=s.depth);var p;if(u){var g=-t.fontMetrics().axisHeight+u.height+.5*d.height+.111;p=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:d,shift:f},{type:"elem",elem:u,shift:g}]},t)}else p=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:d,shift:f}]},t);return p.children[0].children[0].children[1].classes.push("svg-align"),ne.makeSpan(["mrel","x-arrow"],[p],t)},mathmlBuilder(e,t){var r=oi.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var s=cc(Bt(e.body,t));if(e.below){var o=cc(Bt(e.below,t));n=new be.MathNode("munderover",[r,o,s])}else n=new be.MathNode("mover",[r,s])}else if(e.below){var u=cc(Bt(e.below,t));n=new be.MathNode("munder",[r,u])}else n=cc(),n=new be.MathNode("mover",[r,n]);return n}});var Q_=ne.makeSpan;function h6(e,t){var r=jr(e.body,t,!0);return Q_([e.mclass],r,t)}function m6(e,t){var r,n=pa(e.body,t);return e.mclass==="minner"?r=new be.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new be.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new be.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Ee({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,s=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:zr(s),isCharacterBox:He.isCharacterBox(s)}},htmlBuilder:h6,mathmlBuilder:m6});var md=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Ee({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:md(t[0]),body:zr(t[1]),isCharacterBox:He.isCharacterBox(t[1])}}});Ee({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,s=t[1],o=t[0],u;n!=="\\stackrel"?u=md(s):u="mrel";var d={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:zr(s)},f={type:"supsub",mode:o.mode,base:d,sup:n==="\\underset"?null:o,sub:n==="\\underset"?o:null};return{type:"mclass",mode:r.mode,mclass:u,body:[f],isCharacterBox:He.isCharacterBox(f)}},htmlBuilder:h6,mathmlBuilder:m6});Ee({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:md(t[0]),body:zr(t[0])}},htmlBuilder(e,t){var r=jr(e.body,t,!0),n=ne.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=pa(e.body,t),n=new be.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var ez={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},My=()=>({type:"styling",body:[],mode:"math",style:"display"}),Ny=e=>e.type==="textord"&&e.text==="@",tz=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function rz(e,t,r){var n=ez[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var s=r.callFunction("\\\\cdleft",[t[0]],[]),o={type:"atom",text:n,mode:"math",family:"rel"},u=r.callFunction("\\Big",[o],[]),d=r.callFunction("\\\\cdright",[t[1]],[]),f={type:"ordgroup",mode:"math",body:[s,u,d]};return r.callFunction("\\\\cdparent",[f],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function az(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new xe("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],s=[n],o=0;o<t.length;o++){for(var u=t[o],d=My(),f=0;f<u.length;f++)if(!Ny(u[f]))d.body.push(u[f]);else{n.push(d),f+=1;var h=Op(u[f]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var g=0;g<2;g++){for(var y=!0,x=f+1;x<u.length;x++){if(tz(u[x],h)){y=!1,f=x;break}if(Ny(u[x]))throw new xe("Missing a "+h+" character to complete a CD arrow.",u[x]);p[g].body.push(u[x])}if(y)throw new xe("Missing a "+h+" character to complete a CD arrow.",u[f])}else throw new xe('Expected one of "<>AV=|." after @',u[f]);var k=rz(h,p,e),S={type:"styling",body:[k],mode:"math",style:"display"};n.push(S),d=My()}o%2===0?n.push(d):n.shift(),n=[],s.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var A=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:A,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}Ee({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=ne.wrapFragment(bt(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=ke(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new be.MathNode("mrow",[Bt(e.label,t)]);return r=new be.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new be.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Ee({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=ne.wrapFragment(bt(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new be.MathNode("mrow",[Bt(e.fragment,t)])}});Ee({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=at(t[0],"ordgroup"),s=n.body,o="",u=0;u<s.length;u++){var d=at(s[u],"textord");o+=d.text}var f=parseInt(o),h;if(isNaN(f))throw new xe("\\@char has non-numeric argument "+o);if(f<0||f>=1114111)throw new xe("\\@char with invalid code point "+o);return f<=65535?h=String.fromCharCode(f):(f-=65536,h=String.fromCharCode((f>>10)+55296,(f&1023)+56320)),{type:"textord",mode:r.mode,text:h}}});var p6=(e,t)=>{var r=jr(e.body,t.withColor(e.color),!1);return ne.makeFragment(r)},v6=(e,t)=>{var r=pa(e.body,t.withColor(e.color)),n=new be.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};Ee({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=at(t[0],"color-token").color,s=t[1];return{type:"color",mode:r.mode,color:n,body:zr(s)}},htmlBuilder:p6,mathmlBuilder:v6});Ee({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,s=at(t[0],"color-token").color;r.gullet.macros.set("\\current@color",s);var o=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:s,body:o}},htmlBuilder:p6,mathmlBuilder:v6});Ee({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,s=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:o,size:s&&at(s,"size").value}},htmlBuilder(e,t){var r=ne.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=ke(ur(e.size,t)))),r},mathmlBuilder(e,t){var r=new be.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",ke(ur(e.size,t)))),r}});var Zm={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},g6=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new xe("Expected a control sequence",e);return t},nz=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},y6=(e,t,r,n)=>{var s=e.gullet.macros.get(r.text);s==null&&(r.noexpand=!0,s={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,s,n)};Ee({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(Zm[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=Zm[n.text]),at(t.parseFunction(),"internal");throw new xe("Invalid token after macro prefix",n)}});Ee({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),s=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new xe("Expected a control sequence",n);for(var o=0,u,d=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){u=t.gullet.future(),d[o].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new xe('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==o+1)throw new xe('Argument number "'+n.text+'" out of order');o++,d.push([])}else{if(n.text==="EOF")throw new xe("Expected a macro definition");d[o].push(n.text)}var{tokens:f}=t.gullet.consumeArg();return u&&f.unshift(u),(r==="\\edef"||r==="\\xdef")&&(f=t.gullet.expandTokens(f),f.reverse()),t.gullet.macros.set(s,{tokens:f,numArgs:o,delimiters:d},r===Zm[r]),{type:"internal",mode:t.mode}}});Ee({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=g6(t.gullet.popToken());t.gullet.consumeSpaces();var s=nz(t);return y6(t,n,s,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});Ee({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=g6(t.gullet.popToken()),s=t.gullet.popToken(),o=t.gullet.popToken();return y6(t,n,o,r==="\\\\globalfuture"),t.gullet.pushToken(o),t.gullet.pushToken(s),{type:"internal",mode:t.mode}}});var cu=function(t,r,n){var s=Ht.math[t]&&Ht.math[t].replace,o=Tp(s||t,r,n);if(!o)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return o},Rp=function(t,r,n,s){var o=n.havingBaseStyle(r),u=ne.makeSpan(s.concat(o.sizingClasses(n)),[t],n),d=o.sizeMultiplier/n.sizeMultiplier;return u.height*=d,u.depth*=d,u.maxFontSize=o.sizeMultiplier,u},b6=function(t,r,n){var s=r.havingBaseStyle(n),o=(1-r.sizeMultiplier/s.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=ke(o),t.height-=o,t.depth+=o},iz=function(t,r,n,s,o,u){var d=ne.makeSymbol(t,"Main-Regular",o,s),f=Rp(d,r,s,u);return n&&b6(f,s,r),f},sz=function(t,r,n,s){return ne.makeSymbol(t,"Size"+r+"-Regular",n,s)},x6=function(t,r,n,s,o,u){var d=sz(t,r,o,s),f=Rp(ne.makeSpan(["delimsizing","size"+r],[d],s),Ge.TEXT,s,u);return n&&b6(f,s,Ge.TEXT),f},em=function(t,r,n){var s;r==="Size1-Regular"?s="delim-size1":s="delim-size4";var o=ne.makeSpan(["delimsizinginner",s],[ne.makeSpan([],[ne.makeSymbol(t,r,n)])]);return{type:"elem",elem:o}},tm=function(t,r,n){var s=An["Size4-Regular"][t.charCodeAt(0)]?An["Size4-Regular"][t.charCodeAt(0)][4]:An["Size1-Regular"][t.charCodeAt(0)][4],o=new Ji("inner",f_(t,Math.round(1e3*r))),u=new ii([o],{width:ke(s),height:ke(r),style:"width:"+ke(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),d=ne.makeSvgSpan([],[u],n);return d.height=r,d.style.height=ke(r),d.style.width=ke(s),{type:"elem",elem:d}},Gm=.008,dc={type:"kern",size:-1*Gm},oz=["|","\\lvert","\\rvert","\\vert"],lz=["\\|","\\lVert","\\rVert","\\Vert"],w6=function(t,r,n,s,o,u){var d,f,h,p,g="",y=0;d=h=p=t,f=null;var x="Size1-Regular";t==="\\uparrow"?h=p="":t==="\\Uparrow"?h=p="":t==="\\downarrow"?d=h="":t==="\\Downarrow"?d=h="":t==="\\updownarrow"?(d="\\uparrow",h="",p="\\downarrow"):t==="\\Updownarrow"?(d="\\Uparrow",h="",p="\\Downarrow"):He.contains(oz,t)?(h="",g="vert",y=333):He.contains(lz,t)?(h="",g="doublevert",y=556):t==="["||t==="\\lbrack"?(d="",h="",p="",x="Size4-Regular",g="lbrack",y=667):t==="]"||t==="\\rbrack"?(d="",h="",p="",x="Size4-Regular",g="rbrack",y=667):t==="\\lfloor"||t===""?(h=d="",p="",x="Size4-Regular",g="lfloor",y=667):t==="\\lceil"||t===""?(d="",h=p="",x="Size4-Regular",g="lceil",y=667):t==="\\rfloor"||t===""?(h=d="",p="",x="Size4-Regular",g="rfloor",y=667):t==="\\rceil"||t===""?(d="",h=p="",x="Size4-Regular",g="rceil",y=667):t==="("||t==="\\lparen"?(d="",h="",p="",x="Size4-Regular",g="lparen",y=875):t===")"||t==="\\rparen"?(d="",h="",p="",x="Size4-Regular",g="rparen",y=875):t==="\\{"||t==="\\lbrace"?(d="",f="",p="",h="",x="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(d="",f="",p="",h="",x="Size4-Regular"):t==="\\lgroup"||t===""?(d="",p="",h="",x="Size4-Regular"):t==="\\rgroup"||t===""?(d="",p="",h="",x="Size4-Regular"):t==="\\lmoustache"||t===""?(d="",p="",h="",x="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(d="",p="",h="",x="Size4-Regular");var k=cu(d,x,o),S=k.height+k.depth,A=cu(h,x,o),C=A.height+A.depth,R=cu(p,x,o),M=R.height+R.depth,I=0,D=1;if(f!==null){var B=cu(f,x,o);I=B.height+B.depth,D=2}var E=S+M+I,j=Math.max(0,Math.ceil((r-E)/(D*C))),F=E+j*D*C,ue=s.fontMetrics().axisHeight;n&&(ue*=s.sizeMultiplier);var ee=F/2-ue,V=[];if(g.length>0){var K=F-S-M,X=Math.round(F*1e3),re=h_(g,Math.round(K*1e3)),$=new Ji(g,re),Z=(y/1e3).toFixed(3)+"em",J=(X/1e3).toFixed(3)+"em",Ae=new ii([$],{width:Z,height:J,viewBox:"0 0 "+y+" "+X}),ze=ne.makeSvgSpan([],[Ae],s);ze.height=X/1e3,ze.style.width=Z,ze.style.height=J,V.push({type:"elem",elem:ze})}else{if(V.push(em(p,x,o)),V.push(dc),f===null){var L=F-S-M+2*Gm;V.push(tm(h,L,s))}else{var ie=(F-S-M-I)/2+2*Gm;V.push(tm(h,ie,s)),V.push(dc),V.push(em(f,x,o)),V.push(dc),V.push(tm(h,ie,s))}V.push(dc),V.push(em(d,x,o))}var W=s.havingBaseStyle(Ge.TEXT),te=ne.makeVList({positionType:"bottom",positionData:ee,children:V},W);return Rp(ne.makeSpan(["delimsizing","mult"],[te],W),Ge.TEXT,s,u)},rm=80,am=.08,nm=function(t,r,n,s,o){var u=d_(t,s,n),d=new Ji(t,u),f=new ii([d],{width:"400em",height:ke(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return ne.makeSvgSpan(["hide-tail"],[f],o)},uz=function(t,r){var n=r.havingBaseSizing(),s=k6("\\surd",t*n.sizeMultiplier,z6,n),o=n.sizeMultiplier,u=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),d,f=0,h=0,p=0,g;return s.type==="small"?(p=1e3+1e3*u+rm,t<1?o=1:t<1.4&&(o=.7),f=(1+u+am)/o,h=(1+u)/o,d=nm("sqrtMain",f,p,u,r),d.style.minWidth="0.853em",g=.833/o):s.type==="large"?(p=(1e3+rm)*gu[s.size],h=(gu[s.size]+u)/o,f=(gu[s.size]+u+am)/o,d=nm("sqrtSize"+s.size,f,p,u,r),d.style.minWidth="1.02em",g=1/o):(f=t+u+am,h=t+u,p=Math.floor(1e3*t+u)+rm,d=nm("sqrtTall",f,p,u,r),d.style.minWidth="0.742em",g=1.056),d.height=h,d.style.height=ke(f),{span:d,advanceWidth:g,ruleWidth:(r.fontMetrics().sqrtRuleThickness+u)*o}},S6=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],cz=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],_6=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],gu=[0,1.2,1.8,2.4,3],dz=function(t,r,n,s,o){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),He.contains(S6,t)||He.contains(_6,t))return x6(t,r,!1,n,s,o);if(He.contains(cz,t))return w6(t,gu[r],!1,n,s,o);throw new xe("Illegal delimiter: '"+t+"'")},fz=[{type:"small",style:Ge.SCRIPTSCRIPT},{type:"small",style:Ge.SCRIPT},{type:"small",style:Ge.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],hz=[{type:"small",style:Ge.SCRIPTSCRIPT},{type:"small",style:Ge.SCRIPT},{type:"small",style:Ge.TEXT},{type:"stack"}],z6=[{type:"small",style:Ge.SCRIPTSCRIPT},{type:"small",style:Ge.SCRIPT},{type:"small",style:Ge.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],mz=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},k6=function(t,r,n,s){for(var o=Math.min(2,3-s.style.size),u=o;u<n.length&&n[u].type!=="stack";u++){var d=cu(t,mz(n[u]),"math"),f=d.height+d.depth;if(n[u].type==="small"){var h=s.havingBaseStyle(n[u].style);f*=h.sizeMultiplier}if(f>r)return n[u]}return n[n.length-1]},T6=function(t,r,n,s,o,u){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var d;He.contains(_6,t)?d=fz:He.contains(S6,t)?d=z6:d=hz;var f=k6(t,r,d,s);return f.type==="small"?iz(t,f.style,n,s,o,u):f.type==="large"?x6(t,f.size,n,s,o,u):w6(t,r,n,s,o,u)},pz=function(t,r,n,s,o,u){var d=s.fontMetrics().axisHeight*s.sizeMultiplier,f=901,h=5/s.fontMetrics().ptPerEm,p=Math.max(r-d,n+d),g=Math.max(p/500*f,2*p-h);return T6(t,g,!0,s,o,u)},ni={sqrtImage:uz,sizedDelim:dz,sizeToMaxHeight:gu,customSizedDelim:T6,leftRightDelim:pz},Oy={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},vz=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function pd(e,t){var r=hd(e);if(r&&He.contains(vz,r.text))return r;throw r?new xe("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new xe("Invalid delimiter type '"+e.type+"'",e)}Ee({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=pd(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Oy[e.funcName].size,mclass:Oy[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>e.delim==="."?ne.makeSpan([e.mclass]):ni.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Qa(e.delim,e.mode));var r=new be.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=ke(ni.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function Cy(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ee({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new xe("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:pd(t[0],e).text,color:r}}});Ee({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=pd(t[0],e),n=e.parser;++n.leftrightDepth;var s=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var o=at(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:s,left:r.text,right:o.delim,rightColor:o.color}},htmlBuilder:(e,t)=>{Cy(e);for(var r=jr(e.body,t,!0,["mopen","mclose"]),n=0,s=0,o=!1,u=0;u<r.length;u++)r[u].isMiddle?o=!0:(n=Math.max(r[u].height,n),s=Math.max(r[u].depth,s));n*=t.sizeMultiplier,s*=t.sizeMultiplier;var d;if(e.left==="."?d=xu(t,["mopen"]):d=ni.leftRightDelim(e.left,n,s,t,e.mode,["mopen"]),r.unshift(d),o)for(var f=1;f<r.length;f++){var h=r[f],p=h.isMiddle;p&&(r[f]=ni.leftRightDelim(p.delim,n,s,p.options,e.mode,[]))}var g;if(e.right===".")g=xu(t,["mclose"]);else{var y=e.rightColor?t.withColor(e.rightColor):t;g=ni.leftRightDelim(e.right,n,s,y,e.mode,["mclose"])}return r.push(g),ne.makeSpan(["minner"],r,t)},mathmlBuilder:(e,t)=>{Cy(e);var r=pa(e.body,t);if(e.left!=="."){var n=new be.MathNode("mo",[Qa(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var s=new be.MathNode("mo",[Qa(e.right,e.mode)]);s.setAttribute("fence","true"),e.rightColor&&s.setAttribute("mathcolor",e.rightColor),r.push(s)}return Mp(r)}});Ee({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=pd(t[0],e);if(!e.parser.leftrightDepth)throw new xe("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if(e.delim===".")r=xu(t,[]);else{r=ni.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?Qa("|","text"):Qa(e.delim,e.mode),n=new be.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var Ip=(e,t)=>{var r=ne.wrapFragment(bt(e.body,t),t),n=e.label.slice(1),s=t.sizeMultiplier,o,u=0,d=He.isCharacterBox(e.body);if(n==="sout")o=ne.makeSpan(["stretchy","sout"]),o.height=t.fontMetrics().defaultRuleThickness/s,u=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var f=ur({number:.6,unit:"pt"},t),h=ur({number:.35,unit:"ex"},t),p=t.havingBaseSizing();s=s/p.sizeMultiplier;var g=r.height+r.depth+f+h;r.style.paddingLeft=ke(g/2+f);var y=Math.floor(1e3*g*s),x=u_(y),k=new ii([new Ji("phase",x)],{width:"400em",height:ke(y/1e3),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});o=ne.makeSvgSpan(["hide-tail"],[k],t),o.style.height=ke(g),u=r.depth+f+h}else{/cancel/.test(n)?d||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var S=0,A=0,C=0;/box/.test(n)?(C=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),S=t.fontMetrics().fboxsep+(n==="colorbox"?0:C),A=S):n==="angl"?(C=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),S=4*C,A=Math.max(0,.25-r.depth)):(S=d?.2:0,A=S),o=oi.encloseSpan(r,n,S,A,t),/fbox|boxed|fcolorbox/.test(n)?(o.style.borderStyle="solid",o.style.borderWidth=ke(C)):n==="angl"&&C!==.049&&(o.style.borderTopWidth=ke(C),o.style.borderRightWidth=ke(C)),u=r.depth+A,e.backgroundColor&&(o.style.backgroundColor=e.backgroundColor,e.borderColor&&(o.style.borderColor=e.borderColor))}var R;if(e.backgroundColor)R=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:r,shift:0}]},t);else{var M=/cancel|phase/.test(n)?["svg-align"]:[];R=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:o,shift:u,wrapperClasses:M}]},t)}return/cancel/.test(n)&&(R.height=r.height,R.depth=r.depth),/cancel/.test(n)&&!d?ne.makeSpan(["mord","cancel-lap"],[R],t):ne.makeSpan(["mord"],[R],t)},Dp=(e,t)=>{var r=0,n=new be.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Bt(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var s=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+s+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};Ee({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:s}=e,o=at(t[0],"color-token").color,u=t[1];return{type:"enclose",mode:n.mode,label:s,backgroundColor:o,body:u}},htmlBuilder:Ip,mathmlBuilder:Dp});Ee({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:s}=e,o=at(t[0],"color-token").color,u=at(t[1],"color-token").color,d=t[2];return{type:"enclose",mode:n.mode,label:s,backgroundColor:u,borderColor:o,body:d}},htmlBuilder:Ip,mathmlBuilder:Dp});Ee({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});Ee({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,s=t[0];return{type:"enclose",mode:r.mode,label:n,body:s}},htmlBuilder:Ip,mathmlBuilder:Dp});Ee({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var A6={};function Mn(e){for(var{type:t,names:r,props:n,handler:s,htmlBuilder:o,mathmlBuilder:u}=e,d={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},f=0;f<r.length;++f)A6[r[f]]=d;o&&(jc[t]=o),u&&($c[t]=u)}var E6={};function O(e,t){E6[e]=t}function Ry(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}var vd=e=>{var t=e.parser.settings;if(!t.displayMode)throw new xe("{"+e.envName+"} can be used only in display mode.")};function jp(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function as(e,t,r){var{hskipBeforeAndAfter:n,addJot:s,cols:o,arraystretch:u,colSeparationType:d,autoTag:f,singleRow:h,emptySingleRow:p,maxNumCols:g,leqno:y}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!u){var x=e.gullet.expandMacroAsText("\\arraystretch");if(x==null)u=1;else if(u=parseFloat(x),!u||u<0)throw new xe("Invalid \\arraystretch: "+x)}e.gullet.beginGroup();var k=[],S=[k],A=[],C=[],R=f!=null?[]:void 0;function M(){f&&e.gullet.macros.set("\\@eqnsw","1",!0)}function I(){R&&(e.gullet.macros.get("\\df@tag")?(R.push(e.subparse([new Ja("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):R.push(!!f&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(M(),C.push(Ry(e));;){var D=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),D={type:"ordgroup",mode:e.mode,body:D},r&&(D={type:"styling",mode:e.mode,style:r,body:[D]}),k.push(D);var B=e.fetch().text;if(B==="&"){if(g&&k.length===g){if(h||d)throw new xe("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(B==="\\end"){I(),k.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(S.length>1||!p)&&S.pop(),C.length<S.length+1&&C.push([]);break}else if(B==="\\\\"){e.consume();var E=void 0;e.gullet.future().text!==" "&&(E=e.parseSizeGroup(!0)),A.push(E?E.value:null),I(),C.push(Ry(e)),k=[],S.push(k),M()}else throw new xe("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:s,arraystretch:u,body:S,cols:o,rowGaps:A,hskipBeforeAndAfter:n,hLinesBeforeRow:C,colSeparationType:d,tags:R,leqno:y}}function $p(e){return e.slice(0,1)==="d"?"display":"text"}var Nn=function(t,r){var n,s,o=t.body.length,u=t.hLinesBeforeRow,d=0,f=new Array(o),h=[],p=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),g=1/r.fontMetrics().ptPerEm,y=5*g;if(t.colSeparationType&&t.colSeparationType==="small"){var x=r.havingStyle(Ge.SCRIPT).sizeMultiplier;y=.2778*(x/r.sizeMultiplier)}var k=t.colSeparationType==="CD"?ur({number:3,unit:"ex"},r):12*g,S=3*g,A=t.arraystretch*k,C=.7*A,R=.3*A,M=0;function I(_t){for(var xt=0;xt<_t.length;++xt)xt>0&&(M+=.25),h.push({pos:M,isDashed:_t[xt]})}for(I(u[0]),n=0;n<t.body.length;++n){var D=t.body[n],B=C,E=R;d<D.length&&(d=D.length);var j=new Array(D.length);for(s=0;s<D.length;++s){var F=bt(D[s],r);E<F.depth&&(E=F.depth),B<F.height&&(B=F.height),j[s]=F}var ue=t.rowGaps[n],ee=0;ue&&(ee=ur(ue,r),ee>0&&(ee+=R,E<ee&&(E=ee),ee=0)),t.addJot&&(E+=S),j.height=B,j.depth=E,M+=B,j.pos=M,M+=E+ee,f[n]=j,I(u[n+1])}var V=M/2+r.fontMetrics().axisHeight,K=t.cols||[],X=[],re,$,Z=[];if(t.tags&&t.tags.some(_t=>_t))for(n=0;n<o;++n){var J=f[n],Ae=J.pos-V,ze=t.tags[n],L=void 0;ze===!0?L=ne.makeSpan(["eqn-num"],[],r):ze===!1?L=ne.makeSpan([],[],r):L=ne.makeSpan([],jr(ze,r,!0),r),L.depth=J.depth,L.height=J.height,Z.push({type:"elem",elem:L,shift:Ae})}for(s=0,$=0;s<d||$<K.length;++s,++$){for(var ie=K[$]||{},W=!0;ie.type==="separator";){if(W||(re=ne.makeSpan(["arraycolsep"],[]),re.style.width=ke(r.fontMetrics().doubleRuleSep),X.push(re)),ie.separator==="|"||ie.separator===":"){var te=ie.separator==="|"?"solid":"dashed",ge=ne.makeSpan(["vertical-separator"],[],r);ge.style.height=ke(M),ge.style.borderRightWidth=ke(p),ge.style.borderRightStyle=te,ge.style.margin="0 "+ke(-p/2);var Te=M-V;Te&&(ge.style.verticalAlign=ke(-Te)),X.push(ge)}else throw new xe("Invalid separator type: "+ie.separator);$++,ie=K[$]||{},W=!1}if(!(s>=d)){var le=void 0;(s>0||t.hskipBeforeAndAfter)&&(le=He.deflt(ie.pregap,y),le!==0&&(re=ne.makeSpan(["arraycolsep"],[]),re.style.width=ke(le),X.push(re)));var Me=[];for(n=0;n<o;++n){var je=f[n],Ye=je[s];if(Ye){var nt=je.pos-V;Ye.depth=je.depth,Ye.height=je.height,Me.push({type:"elem",elem:Ye,shift:nt})}}Me=ne.makeVList({positionType:"individualShift",children:Me},r),Me=ne.makeSpan(["col-align-"+(ie.align||"c")],[Me]),X.push(Me),(s<d-1||t.hskipBeforeAndAfter)&&(le=He.deflt(ie.postgap,y),le!==0&&(re=ne.makeSpan(["arraycolsep"],[]),re.style.width=ke(le),X.push(re)))}}if(f=ne.makeSpan(["mtable"],X),h.length>0){for(var tt=ne.makeLineSpan("hline",r,p),Dt=ne.makeLineSpan("hdashline",r,p),kt=[{type:"elem",elem:f,shift:0}];h.length>0;){var Yt=h.pop(),Ut=Yt.pos-V;Yt.isDashed?kt.push({type:"elem",elem:Dt,shift:Ut}):kt.push({type:"elem",elem:tt,shift:Ut})}f=ne.makeVList({positionType:"individualShift",children:kt},r)}if(Z.length===0)return ne.makeSpan(["mord"],[f],r);var er=ne.makeVList({positionType:"individualShift",children:Z},r);return er=ne.makeSpan(["tag"],[er],r),ne.makeFragment([f,er])},gz={c:"center ",l:"left ",r:"right "},On=function(t,r){for(var n=[],s=new be.MathNode("mtd",[],["mtr-glue"]),o=new be.MathNode("mtd",[],["mml-eqn-num"]),u=0;u<t.body.length;u++){for(var d=t.body[u],f=[],h=0;h<d.length;h++)f.push(new be.MathNode("mtd",[Bt(d[h],r)]));t.tags&&t.tags[u]&&(f.unshift(s),f.push(s),t.leqno?f.unshift(o):f.push(o)),n.push(new be.MathNode("mtr",f))}var p=new be.MathNode("mtable",n),g=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);p.setAttribute("rowspacing",ke(g));var y="",x="";if(t.cols&&t.cols.length>0){var k=t.cols,S="",A=!1,C=0,R=k.length;k[0].type==="separator"&&(y+="top ",C=1),k[k.length-1].type==="separator"&&(y+="bottom ",R-=1);for(var M=C;M<R;M++)k[M].type==="align"?(x+=gz[k[M].align],A&&(S+="none "),A=!0):k[M].type==="separator"&&A&&(S+=k[M].separator==="|"?"solid ":"dashed ",A=!1);p.setAttribute("columnalign",x.trim()),/[sd]/.test(S)&&p.setAttribute("columnlines",S.trim())}if(t.colSeparationType==="align"){for(var I=t.cols||[],D="",B=1;B<I.length;B++)D+=B%2?"0em ":"1em ";p.setAttribute("columnspacing",D.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?p.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?p.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?p.setAttribute("columnspacing","0.5em"):p.setAttribute("columnspacing","1em");var E="",j=t.hLinesBeforeRow;y+=j[0].length>0?"left ":"",y+=j[j.length-1].length>0?"right ":"";for(var F=1;F<j.length-1;F++)E+=j[F].length===0?"none ":j[F][0]?"dashed ":"solid ";return/[sd]/.test(E)&&p.setAttribute("rowlines",E.trim()),y!==""&&(p=new be.MathNode("menclose",[p]),p.setAttribute("notation",y.trim())),t.arraystretch&&t.arraystretch<1&&(p=new be.MathNode("mstyle",[p]),p.setAttribute("scriptlevel","1")),p},M6=function(t,r){t.envName.indexOf("ed")===-1&&vd(t);var n=[],s=t.envName.indexOf("at")>-1?"alignat":"align",o=t.envName==="split",u=as(t.parser,{cols:n,addJot:!0,autoTag:o?void 0:jp(t.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:o?2:void 0,leqno:t.parser.settings.leqno},"display"),d,f=0,h={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var p="",g=0;g<r[0].body.length;g++){var y=at(r[0].body[g],"textord");p+=y.text}d=Number(p),f=d*2}var x=!f;u.body.forEach(function(C){for(var R=1;R<C.length;R+=2){var M=at(C[R],"styling"),I=at(M.body[0],"ordgroup");I.body.unshift(h)}if(x)f<C.length&&(f=C.length);else{var D=C.length/2;if(d<D)throw new xe("Too many math in a row: "+("expected "+d+", but got "+D),C[0])}});for(var k=0;k<f;++k){var S="r",A=0;k%2===1?S="l":k>0&&x&&(A=1),n[k]={type:"align",align:S,pregap:A,postgap:0}}return u.colSeparationType=x?"align":"alignat",u};Mn({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=hd(t[0]),n=r?[t[0]]:at(t[0],"ordgroup").body,s=n.map(function(u){var d=Op(u),f=d.text;if("lcr".indexOf(f)!==-1)return{type:"align",align:f};if(f==="|")return{type:"separator",separator:"|"};if(f===":")return{type:"separator",separator:":"};throw new xe("Unknown column alignment: "+f,u)}),o={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return as(e.parser,o,$p(e.envName))},htmlBuilder:Nn,mathmlBuilder:On});Mn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var s=e.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),r=s.fetch().text,"lcr".indexOf(r)===-1)throw new xe("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),n.cols=[{type:"align",align:r}]}}var o=as(e.parser,n,$p(e.envName)),u=Math.max(0,...o.body.map(d=>d.length));return o.cols=new Array(u).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:Nn,mathmlBuilder:On});Mn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=as(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:Nn,mathmlBuilder:On});Mn({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=hd(t[0]),n=r?[t[0]]:at(t[0],"ordgroup").body,s=n.map(function(u){var d=Op(u),f=d.text;if("lc".indexOf(f)!==-1)return{type:"align",align:f};throw new xe("Unknown column alignment: "+f,u)});if(s.length>1)throw new xe("{subarray} can contain only one column");var o={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=as(e.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new xe("{subarray} can contain only one column");return o},htmlBuilder:Nn,mathmlBuilder:On});Mn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=as(e.parser,t,$p(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Nn,mathmlBuilder:On});Mn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:M6,htmlBuilder:Nn,mathmlBuilder:On});Mn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){He.contains(["gather","gather*"],e.envName)&&vd(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:jp(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return as(e.parser,t,"display")},htmlBuilder:Nn,mathmlBuilder:On});Mn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:M6,htmlBuilder:Nn,mathmlBuilder:On});Mn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){vd(e);var t={autoTag:jp(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return as(e.parser,t,"display")},htmlBuilder:Nn,mathmlBuilder:On});Mn({type:"array",names:["CD"],props:{numArgs:0},handler(e){return vd(e),az(e.parser)},htmlBuilder:Nn,mathmlBuilder:On});O("\\nonumber","\\gdef\\@eqnsw{0}");O("\\notag","\\nonumber");Ee({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new xe(e.funcName+" valid only within array environment")}});var Iy=A6;Ee({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,s=t[0];if(s.type!=="ordgroup")throw new xe("Invalid environment name",s);for(var o="",u=0;u<s.body.length;++u)o+=at(s.body[u],"textord").text;if(n==="\\begin"){if(!Iy.hasOwnProperty(o))throw new xe("No such environment: "+o,s);var d=Iy[o],{args:f,optArgs:h}=r.parseArguments("\\begin{"+o+"}",d),p={mode:r.mode,envName:o,parser:r},g=d.handler(p,f,h);r.expect("\\end",!1);var y=r.nextToken,x=at(r.parseFunction(),"environment");if(x.name!==o)throw new xe("Mismatch: \\begin{"+o+"} matched by \\end{"+x.name+"}",y);return g}return{type:"environment",mode:r.mode,name:o,nameGroup:s}}});var N6=(e,t)=>{var r=e.font,n=t.withFont(r);return bt(e.body,n)},O6=(e,t)=>{var r=e.font,n=t.withFont(r);return Bt(e.body,n)},Dy={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ee({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=Bc(t[0]),o=n;return o in Dy&&(o=Dy[o]),{type:"font",mode:r.mode,font:o.slice(1),body:s}},htmlBuilder:N6,mathmlBuilder:O6});Ee({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],s=He.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:md(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:s}}});Ee({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:s}=e,{mode:o}=r,u=r.parseExpression(!0,s),d="math"+n.slice(1);return{type:"font",mode:o,font:d,body:{type:"ordgroup",mode:r.mode,body:u}}},htmlBuilder:N6,mathmlBuilder:O6});var C6=(e,t)=>{var r=t;return e==="display"?r=r.id>=Ge.SCRIPT.id?r.text():Ge.DISPLAY:e==="text"&&r.size===Ge.DISPLAY.size?r=Ge.TEXT:e==="script"?r=Ge.SCRIPT:e==="scriptscript"&&(r=Ge.SCRIPTSCRIPT),r},Bp=(e,t)=>{var r=C6(e.size,t.style),n=r.fracNum(),s=r.fracDen(),o;o=t.havingStyle(n);var u=bt(e.numer,o,t);if(e.continued){var d=8.5/t.fontMetrics().ptPerEm,f=3.5/t.fontMetrics().ptPerEm;u.height=u.height<d?d:u.height,u.depth=u.depth<f?f:u.depth}o=t.havingStyle(s);var h=bt(e.denom,o,t),p,g,y;e.hasBarLine?(e.barSize?(g=ur(e.barSize,t),p=ne.makeLineSpan("frac-line",t,g)):p=ne.makeLineSpan("frac-line",t),g=p.height,y=p.height):(p=null,g=0,y=t.fontMetrics().defaultRuleThickness);var x,k,S;r.size===Ge.DISPLAY.size||e.size==="display"?(x=t.fontMetrics().num1,g>0?k=3*y:k=7*y,S=t.fontMetrics().denom1):(g>0?(x=t.fontMetrics().num2,k=y):(x=t.fontMetrics().num3,k=3*y),S=t.fontMetrics().denom2);var A;if(p){var R=t.fontMetrics().axisHeight;x-u.depth-(R+.5*g)<k&&(x+=k-(x-u.depth-(R+.5*g))),R-.5*g-(h.height-S)<k&&(S+=k-(R-.5*g-(h.height-S)));var M=-(R-.5*g);A=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:S},{type:"elem",elem:p,shift:M},{type:"elem",elem:u,shift:-x}]},t)}else{var C=x-u.depth-(h.height-S);C<k&&(x+=.5*(k-C),S+=.5*(k-C)),A=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:S},{type:"elem",elem:u,shift:-x}]},t)}o=t.havingStyle(r),A.height*=o.sizeMultiplier/t.sizeMultiplier,A.depth*=o.sizeMultiplier/t.sizeMultiplier;var I;r.size===Ge.DISPLAY.size?I=t.fontMetrics().delim1:r.size===Ge.SCRIPTSCRIPT.size?I=t.havingStyle(Ge.SCRIPT).fontMetrics().delim2:I=t.fontMetrics().delim2;var D,B;return e.leftDelim==null?D=xu(t,["mopen"]):D=ni.customSizedDelim(e.leftDelim,I,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?B=ne.makeSpan([]):e.rightDelim==null?B=xu(t,["mclose"]):B=ni.customSizedDelim(e.rightDelim,I,!0,t.havingStyle(r),e.mode,["mclose"]),ne.makeSpan(["mord"].concat(o.sizingClasses(t)),[D,ne.makeSpan(["mfrac"],[A]),B],t)},Lp=(e,t)=>{var r=new be.MathNode("mfrac",[Bt(e.numer,t),Bt(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=ur(e.barSize,t);r.setAttribute("linethickness",ke(n))}var s=C6(e.size,t.style);if(s.size!==t.style.size){r=new be.MathNode("mstyle",[r]);var o=s.size===Ge.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",o),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var u=[];if(e.leftDelim!=null){var d=new be.MathNode("mo",[new be.TextNode(e.leftDelim.replace("\\",""))]);d.setAttribute("fence","true"),u.push(d)}if(u.push(r),e.rightDelim!=null){var f=new be.MathNode("mo",[new be.TextNode(e.rightDelim.replace("\\",""))]);f.setAttribute("fence","true"),u.push(f)}return Mp(u)}return r};Ee({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0],o=t[1],u,d=null,f=null,h="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":u=!0;break;case"\\\\atopfrac":u=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":u=!1,d="(",f=")";break;case"\\\\bracefrac":u=!1,d="\\{",f="\\}";break;case"\\\\brackfrac":u=!1,d="[",f="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:s,denom:o,hasBarLine:u,leftDelim:d,rightDelim:f,size:h,barSize:null}},htmlBuilder:Bp,mathmlBuilder:Lp});Ee({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0],o=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:s,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ee({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,s;switch(r){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:s,token:n}}});var jy=["display","text","script","scriptscript"],$y=function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r};Ee({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],s=t[5],o=Bc(t[0]),u=o.type==="atom"&&o.family==="open"?$y(o.text):null,d=Bc(t[1]),f=d.type==="atom"&&d.family==="close"?$y(d.text):null,h=at(t[2],"size"),p,g=null;h.isBlank?p=!0:(g=h.value,p=g.number>0);var y="auto",x=t[3];if(x.type==="ordgroup"){if(x.body.length>0){var k=at(x.body[0],"textord");y=jy[Number(k.text)]}}else x=at(x,"textord"),y=jy[Number(x.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:s,continued:!1,hasBarLine:p,barSize:g,leftDelim:u,rightDelim:f,size:y}},htmlBuilder:Bp,mathmlBuilder:Lp});Ee({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:s}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:at(t[0],"size").value,token:s}}});Ee({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0],o=FS(at(t[1],"infix").size),u=t[2],d=o.number>0;return{type:"genfrac",mode:r.mode,numer:s,denom:u,continued:!1,hasBarLine:d,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Bp,mathmlBuilder:Lp});var R6=(e,t)=>{var r=t.style,n,s;e.type==="supsub"?(n=e.sup?bt(e.sup,t.havingStyle(r.sup()),t):bt(e.sub,t.havingStyle(r.sub()),t),s=at(e.base,"horizBrace")):s=at(e,"horizBrace");var o=bt(s.base,t.havingBaseStyle(Ge.DISPLAY)),u=oi.svgSpan(s,t),d;if(s.isOver?(d=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:u}]},t),d.children[0].children[0].children[1].classes.push("svg-align")):(d=ne.makeVList({positionType:"bottom",positionData:o.depth+.1+u.height,children:[{type:"elem",elem:u},{type:"kern",size:.1},{type:"elem",elem:o}]},t),d.children[0].children[0].children[0].classes.push("svg-align")),n){var f=ne.makeSpan(["mord",s.isOver?"mover":"munder"],[d],t);s.isOver?d=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f},{type:"kern",size:.2},{type:"elem",elem:n}]},t):d=ne.makeVList({positionType:"bottom",positionData:f.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:f}]},t)}return ne.makeSpan(["mord",s.isOver?"mover":"munder"],[d],t)},yz=(e,t)=>{var r=oi.mathMLnode(e.label);return new be.MathNode(e.isOver?"mover":"munder",[Bt(e.base,t),r])};Ee({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:R6,mathmlBuilder:yz});Ee({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],s=at(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:r.mode,href:s,body:zr(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=jr(e.body,t,!1);return ne.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=Wi(e.body,t);return r instanceof Oa||(r=new Oa("mrow",[r])),r.setAttribute("href",e.href),r}});Ee({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=at(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var s=[],o=0;o<n.length;o++){var u=n[o];u==="~"&&(u="\\textasciitilde"),s.push({type:"textord",mode:"text",text:u})}var d={type:"text",mode:r.mode,font:"\\texttt",body:s};return{type:"href",mode:r.mode,href:n,body:zr(d)}}});Ee({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:zr(t[0])}},htmlBuilder(e,t){var r=jr(e.body,t,!1);return ne.makeFragment(r)},mathmlBuilder(e,t){return new be.MathNode("mrow",pa(e.body,t))}});Ee({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,token:s}=e,o=at(t[0],"raw").string,u=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var d,f={};switch(n){case"\\htmlClass":f.class=o,d={command:"\\htmlClass",class:o};break;case"\\htmlId":f.id=o,d={command:"\\htmlId",id:o};break;case"\\htmlStyle":f.style=o,d={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var h=o.split(","),p=0;p<h.length;p++){var g=h[p].split("=");if(g.length!==2)throw new xe("Error parsing key-value for \\htmlData");f["data-"+g[0].trim()]=g[1].trim()}d={command:"\\htmlData",attributes:f};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(d)?{type:"html",mode:r.mode,attributes:f,body:zr(u)}:r.formatUnsupportedCmd(n)},htmlBuilder:(e,t)=>{var r=jr(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var s=ne.makeSpan(n,r,t);for(var o in e.attributes)o!=="class"&&e.attributes.hasOwnProperty(o)&&s.setAttribute(o,e.attributes[o]);return s},mathmlBuilder:(e,t)=>Wi(e.body,t)});Ee({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:zr(t[0]),mathml:zr(t[1])}},htmlBuilder:(e,t)=>{var r=jr(e.html,t,!1);return ne.makeFragment(r)},mathmlBuilder:(e,t)=>Wi(e.mathml,t)});var im=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new xe("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!W5(n))throw new xe("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Ee({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,s={number:0,unit:"em"},o={number:.9,unit:"em"},u={number:0,unit:"em"},d="";if(r[0])for(var f=at(r[0],"raw").string,h=f.split(","),p=0;p<h.length;p++){var g=h[p].split("=");if(g.length===2){var y=g[1].trim();switch(g[0].trim()){case"alt":d=y;break;case"width":s=im(y);break;case"height":o=im(y);break;case"totalheight":u=im(y);break;default:throw new xe("Invalid key: '"+g[0]+"' in \\includegraphics.")}}}var x=at(t[0],"url").url;return d===""&&(d=x,d=d.replace(/^.*[\\/]/,""),d=d.substring(0,d.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:x})?{type:"includegraphics",mode:n.mode,alt:d,width:s,height:o,totalheight:u,src:x}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=ur(e.height,t),n=0;e.totalheight.number>0&&(n=ur(e.totalheight,t)-r);var s=0;e.width.number>0&&(s=ur(e.width,t));var o={height:ke(r+n)};s>0&&(o.width=ke(s)),n>0&&(o.verticalAlign=ke(-n));var u=new y_(e.src,e.alt,o);return u.height=r,u.depth=n,u},mathmlBuilder:(e,t)=>{var r=new be.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=ur(e.height,t),s=0;if(e.totalheight.number>0&&(s=ur(e.totalheight,t)-n,r.setAttribute("valign",ke(-s))),r.setAttribute("height",ke(n+s)),e.width.number>0){var o=ur(e.width,t);r.setAttribute("width",ke(o))}return r.setAttribute("src",e.src),r}});Ee({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,s=at(t[0],"size");if(r.settings.strict){var o=n[1]==="m",u=s.value.unit==="mu";o?(u||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+s.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):u&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:s.value}},htmlBuilder(e,t){return ne.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=ur(e.dimension,t);return new be.SpaceNode(r)}});Ee({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:s}},htmlBuilder:(e,t)=>{var r;e.alignment==="clap"?(r=ne.makeSpan([],[bt(e.body,t)]),r=ne.makeSpan(["inner"],[r],t)):r=ne.makeSpan(["inner"],[bt(e.body,t)]);var n=ne.makeSpan(["fix"],[]),s=ne.makeSpan([e.alignment],[r,n],t),o=ne.makeSpan(["strut"]);return o.style.height=ke(s.height+s.depth),s.depth&&(o.style.verticalAlign=ke(-s.depth)),s.children.unshift(o),s=ne.makeSpan(["thinbox"],[s],t),ne.makeSpan(["mord","vbox"],[s],t)},mathmlBuilder:(e,t)=>{var r=new be.MathNode("mpadded",[Bt(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});Ee({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,s=n.mode;n.switchMode("math");var o=r==="\\("?"\\)":"$",u=n.parseExpression(!1,o);return n.expect(o),n.switchMode(s),{type:"styling",mode:n.mode,style:"text",body:u}}});Ee({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new xe("Mismatched "+e.funcName)}});var By=(e,t)=>{switch(t.style.size){case Ge.DISPLAY.size:return e.display;case Ge.TEXT.size:return e.text;case Ge.SCRIPT.size:return e.script;case Ge.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Ee({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:zr(t[0]),text:zr(t[1]),script:zr(t[2]),scriptscript:zr(t[3])}},htmlBuilder:(e,t)=>{var r=By(e,t),n=jr(r,t,!1);return ne.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=By(e,t);return Wi(r,t)}});var I6=(e,t,r,n,s,o,u)=>{e=ne.makeSpan([],[e]);var d=r&&He.isCharacterBox(r),f,h;if(t){var p=bt(t,n.havingStyle(s.sup()),n);h={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-p.depth)}}if(r){var g=bt(r,n.havingStyle(s.sub()),n);f={elem:g,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-g.height)}}var y;if(h&&f){var x=n.fontMetrics().bigOpSpacing5+f.elem.height+f.elem.depth+f.kern+e.depth+u;y=ne.makeVList({positionType:"bottom",positionData:x,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:f.elem,marginLeft:ke(-o)},{type:"kern",size:f.kern},{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:ke(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(f){var k=e.height-u;y=ne.makeVList({positionType:"top",positionData:k,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:f.elem,marginLeft:ke(-o)},{type:"kern",size:f.kern},{type:"elem",elem:e}]},n)}else if(h){var S=e.depth+u;y=ne.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:ke(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var A=[y];if(f&&o!==0&&!d){var C=ne.makeSpan(["mspace"],[],n);C.style.marginRight=ke(o),A.unshift(C)}return ne.makeSpan(["mop","op-limits"],A,n)},D6=["\\smallint"],el=(e,t)=>{var r,n,s=!1,o;e.type==="supsub"?(r=e.sup,n=e.sub,o=at(e.base,"op"),s=!0):o=at(e,"op");var u=t.style,d=!1;u.size===Ge.DISPLAY.size&&o.symbol&&!He.contains(D6,o.name)&&(d=!0);var f;if(o.symbol){var h=d?"Size2-Regular":"Size1-Regular",p="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(p=o.name.slice(1),o.name=p==="oiint"?"\\iint":"\\iiint"),f=ne.makeSymbol(o.name,h,"math",t,["mop","op-symbol",d?"large-op":"small-op"]),p.length>0){var g=f.italic,y=ne.staticSvg(p+"Size"+(d?"2":"1"),t);f=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:0},{type:"elem",elem:y,shift:d?.08:0}]},t),o.name="\\"+p,f.classes.unshift("mop"),f.italic=g}}else if(o.body){var x=jr(o.body,t,!0);x.length===1&&x[0]instanceof Wa?(f=x[0],f.classes[0]="mop"):f=ne.makeSpan(["mop"],x,t)}else{for(var k=[],S=1;S<o.name.length;S++)k.push(ne.mathsym(o.name[S],o.mode,t));f=ne.makeSpan(["mop"],k,t)}var A=0,C=0;return(f instanceof Wa||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(A=(f.height-f.depth)/2-t.fontMetrics().axisHeight,C=f.italic),s?I6(f,r,n,t,u,C,A):(A&&(f.style.position="relative",f.style.top=ke(A)),f)},ju=(e,t)=>{var r;if(e.symbol)r=new Oa("mo",[Qa(e.name,e.mode)]),He.contains(D6,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Oa("mo",pa(e.body,t));else{r=new Oa("mi",[new En(e.name.slice(1))]);var n=new Oa("mo",[Qa("","text")]);e.parentIsSupSub?r=new Oa("mrow",[r,n]):r=u6([r,n])}return r},bz={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Ee({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=n;return s.length===1&&(s=bz[s]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:el,mathmlBuilder:ju});Ee({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:zr(n)}},htmlBuilder:el,mathmlBuilder:ju});var xz={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Ee({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:el,mathmlBuilder:ju});Ee({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:el,mathmlBuilder:ju});Ee({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=xz[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:el,mathmlBuilder:ju});var j6=(e,t)=>{var r,n,s=!1,o;e.type==="supsub"?(r=e.sup,n=e.sub,o=at(e.base,"operatorname"),s=!0):o=at(e,"operatorname");var u;if(o.body.length>0){for(var d=o.body.map(g=>{var y=g.text;return typeof y=="string"?{type:"textord",mode:g.mode,text:y}:g}),f=jr(d,t.withFont("mathrm"),!0),h=0;h<f.length;h++){var p=f[h];p instanceof Wa&&(p.text=p.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}u=ne.makeSpan(["mop"],f,t)}else u=ne.makeSpan(["mop"],[],t);return s?I6(u,r,n,t,t.style,0,0):u},wz=(e,t)=>{for(var r=pa(e.body,t.withFont("mathrm")),n=!0,s=0;s<r.length;s++){var o=r[s];if(!(o instanceof be.SpaceNode))if(o instanceof be.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var u=o.children[0];o.children.length===1&&u instanceof be.TextNode?u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var d=r.map(p=>p.toText()).join("");r=[new be.TextNode(d)]}var f=new be.MathNode("mi",r);f.setAttribute("mathvariant","normal");var h=new be.MathNode("mo",[Qa("","text")]);return e.parentIsSupSub?new be.MathNode("mrow",[f,h]):be.newDocumentFragment([f,h])};Ee({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0];return{type:"operatorname",mode:r.mode,body:zr(s),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:j6,mathmlBuilder:wz});O("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Hs({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?ne.makeFragment(jr(e.body,t,!1)):ne.makeSpan(["mord"],jr(e.body,t,!0),t)},mathmlBuilder(e,t){return Wi(e.body,t,!0)}});Ee({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=bt(e.body,t.havingCrampedStyle()),n=ne.makeLineSpan("overline-line",t),s=t.fontMetrics().defaultRuleThickness,o=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*s},{type:"elem",elem:n},{type:"kern",size:s}]},t);return ne.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var r=new be.MathNode("mo",[new be.TextNode("")]);r.setAttribute("stretchy","true");var n=new be.MathNode("mover",[Bt(e.body,t),r]);return n.setAttribute("accent","true"),n}});Ee({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:zr(n)}},htmlBuilder:(e,t)=>{var r=jr(e.body,t.withPhantom(),!1);return ne.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=pa(e.body,t);return new be.MathNode("mphantom",r)}});Ee({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=ne.makeSpan([],[bt(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),ne.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=pa(zr(e.body),t),n=new be.MathNode("mphantom",r),s=new be.MathNode("mpadded",[n]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});Ee({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=ne.makeSpan(["inner"],[bt(e.body,t.withPhantom())]),n=ne.makeSpan(["fix"],[]);return ne.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=pa(zr(e.body),t),n=new be.MathNode("mphantom",r),s=new be.MathNode("mpadded",[n]);return s.setAttribute("width","0px"),s}});Ee({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=at(t[0],"size").value,s=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:s}},htmlBuilder(e,t){var r=bt(e.body,t),n=ur(e.dy,t);return ne.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new be.MathNode("mpadded",[Bt(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});Ee({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Ee({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,s=r[0],o=at(t[0],"size"),u=at(t[1],"size");return{type:"rule",mode:n.mode,shift:s&&at(s,"size").value,width:o.value,height:u.value}},htmlBuilder(e,t){var r=ne.makeSpan(["mord","rule"],[],t),n=ur(e.width,t),s=ur(e.height,t),o=e.shift?ur(e.shift,t):0;return r.style.borderRightWidth=ke(n),r.style.borderTopWidth=ke(s),r.style.bottom=ke(o),r.width=n,r.height=s+o,r.depth=-o,r.maxFontSize=s*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=ur(e.width,t),n=ur(e.height,t),s=e.shift?ur(e.shift,t):0,o=t.color&&t.getColor()||"black",u=new be.MathNode("mspace");u.setAttribute("mathbackground",o),u.setAttribute("width",ke(r)),u.setAttribute("height",ke(n));var d=new be.MathNode("mpadded",[u]);return s>=0?d.setAttribute("height",ke(s)):(d.setAttribute("height",ke(s)),d.setAttribute("depth",ke(-s))),d.setAttribute("voffset",ke(s)),d}});function $6(e,t,r){for(var n=jr(e,t,!1),s=t.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var u=n[o].classes.indexOf("sizing");u<0?Array.prototype.push.apply(n[o].classes,t.sizingClasses(r)):n[o].classes[u+1]==="reset-size"+t.size&&(n[o].classes[u+1]="reset-size"+r.size),n[o].height*=s,n[o].depth*=s}return ne.makeFragment(n)}var Ly=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Sz=(e,t)=>{var r=t.havingSize(e.size);return $6(e.body,r,t)};Ee({type:"sizing",names:Ly,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:s}=e,o=s.parseExpression(!1,r);return{type:"sizing",mode:s.mode,size:Ly.indexOf(n)+1,body:o}},htmlBuilder:Sz,mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=pa(e.body,r),s=new be.MathNode("mstyle",n);return s.setAttribute("mathsize",ke(r.sizeMultiplier)),s}});Ee({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,s=!1,o=!1,u=r[0]&&at(r[0],"ordgroup");if(u)for(var d="",f=0;f<u.body.length;++f){var h=u.body[f];if(d=h.text,d==="t")s=!0;else if(d==="b")o=!0;else{s=!1,o=!1;break}}else s=!0,o=!0;var p=t[0];return{type:"smash",mode:n.mode,body:p,smashHeight:s,smashDepth:o}},htmlBuilder:(e,t)=>{var r=ne.makeSpan([],[bt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var s=0;s<r.children.length;s++)r.children[s].depth=0;var o=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return ne.makeSpan(["mord"],[o],t)},mathmlBuilder:(e,t)=>{var r=new be.MathNode("mpadded",[Bt(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}});Ee({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,s=r[0],o=t[0];return{type:"sqrt",mode:n.mode,body:o,index:s}},htmlBuilder(e,t){var r=bt(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=ne.wrapFragment(r,t);var n=t.fontMetrics(),s=n.defaultRuleThickness,o=s;t.style.id<Ge.TEXT.id&&(o=t.fontMetrics().xHeight);var u=s+o/4,d=r.height+r.depth+u+s,{span:f,ruleWidth:h,advanceWidth:p}=ni.sqrtImage(d,t),g=f.height-h;g>r.height+r.depth+u&&(u=(u+g-r.height-r.depth)/2);var y=f.height-r.height-u-h;r.style.paddingLeft=ke(p);var x=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+y)},{type:"elem",elem:f},{type:"kern",size:h}]},t);if(e.index){var k=t.havingStyle(Ge.SCRIPTSCRIPT),S=bt(e.index,k,t),A=.6*(x.height-x.depth),C=ne.makeVList({positionType:"shift",positionData:-A,children:[{type:"elem",elem:S}]},t),R=ne.makeSpan(["root"],[C]);return ne.makeSpan(["mord","sqrt"],[R,x],t)}else return ne.makeSpan(["mord","sqrt"],[x],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new be.MathNode("mroot",[Bt(r,t),Bt(n,t)]):new be.MathNode("msqrt",[Bt(r,t)])}});var Uy={display:Ge.DISPLAY,text:Ge.TEXT,script:Ge.SCRIPT,scriptscript:Ge.SCRIPTSCRIPT};Ee({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:s}=e,o=s.parseExpression(!0,r),u=n.slice(1,n.length-5);return{type:"styling",mode:s.mode,style:u,body:o}},htmlBuilder(e,t){var r=Uy[e.style],n=t.havingStyle(r).withFont("");return $6(e.body,n,t)},mathmlBuilder(e,t){var r=Uy[e.style],n=t.havingStyle(r),s=pa(e.body,n),o=new be.MathNode("mstyle",s),u={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},d=u[e.style];return o.setAttribute("scriptlevel",d[0]),o.setAttribute("displaystyle",d[1]),o}});var _z=function(t,r){var n=t.base;if(n)if(n.type==="op"){var s=n.limits&&(r.style.size===Ge.DISPLAY.size||n.alwaysHandleSupSub);return s?el:null}else if(n.type==="operatorname"){var o=n.alwaysHandleSupSub&&(r.style.size===Ge.DISPLAY.size||n.limits);return o?j6:null}else{if(n.type==="accent")return He.isCharacterBox(n.base)?Cp:null;if(n.type==="horizBrace"){var u=!t.sub;return u===n.isOver?R6:null}else return null}else return null};Hs({type:"supsub",htmlBuilder(e,t){var r=_z(e,t);if(r)return r(e,t);var{base:n,sup:s,sub:o}=e,u=bt(n,t),d,f,h=t.fontMetrics(),p=0,g=0,y=n&&He.isCharacterBox(n);if(s){var x=t.havingStyle(t.style.sup());d=bt(s,x,t),y||(p=u.height-x.fontMetrics().supDrop*x.sizeMultiplier/t.sizeMultiplier)}if(o){var k=t.havingStyle(t.style.sub());f=bt(o,k,t),y||(g=u.depth+k.fontMetrics().subDrop*k.sizeMultiplier/t.sizeMultiplier)}var S;t.style===Ge.DISPLAY?S=h.sup1:t.style.cramped?S=h.sup3:S=h.sup2;var A=t.sizeMultiplier,C=ke(.5/h.ptPerEm/A),R=null;if(f){var M=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(u instanceof Wa||M)&&(R=ke(-u.italic))}var I;if(d&&f){p=Math.max(p,S,d.depth+.25*h.xHeight),g=Math.max(g,h.sub2);var D=h.defaultRuleThickness,B=4*D;if(p-d.depth-(f.height-g)<B){g=B-(p-d.depth)+f.height;var E=.8*h.xHeight-(p-d.depth);E>0&&(p+=E,g-=E)}var j=[{type:"elem",elem:f,shift:g,marginRight:C,marginLeft:R},{type:"elem",elem:d,shift:-p,marginRight:C}];I=ne.makeVList({positionType:"individualShift",children:j},t)}else if(f){g=Math.max(g,h.sub1,f.height-.8*h.xHeight);var F=[{type:"elem",elem:f,marginLeft:R,marginRight:C}];I=ne.makeVList({positionType:"shift",positionData:g,children:F},t)}else if(d)p=Math.max(p,S,d.depth+.25*h.xHeight),I=ne.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:d,marginRight:C}]},t);else throw new Error("supsub must have either sup or sub.");var ue=Hm(u,"right")||"mord";return ne.makeSpan([ue],[u,ne.makeSpan(["msupsub"],[I])],t)},mathmlBuilder(e,t){var r=!1,n,s;e.base&&e.base.type==="horizBrace"&&(s=!!e.sup,s===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var o=[Bt(e.base,t)];e.sub&&o.push(Bt(e.sub,t)),e.sup&&o.push(Bt(e.sup,t));var u;if(r)u=n?"mover":"munder";else if(e.sub)if(e.sup){var h=e.base;h&&h.type==="op"&&h.limits&&t.style===Ge.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(t.style===Ge.DISPLAY||h.limits)?u="munderover":u="msubsup"}else{var f=e.base;f&&f.type==="op"&&f.limits&&(t.style===Ge.DISPLAY||f.alwaysHandleSupSub)||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(f.limits||t.style===Ge.DISPLAY)?u="munder":u="msub"}else{var d=e.base;d&&d.type==="op"&&d.limits&&(t.style===Ge.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||t.style===Ge.DISPLAY)?u="mover":u="msup"}return new be.MathNode(u,o)}});Hs({type:"atom",htmlBuilder(e,t){return ne.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new be.MathNode("mo",[Qa(e.text,e.mode)]);if(e.family==="bin"){var n=Np(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});var B6={mi:"italic",mn:"normal",mtext:"normal"};Hs({type:"mathord",htmlBuilder(e,t){return ne.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new be.MathNode("mi",[Qa(e.text,e.mode,t)]),n=Np(e,t)||"italic";return n!==B6[r.type]&&r.setAttribute("mathvariant",n),r}});Hs({type:"textord",htmlBuilder(e,t){return ne.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=Qa(e.text,e.mode,t),n=Np(e,t)||"normal",s;return e.mode==="text"?s=new be.MathNode("mtext",[r]):/[0-9]/.test(e.text)?s=new be.MathNode("mn",[r]):e.text==="\\prime"?s=new be.MathNode("mo",[r]):s=new be.MathNode("mi",[r]),n!==B6[s.type]&&s.setAttribute("mathvariant",n),s}});var sm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},om={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Hs({type:"spacing",htmlBuilder(e,t){if(om.hasOwnProperty(e.text)){var r=om[e.text].className||"";if(e.mode==="text"){var n=ne.makeOrd(e,t,"textord");return n.classes.push(r),n}else return ne.makeSpan(["mspace",r],[ne.mathsym(e.text,e.mode,t)],t)}else{if(sm.hasOwnProperty(e.text))return ne.makeSpan(["mspace",sm[e.text]],[],t);throw new xe('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(om.hasOwnProperty(e.text))r=new be.MathNode("mtext",[new be.TextNode("")]);else{if(sm.hasOwnProperty(e.text))return new be.MathNode("mspace");throw new xe('Unknown type of space "'+e.text+'"')}return r}});var qy=()=>{var e=new be.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Hs({type:"tag",mathmlBuilder(e,t){var r=new be.MathNode("mtable",[new be.MathNode("mtr",[qy(),new be.MathNode("mtd",[Wi(e.body,t)]),qy(),new be.MathNode("mtd",[Wi(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var Hy={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Py={"\\textbf":"textbf","\\textmd":"textmd"},zz={"\\textit":"textit","\\textup":"textup"},Zy=(e,t)=>{var r=e.font;if(r){if(Hy[r])return t.withTextFontFamily(Hy[r]);if(Py[r])return t.withTextFontWeight(Py[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(zz[r])};Ee({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,s=t[0];return{type:"text",mode:r.mode,body:zr(s),font:n}},htmlBuilder(e,t){var r=Zy(e,t),n=jr(e.body,r,!0);return ne.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=Zy(e,t);return Wi(e.body,r)}});Ee({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=bt(e.body,t),n=ne.makeLineSpan("underline-line",t),s=t.fontMetrics().defaultRuleThickness,o=ne.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:s},{type:"elem",elem:n},{type:"kern",size:3*s},{type:"elem",elem:r}]},t);return ne.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var r=new be.MathNode("mo",[new be.TextNode("")]);r.setAttribute("stretchy","true");var n=new be.MathNode("munder",[Bt(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});Ee({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=bt(e.body,t),n=t.fontMetrics().axisHeight,s=.5*(r.height-n-(r.depth+n));return ne.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new be.MathNode("mpadded",[Bt(e.body,t)],["vcenter"])}});Ee({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new xe("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=Gy(e),n=[],s=t.havingStyle(t.style.text()),o=0;o<r.length;o++){var u=r[o];u==="~"&&(u="\\textasciitilde"),n.push(ne.makeSymbol(u,"Typewriter-Regular",e.mode,s,["mord","texttt"]))}return ne.makeSpan(["mord","text"].concat(s.sizingClasses(t)),ne.tryCombineChars(n),s)},mathmlBuilder(e,t){var r=new be.TextNode(Gy(e)),n=new be.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var Gy=e=>e.body.replace(/ /g,e.star?"":""),Vi=o6,L6=`[ \r
	]`,kz="\\\\[a-zA-Z@]+",Tz="\\\\[^\uD800-\uDFFF]",Az="("+kz+")"+L6+"*",Ez=`\\\\(
|[ \r	]+
?)[ \r	]*`,Vm="[-]",Mz=new RegExp(Vm+"+$"),Nz="("+L6+"+)|"+(Ez+"|")+"([!-\\[\\]---]"+(Vm+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Vm+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Az)+("|"+Tz+")");class Vy{constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(Nz,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new Ja("EOF",new Ea(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new xe("Unexpected character: '"+t[r]+"'",new Ja(t[r],new Ea(this,r,r+1)));var s=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[s]===14){var o=t.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Ja(s,new Ea(this,r,this.tokenRegex.lastIndex))}}class Oz{constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new xe("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(t)&&(o[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}}var Cz=E6;O("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});O("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});O("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});O("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});O("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});O("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");O("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var Yy={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};O("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new xe("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=Yy[t.text],n==null||n>=r)throw new xe("Invalid base-"+r+" digit "+t.text);for(var s;(s=Yy[e.future().text])!=null&&s<r;)n*=r,n+=s,e.popToken()}return"\\@char{"+n+"}"});var Up=(e,t,r,n)=>{var s=e.consumeArg().tokens;if(s.length!==1)throw new xe("\\newcommand's first argument must be a macro name");var o=s[0].text,u=e.isDefined(o);if(u&&!t)throw new xe("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!u&&!r)throw new xe("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var d=0;if(s=e.consumeArg().tokens,s.length===1&&s[0].text==="["){for(var f="",h=e.expandNextToken();h.text!=="]"&&h.text!=="EOF";)f+=h.text,h=e.expandNextToken();if(!f.match(/^\s*[0-9]+\s*$/))throw new xe("Invalid number of arguments: "+f);d=parseInt(f),s=e.consumeArg().tokens}return u&&n||e.macros.set(o,{tokens:s,numArgs:d}),""};O("\\newcommand",e=>Up(e,!1,!0,!1));O("\\renewcommand",e=>Up(e,!0,!1,!1));O("\\providecommand",e=>Up(e,!0,!0,!0));O("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});O("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});O("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Vi[r],Ht.math[r],Ht.text[r]),""});O("\\bgroup","{");O("\\egroup","}");O("~","\\nobreakspace");O("\\lq","`");O("\\rq","'");O("\\aa","\\r a");O("\\AA","\\r A");O("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");O("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");O("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");O("","\\mathscr{B}");O("","\\mathscr{E}");O("","\\mathscr{F}");O("","\\mathscr{H}");O("","\\mathscr{I}");O("","\\mathscr{L}");O("","\\mathscr{M}");O("","\\mathscr{R}");O("","\\mathfrak{C}");O("","\\mathfrak{H}");O("","\\mathfrak{Z}");O("\\Bbbk","\\Bbb{k}");O("","\\cdotp");O("\\llap","\\mathllap{\\textrm{#1}}");O("\\rlap","\\mathrlap{\\textrm{#1}}");O("\\clap","\\mathclap{\\textrm{#1}}");O("\\mathstrut","\\vphantom{(}");O("\\underbar","\\underline{\\text{#1}}");O("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');O("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");O("\\ne","\\neq");O("","\\neq");O("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");O("","\\notin");O("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");O("","\\perp");O("","\\mathclose{!\\mkern-0.8mu!}");O("","\\notni");O("","\\ulcorner");O("","\\urcorner");O("","\\llcorner");O("","\\lrcorner");O("","\\copyright");O("","\\textregistered");O("","\\textregistered");O("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');O("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');O("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');O("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');O("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");O("","\\vdots");O("\\varGamma","\\mathit{\\Gamma}");O("\\varDelta","\\mathit{\\Delta}");O("\\varTheta","\\mathit{\\Theta}");O("\\varLambda","\\mathit{\\Lambda}");O("\\varXi","\\mathit{\\Xi}");O("\\varPi","\\mathit{\\Pi}");O("\\varSigma","\\mathit{\\Sigma}");O("\\varUpsilon","\\mathit{\\Upsilon}");O("\\varPhi","\\mathit{\\Phi}");O("\\varPsi","\\mathit{\\Psi}");O("\\varOmega","\\mathit{\\Omega}");O("\\substack","\\begin{subarray}{c}#1\\end{subarray}");O("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");O("\\boxed","\\fbox{$\\displaystyle{#1}$}");O("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");O("\\implies","\\DOTSB\\;\\Longrightarrow\\;");O("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");O("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");O("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Fy={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};O("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in Fy?t=Fy[r]:(r.slice(0,4)==="\\not"||r in Ht.math&&He.contains(["bin","rel"],Ht.math[r].group))&&(t="\\dotsb"),t});var qp={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};O("\\dotso",function(e){var t=e.future().text;return t in qp?"\\ldots\\,":"\\ldots"});O("\\dotsc",function(e){var t=e.future().text;return t in qp&&t!==","?"\\ldots\\,":"\\ldots"});O("\\cdots",function(e){var t=e.future().text;return t in qp?"\\@cdots\\,":"\\@cdots"});O("\\dotsb","\\cdots");O("\\dotsm","\\cdots");O("\\dotsi","\\!\\cdots");O("\\dotsx","\\ldots\\,");O("\\DOTSI","\\relax");O("\\DOTSB","\\relax");O("\\DOTSX","\\relax");O("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");O("\\,","\\tmspace+{3mu}{.1667em}");O("\\thinspace","\\,");O("\\>","\\mskip{4mu}");O("\\:","\\tmspace+{4mu}{.2222em}");O("\\medspace","\\:");O("\\;","\\tmspace+{5mu}{.2777em}");O("\\thickspace","\\;");O("\\!","\\tmspace-{3mu}{.1667em}");O("\\negthinspace","\\!");O("\\negmedspace","\\tmspace-{4mu}{.2222em}");O("\\negthickspace","\\tmspace-{5mu}{.277em}");O("\\enspace","\\kern.5em ");O("\\enskip","\\hskip.5em\\relax");O("\\quad","\\hskip1em\\relax");O("\\qquad","\\hskip2em\\relax");O("\\tag","\\@ifstar\\tag@literal\\tag@paren");O("\\tag@paren","\\tag@literal{({#1})}");O("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new xe("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});O("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");O("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");O("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");O("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");O("\\newline","\\\\\\relax");O("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var U6=ke(An["Main-Regular"][84][1]-.7*An["Main-Regular"][65][1]);O("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+U6+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");O("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+U6+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");O("\\hspace","\\@ifstar\\@hspacer\\@hspace");O("\\@hspace","\\hskip #1\\relax");O("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");O("\\ordinarycolon",":");O("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");O("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');O("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');O("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');O("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');O("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');O("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');O("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');O("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');O("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');O("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');O("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');O("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');O("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');O("","\\dblcolon");O("","\\eqcolon");O("","\\coloneqq");O("","\\eqqcolon");O("","\\Coloneqq");O("\\ratio","\\vcentcolon");O("\\coloncolon","\\dblcolon");O("\\colonequals","\\coloneqq");O("\\coloncolonequals","\\Coloneqq");O("\\equalscolon","\\eqqcolon");O("\\equalscoloncolon","\\Eqqcolon");O("\\colonminus","\\coloneq");O("\\coloncolonminus","\\Coloneq");O("\\minuscolon","\\eqcolon");O("\\minuscoloncolon","\\Eqcolon");O("\\coloncolonapprox","\\Colonapprox");O("\\coloncolonsim","\\Colonsim");O("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");O("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");O("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");O("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");O("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");O("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");O("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");O("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");O("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");O("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");O("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");O("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");O("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");O("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");O("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");O("\\ngeqq","\\html@mathml{\\@ngeqq}{}");O("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");O("\\nleqq","\\html@mathml{\\@nleqq}{}");O("\\nleqslant","\\html@mathml{\\@nleqslant}{}");O("\\nshortmid","\\html@mathml{\\@nshortmid}{}");O("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");O("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");O("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");O("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");O("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");O("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");O("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");O("\\imath","\\html@mathml{\\@imath}{}");O("\\jmath","\\html@mathml{\\@jmath}{}");O("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");O("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");O("","\\llbracket");O("","\\rrbracket");O("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");O("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");O("","\\lBrace");O("","\\rBrace");O("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");O("","\\minuso");O("\\darr","\\downarrow");O("\\dArr","\\Downarrow");O("\\Darr","\\Downarrow");O("\\lang","\\langle");O("\\rang","\\rangle");O("\\uarr","\\uparrow");O("\\uArr","\\Uparrow");O("\\Uarr","\\Uparrow");O("\\N","\\mathbb{N}");O("\\R","\\mathbb{R}");O("\\Z","\\mathbb{Z}");O("\\alef","\\aleph");O("\\alefsym","\\aleph");O("\\Alpha","\\mathrm{A}");O("\\Beta","\\mathrm{B}");O("\\bull","\\bullet");O("\\Chi","\\mathrm{X}");O("\\clubs","\\clubsuit");O("\\cnums","\\mathbb{C}");O("\\Complex","\\mathbb{C}");O("\\Dagger","\\ddagger");O("\\diamonds","\\diamondsuit");O("\\empty","\\emptyset");O("\\Epsilon","\\mathrm{E}");O("\\Eta","\\mathrm{H}");O("\\exist","\\exists");O("\\harr","\\leftrightarrow");O("\\hArr","\\Leftrightarrow");O("\\Harr","\\Leftrightarrow");O("\\hearts","\\heartsuit");O("\\image","\\Im");O("\\infin","\\infty");O("\\Iota","\\mathrm{I}");O("\\isin","\\in");O("\\Kappa","\\mathrm{K}");O("\\larr","\\leftarrow");O("\\lArr","\\Leftarrow");O("\\Larr","\\Leftarrow");O("\\lrarr","\\leftrightarrow");O("\\lrArr","\\Leftrightarrow");O("\\Lrarr","\\Leftrightarrow");O("\\Mu","\\mathrm{M}");O("\\natnums","\\mathbb{N}");O("\\Nu","\\mathrm{N}");O("\\Omicron","\\mathrm{O}");O("\\plusmn","\\pm");O("\\rarr","\\rightarrow");O("\\rArr","\\Rightarrow");O("\\Rarr","\\Rightarrow");O("\\real","\\Re");O("\\reals","\\mathbb{R}");O("\\Reals","\\mathbb{R}");O("\\Rho","\\mathrm{P}");O("\\sdot","\\cdot");O("\\sect","\\S");O("\\spades","\\spadesuit");O("\\sub","\\subset");O("\\sube","\\subseteq");O("\\supe","\\supseteq");O("\\Tau","\\mathrm{T}");O("\\thetasym","\\vartheta");O("\\weierp","\\wp");O("\\Zeta","\\mathrm{Z}");O("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");O("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");O("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");O("\\bra","\\mathinner{\\langle{#1}|}");O("\\ket","\\mathinner{|{#1}\\rangle}");O("\\braket","\\mathinner{\\langle{#1}\\rangle}");O("\\Bra","\\left\\langle#1\\right|");O("\\Ket","\\left|#1\\right\\rangle");var q6=e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,s=t.consumeArg().tokens,o=t.consumeArg().tokens,u=t.macros.get("|"),d=t.macros.get("\\|");t.macros.beginGroup();var f=g=>y=>{e&&(y.macros.set("|",u),s.length&&y.macros.set("\\|",d));var x=g;if(!g&&s.length){var k=y.future();k.text==="|"&&(y.popToken(),x=!0)}return{tokens:x?s:n,numArgs:0}};t.macros.set("|",f(!1)),s.length&&t.macros.set("\\|",f(!0));var h=t.consumeArg().tokens,p=t.expandTokens([...o,...h,...r]);return t.macros.endGroup(),{tokens:p.reverse(),numArgs:0}};O("\\bra@ket",q6(!1));O("\\bra@set",q6(!0));O("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");O("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");O("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");O("\\angln","{\\angl n}");O("\\blue","\\textcolor{##6495ed}{#1}");O("\\orange","\\textcolor{##ffa500}{#1}");O("\\pink","\\textcolor{##ff00af}{#1}");O("\\red","\\textcolor{##df0030}{#1}");O("\\green","\\textcolor{##28ae7b}{#1}");O("\\gray","\\textcolor{gray}{#1}");O("\\purple","\\textcolor{##9d38bd}{#1}");O("\\blueA","\\textcolor{##ccfaff}{#1}");O("\\blueB","\\textcolor{##80f6ff}{#1}");O("\\blueC","\\textcolor{##63d9ea}{#1}");O("\\blueD","\\textcolor{##11accd}{#1}");O("\\blueE","\\textcolor{##0c7f99}{#1}");O("\\tealA","\\textcolor{##94fff5}{#1}");O("\\tealB","\\textcolor{##26edd5}{#1}");O("\\tealC","\\textcolor{##01d1c1}{#1}");O("\\tealD","\\textcolor{##01a995}{#1}");O("\\tealE","\\textcolor{##208170}{#1}");O("\\greenA","\\textcolor{##b6ffb0}{#1}");O("\\greenB","\\textcolor{##8af281}{#1}");O("\\greenC","\\textcolor{##74cf70}{#1}");O("\\greenD","\\textcolor{##1fab54}{#1}");O("\\greenE","\\textcolor{##0d923f}{#1}");O("\\goldA","\\textcolor{##ffd0a9}{#1}");O("\\goldB","\\textcolor{##ffbb71}{#1}");O("\\goldC","\\textcolor{##ff9c39}{#1}");O("\\goldD","\\textcolor{##e07d10}{#1}");O("\\goldE","\\textcolor{##a75a05}{#1}");O("\\redA","\\textcolor{##fca9a9}{#1}");O("\\redB","\\textcolor{##ff8482}{#1}");O("\\redC","\\textcolor{##f9685d}{#1}");O("\\redD","\\textcolor{##e84d39}{#1}");O("\\redE","\\textcolor{##bc2612}{#1}");O("\\maroonA","\\textcolor{##ffbde0}{#1}");O("\\maroonB","\\textcolor{##ff92c6}{#1}");O("\\maroonC","\\textcolor{##ed5fa6}{#1}");O("\\maroonD","\\textcolor{##ca337c}{#1}");O("\\maroonE","\\textcolor{##9e034e}{#1}");O("\\purpleA","\\textcolor{##ddd7ff}{#1}");O("\\purpleB","\\textcolor{##c6b9fc}{#1}");O("\\purpleC","\\textcolor{##aa87ff}{#1}");O("\\purpleD","\\textcolor{##7854ab}{#1}");O("\\purpleE","\\textcolor{##543b78}{#1}");O("\\mintA","\\textcolor{##f5f9e8}{#1}");O("\\mintB","\\textcolor{##edf2df}{#1}");O("\\mintC","\\textcolor{##e0e5cc}{#1}");O("\\grayA","\\textcolor{##f6f7f7}{#1}");O("\\grayB","\\textcolor{##f0f1f2}{#1}");O("\\grayC","\\textcolor{##e3e5e6}{#1}");O("\\grayD","\\textcolor{##d6d8da}{#1}");O("\\grayE","\\textcolor{##babec2}{#1}");O("\\grayF","\\textcolor{##888d93}{#1}");O("\\grayG","\\textcolor{##626569}{#1}");O("\\grayH","\\textcolor{##3b3e40}{#1}");O("\\grayI","\\textcolor{##21242c}{#1}");O("\\kaBlue","\\textcolor{##314453}{#1}");O("\\kaGreen","\\textcolor{##71B307}{#1}");var H6={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Rz{constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new Oz(Cz,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new Vy(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,s;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:s,end:n}=this.consumeArg(["]"])}else({tokens:s,start:r,end:n}=this.consumeArg());return this.pushToken(new Ja("EOF",n.loc)),this.pushTokens(s),r.range(n,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var s=this.future(),o,u=0,d=0;do{if(o=this.popToken(),r.push(o),o.text==="{")++u;else if(o.text==="}"){if(--u,u===-1)throw new xe("Extra }",o)}else if(o.text==="EOF")throw new xe("Unexpected end of input in a macro argument, expected '"+(t&&n?t[d]:"}")+"'",o);if(t&&n)if((u===0||u===1&&t[d]==="{")&&o.text===t[d]){if(++d,d===t.length){r.splice(-d,d);break}}else d=0}while(u!==0||n);return s.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:s,end:o}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new xe("The length of delimiters doesn't match the number of args!");for(var n=r[0],s=0;s<n.length;s++){var o=this.popToken();if(n[s]!==o.text)throw new xe("Use of the macro doesn't match its definition",o)}}for(var u=[],d=0;d<t;d++)u.push(this.consumeArg(r&&r[d+1]).tokens);return u}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new xe("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,s=r.noexpand?null:this._getExpansion(n);if(s==null||t&&s.unexpandable){if(t&&s==null&&n[0]==="\\"&&!this.isDefined(n))throw new xe("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var o=s.tokens,u=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){o=o.slice();for(var d=o.length-1;d>=0;--d){var f=o[d];if(f.text==="#"){if(d===0)throw new xe("Incomplete placeholder at end of macro body",f);if(f=o[--d],f.text==="#")o.splice(d+1,1);else if(/^[1-9]$/.test(f.text))o.splice(d,2,...u[+f.text-1]);else throw new xe("Not a valid argument number",f)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Ja(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var s=this.stack.pop();s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),r.push(s)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var s=typeof r=="function"?r(this):r;if(typeof s=="string"){var o=0;if(s.indexOf("#")!==-1)for(var u=s.replace(/##/g,"");u.indexOf("#"+(o+1))!==-1;)++o;for(var d=new Vy(s,this.settings),f=[],h=d.lex();h.text!=="EOF";)f.push(h),h=d.lex();f.reverse();var p={tokens:f,numArgs:o};return p}return s}isDefined(t){return this.macros.has(t)||Vi.hasOwnProperty(t)||Ht.math.hasOwnProperty(t)||Ht.text.hasOwnProperty(t)||H6.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Vi.hasOwnProperty(t)&&!Vi[t].primitive}}var Xy=/^[]/,fc=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),lm={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Ky={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class gd{constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Rz(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new xe("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Ja("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(gd.endOfExpression.indexOf(s.text)!==-1||r&&s.text===r||t&&Vi[s.text]&&Vi[s.text].infix)break;var o=this.parseAtom(r);if(o){if(o.type==="internal")continue}else break;n.push(o)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,s=0;s<t.length;s++)if(t[s].type==="infix"){if(r!==-1)throw new xe("only one infix operator per group",t[s].token);r=s,n=t[s].replaceWith}if(r!==-1&&n){var o,u,d=t.slice(0,r),f=t.slice(r+1);d.length===1&&d[0].type==="ordgroup"?o=d[0]:o={type:"ordgroup",mode:this.mode,body:d},f.length===1&&f[0].type==="ordgroup"?u=f[0]:u={type:"ordgroup",mode:this.mode,body:f};var h;return n==="\\\\abovefrac"?h=this.callFunction(n,[o,t[r],u],[]):h=this.callFunction(n,[o,u],[]),[h]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var s;do{var o;s=this.parseGroup(t)}while(((o=s)==null?void 0:o.type)==="internal");if(!s)throw new xe("Expected group after '"+n+"'",r);return s}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var s={type:"text",mode:this.mode,body:r},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return o}parseAtom(t){var r=this.parseGroup("atom",t);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var n,s;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(r&&r.type==="op"){var u=o.text==="\\limits";r.limits=u,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=o.text==="\\limits");else throw new xe("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(n)throw new xe("Double superscript",o);n=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(s)throw new xe("Double subscript",o);s=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(n)throw new xe("Double superscript",o);var d={type:"textord",mode:this.mode,text:"\\prime"},f=[d];for(this.consume();this.fetch().text==="'";)f.push(d),this.consume();this.fetch().text==="^"&&f.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:f}}else if(fc[o.text]){var h=Xy.test(o.text),p=[];for(p.push(new Ja(fc[o.text])),this.consume();;){var g=this.fetch().text;if(!fc[g]||Xy.test(g)!==h)break;p.unshift(new Ja(fc[g])),this.consume()}var y=this.subparse(p);h?s={type:"ordgroup",mode:"math",body:y}:n={type:"ordgroup",mode:"math",body:y}}else break}return n||s?{type:"supsub",mode:this.mode,base:r,sup:n,sub:s}:r}parseFunction(t,r){var n=this.fetch(),s=n.text,o=Vi[s];if(!o)return null;if(this.consume(),r&&r!=="atom"&&!o.allowedInArgument)throw new xe("Got function '"+s+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!o.allowedInText)throw new xe("Can't use function '"+s+"' in text mode",n);if(this.mode==="math"&&o.allowedInMath===!1)throw new xe("Can't use function '"+s+"' in math mode",n);var{args:u,optArgs:d}=this.parseArguments(s,o);return this.callFunction(s,u,d,n,t)}callFunction(t,r,n,s,o){var u={funcName:t,parser:this,token:s,breakOnTokenText:o},d=Vi[t];if(d&&d.handler)return d.handler(u,r,n);throw new xe("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var s=[],o=[],u=0;u<n;u++){var d=r.argTypes&&r.argTypes[u],f=u<r.numOptionalArgs;(r.primitive&&d==null||r.type==="sqrt"&&u===1&&o[0]==null)&&(d="primitive");var h=this.parseGroupOfType("argument to '"+t+"'",d,f);if(f)o.push(h);else if(h!=null)s.push(h);else throw new xe("Null argument, please report this as a bug")}return{args:s,optArgs:o}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var s=this.parseArgumentGroup(n,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",n);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(n)throw new xe("A primitive argument cannot be optional");var u=this.parseGroup(t);if(u==null)throw new xe("Expected group as "+t,this.fetch());return u}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new xe("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var s="",o;(o=this.fetch()).text!=="EOF";)s+=o.text,this.consume();return this.consume(),n.text=s,n}parseRegexGroup(t,r){for(var n=this.fetch(),s=n,o="",u;(u=this.fetch()).text!=="EOF"&&t.test(o+u.text);)s=u,o+=s.text,this.consume();if(o==="")throw new xe("Invalid "+r+": '"+n.text+"'",n);return n.range(s,o)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new xe("Invalid color: '"+r.text+"'",r);var s=n[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!s)throw new xe("Invalid size: '"+r.text+"'",r);var o={number:+(s[1]+s[2]),unit:s[3]};if(!W5(o))throw new xe("Invalid unit: '"+o.unit+"'",r);return{type:"size",mode:this.mode,value:o,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var s=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var u={type:"ordgroup",mode:this.mode,loc:n.loc,body:o};return r&&this.switchMode(s),u}parseGroup(t,r){var n=this.fetch(),s=n.text,o;if(s==="{"||s==="\\begingroup"){this.consume();var u=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var d=this.parseExpression(!1,u),f=this.fetch();this.expect(u),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:Ea.range(n,f),body:d,semisimple:s==="\\begingroup"||void 0}}else if(o=this.parseFunction(r,t)||this.parseSymbol(),o==null&&s[0]==="\\"&&!H6.hasOwnProperty(s)){if(this.settings.throwOnError)throw new xe("Undefined control sequence: "+s,n);o=this.formatUnsupportedCmd(s),this.consume()}return o}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var s=t[n],o=s.text;o==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:Ea.range(s,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:Ea.range(s,t[n+1]),text:"--"}),r-=1)),(o==="'"||o==="`")&&t[n+1].text===o&&(t.splice(n,2,{type:"textord",mode:"text",loc:Ea.range(s,t[n+1]),text:o+o}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),s=n.charAt(0)==="*";if(s&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new xe(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:s}}Ky.hasOwnProperty(r[0])&&!Ht[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=Ky[r[0]]+r.slice(1));var o=Mz.exec(r);o&&(r=r.substring(0,o.index),r==="i"?r="":r==="j"&&(r=""));var u;if(Ht[this.mode][r]){this.settings.strict&&this.mode==="math"&&qm.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var d=Ht[this.mode][r].group,f=Ea.range(t),h;if(w_.hasOwnProperty(d)){var p=d;h={type:"atom",mode:this.mode,family:p,loc:f,text:r}}else h={type:d,mode:this.mode,loc:f,text:r};u=h}else if(r.charCodeAt(0)>=128)this.settings.strict&&(K5(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),u={type:"textord",mode:"text",loc:Ea.range(t),text:r};else return null;if(this.consume(),o)for(var g=0;g<o[0].length;g++){var y=o[0][g];if(!lm[y])throw new xe("Unknown accent ' "+y+"'",t);var x=lm[y][this.mode]||lm[y].text;if(!x)throw new xe("Accent "+y+" unsupported in "+this.mode+" mode",t);u={type:"accent",mode:this.mode,loc:Ea.range(t),label:x,isStretchy:!1,isShifty:!0,base:u}}return u}}gd.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Hp=function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new gd(t,r);delete n.gullet.macros.current["\\df@tag"];var s=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new xe("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:n.subparse([new Ja("\\df@tag")])}]}return s},Pp=function(t,r,n){r.textContent="";var s=yd(t,n).toNode();r.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Pp=function(){throw new xe("KaTeX doesn't work in quirks mode.")});var P6=function(t,r){var n=yd(t,r).toMarkup();return n},Z6=function(t,r){var n=new zp(r);return Hp(t,n)},G6=function(t,r,n){if(n.throwOnError||!(t instanceof xe))throw t;var s=ne.makeSpan(["katex-error"],[new Wa(r)]);return s.setAttribute("title",t.toString()),s.setAttribute("style","color:"+n.errorColor),s},yd=function(t,r){var n=new zp(r);try{var s=Hp(t,n);return Z_(s,t,n)}catch(o){return G6(o,t,n)}},V6=function(t,r){var n=new zp(r);try{var s=Hp(t,n);return G_(s,t,n)}catch(o){return G6(o,t,n)}},Y6="0.16.22",F6={Span:Du,Anchor:Ap,SymbolNode:Wa,SvgNode:ii,PathNode:Ji,LineNode:Um},X6={version:Y6,render:Pp,renderToString:P6,ParseError:xe,SETTINGS_SCHEMA:vu,__parse:Z6,__renderToDomTree:yd,__renderToHTMLTree:V6,__setFontMetrics:J5,__defineSymbol:b,__defineFunction:Ee,__defineMacro:O,__domTree:F6};const K6=Object.freeze(Object.defineProperty({__proto__:null,ParseError:xe,SETTINGS_SCHEMA:vu,__defineFunction:Ee,__defineMacro:O,__defineSymbol:b,__domTree:F6,__parse:Z6,__renderToDomTree:yd,__renderToHTMLTree:V6,__setFontMetrics:J5,default:X6,get render(){return Pp},renderToString:P6,version:Y6},Symbol.toStringTag,{value:"Module"}));var Iz=Object.defineProperty,Dz=(e,t,r)=>t in e?Iz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ke=(e,t,r)=>Dz(e,typeof t!="symbol"?t+"":t,r);function ve(e,t,r){function n(d,f){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:f,constr:u,traits:new Set},enumerable:!1}),d._zod.traits.has(e))return;d._zod.traits.add(e),t(d,f);const h=u.prototype,p=Object.keys(h);for(let g=0;g<p.length;g++){const y=p[g];y in d||(d[y]=h[y].bind(d))}}const s=(r==null?void 0:r.Parent)??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function u(d){var f;const h=r!=null&&r.Parent?new o:this;n(h,d),(f=h._zod).deferred??(f.deferred=[]);for(const p of h._zod.deferred)p();return h}return Object.defineProperty(u,"init",{value:n}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>{var f,h;return r!=null&&r.Parent&&d instanceof r.Parent?!0:(h=(f=d==null?void 0:d._zod)==null?void 0:f.traits)==null?void 0:h.has(e)}}),Object.defineProperty(u,"name",{value:e}),u}class Zo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class J6 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const W6={};function js(e){return W6}function Q6(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,n])=>t.indexOf(+r)===-1).map(([r,n])=>n)}function Ym(e,t){return typeof t=="bigint"?t.toString():t}function Zp(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Gp(e){return e==null}function Vp(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function jz(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const f=n.match(/\d?e-(\d?)/);f!=null&&f[1]&&(s=Number.parseInt(f[1]))}const o=r>s?r:s,u=Number.parseInt(e.toFixed(o).replace(".","")),d=Number.parseInt(t.toFixed(o).replace(".",""));return u%d/10**o}const Jy=Symbol("evaluating");function Mt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==Jy)return n===void 0&&(n=Jy,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Ps(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ns(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Wy(e){return JSON.stringify(e)}function $z(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const eb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Lc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Bz=Zp(()=>{var e;if(typeof navigator<"u"&&(e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function wu(e){if(Lc(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Lc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function tb(e){return wu(e)?{...e}:Array.isArray(e)?[...e]:e}const Lz=new Set(["string","number","symbol"]);function bd(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function is(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function Pe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Uz(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const qz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Hz(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=ns(e._zod.def,{get shape(){const o={};for(const u in t){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&(o[u]=r.shape[u])}return Ps(this,"shape",o),o},checks:[]});return is(e,s)}function Pz(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=ns(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const u in t){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&delete o[u]}return Ps(this,"shape",o),o},checks:[]});return is(e,s)}function Zz(e,t){if(!wu(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const s=e._zod.def.shape;for(const o in t)if(Object.getOwnPropertyDescriptor(s,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const n=ns(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Ps(this,"shape",s),s}});return is(e,n)}function Gz(e,t){if(!wu(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=ns(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Ps(this,"shape",n),n}});return is(e,r)}function Vz(e,t){const r=ns(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ps(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return is(e,r)}function Yz(e,t,r){const n=t._zod.def.checks;if(n&&n.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=ns(t._zod.def,{get shape(){const o=t._zod.def.shape,u={...o};if(r)for(const d in r){if(!(d in o))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=e?new e({type:"optional",innerType:o[d]}):o[d])}else for(const d in o)u[d]=e?new e({type:"optional",innerType:o[d]}):o[d];return Ps(this,"shape",u),u},checks:[]});return is(t,s)}function Fz(e,t,r){const n=ns(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(r)for(const u in r){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(o[u]=new e({type:"nonoptional",innerType:s[u]}))}else for(const u in s)o[u]=new e({type:"nonoptional",innerType:s[u]});return Ps(this,"shape",o),o}});return is(t,n)}function Lo(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function rb(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function hc(e){return typeof e=="string"?e:e==null?void 0:e.message}function $s(e,t,r){var n,s,o,u,d,f;const h={...e,path:e.path??[]};if(!e.message){const p=hc((o=(s=(n=e.inst)==null?void 0:n._zod.def)==null?void 0:s.error)==null?void 0:o.call(s,e))??hc((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??hc((d=r.customError)==null?void 0:d.call(r,e))??hc((f=r.localeError)==null?void 0:f.call(r,e))??"Invalid input";h.message=p}return delete h.inst,delete h.continue,t!=null&&t.reportInput||delete h.input,h}function Yp(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Su(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const ab=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ym,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},nb=ve("$ZodError",ab),ib=ve("$ZodError",ab,{Parent:Error});function Xz(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function Kz(e,t=r=>r.message){const r={_errors:[]},n=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(u=>n({issues:u}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(t(o));else{let u=r,d=0;for(;d<o.path.length;){const f=o.path[d];d===o.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(o))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return n(e),r}const Fp=e=>(t,r,n,s)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},u=t._zod.run({value:r,issues:[]},o);if(u instanceof Promise)throw new Zo;if(u.issues.length){const d=new((s==null?void 0:s.Err)??e)(u.issues.map(f=>$s(f,o,js())));throw eb(d,s==null?void 0:s.callee),d}return u.value},Xp=e=>async(t,r,n,s)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let u=t._zod.run({value:r,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new((s==null?void 0:s.Err)??e)(u.issues.map(f=>$s(f,o,js())));throw eb(d,s==null?void 0:s.callee),d}return u.value},xd=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new Zo;return o.issues.length?{success:!1,error:new(e??nb)(o.issues.map(u=>$s(u,s,js())))}:{success:!0,data:o.value}},Jz=xd(ib),wd=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(u=>$s(u,s,js())))}:{success:!0,data:o.value}},Wz=wd(ib),Qz=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Fp(e)(t,r,s)},ek=e=>(t,r,n)=>Fp(e)(t,r,n),tk=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Xp(e)(t,r,s)},rk=e=>async(t,r,n)=>Xp(e)(t,r,n),ak=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return xd(e)(t,r,s)},nk=e=>(t,r,n)=>xd(e)(t,r,n),ik=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return wd(e)(t,r,s)},sk=e=>async(t,r,n)=>wd(e)(t,r,n),ok=/^[cC][^\s-]{8,}$/,lk=/^[0-9a-z]+$/,uk=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ck=/^[0-9a-vA-V]{20}$/,dk=/^[A-Za-z0-9]{27}$/,fk=/^[a-zA-Z0-9_-]{21}$/,hk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,mk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Qy=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,pk=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,vk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function gk(){return new RegExp(vk,"u")}const yk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,xk=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,wk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Sk=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,sb=/^[A-Za-z0-9_-]*$/,_k=/^\+[1-9]\d{6,14}$/,ob="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",zk=new RegExp(`^${ob}$`);function lb(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function kk(e){return new RegExp(`^${lb(e)}$`)}function Tk(e){const t=lb({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${ob}T(?:${n})$`)}const Ak=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Ek=/^-?\d+$/,Mk=/^-?\d+(?:\.\d+)?$/,Nk=/^[^A-Z]*$/,Ok=/^[^a-z]*$/,va=ve("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),ub={number:"number",bigint:"bigint",object:"date"},cb=ve("$ZodCheckLessThan",(e,t)=>{va.init(e,t);const r=ub[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,o=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),db=ve("$ZodCheckGreaterThan",(e,t)=>{va.init(e,t);const r=ub[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,o=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Ck=ve("$ZodCheckMultipleOf",(e,t)=>{va.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):jz(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Rk=ve("$ZodCheckNumberFormat",(e,t)=>{var r;va.init(e,t),t.format=t.format||"float64";const n=(r=t.format)==null?void 0:r.includes("int"),s=n?"int":"number",[o,u]=qz[t.format];e._zod.onattach.push(d=>{const f=d._zod.bag;f.format=t.format,f.minimum=o,f.maximum=u,n&&(f.pattern=Ek)}),e._zod.check=d=>{const f=d.value;if(n){if(!Number.isInteger(f)){d.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?d.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,inclusive:!0,continue:!t.abort}):d.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,inclusive:!0,continue:!t.abort});return}}f<o&&d.issues.push({origin:"number",input:f,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),f>u&&d.issues.push({origin:"number",input:f,code:"too_big",maximum:u,inclusive:!0,inst:e,continue:!t.abort})}}),Ik=ve("$ZodCheckMaxLength",(e,t)=>{var r;va.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Gp(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const o=Yp(s);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Dk=ve("$ZodCheckMinLength",(e,t)=>{var r;va.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Gp(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const o=Yp(s);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),jk=ve("$ZodCheckLengthEquals",(e,t)=>{var r;va.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Gp(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,o=s.length;if(o===t.length)return;const u=Yp(s),d=o>t.length;n.issues.push({origin:u,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Sd=ve("$ZodCheckStringFormat",(e,t)=>{var r,n;va.init(e,t),e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),$k=ve("$ZodCheckRegex",(e,t)=>{Sd.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Bk=ve("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Nk),Sd.init(e,t)}),Lk=ve("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Ok),Sd.init(e,t)}),Uk=ve("$ZodCheckIncludes",(e,t)=>{va.init(e,t);const r=bd(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),qk=ve("$ZodCheckStartsWith",(e,t)=>{va.init(e,t);const r=new RegExp(`^${bd(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Hk=ve("$ZodCheckEndsWith",(e,t)=>{va.init(e,t);const r=new RegExp(`.*${bd(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Pk=ve("$ZodCheckOverwrite",(e,t)=>{va.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Zk{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),n=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(n)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,r=this==null?void 0:this.args,n=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...r,n.join(`
`))}}const Gk={major:4,minor:3,patch:5},Nr=ve("$ZodType",(e,t)=>{var r,n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Gk;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const o of s)for(const u of o._zod.onattach)u(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const o=(d,f,h)=>{let p=Lo(d),g;for(const y of f){if(y._zod.def.when){if(!y._zod.def.when(d))continue}else if(p)continue;const x=d.issues.length,k=y._zod.check(d);if(k instanceof Promise&&(h==null?void 0:h.async)===!1)throw new Zo;if(g||k instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await k,d.issues.length!==x&&(p||(p=Lo(d,x)))});else{if(d.issues.length===x)continue;p||(p=Lo(d,x))}}return g?g.then(()=>d):d},u=(d,f,h)=>{if(Lo(d))return d.aborted=!0,d;const p=o(f,s,h);if(p instanceof Promise){if(h.async===!1)throw new Zo;return p.then(g=>e._zod.parse(g,h))}return e._zod.parse(p,h)};e._zod.run=(d,f)=>{if(f.skipChecks)return e._zod.parse(d,f);if(f.direction==="backward"){const p=e._zod.parse({value:d.value,issues:[]},{...f,skipChecks:!0});return p instanceof Promise?p.then(g=>u(g,d,f)):u(p,d,f)}const h=e._zod.parse(d,f);if(h instanceof Promise){if(f.async===!1)throw new Zo;return h.then(p=>o(p,s,f))}return o(h,s,f)}}Mt(e,"~standard",()=>({validate:o=>{var u;try{const d=Jz(e,o);return d.success?{value:d.data}:{issues:(u=d.error)==null?void 0:u.issues}}catch{return Wz(e,o).then(d=>{var f;return d.success?{value:d.data}:{issues:(f=d.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}))}),Kp=ve("$ZodString",(e,t)=>{var r;Nr.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??Ak(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ir=ve("$ZodStringFormat",(e,t)=>{Sd.init(e,t),Kp.init(e,t)}),Vk=ve("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=mk),ir.init(e,t)}),Yk=ve("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Qy(r))}else t.pattern??(t.pattern=Qy());ir.init(e,t)}),Fk=ve("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=pk),ir.init(e,t)}),Xk=ve("$ZodURL",(e,t)=>{ir.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Kk=ve("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=gk()),ir.init(e,t)}),Jk=ve("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=fk),ir.init(e,t)}),Wk=ve("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=ok),ir.init(e,t)}),Qk=ve("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=lk),ir.init(e,t)}),eT=ve("$ZodULID",(e,t)=>{t.pattern??(t.pattern=uk),ir.init(e,t)}),tT=ve("$ZodXID",(e,t)=>{t.pattern??(t.pattern=ck),ir.init(e,t)}),rT=ve("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=dk),ir.init(e,t)}),aT=ve("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Tk(t)),ir.init(e,t)}),nT=ve("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=zk),ir.init(e,t)}),iT=ve("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=kk(t)),ir.init(e,t)}),sT=ve("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=hk),ir.init(e,t)}),oT=ve("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=yk),ir.init(e,t),e._zod.bag.format="ipv4"}),lT=ve("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=bk),ir.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),uT=ve("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=xk),ir.init(e,t)}),cT=ve("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=wk),ir.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,o]=n;if(!o)throw new Error;const u=Number(o);if(`${u}`!==o)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function fb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const dT=ve("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Sk),ir.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{fb(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function fT(e){if(!sb.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return fb(r)}const hT=ve("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=sb),ir.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{fT(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),mT=ve("$ZodE164",(e,t)=>{t.pattern??(t.pattern=_k),ir.init(e,t)});function pT(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const vT=ve("$ZodJWT",(e,t)=>{ir.init(e,t),e._zod.check=r=>{pT(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),hb=ve("$ZodNumber",(e,t)=>{Nr.init(e,t),e._zod.pattern=e._zod.bag.pattern??Mk,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...o?{received:o}:{}}),r}}),gT=ve("$ZodNumberFormat",(e,t)=>{Rk.init(e,t),hb.init(e,t)}),yT=ve("$ZodUnknown",(e,t)=>{Nr.init(e,t),e._zod.parse=r=>r}),bT=ve("$ZodNever",(e,t)=>{Nr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function e2(e,t,r){e.issues.length&&t.issues.push(...rb(r,e.issues)),t.value[r]=e.value}const xT=ve("$ZodArray",(e,t)=>{Nr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const o=[];for(let u=0;u<s.length;u++){const d=s[u],f=t.element._zod.run({value:d,issues:[]},n);f instanceof Promise?o.push(f.then(h=>e2(h,r,u))):e2(f,r,u)}return o.length?Promise.all(o).then(()=>r):r}});function Uc(e,t,r,n,s){if(e.issues.length){if(s&&!(r in n))return;t.issues.push(...rb(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function mb(e){var t,r,n,s;const o=Object.keys(e.shape);for(const d of o)if(!((s=(n=(r=(t=e.shape)==null?void 0:t[d])==null?void 0:r._zod)==null?void 0:n.traits)!=null&&s.has("$ZodType")))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const u=Uz(e.shape);return{...e,keys:o,keySet:new Set(o),numKeys:o.length,optionalKeys:new Set(u)}}function pb(e,t,r,n,s,o){const u=[],d=s.keySet,f=s.catchall._zod,h=f.def.type,p=f.optout==="optional";for(const g in t){if(d.has(g))continue;if(h==="never"){u.push(g);continue}const y=f.run({value:t[g],issues:[]},n);y instanceof Promise?e.push(y.then(x=>Uc(x,r,g,t,p))):Uc(y,r,g,t,p)}return u.length&&r.issues.push({code:"unrecognized_keys",keys:u,input:t,inst:o}),e.length?Promise.all(e).then(()=>r):r}const wT=ve("$ZodObject",(e,t)=>{Nr.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...d};return Object.defineProperty(t,"shape",{value:f}),f}})}const n=Zp(()=>mb(t));Mt(e._zod,"propValues",()=>{const d=t.shape,f={};for(const h in d){const p=d[h]._zod;if(p.values){f[h]??(f[h]=new Set);for(const g of p.values)f[h].add(g)}}return f});const s=Lc,o=t.catchall;let u;e._zod.parse=(d,f)=>{u??(u=n.value);const h=d.value;if(!s(h))return d.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),d;d.value={};const p=[],g=u.shape;for(const y of u.keys){const x=g[y],k=x._zod.optout==="optional",S=x._zod.run({value:h[y],issues:[]},f);S instanceof Promise?p.push(S.then(A=>Uc(A,d,y,h,k))):Uc(S,d,y,h,k)}return o?pb(p,h,d,f,n.value,e):p.length?Promise.all(p).then(()=>d):d}}),ST=ve("$ZodObjectJIT",(e,t)=>{wT.init(e,t);const r=e._zod.parse,n=Zp(()=>mb(t)),s=g=>{var y;const x=new Zk(["shape","payload","ctx"]),k=n.value,S=M=>{const I=Wy(M);return`shape[${I}]._zod.run({ value: input[${I}], issues: [] }, ctx)`};x.write("const input = payload.value;");const A=Object.create(null);let C=0;for(const M of k.keys)A[M]=`key_${C++}`;x.write("const newResult = {};");for(const M of k.keys){const I=A[M],D=Wy(M),B=g[M],E=((y=B==null?void 0:B._zod)==null?void 0:y.optout)==="optional";x.write(`const ${I} = ${S(M)};`),E?x.write(`
        if (${I}.issues.length) {
          if (${D} in input) {
            payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${D}, ...iss.path] : [${D}]
            })));
          }
        }
        
        if (${I}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${I}.value;
        }
        
      `):x.write(`
        if (${I}.issues.length) {
          payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        if (${I}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${I}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const R=x.compile();return(M,I)=>R(g,M,I)};let o;const u=Lc,d=!W6.jitless,f=d&&Bz.value,h=t.catchall;let p;e._zod.parse=(g,y)=>{p??(p=n.value);const x=g.value;return u(x)?d&&f&&(y==null?void 0:y.async)===!1&&y.jitless!==!0?(o||(o=s(t.shape)),g=o(g,y),h?pb([],x,g,y,p,e):g):r(g,y):(g.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),g)}});function t2(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const s=e.filter(o=>!Lo(o));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(u=>$s(u,n,js())))}),t)}const _T=ve("$ZodUnion",(e,t)=>{Nr.init(e,t),Mt(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Mt(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Mt(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Mt(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>Vp(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,o)=>{if(r)return n(s,o);let u=!1;const d=[];for(const f of t.options){const h=f._zod.run({value:s.value,issues:[]},o);if(h instanceof Promise)d.push(h),u=!0;else{if(h.issues.length===0)return h;d.push(h)}}return u?Promise.all(d).then(f=>t2(f,s,e,o)):t2(d,s,e,o)}}),zT=ve("$ZodIntersection",(e,t)=>{Nr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,o=t.left._zod.run({value:s,issues:[]},n),u=t.right._zod.run({value:s,issues:[]},n);return o instanceof Promise||u instanceof Promise?Promise.all([o,u]).then(([d,f])=>r2(r,d,f)):r2(r,o,u)}});function Fm(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(wu(e)&&wu(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),s={...e,...t};for(const o of n){const u=Fm(e[o],t[o]);if(!u.valid)return{valid:!1,mergeErrorPath:[o,...u.mergeErrorPath]};s[o]=u.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],o=t[n],u=Fm(s,o);if(!u.valid)return{valid:!1,mergeErrorPath:[n,...u.mergeErrorPath]};r.push(u.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function r2(e,t,r){const n=new Map;let s;for(const d of t.issues)if(d.code==="unrecognized_keys"){s??(s=d);for(const f of d.keys)n.has(f)||n.set(f,{}),n.get(f).l=!0}else e.issues.push(d);for(const d of r.issues)if(d.code==="unrecognized_keys")for(const f of d.keys)n.has(f)||n.set(f,{}),n.get(f).r=!0;else e.issues.push(d);const o=[...n].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(o.length&&s&&e.issues.push({...s,keys:o}),Lo(e))return e;const u=Fm(t.value,r.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return e.value=u.data,e}const kT=ve("$ZodEnum",(e,t)=>{Nr.init(e,t);const r=Q6(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>Lz.has(typeof s)).map(s=>typeof s=="string"?bd(s):s.toString()).join("|")})$`),e._zod.parse=(s,o)=>{const u=s.value;return n.has(u)||s.issues.push({code:"invalid_value",values:r,input:u,inst:e}),s}}),TT=ve("$ZodTransform",(e,t)=>{Nr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new J6(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(r.value=o,r));if(s instanceof Promise)throw new Zo;return r.value=s,r}});function a2(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const vb=ve("$ZodOptional",(e,t)=>{Nr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Mt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Mt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Vp(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>a2(o,r.value)):a2(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),AT=ve("$ZodExactOptional",(e,t)=>{vb.init(e,t),Mt(e._zod,"values",()=>t.innerType._zod.values),Mt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),ET=ve("$ZodNullable",(e,t)=>{Nr.init(e,t),Mt(e._zod,"optin",()=>t.innerType._zod.optin),Mt(e._zod,"optout",()=>t.innerType._zod.optout),Mt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Vp(r.source)}|null)$`):void 0}),Mt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),MT=ve("$ZodDefault",(e,t)=>{Nr.init(e,t),e._zod.optin="optional",Mt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>n2(o,t)):n2(s,t)}});function n2(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const NT=ve("$ZodPrefault",(e,t)=>{Nr.init(e,t),e._zod.optin="optional",Mt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),OT=ve("$ZodNonOptional",(e,t)=>{Nr.init(e,t),Mt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>i2(o,e)):i2(s,e)}});function i2(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const CT=ve("$ZodCatch",(e,t)=>{Nr.init(e,t),Mt(e._zod,"optin",()=>t.innerType._zod.optin),Mt(e._zod,"optout",()=>t.innerType._zod.optout),Mt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(u=>$s(u,n,js()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>$s(o,n,js()))},input:r.value}),r.issues=[]),r)}}),RT=ve("$ZodPipe",(e,t)=>{Nr.init(e,t),Mt(e._zod,"values",()=>t.in._zod.values),Mt(e._zod,"optin",()=>t.in._zod.optin),Mt(e._zod,"optout",()=>t.out._zod.optout),Mt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const o=t.out._zod.run(r,n);return o instanceof Promise?o.then(u=>mc(u,t.in,n)):mc(o,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(o=>mc(o,t.out,n)):mc(s,t.out,n)}});function mc(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const IT=ve("$ZodReadonly",(e,t)=>{Nr.init(e,t),Mt(e._zod,"propValues",()=>t.innerType._zod.propValues),Mt(e._zod,"values",()=>t.innerType._zod.values),Mt(e._zod,"optin",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optin}),Mt(e._zod,"optout",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optout}),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(s2):s2(s)}});function s2(e){return e.value=Object.freeze(e.value),e}const DT=ve("$ZodCustom",(e,t)=>{va.init(e,t),Nr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(o=>o2(o,r,n,e));o2(s,r,n,e)}});function o2(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(Su(s))}}var l2;class jT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function $T(){return new jT}(l2=globalThis).__zod_globalRegistry??(l2.__zod_globalRegistry=$T());const du=globalThis.__zod_globalRegistry;function BT(e,t){return new e({type:"string",...Pe(t)})}function LT(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Pe(t)})}function u2(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Pe(t)})}function UT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Pe(t)})}function qT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Pe(t)})}function HT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Pe(t)})}function PT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Pe(t)})}function ZT(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Pe(t)})}function GT(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Pe(t)})}function VT(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Pe(t)})}function YT(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Pe(t)})}function FT(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Pe(t)})}function XT(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Pe(t)})}function KT(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Pe(t)})}function JT(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Pe(t)})}function WT(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Pe(t)})}function QT(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Pe(t)})}function eA(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Pe(t)})}function tA(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Pe(t)})}function rA(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Pe(t)})}function aA(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Pe(t)})}function nA(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Pe(t)})}function iA(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Pe(t)})}function sA(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Pe(t)})}function oA(e,t){return new e({type:"string",format:"date",check:"string_format",...Pe(t)})}function lA(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Pe(t)})}function uA(e,t){return new e({type:"string",format:"duration",check:"string_format",...Pe(t)})}function cA(e,t){return new e({type:"number",checks:[],...Pe(t)})}function dA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Pe(t)})}function fA(e){return new e({type:"unknown"})}function hA(e,t){return new e({type:"never",...Pe(t)})}function c2(e,t){return new cb({check:"less_than",...Pe(t),value:e,inclusive:!1})}function um(e,t){return new cb({check:"less_than",...Pe(t),value:e,inclusive:!0})}function d2(e,t){return new db({check:"greater_than",...Pe(t),value:e,inclusive:!1})}function cm(e,t){return new db({check:"greater_than",...Pe(t),value:e,inclusive:!0})}function f2(e,t){return new Ck({check:"multiple_of",...Pe(t),value:e})}function gb(e,t){return new Ik({check:"max_length",...Pe(t),maximum:e})}function qc(e,t){return new Dk({check:"min_length",...Pe(t),minimum:e})}function yb(e,t){return new jk({check:"length_equals",...Pe(t),length:e})}function mA(e,t){return new $k({check:"string_format",format:"regex",...Pe(t),pattern:e})}function pA(e){return new Bk({check:"string_format",format:"lowercase",...Pe(e)})}function vA(e){return new Lk({check:"string_format",format:"uppercase",...Pe(e)})}function gA(e,t){return new Uk({check:"string_format",format:"includes",...Pe(t),includes:e})}function yA(e,t){return new qk({check:"string_format",format:"starts_with",...Pe(t),prefix:e})}function bA(e,t){return new Hk({check:"string_format",format:"ends_with",...Pe(t),suffix:e})}function tl(e){return new Pk({check:"overwrite",tx:e})}function xA(e){return tl(t=>t.normalize(e))}function wA(){return tl(e=>e.trim())}function SA(){return tl(e=>e.toLowerCase())}function _A(){return tl(e=>e.toUpperCase())}function zA(){return tl(e=>$z(e))}function kA(e,t,r){return new e({type:"array",element:t,...Pe(r)})}function TA(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Pe(r)})}function AA(e){const t=EA(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Su(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(Su(s))}},e(r.value,r)));return t}function EA(e,t){const r=new va({check:"custom",...Pe(t)});return r._zod.check=e,r}function bb(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??du,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function Vr(e,t,r={path:[],schemaPath:[]}){var n,s,o;const u=e._zod.def,d=t.seen.get(e);if(d)return d.count++,r.schemaPath.includes(e)&&(d.cycle=r.path),d.schema;const f={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,f);const h=(s=(n=e._zod).toJSONSchema)==null?void 0:s.call(n);if(h)f.schema=h;else{const g={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,f.schema,g);else{const x=f.schema,k=t.processors[u.type];if(!k)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${u.type}`);k(e,t,x,g)}const y=e._zod.parent;y&&(f.ref||(f.ref=y),Vr(y,t,g),t.seen.get(y).isParent=!0)}const p=t.metadataRegistry.get(e);return p&&Object.assign(f.schema,p),t.io==="input"&&ta(e)&&(delete f.schema.examples,delete f.schema.default),t.io==="input"&&f.schema._prefault&&((o=f.schema).default??(o.default=f.schema._prefault)),delete f.schema._prefault,t.seen.get(e).schema}function xb(e,t){var r,n,s,o;const u=e.seen.get(t);if(!u)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=new Map;for(const p of e.seen.entries()){const g=(r=e.metadataRegistry.get(p[0]))==null?void 0:r.id;if(g){const y=d.get(g);if(y&&y!==p[0])throw new Error(`Duplicate schema id "${g}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);d.set(g,p[0])}}const f=p=>{var g;const y=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const S=(g=e.external.registry.get(p[0]))==null?void 0:g.id,A=e.external.uri??(R=>R);if(S)return{ref:A(S)};const C=p[1].defId??p[1].schema.id??`schema${e.counter++}`;return p[1].defId=C,{defId:C,ref:`${A("__shared")}#/${y}/${C}`}}if(p[1]===u)return{ref:"#"};const x=`#/${y}/`,k=p[1].schema.id??`__schema${e.counter++}`;return{defId:k,ref:x+k}},h=p=>{if(p[1].schema.$ref)return;const g=p[1],{ref:y,defId:x}=f(p);g.def={...g.schema},x&&(g.defId=x);const k=g.schema;for(const S in k)delete k[S];k.$ref=y};if(e.cycles==="throw")for(const p of e.seen.entries()){const g=p[1];if(g.cycle)throw new Error(`Cycle detected: #/${(n=g.cycle)==null?void 0:n.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of e.seen.entries()){const g=p[1];if(t===p[0]){h(p);continue}if(e.external){const y=(s=e.external.registry.get(p[0]))==null?void 0:s.id;if(t!==p[0]&&y){h(p);continue}}if((o=e.metadataRegistry.get(p[0]))!=null&&o.id){h(p);continue}if(g.cycle){h(p);continue}if(g.count>1&&e.reused==="ref"){h(p);continue}}}function wb(e,t){var r,n,s;const o=e.seen.get(t);if(!o)throw new Error("Unprocessed schema. This is a bug in Zod.");const u=h=>{const p=e.seen.get(h);if(p.ref===null)return;const g=p.def??p.schema,y={...g},x=p.ref;if(p.ref=null,x){u(x);const S=e.seen.get(x),A=S.schema;if(A.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(A)):Object.assign(g,A),Object.assign(g,y),h._zod.parent===x)for(const C in g)C==="$ref"||C==="allOf"||C in y||delete g[C];if(A.$ref)for(const C in g)C==="$ref"||C==="allOf"||C in S.def&&JSON.stringify(g[C])===JSON.stringify(S.def[C])&&delete g[C]}const k=h._zod.parent;if(k&&k!==x){u(k);const S=e.seen.get(k);if(S!=null&&S.schema.$ref&&(g.$ref=S.schema.$ref,S.def))for(const A in g)A==="$ref"||A==="allOf"||A in S.def&&JSON.stringify(g[A])===JSON.stringify(S.def[A])&&delete g[A]}e.override({zodSchema:h,jsonSchema:g,path:p.path??[]})};for(const h of[...e.seen.entries()].reverse())u(h[0]);const d={};if(e.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":e.target,(r=e.external)!=null&&r.uri){const h=(n=e.external.registry.get(t))==null?void 0:n.id;if(!h)throw new Error("Schema is missing an `id` property");d.$id=e.external.uri(h)}Object.assign(d,o.def??o.schema);const f=((s=e.external)==null?void 0:s.defs)??{};for(const h of e.seen.entries()){const p=h[1];p.def&&p.defId&&(f[p.defId]=p.def)}e.external||Object.keys(f).length>0&&(e.target==="draft-2020-12"?d.$defs=f:d.definitions=f);try{const h=JSON.parse(JSON.stringify(d));return Object.defineProperty(h,"~standard",{value:{...t["~standard"],jsonSchema:{input:Hc(t,"input",e.processors),output:Hc(t,"output",e.processors)}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function ta(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return ta(n.element,r);if(n.type==="set")return ta(n.valueType,r);if(n.type==="lazy")return ta(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return ta(n.innerType,r);if(n.type==="intersection")return ta(n.left,r)||ta(n.right,r);if(n.type==="record"||n.type==="map")return ta(n.keyType,r)||ta(n.valueType,r);if(n.type==="pipe")return ta(n.in,r)||ta(n.out,r);if(n.type==="object"){for(const s in n.shape)if(ta(n.shape[s],r))return!0;return!1}if(n.type==="union"){for(const s of n.options)if(ta(s,r))return!0;return!1}if(n.type==="tuple"){for(const s of n.items)if(ta(s,r))return!0;return!!(n.rest&&ta(n.rest,r))}return!1}const MA=(e,t={})=>r=>{const n=bb({...r,processors:t});return Vr(e,n),xb(n,e),wb(n,e)},Hc=(e,t,r={})=>n=>{const{libraryOptions:s,target:o}=n??{},u=bb({...s??{},target:o,io:t,processors:r});return Vr(e,u),xb(u,e),wb(u,e)},NA={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},OA=(e,t,r,n)=>{const s=r;s.type="string";const{minimum:o,maximum:u,format:d,patterns:f,contentEncoding:h}=e._zod.bag;if(typeof o=="number"&&(s.minLength=o),typeof u=="number"&&(s.maxLength=u),d&&(s.format=NA[d]??d,s.format===""&&delete s.format,d==="time"&&delete s.format),h&&(s.contentEncoding=h),f&&f.size>0){const p=[...f];p.length===1?s.pattern=p[0].source:p.length>1&&(s.allOf=[...p.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},CA=(e,t,r,n)=>{const s=r,{minimum:o,maximum:u,format:d,multipleOf:f,exclusiveMaximum:h,exclusiveMinimum:p}=e._zod.bag;typeof d=="string"&&d.includes("int")?s.type="integer":s.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=p,s.exclusiveMinimum=!0):s.exclusiveMinimum=p),typeof o=="number"&&(s.minimum=o,typeof p=="number"&&t.target!=="draft-04"&&(p>=o?delete s.minimum:delete s.exclusiveMinimum)),typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=h,s.exclusiveMaximum=!0):s.exclusiveMaximum=h),typeof u=="number"&&(s.maximum=u,typeof h=="number"&&t.target!=="draft-04"&&(h<=u?delete s.maximum:delete s.exclusiveMaximum)),typeof f=="number"&&(s.multipleOf=f)},RA=(e,t,r,n)=>{r.not={}},IA=(e,t,r,n)=>{},DA=(e,t,r,n)=>{const s=e._zod.def,o=Q6(s.entries);o.every(u=>typeof u=="number")&&(r.type="number"),o.every(u=>typeof u=="string")&&(r.type="string"),r.enum=o},jA=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},$A=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},BA=(e,t,r,n)=>{const s=r,o=e._zod.def,{minimum:u,maximum:d}=e._zod.bag;typeof u=="number"&&(s.minItems=u),typeof d=="number"&&(s.maxItems=d),s.type="array",s.items=Vr(o.element,t,{...n,path:[...n.path,"items"]})},LA=(e,t,r,n)=>{var s;const o=r,u=e._zod.def;o.type="object",o.properties={};const d=u.shape;for(const p in d)o.properties[p]=Vr(d[p],t,{...n,path:[...n.path,"properties",p]});const f=new Set(Object.keys(d)),h=new Set([...f].filter(p=>{const g=u.shape[p]._zod;return t.io==="input"?g.optin===void 0:g.optout===void 0}));h.size>0&&(o.required=Array.from(h)),((s=u.catchall)==null?void 0:s._zod.def.type)==="never"?o.additionalProperties=!1:u.catchall?u.catchall&&(o.additionalProperties=Vr(u.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},UA=(e,t,r,n)=>{const s=e._zod.def,o=s.inclusive===!1,u=s.options.map((d,f)=>Vr(d,t,{...n,path:[...n.path,o?"oneOf":"anyOf",f]}));o?r.oneOf=u:r.anyOf=u},qA=(e,t,r,n)=>{const s=e._zod.def,o=Vr(s.left,t,{...n,path:[...n.path,"allOf",0]}),u=Vr(s.right,t,{...n,path:[...n.path,"allOf",1]}),d=h=>"allOf"in h&&Object.keys(h).length===1,f=[...d(o)?o.allOf:[o],...d(u)?u.allOf:[u]];r.allOf=f},HA=(e,t,r,n)=>{const s=e._zod.def,o=Vr(s.innerType,t,n),u=t.seen.get(e);t.target==="openapi-3.0"?(u.ref=s.innerType,r.nullable=!0):r.anyOf=[o,{type:"null"}]},PA=(e,t,r,n)=>{const s=e._zod.def;Vr(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType},ZA=(e,t,r,n)=>{const s=e._zod.def;Vr(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType,r.default=JSON.parse(JSON.stringify(s.defaultValue))},GA=(e,t,r,n)=>{const s=e._zod.def;Vr(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},VA=(e,t,r,n)=>{const s=e._zod.def;Vr(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType;let u;try{u=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=u},YA=(e,t,r,n)=>{const s=e._zod.def,o=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;Vr(o,t,n);const u=t.seen.get(e);u.ref=o},FA=(e,t,r,n)=>{const s=e._zod.def;Vr(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType,r.readOnly=!0},Sb=(e,t,r,n)=>{const s=e._zod.def;Vr(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType},XA=ve("ZodISODateTime",(e,t)=>{aT.init(e,t),dr.init(e,t)});function KA(e){return sA(XA,e)}const JA=ve("ZodISODate",(e,t)=>{nT.init(e,t),dr.init(e,t)});function WA(e){return oA(JA,e)}const QA=ve("ZodISOTime",(e,t)=>{iT.init(e,t),dr.init(e,t)});function eE(e){return lA(QA,e)}const tE=ve("ZodISODuration",(e,t)=>{sT.init(e,t),dr.init(e,t)});function rE(e){return uA(tE,e)}const aE=(e,t)=>{nb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Kz(e,r)},flatten:{value:r=>Xz(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Ym,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Ym,2)}},isEmpty:{get(){return e.issues.length===0}}})},en=ve("ZodError",aE,{Parent:Error}),nE=Fp(en),iE=Xp(en),sE=xd(en),oE=wd(en),lE=Qz(en),uE=ek(en),cE=tk(en),dE=rk(en),fE=ak(en),hE=nk(en),mE=ik(en),pE=sk(en),Or=ve("ZodType",(e,t)=>(Nr.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Hc(e,"input"),output:Hc(e,"output")}}),e.toJSONSchema=MA(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(ns(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>is(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>nE(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>sE(e,r,n),e.parseAsync=async(r,n)=>iE(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>oE(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>lE(e,r,n),e.decode=(r,n)=>uE(e,r,n),e.encodeAsync=async(r,n)=>cE(e,r,n),e.decodeAsync=async(r,n)=>dE(e,r,n),e.safeEncode=(r,n)=>fE(e,r,n),e.safeDecode=(r,n)=>hE(e,r,n),e.safeEncodeAsync=async(r,n)=>mE(e,r,n),e.safeDecodeAsync=async(r,n)=>pE(e,r,n),e.refine=(r,n)=>e.check(sM(r,n)),e.superRefine=r=>e.check(oM(r)),e.overwrite=r=>e.check(tl(r)),e.optional=()=>v2(e),e.exactOptional=()=>YE(e),e.nullable=()=>g2(e),e.nullish=()=>v2(g2(e)),e.nonoptional=r=>QE(e,r),e.array=()=>Xm(e),e.or=r=>qE([e,r]),e.and=r=>PE(e,r),e.transform=r=>y2(e,GE(r)),e.default=r=>KE(e,r),e.prefault=r=>WE(e,r),e.catch=r=>tM(e,r),e.pipe=r=>y2(e,r),e.readonly=()=>nM(e),e.describe=r=>{const n=e.clone();return du.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=du.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return du.get(e);const n=e.clone();return du.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),_b=ve("_ZodString",(e,t)=>{Kp.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(n,s,o)=>OA(e,n,s);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(mA(...n)),e.includes=(...n)=>e.check(gA(...n)),e.startsWith=(...n)=>e.check(yA(...n)),e.endsWith=(...n)=>e.check(bA(...n)),e.min=(...n)=>e.check(qc(...n)),e.max=(...n)=>e.check(gb(...n)),e.length=(...n)=>e.check(yb(...n)),e.nonempty=(...n)=>e.check(qc(1,...n)),e.lowercase=n=>e.check(pA(n)),e.uppercase=n=>e.check(vA(n)),e.trim=()=>e.check(wA()),e.normalize=(...n)=>e.check(xA(...n)),e.toLowerCase=()=>e.check(SA()),e.toUpperCase=()=>e.check(_A()),e.slugify=()=>e.check(zA())}),vE=ve("ZodString",(e,t)=>{Kp.init(e,t),_b.init(e,t),e.email=r=>e.check(LT(gE,r)),e.url=r=>e.check(ZT(yE,r)),e.jwt=r=>e.check(iA(RE,r)),e.emoji=r=>e.check(GT(bE,r)),e.guid=r=>e.check(u2(h2,r)),e.uuid=r=>e.check(UT(pc,r)),e.uuidv4=r=>e.check(qT(pc,r)),e.uuidv6=r=>e.check(HT(pc,r)),e.uuidv7=r=>e.check(PT(pc,r)),e.nanoid=r=>e.check(VT(xE,r)),e.guid=r=>e.check(u2(h2,r)),e.cuid=r=>e.check(YT(wE,r)),e.cuid2=r=>e.check(FT(SE,r)),e.ulid=r=>e.check(XT(_E,r)),e.base64=r=>e.check(rA(NE,r)),e.base64url=r=>e.check(aA(OE,r)),e.xid=r=>e.check(KT(zE,r)),e.ksuid=r=>e.check(JT(kE,r)),e.ipv4=r=>e.check(WT(TE,r)),e.ipv6=r=>e.check(QT(AE,r)),e.cidrv4=r=>e.check(eA(EE,r)),e.cidrv6=r=>e.check(tA(ME,r)),e.e164=r=>e.check(nA(CE,r)),e.datetime=r=>e.check(KA(r)),e.date=r=>e.check(WA(r)),e.time=r=>e.check(eE(r)),e.duration=r=>e.check(rE(r))});function ri(e){return BT(vE,e)}const dr=ve("ZodStringFormat",(e,t)=>{ir.init(e,t),_b.init(e,t)}),gE=ve("ZodEmail",(e,t)=>{Fk.init(e,t),dr.init(e,t)}),h2=ve("ZodGUID",(e,t)=>{Vk.init(e,t),dr.init(e,t)}),pc=ve("ZodUUID",(e,t)=>{Yk.init(e,t),dr.init(e,t)}),yE=ve("ZodURL",(e,t)=>{Xk.init(e,t),dr.init(e,t)}),bE=ve("ZodEmoji",(e,t)=>{Kk.init(e,t),dr.init(e,t)}),xE=ve("ZodNanoID",(e,t)=>{Jk.init(e,t),dr.init(e,t)}),wE=ve("ZodCUID",(e,t)=>{Wk.init(e,t),dr.init(e,t)}),SE=ve("ZodCUID2",(e,t)=>{Qk.init(e,t),dr.init(e,t)}),_E=ve("ZodULID",(e,t)=>{eT.init(e,t),dr.init(e,t)}),zE=ve("ZodXID",(e,t)=>{tT.init(e,t),dr.init(e,t)}),kE=ve("ZodKSUID",(e,t)=>{rT.init(e,t),dr.init(e,t)}),TE=ve("ZodIPv4",(e,t)=>{oT.init(e,t),dr.init(e,t)}),AE=ve("ZodIPv6",(e,t)=>{lT.init(e,t),dr.init(e,t)}),EE=ve("ZodCIDRv4",(e,t)=>{uT.init(e,t),dr.init(e,t)}),ME=ve("ZodCIDRv6",(e,t)=>{cT.init(e,t),dr.init(e,t)}),NE=ve("ZodBase64",(e,t)=>{dT.init(e,t),dr.init(e,t)}),OE=ve("ZodBase64URL",(e,t)=>{hT.init(e,t),dr.init(e,t)}),CE=ve("ZodE164",(e,t)=>{mT.init(e,t),dr.init(e,t)}),RE=ve("ZodJWT",(e,t)=>{vT.init(e,t),dr.init(e,t)}),zb=ve("ZodNumber",(e,t)=>{hb.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(n,s,o)=>CA(e,n,s),e.gt=(n,s)=>e.check(d2(n,s)),e.gte=(n,s)=>e.check(cm(n,s)),e.min=(n,s)=>e.check(cm(n,s)),e.lt=(n,s)=>e.check(c2(n,s)),e.lte=(n,s)=>e.check(um(n,s)),e.max=(n,s)=>e.check(um(n,s)),e.int=n=>e.check(m2(n)),e.safe=n=>e.check(m2(n)),e.positive=n=>e.check(d2(0,n)),e.nonnegative=n=>e.check(cm(0,n)),e.negative=n=>e.check(c2(0,n)),e.nonpositive=n=>e.check(um(0,n)),e.multipleOf=(n,s)=>e.check(f2(n,s)),e.step=(n,s)=>e.check(f2(n,s)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Tn(e){return cA(zb,e)}const IE=ve("ZodNumberFormat",(e,t)=>{gT.init(e,t),zb.init(e,t)});function m2(e){return dA(IE,e)}const DE=ve("ZodUnknown",(e,t)=>{yT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>IA()});function p2(){return fA(DE)}const jE=ve("ZodNever",(e,t)=>{bT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>RA(e,r,n)});function $E(e){return hA(jE,e)}const BE=ve("ZodArray",(e,t)=>{xT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>BA(e,r,n,s),e.element=t.element,e.min=(r,n)=>e.check(qc(r,n)),e.nonempty=r=>e.check(qc(1,r)),e.max=(r,n)=>e.check(gb(r,n)),e.length=(r,n)=>e.check(yb(r,n)),e.unwrap=()=>e.element});function Xm(e,t){return kA(BE,e,t)}const LE=ve("ZodObject",(e,t)=>{ST.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>LA(e,r,n,s),Mt(e,"shape",()=>t.shape),e.keyof=()=>Zi(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:p2()}),e.loose=()=>e.clone({...e._zod.def,catchall:p2()}),e.strict=()=>e.clone({...e._zod.def,catchall:$E()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Zz(e,r),e.safeExtend=r=>Gz(e,r),e.merge=r=>Vz(e,r),e.pick=r=>Hz(e,r),e.omit=r=>Pz(e,r),e.partial=(...r)=>Yz(kb,e,r[0]),e.required=(...r)=>Fz(Tb,e,r[0])});function Yi(e,t){const r={type:"object",shape:e??{},...Pe(t)};return new LE(r)}const UE=ve("ZodUnion",(e,t)=>{_T.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>UA(e,r,n,s),e.options=t.options});function qE(e,t){return new UE({type:"union",options:e,...Pe(t)})}const HE=ve("ZodIntersection",(e,t)=>{zT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>qA(e,r,n,s)});function PE(e,t){return new HE({type:"intersection",left:e,right:t})}const Km=ve("ZodEnum",(e,t)=>{kT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(n,s,o)=>DA(e,n,s),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const o={};for(const u of n)if(r.has(u))o[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new Km({...t,checks:[],...Pe(s),entries:o})},e.exclude=(n,s)=>{const o={...t.entries};for(const u of n)if(r.has(u))delete o[u];else throw new Error(`Key ${u} not found in enum`);return new Km({...t,checks:[],...Pe(s),entries:o})}});function Zi(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Km({type:"enum",entries:r,...Pe(t)})}const ZE=ve("ZodTransform",(e,t)=>{TT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>$A(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new J6(e.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(Su(o,r.value,t));else{const u=o;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=r.value),u.inst??(u.inst=e),r.issues.push(Su(u))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(o=>(r.value=o,r)):(r.value=s,r)}});function GE(e){return new ZE({type:"transform",transform:e})}const kb=ve("ZodOptional",(e,t)=>{vb.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Sb(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function v2(e){return new kb({type:"optional",innerType:e})}const VE=ve("ZodExactOptional",(e,t)=>{AT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Sb(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function YE(e){return new VE({type:"optional",innerType:e})}const FE=ve("ZodNullable",(e,t)=>{ET.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>HA(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function g2(e){return new FE({type:"nullable",innerType:e})}const XE=ve("ZodDefault",(e,t)=>{MT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>ZA(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function KE(e,t){return new XE({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():tb(t)}})}const JE=ve("ZodPrefault",(e,t)=>{NT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>GA(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function WE(e,t){return new JE({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():tb(t)}})}const Tb=ve("ZodNonOptional",(e,t)=>{OT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>PA(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function QE(e,t){return new Tb({type:"nonoptional",innerType:e,...Pe(t)})}const eM=ve("ZodCatch",(e,t)=>{CT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>VA(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function tM(e,t){return new eM({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const rM=ve("ZodPipe",(e,t)=>{RT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>YA(e,r,n,s),e.in=t.in,e.out=t.out});function y2(e,t){return new rM({type:"pipe",in:e,out:t})}const aM=ve("ZodReadonly",(e,t)=>{IT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>FA(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function nM(e){return new aM({type:"readonly",innerType:e})}const iM=ve("ZodCustom",(e,t)=>{DT.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>jA(e,r)});function sM(e,t={}){return TA(iM,e,t)}function oM(e){return AA(e)}const lM=Yi({name:ri(),label:ri().optional(),color:ri().optional(),left:Tn(),top:Tn()}),uM=Yi({mode:Zi(["arrow","adjunction","corner","corner_inverse"]).optional(),head:Yi({name:Zi(["normal","none","epi","hook","maps_to","harpoon"]).optional(),side:Zi(["top","bottom"]).optional()}).optional(),tail:Yi({name:Zi(["normal","none","mono","hook","maps_to"]).optional(),side:Zi(["top","bottom"]).optional()}).optional(),body:Yi({name:Zi(["solid","dashed","dotted","squiggly","wavy","barred","double_barred","bullet_solid","bullet_hollow","none"]).optional()}).optional(),level:Tn().int().optional()}),cM=Yi({from:ri(),to:ri(),name:ri().optional(),label:ri().optional(),color:ri().optional(),label_color:ri().optional(),curve:Tn().optional(),shift:Tn().optional(),radius:Tn().optional(),angle:Tn().optional(),label_alignment:Zi(["over","left","right"]).optional(),shorten:Yi({source:Tn().optional(),target:Tn().optional()}).optional(),style:uM.optional()}),dM=Yi({version:Tn().int().optional(),nodes:Xm(lM),arrows:Xm(cM).optional()});class vc{constructor(t,...r){for(const n of r)this[n]=Symbol(`${t}::${n}`)}}class Re{constructor(t,r){Ke(this,"x"),Ke(this,"y"),this.x=t,this.y=r}static zero(){return new Re(0,0)}static lendir(t,r){return new Re(Math.cos(r)*t,Math.sin(r)*t)}static diag(t){return new Re(t,t)}toString(){return`${this.x} ${this.y}`}toArray(){return[this.x,this.y]}px(t=!0){return`${this.x}px${t?",":""} ${this.y}px`}eq(t){return this.x===t.x&&this.y===t.y}add(t){return new Re(this.x+t.x,this.y+t.y)}sub(t){return new Re(this.x-t.x,this.y-t.y)}neg(){return new Re(-this.x,-this.y)}scale(t,r){return new Re(this.x*t,this.y*r)}inv_scale(t,r){return new Re(this.x/t,this.y/r)}mul(t){return this.scale(t,t)}div(t){return this.inv_scale(t,t)}max(t){return new Re(Math.max(this.x,t.x),Math.max(this.y,t.y))}min(t){return new Re(Math.min(this.x,t.x),Math.min(this.y,t.y))}rotate(t){return new Re(this.x*Math.cos(t)-this.y*Math.sin(t),this.y*Math.cos(t)+this.x*Math.sin(t))}length(){return Math.hypot(this.y,this.x)}angle(){return Math.atan2(this.y,this.x)}lerp(t,r){return this.add(t.sub(this).mul(r))}is_zero(){return this.x===0&&this.y===0}map(t){return new Re(t(this.x),t(this.y))}}class fM extends Re{}class Ac extends fM{get width(){return this.x}get height(){return this.y}}function hM(e){return e*180/Math.PI}class gc{constructor(){Ke(this,"commands"),this.commands=[]}toString(){return this.commands.join(`
`)}move_to(t){return this.commands.push(`M ${t.x} ${t.y}`),this}move_by(t){return this.commands.push(`m ${t.x} ${t.y}`),this}line_to(t){return t.x===0?this.commands.push(`V ${t.y}`):t.y===0?this.commands.push(`H ${t.x}`):this.commands.push(`L ${t.x} ${t.y}`),this}line_by(t){return t.x===0?this.commands.push(`v ${t.y}`):t.y===0?this.commands.push(`h ${t.x}`):this.commands.push(`l ${t.x} ${t.y}`),this}curve_by(t,r){return this.commands.push(`q ${t.x} ${t.y} ${r.x} ${r.y}`),this}arc_by(t,r,n,s,o){return this.commands.push(`a ${Math.abs(t.x)} ${Math.abs(t.y)}
      ${hM(r)} ${n?1:0} ${s?1:0}
      ${o.x} ${o.y}`),this}}function Ec(e,t){return(e%t+t)%t}const Ma=10**-6,b2=1/Ma;function Pc(e){return Math.round(e*b2)/b2}class Aa{static point_inside_polygon(t,r){const n=(s,o)=>{const u=s[0],d=s[1].sub(u),f=o.sub(u);return d.x*f.y-d.y*f.x};return r.map((s,o)=>{if(r[o].y<=t.y!=r[(o+1)%4].y<=t.y){const u=n([r[o],r[(o+1)%4]],t);if(u>0)return 1;if(u<0)return-1}return 0}).reduce((s,o)=>s+o,0)!==0}static add_intersection(t,r){for(const n of t)if(Math.abs(n.x-r.x)<Ma&&Math.abs(n.y-r.y)<Ma)return;t.add(new Re(Pc(r.x),Pc(r.y)))}static check_for_containment(t,r,n){const s=new Zc(r.centre,r.size,0);if(Aa.point_inside_polygon(t,s.points())){if(n)return[new _d(r.centre,0,0)];throw new Error("Curve was entirely contained by rounded rectangle.")}return[]}}class Jm extends Aa{constructor(t,r,n,s){super(),Ke(this,"origin"),Ke(this,"w"),Ke(this,"h"),Ke(this,"angle"),Ke(this,"end"),Ke(this,"control"),this.origin=t,this.w=r,this.h=n,this.angle=s,this.end=this.origin.add(new Re(this.w,0).rotate(this.angle)),this.control=this.origin.add(new Re(this.w/2,this.h).rotate(this.angle))}point(t){return this.origin.lerp(this.control,t).lerp(this.control.lerp(this.end,t),t)}tangent(t){return this.control.lerp(this.end,t).sub(this.origin.lerp(this.control,t)).angle()}delineate(t){const r=[[0,this.point(0)],[t,this.point(t)]];let n,s=0;do{n=s,s=0;for(let o=0;o<r.length-1;++o)s+=r[o+1][1].sub(r[o][1]).length()}while(s-n>.25&&(()=>{for(let o=0;o<r.length-1;++o){const u=(r[o][0]+r[o+1][0])/2;r.splice(++o,0,[u,this.point(u)])}return!0})());return{points:r,length:s}}arc_length(t){const{length:r}=this.delineate(t);return r}t_after_length(t=!1){const{points:r}=this.delineate(1);return n=>{if(n===0)return 0;if(n<0){if(t)return 0;throw new Error("Length was less than 0.")}let s=0;for(let o=0;o<r.length-1;++o){const u=r[o+1][1].sub(r[o][1]).length();if(s+u>=n)return r[o][0]+(r[o+1][0]-r[o][0])*(n-s)/u;s+=u}if(t)return 1;throw new Error("Length was greater than the arc length.")}}get height(){return this.h/2}get width(){return this.w}intersections_with_rounded_rectangle(t,r){const n=this.h||1,s=t.points().map(d=>(d=d.sub(this.origin),d=d.rotate(-this.angle),d=d.inv_scale(this.w,n),d)),o=new Set,u=d=>{const f=(d[1].y-d[0].y)/(d[1].x-d[0].x);return{m:f,c:d[0].y-f*d[0].x}};if(this.h===0)for(let d=0;d<s.length;++d){const f=[s[d],s[(d+1)%s.length]];if(Math.abs(f[0].x-f[1].x)<=Ma)f[0].x>=0&&f[0].x<=1&&Math.min(f[0].y,f[1].y)<=0&&Math.max(f[0].y,f[1].y)>=0&&Aa.add_intersection(o,new Re(f[0].x,0));else{const{m:h,c:p}=u(f);if(Math.abs(h)>Ma){const g=-p/h;g>=0&&g<=1&&g>=Math.min(f[0].x,f[1].x)-Ma&&g<=Math.max(f[0].x,f[1].x)+Ma&&Aa.add_intersection(o,new Re(g,0))}else if(Math.abs(f[0].y)<=Ma){const g=Math.min(f[0].x,f[1].x),y=Math.max(f[0].x,f[1].x);g<=1&&y>=0&&(Aa.add_intersection(o,new Re(Math.max(g,0),0)),Aa.add_intersection(o,new Re(Math.min(y,1),0)))}}}else for(let d=0;d<s.length;++d){const f=[s[d],s[(d+1)%s.length]];if(Math.abs(f[0].x-f[1].x)<=Ma){const h=x2.y_intersection_with_vertical_line(f[0].x);h>=0&&h>=Math.min(f[0].y,f[1].y)&&h<=Math.max(f[0].y,f[1].y)&&Aa.add_intersection(o,new Re(f[0].x,h))}else{const{m:h,c:p}=u(f);x2.x_intersections_with_nonvertical_line(h,p).filter(g=>g>=0&&g<=1&&g>=Math.min(f[0].x,f[1].x)&&g<=Math.max(f[0].x,f[1].x)).map(g=>new Re(g,h*g+p)).forEach(g=>Aa.add_intersection(o,g))}}return o.size===0?Aa.check_for_containment(this.origin,t,r):Array.from(o).map(d=>new _d(d.scale(this.w,n),d.x,Math.atan2((2-4*d.x)*n,this.w)))}render(t){return t.curve_by(new Re(this.w/2,this.h).rotate(this.angle),new Re(this.w,0).rotate(this.angle))}}class _d extends Re{constructor(t,r,n){super(t.x,t.y),Ke(this,"t"),Ke(this,"tangentAngle"),this.t=r,this.tangentAngle=n}}class x2{static x_intersections_with_nonvertical_line(t,r){const n=t**2-4*t+4-8*r;return n>0?[(2-t+n**.5)/4,(2-t-n**.5)/4]:n===0?[(2-t+n**.5)/4]:[]}static y_intersection_with_vertical_line(t){return 2*t*(1-t)}}class Zc{constructor(t,r,n){Ke(this,"centre"),Ke(this,"size"),Ke(this,"r"),this.centre=t,this.size=r,this.r=n}points(t=5){const r=[],n=this.r!==0?Math.PI/Math.atan(t/(2*this.r)):0,s=Math.ceil(n),o=this.r/Math.cos(Math.PI/s),u=(f,h,p)=>{r.push(this.centre.add(this.size.div(2).sub(Re.diag(this.r)).scale(f,h)).add(Re.lendir(this.r,p)));for(let g=0;g<s/4;++g){const y=(g+.5)/s*2*Math.PI+p;r.push(this.centre.add(this.size.div(2).sub(Re.diag(this.r)).scale(f,h)).add(Re.lendir(o,y)))}return p+=Math.PI/2,r.push(this.centre.add(this.size.div(2).sub(Re.diag(this.r)).scale(f,h)).add(Re.lendir(this.r,p))),p};let d=0;d=u(1,1,d),d=u(-1,1,d),d=u(-1,-1,d),d=u(1,-1,d);for(let f=r.length-2;f>=0;--f)Math.abs(r[f].x-r[f+1].x)<=Ma&&Math.abs(r[f].y-r[f+1].y)<=Ma&&r.splice(f+1,1);return r}}class w2 extends Aa{constructor(t,r,n,s,o){super(),Ke(this,"origin"),Ke(this,"chord"),Ke(this,"major"),Ke(this,"radius"),Ke(this,"angle"),Ke(this,"sagitta"),Ke(this,"centre_normalised"),Ke(this,"sweep_angle"),Ke(this,"centre"),Ke(this,"start_angle"),this.origin=t,this.chord=r,this.major=n,this.radius=s,this.angle=o,this.sagitta=this.radius-Math.sign(this.radius)*(this.radius**2-this.chord**2/4)**.5,this.centre_normalised=new Re(this.chord/2,(this.radius-this.sagitta)*(this.major?-1:1));const u=Ec(this.centre_normalised.neg().angle(),2*Math.PI);this.sweep_angle=Math.PI+(2*Math.PI-2*u)*this.clockwise,this.centre=this.origin.add(this.centre_normalised.rotate(this.angle)),this.start_angle=Ec(u+this.angle,2*Math.PI)}get clockwise(){return this.radius>=0?1:-1}point(t){return this.centre.add(new Re(Math.abs(this.radius),0).rotate(this.start_angle+t*this.sweep_angle*this.clockwise))}tangent(t){return this.start_angle+(t*this.sweep_angle+Math.PI/2)*this.clockwise}arc_length(t){return t*this.sweep_angle*Math.abs(this.radius)}t_after_length(t=!1){return r=>{if(r<0){if(t)return 0;throw new Error("Length was less than 0.")}if(r>this.arc_length(1)){if(t)return 1;throw new Error("Length was greater than the arc length.")}return r/(this.sweep_angle*Math.abs(this.radius))}}get height(){return Math.abs(this.major?this.radius*2-this.sagitta:this.sagitta)}get width(){return this.major?Math.abs(this.radius)*2:this.chord}angle_in_arc(t){const r=o=>{for(;o<-Math.PI;)o+=2*Math.PI;for(;o>Math.PI;)o-=2*Math.PI;return o},n=r(this.start_angle-t),s=r(this.start_angle+this.sweep_angle*this.clockwise-t);return(n*s<0&&Math.abs(n-s)<Math.PI)!==this.major}intersections_with_rounded_rectangle(t,r){if(!this.major&&Math.abs(this.sagitta)<=1)return new Jm(this.origin,this.chord,0,this.angle).intersections_with_rounded_rectangle(t,r);const n=t.points().map(o=>(o=o.sub(this.centre).map(Pc),o));this.radius<0&&n.reverse();const s=new Set;for(let o=0;o<n.length;++o){const u=[n[o],n[(o+1)%n.length]],d=u[1].sub(u[0]),f=u[0].x*u[1].y-u[1].x*u[0].y,h=d.length()**2,p=this.radius**2*h-f**2;if(!(Math.sign(p)<0))for(const g of Math.abs(p)<=Ma?[0]:[1,-1]){const[y,x]=[(f*d.y+g*d.x*p**.5*(d.y<0?-1:1))/h,(-f*d.x+g*p**.5*Math.abs(d.y))/h].map(Pc);y>=Math.min(u[0].x,u[1].x)&&y<=Math.max(u[0].x,u[1].x)&&x>=Math.min(u[0].y,u[1].y)&&x<=Math.max(u[0].y,u[1].y)&&this.angle_in_arc(Math.atan2(x,y))&&Aa.add_intersection(s,new Re(y,x))}}return s.size===0?Aa.check_for_containment(this.origin,t,r):Array.from(s).map(o=>{const u=Ec((Math.atan2(o.y,o.x)-this.start_angle)*this.clockwise,2*Math.PI)/this.sweep_angle;return new _d(o.add(this.centre).sub(this.origin).rotate(-this.angle),u,this.tangent(u))})}render(t){return!this.major&&Math.abs(this.sagitta)<=1?t.line_by(new Re(this.chord,0).rotate(this.angle)):t.arc_by(Re.diag(Math.abs(this.radius)),0,this.major,this.radius>=0,new Re(this.chord,0).rotate(this.angle))}}const we={LINE_SPACING:4.5,STROKE_WIDTH:1.5,BACKGROUND_PADDING:16,BACKGROUND_OPACITY:.2,MASK_PADDING:4,HEAD_SPACING:2,SQUIGGLY_PADDING:4,SQUIGGLY_TRIANGLE_HEIGHT:2,ADJUNCTION_LINE_LENGTH:16,CORNER_LINE_LENGTH:12,HANDLE_RADIUS:14,ARC:{OUTER_DIS:96,INNER_DIS:64},ARROW_SHAPE:new vc("ARROW_SHAPE","BEZIER","ARC"),ARROW_BODY_STYLE:new vc("ARROW_BODY_STYLE","NONE","LINE","SQUIGGLY","ADJUNCTION","PROARROW","DOUBLE_PROARROW","BULLET_SOLID","BULLET_HOLLOW"),ARROW_DASH_STYLE:new vc("ARROW_DASH_STYLE","SOLID","DASHED","DOTTED"),ARROW_HEAD_STYLE:{NONE:[],NORMAL:["epi"],EPI:["epi","epi"],MONO:["mono"],MAPS_TO:["maps to"],HARPOON_TOP:["harpoon-top"],HARPOON_BOTTOM:["harpoon-bottom"],HOOK_TOP:["hook-top"],HOOK_BOTTOM:["hook-bottom"],CORNER:["corner"],CORNER_INVERSE:["corner-inverse"]},LABEL_ALIGNMENT:new vc("LABEL_ALIGNMENT","CENTRE","OVER","LEFT","RIGHT")};class Ab{constructor(){Ke(this,"level",1),Ke(this,"label_position",.5),Ke(this,"curve",0),Ke(this,"angle",0),Ke(this,"shift",0),Ke(this,"shorten",{tail:0,head:0}),Ke(this,"shape",we.ARROW_SHAPE.BEZIER),Ke(this,"body_style",we.ARROW_BODY_STYLE.LINE),Ke(this,"dash_style",we.ARROW_DASH_STYLE.SOLID),Ke(this,"heads",we.ARROW_HEAD_STYLE.NORMAL),Ke(this,"tails",we.ARROW_HEAD_STYLE.NONE),Ke(this,"colour","black")}}class mM{constructor(t){Ke(this,"origin"),Ke(this,"size"),Ke(this,"radius"),this.origin=t,this.size=new Ac(0,0),this.radius=0}}class S2{constructor(t,r,n){Ke(this,"origin"),Ke(this,"size"),Ke(this,"radius"),this.origin=t,this.size=r,this.radius=n}}class pM{constructor(t,r,n=new Ab,s=null,o="arrow"){Ke(this,"source"),Ke(this,"target"),Ke(this,"style"),Ke(this,"label"),Ke(this,"id"),this.source=t,this.target=r,this.style=n,this.label=s,this.id=o}origin(){const t=this.target.origin.sub(this.source.origin);if(this.style.shape===we.ARROW_SHAPE.BEZIER||t.length()>0)return{source:this.source.origin,target:this.target.origin};{const r=t.angle()+this.style.angle+Math.PI/2,n=Re.lendir(.01/2,r);return{source:this.source.origin.sub(n),target:this.target.origin.add(n)}}}vector(){const t=this.origin();return t.target.sub(t.source)}angle(){return this.vector().angle()}length(){return this.vector().length()}curve(t=this.origin().source,r=this.angle()){const n=this.length();switch(this.style.shape){case we.ARROW_SHAPE.BEZIER:return new Jm(t,n,-this.style.curve,r);case we.ARROW_SHAPE.ARC:return n<.1?new w2(t,n,!0,-this.style.curve,r):this.arc_for_chord(t,n,-this.style.curve,r);default:return new Jm(t,n,-this.style.curve,r)}}arc_for_chord(t,r,n,s){const o=we.ARC.OUTER_DIS,u=we.ARC.INNER_DIS,d=u/2,f=o-u,h=r>=o?Ma:d*((o-r)/f),p=h/2+r**2/(8*h),g=r<=u?d+(u-r)/u*(n-d):p;return new w2(t,r,r<=u,g,s)}find_endpoints(){const t=this.origin(),r=(o,u,d)=>{const f=this.curve();if(o instanceof mM||o.size.is_zero()){const p=d?0:1;return new _d(u.sub(t.source).rotate(-f.angle),p,f.tangent(p))}const h=f.intersections_with_rounded_rectangle(new Zc(u,o.size,o.radius),!1);if(h.length===0)throw new Error("No intersections found.");return h.sort((p,g)=>p.t-g.t),this.style.shape,we.ARROW_SHAPE.BEZIER,h[d?0:h.length-1]},n=r(this.source,t.source,!0),s=r(this.target,t.target,!1);return[n,s]}compute(){var t,r,n,s,o,u,d,f,h;const p=this.style.level*we.STROKE_WIDTH+(this.style.level-1)*we.LINE_SPACING,g=this.style.body_style===we.ARROW_BODY_STYLE.SQUIGGLY?this.style.level*we.SQUIGGLY_TRIANGLE_HEIGHT*2+we.STROKE_WIDTH+(this.style.level-1)*we.LINE_SPACING:p,y=we.LINE_SPACING+we.STROKE_WIDTH+(this.style.level-1)*2,x=g+(we.LINE_SPACING+we.STROKE_WIDTH)*2,k=this.length(),S=this.curve(Re.zero(),0),A=S.t_after_length(!0),C=2*Math.abs(S.height),R=this.angle(),M=new Re(0,this.style.shift).rotate(R),I=this.curve(this.origin().source.add(M),R),D=I.arc_length(1),B=new gc;B.move_to(I.origin),I.render(B);const E=B.toString();let j,F;try{[j,F]=this.find_endpoints()}catch{return null}const ue={start:this.style.tails.length>0&&this.style.tails[0].startsWith("hook")?y:0,end:this.style.heads.length>0&&this.style.heads[0].startsWith("hook")?y:0},ee=(nt,tt,Dt)=>{if(nt.length>0&&nt[0]==="mono"){const kt=I.tangent(A(I.arc_length(tt.t)+y*(Dt?1:-1))),Yt=I.tangent(tt.t)-kt;return Math.abs(g*Math.sin(Yt)/2)}return 0},V={start:ee(this.style.tails,j,!0),end:ee(this.style.heads,F,!1)},K={curve:I,start:j,end:F,length:k,height:C,stroke_width:p,edge_width:g,head_width:y,head_height:x,shorten:ue,t_after_length:A,dash_padding:V,offset:Re.zero(),total_width_of_tails:0,total_width_of_heads:0},X=this.determine_label_position(K);let re=0;if(((t=this.label)==null?void 0:t.alignment)===we.LABEL_ALIGNMENT.OVER){const nt=j.t+(F.t-j.t)*this.style.label_position;re=I.tangent(nt)*180/Math.PI}const $=((n=(r=this.label)==null?void 0:r.size)==null?void 0:n.width)||0,Z=((o=(s=this.label)==null?void 0:s.size)==null?void 0:o.height)||0,J={x:X.x-$/2,y:X.y-Z/2,width:$,height:Z},Ae=[],ze=[],L=[];if(this.style.body_style===we.ARROW_BODY_STYLE.PROARROW||this.style.body_style===we.ARROW_BODY_STYLE.DOUBLE_PROARROW||this.style.body_style===we.ARROW_BODY_STYLE.BULLET_SOLID||this.style.body_style===we.ARROW_BODY_STYLE.BULLET_HOLLOW){const nt=I.arc_length(j.t)+(this.style.shorten.tail+ue.start)-V.start,tt=I.arc_length(F.t)-(this.style.shorten.head+ue.end)+V.end,Dt=Math.max(j.t,A(nt)),kt=Math.min(F.t,A(tt)),Yt=(Dt+kt)/2;if(this.style.body_style===we.ARROW_BODY_STYLE.PROARROW||this.style.body_style===we.ARROW_BODY_STYLE.DOUBLE_PROARROW){const Ut=this.style.body_style===we.ARROW_BODY_STYLE.DOUBLE_PROARROW?[-2.5,2.5]:[0],er=I.arc_length(Yt),_t=I.tangent(Yt)+Math.PI/2,xt=new Re(x,0),Ft=xt.div(2),jt=new gc;for(const lt of Ut){let hr=er+lt;hr<nt&&(hr=nt),hr>tt&&(hr=tt);const or=A(hr),Ne=I.point(or);jt.move_to(Ne.sub(Ft.rotate(_t))),jt.line_by(xt.rotate(_t))}Ae.push({props:{d:jt.toString(),fill:"none",stroke:this.style.colour,strokeWidth:we.STROKE_WIDTH,strokeLinecap:"round"}})}else if(this.style.body_style===we.ARROW_BODY_STYLE.BULLET_SOLID||this.style.body_style===we.ARROW_BODY_STYLE.BULLET_HOLLOW){const Ut=I.point(Yt),er=x/2,_t=`M ${Ut.x} ${Ut.y} m ${er}, 0 a ${er},${er} 0 1,0 -${er*2},0 a ${er},${er} 0 1,0 ${er*2},0`;Ae.push({props:{d:_t,fill:this.style.body_style===we.ARROW_BODY_STYLE.BULLET_SOLID?this.style.colour:"none",stroke:this.style.body_style===we.ARROW_BODY_STYLE.BULLET_HOLLOW?this.style.colour:"none",strokeWidth:we.STROKE_WIDTH,strokeLinecap:"round"}})}}const ie=(nt,tt,Dt,kt)=>{const{pathD:Yt,total_width:Ut}=this.redraw_heads(K,nt,tt,Dt,kt);if(Yt!==null)if(kt)L.push({d:Yt,fill:"black",stroke:"none"});else{const er={props:{d:Yt,fill:"none",stroke:this.style.colour,strokeWidth:we.STROKE_WIDTH,strokeLinecap:"round"}};Dt?ze.push(er):Ae.push(er)}return Ut};K.total_width_of_tails=ie(this.style.tails,j,!0,!1),K.total_width_of_heads=ie(this.style.heads,F,!1,!1);const{path:W,dash_array:te}=this.edge_path(K),ge=[],Te=[];if(this.style.level>1||(u=this.label)!=null&&u.text&&this.label.text.trim()!==""){const nt=`${this.id}-mask`;if(L.push({d:"M -10000 -10000 h 20000 v 20000 h -20000 z",fill:"white",stroke:"none",strokeWidth:0}),ie(this.style.tails,j,!0,!0),ie(this.style.heads,F,!1,!0),this.style.level>1)for(let tt=this.style.level-1,Dt=!0;tt>0;--tt,Dt=!Dt){const kt=(tt-(Dt?1:0))*we.STROKE_WIDTH+(tt-(Dt?0:1))*we.LINE_SPACING;L.push({d:W.toString(),stroke:Dt?"black":"white",strokeWidth:kt,fill:"none"})}if((d=this.label)!=null&&d.text&&J.width>0){const tt={x:J.x+J.width/2,y:J.y+J.height/2},Dt=`M ${J.x} ${J.y} h ${J.width} v ${J.height} h -${J.width} z`;L.push({d:Dt,fill:"black",stroke:"none",transform:re?`rotate(${re}, ${tt.x}, ${tt.y})`:void 0})}Te.push({id:nt,paths:L}),ge.push({d:W.toString(),fill:"none",stroke:this.style.colour,strokeWidth:p,strokeDasharray:te||void 0,mask:`url(#${nt})`})}else ge.push({d:W.toString(),fill:"none",stroke:this.style.colour,strokeWidth:we.STROKE_WIDTH,strokeDasharray:te||void 0});const le=K.start.t+(K.end.t-K.start.t)*this.style.label_position,Me=K.curve.point(le),je=j.rotate(R).add(I.origin),Ye=F.rotate(R).add(I.origin);return{arrow:{key:this.id,spec:{},paths:ge,heads:Ae,tail:ze,label:{text:(f=this.label)==null?void 0:f.text,color:(h=this.label)==null?void 0:h.color,props:{x:X.x,y:X.y,textAnchor:"middle",dominantBaseline:"middle",fontSize:16},bbox:J,rotation:re},midpoint:{x:Me.x,y:Me.y},sourcePoint:{x:je.x,y:je.y},targetPoint:{x:Ye.x,y:Ye.y},arcLength:D,interactionPath:E},masks:Te}}edge_path(t){const{curve:r,start:n,end:s,shorten:o,dash_padding:u,t_after_length:d,total_width_of_tails:f,total_width_of_heads:h}=t;let p=r.arc_length(n.t)+(this.style.shorten.tail+o.start)-u.start,g=r.arc_length(s.t)-(this.style.shorten.head+o.end)+u.end,y=r.arc_length(1);const x=new gc;if(this.style.body_style===we.ARROW_BODY_STYLE.LINE||this.style.body_style===we.ARROW_BODY_STYLE.PROARROW||this.style.body_style===we.ARROW_BODY_STYLE.DOUBLE_PROARROW||this.style.body_style===we.ARROW_BODY_STYLE.BULLET_SOLID||this.style.body_style===we.ARROW_BODY_STYLE.BULLET_HOLLOW)x.move_to(r.origin),r.render(x);else if(this.style.body_style===we.ARROW_BODY_STYLE.ADJUNCTION){const S=r.point(.5),A=r.tangent(.5),C=A+Math.PI/2,R=new Re(we.ADJUNCTION_LINE_LENGTH,0),M=R.div(2);x.move_to(S.sub(M.rotate(A))),x.line_by(R.rotate(A));const I=S.add(M.rotate(A)).sub(M.rotate(C));x.move_to(I),x.line_by(R.rotate(C))}else if(this.style.body_style===we.ARROW_BODY_STYLE.SQUIGGLY){const S=we.SQUIGGLY_TRIANGLE_HEIGHT*2,A=p+f+we.SQUIGGLY_PADDING,C=g-(h+we.SQUIGGLY_PADDING),R=r.point(d(A)),M=r.point(d(p)),I=r.point(d(g));x.move_to(M),x.line_to(R);for(let D=A,B=-1,E=1;D+E*S/2<C;B=[B,-B][E],E=1-E){D+=S/2;const j=d(D),F=r.tangent(j)+Math.PI/2*B,ue=r.point(j).add(Re.lendir(we.SQUIGGLY_TRIANGLE_HEIGHT*E,F));x.line_to(ue)}x.line_to(I),p=0}let k=null;if(this.style.body_style!==we.ARROW_BODY_STYLE.ADJUNCTION)if(this.style.dash_style!==we.ARROW_DASH_STYLE.SOLID){let S=g-p,A=[];this.style.dash_style===we.ARROW_DASH_STYLE.DASHED?A=[6,6]:this.style.dash_style===we.ARROW_DASH_STYLE.DOTTED&&(A=[2,4]);const C=A.reduce((D,B)=>D+B,0),R=Math.floor(S/C),M=Array(R).fill(A).flat(),I=S-R*C;I>0&&M.push(I),k=`0 ${p} ${M.join(" ")} ${y-g}`}else k=`0 ${p} ${g-p} ${y-g}`;return{path:x,dash_array:k}}redraw_heads(t,r,n,s,o=!1){const{curve:u,head_width:d,head_height:f,t_after_length:h,shorten:p,dash_padding:g,stroke_width:y}=t;if(r.length===0)return{pathD:null,total_width:0};const x=s?1:-1,k=s?0:1;let S=0;const A=u.arc_length(n.t)+(s?p.start+this.style.shorten.tail:p.end+this.style.shorten.head)*x,C=new gc,R=[];let M=0;for(let I=0,D=0;I<r.length;++I){let B=0,E=d,j=0;if(r[I]==="mono"&&(E=d,j=d),r[I]==="maps to"&&(B=d/2,E=d/2),I===0)D+=j;else{const F=r[I]===r[I-1]?2:1;D+=(M+E)/F+we.HEAD_SPACING}M=B,R.push(D),S=D+B}for(let I=r.length-1;I>=0;--I){if(o&&I!==0)continue;const D=r[I],B=A+R[I]*x,E=h(B),j=u.point(E);let F=u.tangent(E);if(D==="mono"&&(F+=Math.PI),D==="epi"||D==="mono"||D==="arrowhead"){const ue=[[-1,k],[1,1-k]];for(const[ee,V]of ue)if(C.move_to(j),C.arc_by(new Re(x*d,f/2),F,!1,V===1,new Re(x*d,ee*f/2).rotate(F)),o){let K=0;if(D==="epi"||D==="arrowhead")K=-x*(d+we.MASK_PADDING);else if(D==="mono"){const X=(s?g.start:g.end)*2;K=x*(we.MASK_PADDING+X)}C.line_by(Re.lendir(K,F)),C.line_by(new Re(0,-ee*f/2).rotate(F))}}else if(D==="maps to"){const ue=Re.lendir(f/2,F+Math.PI/2),ee=Re.lendir(f/2,F-Math.PI/2);C.move_to(j.add(ue)),C.line_to(j.add(ee))}else if(D.startsWith("harpoon")){const ue=D.endsWith("top")?1:-1,ee=j,V=ee.add(Re.lendir(d*x,F)),K=Re.lendir(f/2*ue,F+Math.PI/2);C.move_to(ee),C.line_to(V.add(K))}else if(D.startsWith("hook")){const ue=D.endsWith("top")?-1:1,ee=.5;for(let V=0;V<this.style.level;++V){const K=j.add(new Re(ee,ue*y/2-ue*we.STROKE_WIDTH/2-ue*(we.LINE_SPACING+we.STROKE_WIDTH)*V).rotate(F));C.move_to(K),C.arc_by(new Re(x*d,d),F,!1,ue===1?k===1:k!==1,new Re(0,ue*d*2).rotate(F))}}else if(D==="corner"||D==="corner-inverse"){const ue=D.endsWith("-inverse"),ee=we.CORNER_LINE_LENGTH,V=ee/2**.5,K=u.point(h(B+(ue?0:V*x)));for(const X of[-1,1]){C.move_to(K);const re=Math.PI/4,$=this.angle(),Z=(ue?0:Math.PI)+re*Math.round(4*$/Math.PI)-$;C.line_by(Re.lendir(ee,Z+Math.PI*k+X*Math.PI/4))}}}return{pathD:C.toString(),total_width:S}}determine_label_position(t){var r;const{start:n,end:s}=t,o=t.curve,u=n.t+(s.t-n.t)*this.style.label_position;let d=o.point(u);const f=(r=this.label)==null?void 0:r.alignment;if(f===we.LABEL_ALIGNMENT.LEFT||f===we.LABEL_ALIGNMENT.RIGHT){const h=o.tangent(u)-Math.PI/2,p=f===we.LABEL_ALIGNMENT.LEFT?1:-1,g=Re.lendir(15*p,h);d=d.add(g)}return d}}const Ms=25;function Gc(e){const t=Ec(e,360);return t>180?t-360:t}function vM(e,t){var r,n,s,o,u,d,f,h,p,g,y;const x=new Ab;if(x.level=((r=e.style)==null?void 0:r.level)??1,x.curve=e.radius??e.curve??0,x.shift=e.shift??0,x.angle=(e.angle??0)*Math.PI/180,x.label_position=.5,e.color&&(x.colour=e.color),e.shorten&&(x.shorten.tail=e.shorten.source??0,x.shorten.head=e.shorten.target??0),x.shape=t?we.ARROW_SHAPE.ARC:we.ARROW_SHAPE.BEZIER,(n=e.style)!=null&&n.mode&&(e.style.mode==="adjunction"?(x.body_style=we.ARROW_BODY_STYLE.ADJUNCTION,x.heads=we.ARROW_HEAD_STYLE.NONE):e.style.mode==="corner"?(x.body_style=we.ARROW_BODY_STYLE.NONE,x.heads=we.ARROW_HEAD_STYLE.NONE,x.tails=we.ARROW_HEAD_STYLE.CORNER):e.style.mode==="corner_inverse"&&(x.body_style=we.ARROW_BODY_STYLE.NONE,x.heads=we.ARROW_HEAD_STYLE.NONE,x.tails=we.ARROW_HEAD_STYLE.CORNER_INVERSE)),(o=(s=e.style)==null?void 0:s.body)!=null&&o.name){const k=e.style.body.name.toUpperCase();k==="DASHED"&&(x.dash_style=we.ARROW_DASH_STYLE.DASHED),k==="DOTTED"&&(x.dash_style=we.ARROW_DASH_STYLE.DOTTED),k==="NONE"&&(x.body_style=we.ARROW_BODY_STYLE.NONE),(k==="SQUIGGLY"||k==="WAVY")&&(x.body_style=we.ARROW_BODY_STYLE.SQUIGGLY),k==="BARRED"&&(x.body_style=we.ARROW_BODY_STYLE.PROARROW),k==="DOUBLE_BARRED"&&(x.body_style=we.ARROW_BODY_STYLE.DOUBLE_PROARROW),k==="BULLET_SOLID"&&(x.body_style=we.ARROW_BODY_STYLE.BULLET_SOLID),k==="BULLET_HOLLOW"&&(x.body_style=we.ARROW_BODY_STYLE.BULLET_HOLLOW)}if((d=(u=e.style)==null?void 0:u.head)!=null&&d.name){let k=e.style.head.name.toUpperCase();k==="MAPS_TO"&&(k="MAPS_TO"),e.style.head.side&&(k+=`_${e.style.head.side.toUpperCase()}`);let S=k;k==="HOOK"&&(S=`HOOK_${((f=e.style.head.side)==null?void 0:f.toUpperCase())||"TOP"}`),k==="HARPOON"&&(S=`HARPOON_${((h=e.style.head.side)==null?void 0:h.toUpperCase())||"TOP"}`),x.heads=we.ARROW_HEAD_STYLE[S]||we.ARROW_HEAD_STYLE.NORMAL}if((g=(p=e.style)==null?void 0:p.tail)!=null&&g.name){let k=e.style.tail.name.toUpperCase(),S=k;k==="HOOK"&&(S=`HOOK_${((y=e.style.tail.side)==null?void 0:y.toUpperCase())||"TOP"}`),x.tails=we.ARROW_HEAD_STYLE[S]||we.ARROW_HEAD_STYLE.NONE}return x}function _u(e){try{const t=typeof e=="string"?JSON.parse(e):e,r=dM.parse({...t,version:t.version||1});if(!r.nodes||r.nodes.length===0)return{nodes:[],arrows:[],masks:[],viewBox:"0 0 100 100",error:null};const n=new Map(r.nodes.map(R=>[R.name,{pos:new Re(R.left,R.top),shape:new Zc(new Re(R.left,R.top),new Ac(Ms*2,Ms*2),Ms),isNode:!0,level:0}])),s=(r.arrows||[]).map((R,M)=>({...R,uniqueId:R.name||`_arrow_${M}`})),o=[],u=[],d=new Set(s);let f=!0;const h=s.length+1;let p=0;for(;d.size>0&&f;){if(p++>h)throw new Error("Dependency cycle detected");f=!1;const R=[...d];for(const M of R){const I=n.get(M.from),D=n.get(M.to);if(I&&D){const B=M.uniqueId,E=new S2(I.pos,I.shape.size,I.shape.r),j=new S2(D.pos,D.shape.size,D.shape.r),F=vM(M,M.from===M.to),ue=M.label_alignment&&we.LABEL_ALIGNMENT[M.label_alignment.toUpperCase()]||we.LABEL_ALIGNMENT.CENTRE,ee=(M.label||"").length,V=ee>0?Math.max(30,ee*10+20):0,K=ee>0?24:0,X=new pM(E,j,F,{text:M.label||"",color:M.label_color,alignment:ue,size:new Ac(V,K)},B).compute();if(X){const{arrow:re,masks:$}=X;re.spec=M,o.push(re),u.push(...$),n.set(B,{pos:new Re(re.midpoint.x,re.midpoint.y),shape:new Zc(new Re(re.midpoint.x,re.midpoint.y),new Ac(Math.max(30,V),Math.max(30,K)),2),isNode:!1,level:Math.max(I.level,D.level)+1})}d.delete(M),f=!0}}}let g=1/0,y=1/0,x=-1/0,k=-1/0;const S=(R,M)=>{g=Math.min(g,R),y=Math.min(y,M),x=Math.max(x,R),k=Math.max(k,M)};r.nodes.forEach(R=>{S(R.left-Ms,R.top-Ms),S(R.left+Ms,R.top+Ms)}),o.forEach(R=>{S(R.midpoint.x,R.midpoint.y)});const A=40,C=`${g-A} ${y-A} ${x-g+2*A} ${k-y+2*A}`;return{nodes:r.nodes,arrows:o,masks:u,viewBox:C,error:null}}catch(t){return console.error("Error computing diagram:",t),{nodes:[],arrows:[],masks:[],viewBox:"0 0 100 100",error:t.message}}}function gM(e){return e.from===e.to?{...e,radius:-(e.radius??40),angle:Gc((e.angle??0)+180),label_alignment:e.label_alignment==="left"?"right":e.label_alignment==="right"?"left":e.label_alignment}:{...e,from:e.to,to:e.from}}function yM(e){return e.from===e.to?{...e,angle:Gc((e.angle??0)+180),label_alignment:e.label_alignment==="left"?"right":e.label_alignment==="right"?"left":e.label_alignment}:{...e,curve:e.curve?-e.curve:void 0,shift:e.shift?-e.shift:void 0,angle:e.angle?Gc(-e.angle):void 0,label_alignment:e.label_alignment==="left"?"right":e.label_alignment==="right"?"left":e.label_alignment}}function bM(e=[],t){const r=new Set(t),n=[...t],s=new Set(t);for(;n.length>0;){const o=n.pop();e.forEach(u=>{const d=u.name||u.uniqueId;if(d&&(u.from===o||u.to===o)){s.has(d)||(s.add(d),r.add(d),n.push(d));const f=u.from===o?u.to:u.from;s.has(f)||(s.add(f),r.add(f),n.push(f))}})}return r}function xM(e,t,r){const n=e.filter(p=>t.has(p.name));if(n.length===0)return e;const s=Math.min(...n.map(p=>p.left)),o=Math.max(...n.map(p=>p.left)),u=Math.min(...n.map(p=>p.top)),d=Math.max(...n.map(p=>p.top)),f=new Re((s+o)/2,(u+d)/2),h=r*Math.PI/180;return e.map(p=>{if(!t.has(p.name))return p;const g=new Re(p.left,p.top).sub(f).rotate(h).add(f);return{...p,left:Math.round(g.x),top:Math.round(g.y)}})}function _2(e,t,r){const n=e.filter(h=>t.has(h.name));if(n.length===0)return e;const s=Math.min(...n.map(h=>h.left)),o=Math.max(...n.map(h=>h.left)),u=Math.min(...n.map(h=>h.top)),d=Math.max(...n.map(h=>h.top)),f=new Re((s+o)/2,(u+d)/2);return e.map(h=>{if(!t.has(h.name))return h;let p=h.left,g=h.top;return r==="horizontal"?p=f.x-(h.left-f.x):g=f.y-(h.top-f.y),{...h,left:Math.round(p),top:Math.round(g)}})}var z2={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function wM(){if(k2)return nu;k2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:n,key:u,ref:s!==void 0?s:null,props:o}}return nu.Fragment=t,nu.jsx=r,nu.jsxs=r,nu}var T2;function SM(){return T2||(T2=1,z2.exports=wM()),z2.exports}var Xr=SM();const A2=16,E2="#333333";function M2({label:e,color:t,textProps:r,isNodeLabel:n=!1}){if(typeof e!="string"||e.trim()==="")return null;const s=e.includes("$"),o={...r,fontWeight:n?"bold":"normal",fontSize:A2,fill:t||E2};if(!s)return Xr.jsx("text",{...o,children:e});const u=e.replace(/\$/g,""),d=X6.renderToString(u,{throwOnError:!1,displayMode:!1}),f=150,h=50,p=(typeof o.x=="number"?o.x:0)-f/2,g=(typeof o.y=="number"?o.y:0)-h/2;return Xr.jsx("foreignObject",{x:p,y:g,width:f,height:h,style:{overflow:"visible"},children:Xr.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:`${A2}px`,fontWeight:n?"bold":"normal",color:t||E2,textAlign:"center"},children:[Xr.jsx("style",{children:".katex{line-height:1.2;}.katex-mathml{display:none;}"}),Xr.jsx("div",{dangerouslySetInnerHTML:{__html:d}})]})})}function Eb({diagram:e}){return e?Xr.jsxs("g",{children:[Xr.jsx("defs",{children:e.masks&&e.masks.map(t=>Xr.jsx("mask",{id:t.id,maskUnits:"userSpaceOnUse",x:"-10000",y:"-10000",width:"20000",height:"20000",children:t.paths.map((r,n)=>Xr.jsx("path",{...r},n))},t.id))}),e.arrows.map(t=>Xr.jsxs("g",{className:"arrow-visual",children:[t.paths.map((r,n)=>Xr.jsx("path",{...r},n)),t.label.text&&Xr.jsx(M2,{label:t.label.text,color:t.label.color,textProps:t.label.props}),t.heads.map((r,n)=>Xr.jsx("path",{...r.props},`h-${n}`)),t.tail.map((r,n)=>Xr.jsx("path",{...r.props},`t-${n}`))]},t.key)),e.nodes.map(t=>Xr.jsx("g",{transform:`translate(${t.left}, ${t.top})`,children:Xr.jsx(M2,{label:t.label,color:t.color,textProps:{x:0,y:0,textAnchor:"middle",dominantBaseline:"middle"},isNodeLabel:!0})},t.name))]}):null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),N2=e=>{const t=zM(e);return t.charAt(0).toUpperCase()+t.slice(1)},Mb=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),kM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=_e.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:u,...d},f)=>_e.createElement("svg",{ref:f,...TM,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Mb("lucide",s),...!o&&!kM(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,p])=>_e.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(e,t)=>{const r=_e.forwardRef(({className:n,...s},o)=>_e.createElement(AM,{ref:o,iconNode:t,className:Mb(`lucide-${_M(N2(e))}`,`lucide-${e}`,n),...s}));return r.displayName=N2(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],MM=yt("arrow-right",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],OM=yt("book-open",NM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Wm=yt("bot",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vc=yt("check",RM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],DM=yt("chevron-down",IM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],O2=yt("chevron-left",jM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],BM=yt("circle-alert",$M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UM=yt("circle-check-big",LM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Jp=yt("copy",qM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],PM=yt("download",HM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GM=yt("eye-off",ZM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YM=yt("eye",VM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],XM=yt("file-code",FM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dm=yt("file-text",KM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],WM=yt("grid-3x3",JM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],eN=yt("image",QM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rN=yt("info",tN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],nN=yt("link",aN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],sN=yt("mouse-pointer-2",iN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],C2=yt("panel-left",oN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Yc=yt("panel-right",lN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cN=yt("pen",uN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fN=yt("plus",dN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mN=yt("printer",hN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],vN=yt("redo",pN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nb=yt("save",gN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bN=yt("send",yN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ob=yt("settings",xN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],R2=yt("share-2",wN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_N=yt("sparkles",SN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cb=yt("trash-2",zN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],TN=yt("undo",kN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],EN=yt("user",AN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rl=yt("x",MN);function Qm(e){const t=["name","label","from","to","left","top","curve","shift","label_alignment","level","style","body","head","tail"],r=Object.entries(e).filter(([,s])=>s!==void 0);return r.sort(([s],[o])=>{const u=t.indexOf(s),d=t.indexOf(o);return u===-1&&d===-1?s.localeCompare(o):u===-1?1:d===-1?-1:u-d}),`{ ${r.map(([s,o])=>typeof o=="object"&&o!==null&&!Array.isArray(o)?`"${s}": ${Qm(o)}`:`"${s}": ${JSON.stringify(o)}`).join(", ")} }`}function Na(e){if(!e)return"{}";const t=e.version||1;if((!e.nodes||e.nodes.length===0)&&(!e.arrows||e.arrows.length===0))return JSON.stringify({...e,version:t},null,2);const r=(e.nodes||[]).map(o=>`    ${Qm(o)}`).join(`,
`),n=(e.arrows||[]).map(o=>`    ${Qm(o)}`).join(`,
`),s=[];return s.push(`  "version": ${t}`),e.nodes&&e.nodes.length>0&&s.push(`  "nodes": [
${r}
  ]`),e.arrows&&e.arrows.length>0&&s.push(`  "arrows": [
${n}
  ]`),`{
${s.join(`,
`)}
}`}const I2=e=>{let t;const r=new Set,n=(h,p)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const y=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(x=>x(t,y))}},s=()=>t,d={setState:n,getState:s,getInitialState:()=>f,subscribe:h=>(r.add(h),()=>r.delete(h))},f=t=e(n,s,d);return d},Rb=e=>e?I2(e):I2,NN=e=>e;function Ib(e,t=NN){const r=hn.useSyncExternalStore(e.subscribe,hn.useCallback(()=>t(e.getState()),[e,t]),hn.useCallback(()=>t(e.getInitialState()),[e,t]));return hn.useDebugValue(r),r}const ON=e=>{const t=Rb(e),r=n=>Ib(t,n);return Object.assign(r,t),r},Db=e=>ON;var D2=(e,t,r)=>(s,o)=>({pastStates:(r==null?void 0:r.pastStates)||[],futureStates:(r==null?void 0:r.futureStates)||[],undo:(u=1)=>{var d,f;if(o().pastStates.length){const h=((d=r==null?void 0:r.partialize)==null?void 0:d.call(r,t()))||t(),p=o().pastStates.splice(-u,u),g=p.shift();e(g),s({pastStates:o().pastStates,futureStates:o().futureStates.concat(((f=r==null?void 0:r.diff)==null?void 0:f.call(r,h,g))||h,p.reverse())})}},redo:(u=1)=>{var d,f;if(o().futureStates.length){const h=((d=r==null?void 0:r.partialize)==null?void 0:d.call(r,t()))||t(),p=o().futureStates.splice(-u,u),g=p.shift();e(g),s({pastStates:o().pastStates.concat(((f=r==null?void 0:r.diff)==null?void 0:f.call(r,h,g))||h,p.reverse()),futureStates:o().futureStates})}},clear:()=>s({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>s({isTracking:!1}),resume:()=>s({isTracking:!0}),setOnSave:u=>s({_onSave:u}),_onSave:r==null?void 0:r.onSave,_handleSet:(u,d,f,h)=>{var p,g;r!=null&&r.limit&&o().pastStates.length>=(r==null?void 0:r.limit)&&o().pastStates.shift(),(g=(p=o())._onSave)==null||g.call(p,u,f),s({pastStates:o().pastStates.concat(h||u),futureStates:[]})}}),CN=(e,t)=>(n,s,o)=>{var h,p;o.temporal=Rb(((h=t==null?void 0:t.wrapTemporal)==null?void 0:h.call(t,D2(n,s,t)))||D2(n,s,t));const u=((p=t==null?void 0:t.handleSet)==null?void 0:p.call(t,o.temporal.getState()._handleSet))||o.temporal.getState()._handleSet,d=g=>{var k,S,A;if(!o.temporal.getState().isTracking)return;const y=((k=t==null?void 0:t.partialize)==null?void 0:k.call(t,s()))||s(),x=(S=t==null?void 0:t.diff)==null?void 0:S.call(t,g,y);x===null||(A=t==null?void 0:t.equality)!=null&&A.call(t,g,y)||u(g,void 0,y,x)},f=o.setState;return o.setState=(...g)=>{var x;const y=((x=t==null?void 0:t.partialize)==null?void 0:x.call(t,s()))||s();f(...g),d(y)},e((...g)=>{var x;const y=((x=t==null?void 0:t.partialize)==null?void 0:x.call(t,s()))||s();n(...g),d(y)},s,o)};const RN=JSON.stringify({version:1,nodes:[{name:"A",left:150,top:150,label:"A"},{name:"B",left:450,top:150,label:"B"}],arrows:[{name:"f",from:"A",to:"B",label:"f"}]},null,2),Tt=Db()(CN((e,t)=>({spec:RN,filename:"Untitled Diagram",selectedIds:new Set,setSpec:r=>e({spec:r}),setFilename:r=>e({filename:r}),setSelection:r=>e({selectedIds:r}),toggleSelection:r=>{const{selectedIds:n}=t(),s=new Set(n);s.has(r)?s.delete(r):s.add(r),e({selectedIds:s})},deleteSelection:()=>{const{selectedIds:r,spec:n}=t();if(r.size!==0)try{const s=JSON.parse(n),o=(s.nodes||[]).filter(d=>!r.has(d.name)),u=(s.arrows||[]).filter(d=>!(d.name&&r.has(d.name)||r.has(d.from)||r.has(d.to)));e({spec:Na({nodes:o,arrows:u}),selectedIds:new Set})}catch(s){console.error("Failed to delete items:",s)}},reset:()=>e({spec:JSON.stringify({version:1,nodes:[],arrows:[]},null,2),filename:"Untitled Diagram",selectedIds:new Set}),createNew:()=>{e({spec:JSON.stringify({version:1,nodes:[],arrows:[]},null,2),filename:"Untitled Diagram",selectedIds:new Set}),Tt.temporal.getState().clear()}}),{limit:100,partialize:e=>({spec:e.spec})})),Dr=40,qi=25,j2=6;function IN(e,t,r,n,s,o,u){const[d,f]=_e.useState({mode:"idle"}),h=Tt(I=>I.selectedIds),p=Tt(I=>I.setSelection),g=Tt(I=>I.toggleSelection),y=Tt(I=>I.deleteSelection);_e.useEffect(()=>{const I=D=>{const B=document.activeElement,E=B==null?void 0:B.tagName.toLowerCase();if(!(E==="input"||E==="textarea"||B!=null&&B.isContentEditable)){if((D.key==="Delete"||D.key==="Backspace")&&y(),(D.ctrlKey||D.metaKey)&&D.key==="z"&&(D.shiftKey?Tt.temporal.getState().redo():Tt.temporal.getState().undo(),D.preventDefault()),(D.ctrlKey||D.metaKey)&&D.key==="y"&&(Tt.temporal.getState().redo(),D.preventDefault()),(D.ctrlKey||D.metaKey)&&D.key==="a"){D.preventDefault();const F=new Set([...n.map(ue=>ue.name),...s.map(ue=>ue.key)]);p(F)}(D.ctrlKey||D.metaKey)&&D.key==="s"&&(D.preventDefault(),window.dispatchEvent(new CustomEvent("arrowgram:save")))}};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[y,n,s,p]);const x=_e.useCallback(I=>{const D=e.current;if(!D)return{x:0,y:0};const B=D.createSVGPoint();B.x=I.clientX,B.y=I.clientY;const E=D.getScreenCTM();return E?B.matrixTransform(E.inverse()):B},[]),k=I=>Math.round(I/Dr)*Dr,S=(I,D)=>{let B=1;for(;D.has(`${I}${B}`);)B++;return`${I}${B}`};return{interaction:d,selectedIds:h,handlers:{onPointerDown:I=>{I.preventDefault();const B=I.target.closest("[data-type]"),E=x(I);if(!B){!I.shiftKey&&!I.metaKey&&!I.ctrlKey&&p(new Set),f({mode:"panning",startPoint:{x:I.clientX,y:I.clientY},initialViewBox:[...t]});return}I.stopPropagation();const j=B,F=j.getAttribute("data-type"),ue=j.getAttribute("data-id");if(F==="handle"){const ee=j.getAttribute("data-arrow-id"),V=j.getAttribute("data-end-type");ee&&V&&f({mode:"reattaching",source:ee,endType:V,endPoint:E});return}if(ue&&(F==="node"||F==="arrow")){if(I.shiftKey||I.metaKey||I.ctrlKey?g(ue):h.has(ue)||p(new Set([ue])),F==="node"){const ee=n.find(V=>V.name===ue);ee&&(I.shiftKey?f({mode:"connecting",source:ue,endPoint:E}):f({mode:"moving",source:ue,startPoint:E,initialPos:{left:ee.left,top:ee.top}}))}else if(F==="arrow"){const ee=u.arrows.find(V=>V.key===ue);if(ee&&I.shiftKey){const V=ee.spec.name;V&&f({mode:"connecting",source:V,endPoint:E})}}}},onPointerMove:I=>{if(d.mode==="idle")return;const D=x(I);if(d.mode==="panning"&&d.startPoint&&d.initialViewBox&&e.current){const B=(I.clientX-d.startPoint.x)*(t[2]/e.current.clientWidth),E=(I.clientY-d.startPoint.y)*(t[3]/e.current.clientHeight);r([d.initialViewBox[0]-B,d.initialViewBox[1]-E,d.initialViewBox[2],d.initialViewBox[3]])}else if(d.mode==="moving"&&d.source&&d.initialPos&&d.startPoint){const B=D.x-d.startPoint.x,E=D.y-d.startPoint.y,j=n.find(re=>re.name===d.source);if(!j||!d.initialPos)return;const F=k(d.initialPos.left+B),ue=k(d.initialPos.top+E),ee=F-j.left,V=ue-j.top;if(ee===0&&V===0)return;const K=n.map(re=>h.has(re.name)?{...re,left:re.left+ee,top:re.top+V}:re),X=s.map(re=>re.spec);o(Na({nodes:K,arrows:X}))}else if(d.mode==="connecting"||d.mode==="reattaching"){const B=document.elementFromPoint(I.clientX,I.clientY),E=B==null?void 0:B.closest("[data-type]");let j;if(E){const F=E.getAttribute("data-type"),ue=E.getAttribute("data-id");(F==="node"||F==="arrow")&&ue&&(j={type:F,id:ue})}f(F=>({...F,endPoint:D,hoveredTarget:j}))}},onPointerUp:I=>{if(d.mode==="connecting"&&d.source||d.mode==="reattaching"&&d.source){const D=I.target.closest("[data-type]");let B;if(D){const E=D.getAttribute("data-type"),j=D.getAttribute("data-id");if(E==="node")B=j||void 0;else if(E==="arrow"){const F=u.arrows.find(ue=>ue.key===j);B=F==null?void 0:F.spec.name}}if(d.mode==="connecting"){const E=new Set([...n.map(j=>j.name),...s.map(j=>j.spec.name).filter(Boolean)]);if(B){const j=B===d.source,F={name:S("arrow",E),from:d.source,to:B,label:"",radius:j?40:void 0,angle:j?-90:void 0},ue=s.map(ee=>ee.spec);o(Na({nodes:n,arrows:[...ue,F]}))}else if(!B){const j=S("N",E),F=d.endPoint||{x:0,y:0},ue={name:j,label:j,left:k(F.x),top:k(F.y)},ee={name:S("arrow",E),from:d.source,to:j,label:""},V=s.map(K=>K.spec);o(Na({nodes:[...n,ue],arrows:[...V,ee]})),p(new Set([j]))}}else if(d.mode==="reattaching"){let E=B;if(E){const j=s.map(F=>(F.spec.name||F.key)===d.source?{...F.spec,[d.endType]:E}:F.spec);o(Na({nodes:n,arrows:j}))}else{const j=new Set([...n.map(K=>K.name),...s.map(K=>K.spec.name).filter(Boolean)]),F=S("N",j),ue=d.endPoint||{x:0,y:0},ee={name:F,label:F,left:k(ue.x),top:k(ue.y)};E=F;const V=s.map(K=>(K.spec.name||K.key)===d.source?{...K.spec,[d.endType]:E}:K.spec);o(Na({nodes:[...n,ee],arrows:V})),p(new Set([F]))}}}f({mode:"idle"})},onDoubleClick:I=>{if(I.target.closest("[data-type]"))return;const B=x(I),E=new Set([...n.map(ee=>ee.name),...s.map(ee=>ee.spec.name).filter(Boolean)]),j=S("N",E),F={name:j,label:j,left:k(B.x),top:k(B.y)},ue=s.map(ee=>ee.spec);o(Na({nodes:[...n,F],arrows:ue})),p(new Set([j]))}}}}function jb(){const e=Tt(E=>E.spec),t=Tt(E=>E.setSpec),r=Tt(E=>E.selectedIds),n=Tt(E=>E.setSelection),s=_e.useRef(null),[o,u]=_e.useState([0,0,1e3,600]),[d,f]=_e.useState(!0),h=_e.useCallback(E=>t(E),[t]),{nodes:p,arrows:g,diagram:y}=_e.useMemo(()=>{try{const E=_u(e);return{nodes:E.nodes,arrows:E.arrows,diagram:E}}catch{return{nodes:[],arrows:[],diagram:{arrows:[],nodes:[],viewBox:"0 0 100 100",error:null}}}},[e]),{interaction:x,handlers:k}=IN(s,o,u,p,g,h,y),S=x.mode==="panning"?"grabbing":x.mode==="connecting"||x.mode==="reattaching"?"crosshair":"default",C=(()=>{if(!x.source)return null;if(x.mode==="connecting"){const E=p.find(F=>F.name===x.source);if(E)return{x:E.left,y:E.top};const j=y.arrows.find(F=>F.spec.name===x.source);if(j)return j.midpoint}else if(x.mode==="reattaching"){const E=y.arrows.find(j=>j.key===x.source);if(E)return x.endType==="from"?E.targetPoint:E.sourcePoint}return null})(),R=_e.useCallback((E,j)=>{const[F,ue,ee,V]=o,K=ee*E,X=V*E;if(K<10||K>2e4)return;const re=j||{x:F+ee/2,y:ue+V/2},$=re.x-(re.x-F)*E,Z=re.y-(re.y-ue)*E;u([$,Z,K,X])},[o]),M=_e.useCallback(E=>{if(E.ctrlKey||E.metaKey){E.preventDefault();const j=E.deltaY>0?1.1:.9,F=s.current;if(!F)return;const ue=F.createSVGPoint();ue.x=E.clientX,ue.y=E.clientY;const ee=F.getScreenCTM();if(ee){const V=ue.matrixTransform(ee.inverse());R(j,V)}}},[R]),I=_e.useCallback(()=>{if(y.viewBox){const E=y.viewBox.split(" ").map(Number);E.length===4&&u(E)}},[y.viewBox]),D=_e.useCallback(()=>{if(s.current){const{clientWidth:E,clientHeight:j}=s.current,[F,ue]=[o[0]+o[2]/2,o[1]+o[3]/2];u([F-E/2,ue-j/2,E,j])}},[o]),B=_e.useCallback(E=>{if(r.size===0)return;if(E==="selectConnected"){const ee=bM(g.map(V=>V.spec),r);n(ee);return}let j=p,F=g.map(ee=>ee.spec),ue=!1;E==="reverse"?F=F.map(ee=>r.has(ee.name||"")||ee.uniqueId&&r.has(ee.uniqueId)?(ue=!0,gM(ee)):ee):E==="flip"?F=F.map(ee=>r.has(ee.name||"")||ee.uniqueId&&r.has(ee.uniqueId)?(ue=!0,yM(ee)):ee):["rotate","flipH","flipV"].includes(E)&&(E==="rotate"?j=xM(p,r,90):E==="flipH"?j=_2(p,r,"horizontal"):E==="flipV"&&(j=_2(p,r,"vertical")),ue=!0),ue&&h(Na({nodes:j,arrows:F}))},[r,p,g,h,n]);return _e.useEffect(()=>{const E=j=>{const F=document.activeElement;(F==null?void 0:F.tagName.toLowerCase())!=="input"&&(j.key==="r"&&B("reverse"),j.key==="e"&&B("flip"),j.key==="g"&&I(),j.key==="0"&&D(),j.key==="h"&&(j.shiftKey?B("flipH"):f(ue=>!ue)),j.key==="v"&&B("flipV"),j.key==="t"&&B("rotate"),j.shiftKey&&j.key==="A"&&B("selectConnected"))};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[B,I,D]),z.jsx("div",{className:"flex bg-gray-50 h-full w-full relative group select-none",style:{cursor:"auto"},children:z.jsxs("div",{className:"flex-1 relative overflow-hidden h-full",children:[z.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 bg-white/90 backdrop-blur rounded-lg border shadow-sm p-1 z-10",children:[z.jsx("button",{onClick:()=>B("reverse"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Reverse Arrow (R)",children:"Rev"}),z.jsx("button",{onClick:()=>B("flip"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Flip Arrow (E)",children:"Flip"}),z.jsx("div",{className:"w-px bg-gray-200 mx-1"}),z.jsx("button",{onClick:()=>B("flipH"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Flip Horizontally (Shift+H)",children:""}),z.jsx("button",{onClick:()=>B("flipV"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Flip Vertically (V)",children:""}),z.jsx("button",{onClick:()=>B("rotate"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Rotate 90 (T)",children:""}),z.jsx("div",{className:"w-px bg-gray-200 mx-1"}),z.jsx("button",{onClick:()=>B("selectConnected"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Select Connected (Shift+A)",children:"Conn"})]}),z.jsxs("svg",{id:"arrowgram-canvas",ref:s,width:"100%",height:"100%",viewBox:o.join(" "),style:{cursor:S,touchAction:"none"},onWheel:M,...k,children:[z.jsx("defs",{children:z.jsx("pattern",{id:"grid",width:Dr,height:Dr,patternUnits:"userSpaceOnUse",children:z.jsx("path",{d:`M ${Dr} 0 L 0 0 0 ${Dr}`,fill:"none",stroke:"rgba(0,0,0,0.05)",strokeWidth:"1"})})}),d&&z.jsx("rect",{x:o[0],y:o[1],width:o[2],height:o[3],fill:"url(#grid)"}),z.jsx(Eb,{diagram:y}),(x.mode==="connecting"||x.mode==="reattaching")&&x.endPoint&&(!x.hoveredTarget||x.hoveredTarget.type==="node")&&(()=>{const E=Math.round(x.endPoint.x/Dr)*Dr,j=Math.round(x.endPoint.y/Dr)*Dr,F=p.find(ue=>Math.abs(ue.left-E)<1&&Math.abs(ue.top-j)<1);return z.jsx("g",{style:{pointerEvents:"none"},children:F?z.jsx("rect",{x:F.left-qi-8,y:F.top-qi-8,width:(qi+8)*2,height:(qi+8)*2,fill:"rgba(0, 0, 0, 0.1)",rx:"12"}):z.jsxs("g",{children:[z.jsx("rect",{x:E-Dr/1.5,y:j-Dr/1.5,width:Dr*1.33,height:Dr*1.33,fill:"rgba(0, 0, 0, 0.05)",rx:"8"}),z.jsx("text",{x:E,y:j,textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fontWeight:"500",fill:"rgba(0,0,0,0.4)",style:{userSelect:"none"},children:"Add Node"})]})})})(),p.map(E=>z.jsx("rect",{x:E.left-qi-5,y:E.top-qi-5,width:(qi+5)*2,height:(qi+5)*2,fill:"transparent",stroke:r.has(E.name)?"#9333ea":"transparent",strokeWidth:"2","data-type":"node","data-id":E.name,style:{cursor:"move"}},E.name)),y.arrows.map(E=>{var ee;const j=r.has(E.key),F=((ee=x.hoveredTarget)==null?void 0:ee.type)==="arrow"&&x.hoveredTarget.id===E.key,ue=x.mode==="connecting"&&x.source===E.spec.name;return z.jsxs("g",{"data-type":"arrow","data-id":E.key,style:{cursor:"pointer"},children:[(j||ue||F)&&(E.interactionPath?z.jsx("path",{d:E.interactionPath,fill:"none",stroke:"rgba(0,0,0,0.1)",strokeWidth:"20",strokeLinecap:"round"}):E.paths.map((V,K)=>z.jsx("path",{d:V.d,fill:"none",stroke:"rgba(0,0,0,0.1)",strokeWidth:"20",strokeLinecap:"round"},`halo-${K}`))),E.interactionPath?z.jsx("path",{d:E.interactionPath,fill:"none",stroke:"transparent",strokeWidth:"15"}):E.paths.map((V,K)=>z.jsx("path",{d:V.d,fill:"none",stroke:"transparent",strokeWidth:"15"},K)),j&&(E.interactionPath?z.jsx("path",{d:E.interactionPath,fill:"none",stroke:"#9333ea",strokeWidth:"1",strokeDasharray:"4 2"}):E.paths.map((V,K)=>z.jsx("path",{d:V.d,fill:"none",stroke:"#9333ea",strokeWidth:"1",strokeDasharray:"4 2"},`select-${K}`))),j&&E.sourcePoint&&z.jsx("circle",{cx:E.sourcePoint.x,cy:E.sourcePoint.y,r:j2,fill:"white",stroke:"#9333ea",strokeWidth:"2","data-type":"handle","data-arrow-id":E.key,"data-end-type":"from",style:{cursor:"crosshair"}}),j&&E.targetPoint&&z.jsx("circle",{cx:E.targetPoint.x,cy:E.targetPoint.y,r:j2,fill:"white",stroke:"#9333ea",strokeWidth:"2","data-type":"handle","data-arrow-id":E.key,"data-end-type":"to",style:{cursor:"crosshair"}})]},E.key)}),(x.mode==="connecting"||x.mode==="reattaching")&&C&&x.endPoint&&(()=>{var K;let E=!1,j={x:x.endPoint.x,y:x.endPoint.y};if(((K=x.hoveredTarget)==null?void 0:K.type)==="node"){const X=p.find(re=>re.name===x.hoveredTarget.id);if(X&&(j={x:X.left,y:X.top}),x.mode==="connecting")E=x.source===x.hoveredTarget.id;else if(x.mode==="reattaching"){const re=y.arrows.find($=>$.key===x.source);re&&(E=(x.endType==="to"?re.spec.from:re.spec.to)===x.hoveredTarget.id)}}else x.hoveredTarget||(j={x:Math.round(j.x/Dr)*Dr,y:Math.round(j.y/Dr)*Dr},Math.sqrt(Math.pow(j.x-C.x,2)+Math.pow(j.y-C.y,2))<Dr&&(E=!0,j=C));const F=[{name:"A",label:"",left:C.x,top:C.y},{name:"B",label:"",left:j.x,top:j.y}],V=_u({nodes:F,arrows:[{from:"A",to:E?"A":"B",label:"",radius:E?40:void 0,angle:E?-90:void 0}]}).arrows[0];return V?z.jsxs("g",{style:{pointerEvents:"none",opacity:.6},children:[V.paths.map((X,re)=>z.jsx("path",{d:X.d,fill:"none",stroke:"#9333ea",strokeWidth:"2",strokeDasharray:"5 5"},re)),V.heads.map((X,re)=>z.jsx("path",{d:X.props.d,fill:"none",stroke:"#9333ea",strokeWidth:"2"},`h-${re}`))]}):null})()]}),z.jsx("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur px-3 py-2 rounded-lg border shadow-sm text-xs text-gray-500 pointer-events-none select-none",children:"Double-click: Add Node  Drag: Move  Shift+Drag: Connect  Ctrl+Scroll: Zoom  H: Grid  R: Reverse  E: Flip"}),z.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 bg-white/90 backdrop-blur rounded-lg border shadow-sm p-1",children:[z.jsx("button",{onClick:()=>R(.9),className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 font-bold w-8 h-8 flex items-center justify-center",title:"Zoom In",children:"+"}),z.jsx("button",{onClick:()=>R(1.1),className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 font-bold w-8 h-8 flex items-center justify-center",title:"Zoom Out",children:"-"}),z.jsx("div",{className:"h-px bg-gray-200 mx-1"}),z.jsx("button",{onClick:()=>f(!d),className:`p-1.5 hover:bg-gray-100 rounded text-gray-600 w-8 h-8 flex items-center justify-center ${d?"":"bg-gray-100 text-gray-900"}`,title:"Toggle Grid (H)",children:z.jsx(WM,{size:16})}),z.jsx("button",{onClick:I,className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 text-xs font-medium w-8 h-8 flex items-center justify-center",title:"Fit View (G)",children:"Fit"}),z.jsx("button",{onClick:D,className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 text-xs font-medium w-8 h-8 flex items-center justify-center",title:"Reset Zoom (0)",children:"1:1"})]})]})})}const DN="modulepreload",jN=function(e){return"/arrowgram/"+e},$2={},ha=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let u=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=u(r.map(h=>{if(h=jN(h),h in $2)return;$2[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":DN,p||(y.as="script"),y.crossOrigin="",y.href=h,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((x,k)=>{y.addEventListener("load",x),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};function ep({spec:e,className:t,onEdit:r}){const{diagram:n,error:s}=_e.useMemo(()=>{try{return{diagram:_u(e),error:null}}catch(o){return{diagram:null,error:o.message||"Unknown error"}}},[e]);return s?z.jsxs("div",{className:`p-4 border border-red-200 bg-red-50 text-red-600 rounded text-sm font-mono whitespace-pre-wrap ${t}`,children:["Failed to render diagram: ",s]}):n?z.jsxs("div",{className:`relative group inline-block ${t}`,children:[z.jsx("div",{className:"arrowgram-container",children:z.jsx("svg",{viewBox:n.viewBox,className:"w-full h-auto max-w-full",style:{minWidth:"200px",minHeight:"100px"},children:z.jsx(Eb,{diagram:n})})}),r&&z.jsx("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:z.jsxs("button",{onClick:o=>{o.stopPropagation(),console.log("Edit button clicked"),r()},className:"pointer-events-auto bg-white/90 hover:bg-white text-gray-800 shadow-lg border border-gray-200 px-4 py-2 rounded-full font-medium text-sm flex items-center gap-2 transform translate-y-2 group-hover:translate-y-0 transition-all",children:[z.jsx(cN,{size:16}),"Edit Visual"]})})]}):null}const $N=e=>{const t={"header-left":"@top-left","header-center":"@top-center","header-right":"@top-right","footer-left":"@bottom-left","footer-center":"@bottom-center","footer-right":"@bottom-right"},r=s=>{const o={"[pageNumber]":"counter(page)","[totalPages]":"counter(pages)","[title]":`"${e.title||""}"`,"[authors]":`"${e.authors||""}"`},u=s.split(/(\[pageNumber\]|\[totalPages\]|\[title\]|\[authors\])/g).filter(d=>d);return u.length===0?'""':u.map(d=>o[d]||`"${d.replace(/"/g,'\\"')}"`).join(" ")};let n="";for(const[s,o]of Object.entries(t))if(e[s]){const u=r(e[s]);n+=`${o} { content: ${u}; } `}return n?`@page { ${n} }`:""},BN=({markdown:e,isTwoColumn:t,onEditDiagram:r})=>{const n=_e.useRef(null),s=_e.useRef(null);return _e.useEffect(()=>{let o=!0;const u=Date.now();n.current._latestRenderId=u;const d=[];return(async()=>{var ge,Te;if(!n.current)return;const[h,p,g,y,x,k,S]=await Promise.all([ha(()=>import("./server.browser-BZDZ2R3z.js").then(le=>le.s),[]),ha(()=>import("./showdown-D4PQXcSG.js").then(le=>le.s),[]),ha(()=>import("./mermaid.core-D-mGnfG0.js").then(le=>le.b7),__vite__mapDeps([0,1])),ha(()=>Promise.resolve().then(()=>K6),void 0),ha(()=>import("./vega.module-DlPeonZJ.js"),__vite__mapDeps([2,3,1,4,5,6,7,8,9,10,11])),ha(()=>import("./index-ByJ9Ii8b.js"),__vite__mapDeps([12,2,3,1,4,5,6,7,8,9,10,11])),ha(()=>import("./index-CtuWSrRy.js"),[])]),A=p.default??p,C=g.default??g,R=y.default??y,M=S.Previewer??((ge=S.default)==null?void 0:ge.Previewer);let I=e;const D=/<div class="vega-lite"([^>]*)>([\s\S]*?)<\/div>/g,B=Array.from(I.matchAll(D)),E=await Promise.all(B.map(async le=>{if(!o)return{original:"",replacement:""};try{const Me=JSON.parse(le[2].trim()),je=k.compile(Me).spec,nt=await new x.View(x.parse(je),{renderer:"svg"}).toSVG();return{original:le[0],replacement:`<div class="vega-container"${le[1]}>${nt}</div>`}}catch(Me){return{original:le[0],replacement:`<div class="vega-error">Chart Error: ${Me.message}</div>`}}}));if(!o||n.current._latestRenderId!==u)return;for(const le of E)le.original&&(I=I.replace(le.original,le.replacement));C.initialize({startOnLoad:!1,theme:"base"});const j=/<div class="mermaid"([^>]*)>([\s\S]*?)<\/div>/g,F=Array.from(I.matchAll(j)),ue=await Promise.all(F.map(async(le,Me)=>{if(!o)return{original:"",replacement:""};try{const{svg:je}=await C.render(`mermaid-svg-${Date.now()}-${Me}`,le[2].trim());return{original:le[0],replacement:`<div class="mermaid-container"${le[1]}>${je}</div>`}}catch{return{original:le[0],replacement:'<div class="mermaid-error">Diagram Error</div>'}}}));if(!o||n.current._latestRenderId!==u)return;for(const le of ue)le.original&&(I=I.replace(le.original,le.replacement));const ee=/<div class="arrowgram"([^>]*)>([\s\S]*?)<\/div>/g,V=[];let K=0;I=I.replace(ee,(le,Me,je)=>{const Ye=`arrowgram-hydrate-${Date.now()}-${K++}`,nt=je.trim();V.push({id:Ye,spec:nt});try{const tt=h.renderToStaticMarkup(z.jsx(ep,{spec:nt}));return`<div id="${Ye}" class="arrowgram-hydrate-target">${tt}</div>`}catch(tt){return console.error("Static Render Error:",tt),`<div id="${Ye}" class="arrowgram-hydrate-target" style="min-height: 100px; border: 1px solid red;">Error rendering diagram</div>`}});const X=new Map;let re=0;const $=le=>{const Me=`AGPROTMATH${re++}AGPROT`;return X.set(Me,le),Me};I=I.replace(/\$\$[\s\S]+?\$\$/g,$),I=I.replace(/\$(?!\$)(?:\\.|[^$\\\n])+\$/g,$);const Z=new A.Converter({metadata:!0,noHeaderId:!0,literalMidWordUnderscores:!0});let J=Z.makeHtml(I);const Ae=Z.getMetadata(),ze=$N(Ae);for(const[le,Me]of X.entries())J=J.split(le).join(Me);const L=new Map;J=J.replace(/<(pre|code)[^>]*>[\s\S]*?<\/\1>/g,le=>{const Me=`%%PROTECTED_BLOCK_${L.size}%%`;return L.set(Me,le),Me}),J=J.replace(/\$\$([\s\S]+?)\$\$/g,(le,Me)=>{const je=Me.trim().replace(/\\\\([A-Za-z_])/g,"\\$1").replace(/\\\\([,;:.!])/g,"\\$1");try{return`<span class="katex-display">${R.renderToString(je,{displayMode:!0,throwOnError:!1})}</span>`}catch(Ye){return`<span class="katex-error">${Ye.message}</span>`}}),J=J.replace(/\$([^$]+?)\$/g,(le,Me)=>{const je=Me.trim().replace(/\\\\([A-Za-z_])/g,"\\$1").replace(/\\\\([,;:.!])/g,"\\$1");try{return R.renderToString(je,{displayMode:!1,throwOnError:!1})}catch(Ye){return`<span class="katex-error">${Ye.message}</span>`}});for(const[le,Me]of L.entries())J=J.replace(le,Me);const ie=`<div class="title-block">${Ae.title?`<div class="title">${Ae.title}</div>`:""}${Ae.authors?`<div class="authors">${Ae.authors}</div>`:""}</div>`,te=`<div class="${t?"layout-two-column":"layout-single-column"}">${ie}<div class="paper-body">${J}</div></div>`;if(n.current){if(!o||n.current._latestRenderId!==u)return;n.current.innerHTML="";const le=[];if(ze){const nt=`data:text/css;base64,${btoa(unescape(encodeURIComponent(ze)))}`;le.push(nt)}const Me=((Te=document.querySelector('link[href*="katex"]'))==null?void 0:Te.getAttribute("href"))||"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css";le.push(Me);const je=new M;s.current=je,je.preview(te,le,n.current).then(()=>{!o||n.current._latestRenderId!==u||V.forEach(({id:Ye,spec:nt})=>{var Dt;const tt=(Dt=n.current)==null?void 0:Dt.querySelector(`#${Ye}`);if(tt){const kt=Y5.createRoot(tt);d.push(kt),kt.render(z.jsx(ep,{spec:nt,onEdit:()=>r(Ye,nt)}))}})})}})(),()=>{o=!1,d.forEach(h=>h.unmount())}},[e,t,r]),z.jsx("div",{ref:n,className:"preview-content-area"})},$b=_e.createContext(void 0);function al(){const e=_e.useContext($b);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}function LN({children:e}){const[t,r]=_e.useState([]),n=_e.useCallback((o,u="info",d=3e3)=>{const f=Date.now().toString();r(h=>[...h,{id:f,message:o,type:u,duration:d}]),d>0&&setTimeout(()=>{s(f)},d)},[]),s=_e.useCallback(o=>{r(u=>u.filter(d=>d.id!==o))},[]);return z.jsxs($b.Provider,{value:{addToast:n,removeToast:s},children:[e,z.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:t.map(o=>z.jsxs("div",{className:`
              pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border text-sm font-medium transition-all animate-in slide-in-from-bottom-5 fade-in
              ${o.type==="success"?"bg-white border-green-200 text-green-800":""}
              ${o.type==="error"?"bg-white border-red-200 text-red-800":""}
              ${o.type==="info"?"bg-gray-900 text-white border-transparent":""}
            `,children:[o.type==="success"&&z.jsx(UM,{size:18,className:"text-green-500"}),o.type==="error"&&z.jsx(BM,{size:18,className:"text-red-500"}),o.type==="info"&&z.jsx(rN,{size:18,className:"text-gray-400"}),z.jsx("span",{children:o.message}),z.jsx("button",{onClick:()=>s(o.id),className:`ml-2 p-1 rounded-md hover:bg-black/5 transition-colors ${o.type==="info"?"hover:bg-white/20":""}`,children:z.jsx(rl,{size:14,className:"opacity-70"})})]},o.id))})]})}var zd=V5();function Bb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Bb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Lb(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Bb(e))&&(n&&(n+=" "),n+=t);return n}const B2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,L2=Lb,Ub=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return L2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,u=Object.keys(s).map(h=>{const p=r==null?void 0:r[h],g=o==null?void 0:o[h];if(p===null)return null;const y=B2(p)||B2(g);return s[h][y]}),d=r&&Object.entries(r).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:g,className:y,...x}=p;return Object.entries(x).every(k=>{let[S,A]=k;return Array.isArray(A)?A.includes({...o,...d}[S]):{...o,...d}[S]===A})?[...h,g,y]:h},[]);return L2(e,u,f,r==null?void 0:r.class,r==null?void 0:r.className)},UN=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},qN=(e,t)=>({classGroupId:e,validator:t}),qb=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Fc="-",U2=[],HN="arbitrary..",PN=e=>{const t=GN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return ZN(u);const d=u.split(Fc),f=d[0]===""&&d.length>1?1:0;return Hb(d,f,t)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=n[u],h=r[u];return f?h?UN(h,f):f:h||U2}return r[u]||U2}}},Hb=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],o=r.nextPart.get(s);if(o){const h=Hb(e,t+1,o);if(h)return h}const u=r.validators;if(u===null)return;const d=t===0?e.join(Fc):e.slice(t).join(Fc),f=u.length;for(let h=0;h<f;h++){const p=u[h];if(p.validator(d))return p.classGroupId}},ZN=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?HN+n:void 0})(),GN=e=>{const{theme:t,classGroups:r}=e;return VN(r,t)},VN=(e,t)=>{const r=qb();for(const n in e){const s=e[n];Wp(s,r,n,t)}return r},Wp=(e,t,r,n)=>{const s=e.length;for(let o=0;o<s;o++){const u=e[o];YN(u,t,r,n)}},YN=(e,t,r,n)=>{if(typeof e=="string"){FN(e,t,r);return}if(typeof e=="function"){XN(e,t,r,n);return}KN(e,t,r,n)},FN=(e,t,r)=>{const n=e===""?t:Pb(t,e);n.classGroupId=r},XN=(e,t,r,n)=>{if(JN(e)){Wp(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(qN(r,e))},KN=(e,t,r,n)=>{const s=Object.entries(e),o=s.length;for(let u=0;u<o;u++){const[d,f]=s[u];Wp(f,Pb(t,d),r,n)}},Pb=(e,t)=>{let r=e;const n=t.split(Fc),s=n.length;for(let o=0;o<s;o++){const u=n[o];let d=r.nextPart.get(u);d||(d=qb(),r.nextPart.set(u,d)),r=d}return r},JN=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,WN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const s=(o,u)=>{r[o]=u,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(o){let u=r[o];if(u!==void 0)return u;if((u=n[o])!==void 0)return s(o,u),u},set(o,u){o in r?r[o]=u:s(o,u)}}},tp="!",q2=":",QN=[],H2=(e,t,r,n,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),eO=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const o=[];let u=0,d=0,f=0,h;const p=s.length;for(let S=0;S<p;S++){const A=s[S];if(u===0&&d===0){if(A===q2){o.push(s.slice(f,S)),f=S+1;continue}if(A==="/"){h=S;continue}}A==="["?u++:A==="]"?u--:A==="("?d++:A===")"&&d--}const g=o.length===0?s:s.slice(f);let y=g,x=!1;g.endsWith(tp)?(y=g.slice(0,-1),x=!0):g.startsWith(tp)&&(y=g.slice(1),x=!0);const k=h&&h>f?h-f:void 0;return H2(o,x,y,k)};if(t){const s=t+q2,o=n;n=u=>u.startsWith(s)?o(u.slice(s.length)):H2(QN,!1,u,void 0,!0)}if(r){const s=n;n=o=>r({className:o,parseClassName:s})}return n},tO=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let s=[];for(let o=0;o<r.length;o++){const u=r[o],d=u[0]==="[",f=t.has(u);d||f?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(u)):s.push(u)}return s.length>0&&(s.sort(),n.push(...s)),n}},rO=e=>({cache:WN(e.cacheSize),parseClassName:eO(e),sortModifiers:tO(e),...PN(e)}),aO=/\s+/,nO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=t,u=[],d=e.trim().split(aO);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:y,hasImportantModifier:x,baseClassName:k,maybePostfixModifierPosition:S}=r(p);if(g){f=p+(f.length>0?" "+f:f);continue}let A=!!S,C=n(A?k.substring(0,S):k);if(!C){if(!A){f=p+(f.length>0?" "+f:f);continue}if(C=n(k),!C){f=p+(f.length>0?" "+f:f);continue}A=!1}const R=y.length===0?"":y.length===1?y[0]:o(y).join(":"),M=x?R+tp:R,I=M+C;if(u.indexOf(I)>-1)continue;u.push(I);const D=s(C,A);for(let B=0;B<D.length;++B){const E=D[B];u.push(M+E)}f=p+(f.length>0?" "+f:f)}return f},iO=(...e)=>{let t=0,r,n,s="";for(;t<e.length;)(r=e[t++])&&(n=Zb(r))&&(s&&(s+=" "),s+=n);return s},Zb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Zb(e[n]))&&(r&&(r+=" "),r+=t);return r},sO=(e,...t)=>{let r,n,s,o;const u=f=>{const h=t.reduce((p,g)=>g(p),e());return r=rO(h),n=r.cache.get,s=r.cache.set,o=d,d(f)},d=f=>{const h=n(f);if(h)return h;const p=nO(f,r);return s(f,p),p};return o=u,(...f)=>o(iO(...f))},oO=[],Ir=e=>{const t=r=>r[e]||oO;return t.isThemeGetter=!0,t},Gb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Vb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lO=/^\d+\/\d+$/,uO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Co=e=>lO.test(e),it=e=>!!e&&!Number.isNaN(Number(e)),Hi=e=>!!e&&Number.isInteger(Number(e)),fm=e=>e.endsWith("%")&&it(e.slice(0,-1)),ei=e=>uO.test(e),mO=()=>!0,pO=e=>cO.test(e)&&!dO.test(e),Yb=()=>!1,vO=e=>fO.test(e),gO=e=>hO.test(e),yO=e=>!Ie(e)&&!De(e),bO=e=>nl(e,Kb,Yb),Ie=e=>Gb.test(e),Ns=e=>nl(e,Jb,pO),hm=e=>nl(e,zO,it),P2=e=>nl(e,Fb,Yb),xO=e=>nl(e,Xb,gO),yc=e=>nl(e,Wb,vO),De=e=>Vb.test(e),iu=e=>il(e,Jb),wO=e=>il(e,kO),Z2=e=>il(e,Fb),SO=e=>il(e,Kb),_O=e=>il(e,Xb),bc=e=>il(e,Wb,!0),nl=(e,t,r)=>{const n=Gb.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},il=(e,t,r=!1)=>{const n=Vb.exec(e);return n?n[1]?t(n[1]):r:!1},Fb=e=>e==="position"||e==="percentage",Xb=e=>e==="image"||e==="url",Kb=e=>e==="length"||e==="size"||e==="bg-size",Jb=e=>e==="length",zO=e=>e==="number",kO=e=>e==="family-name",Wb=e=>e==="shadow",TO=()=>{const e=Ir("color"),t=Ir("font"),r=Ir("text"),n=Ir("font-weight"),s=Ir("tracking"),o=Ir("leading"),u=Ir("breakpoint"),d=Ir("container"),f=Ir("spacing"),h=Ir("radius"),p=Ir("shadow"),g=Ir("inset-shadow"),y=Ir("text-shadow"),x=Ir("drop-shadow"),k=Ir("blur"),S=Ir("perspective"),A=Ir("aspect"),C=Ir("ease"),R=Ir("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...I(),De,Ie],B=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],j=()=>[De,Ie,f],F=()=>[Co,"full","auto",...j()],ue=()=>[Hi,"none","subgrid",De,Ie],ee=()=>["auto",{span:["full",Hi,De,Ie]},Hi,De,Ie],V=()=>[Hi,"auto",De,Ie],K=()=>["auto","min","max","fr",De,Ie],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...j()],Z=()=>[Co,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],J=()=>[e,De,Ie],Ae=()=>[...I(),Z2,P2,{position:[De,Ie]}],ze=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",SO,bO,{size:[De,Ie]}],ie=()=>[fm,iu,Ns],W=()=>["","none","full",h,De,Ie],te=()=>["",it,iu,Ns],ge=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[it,fm,Z2,P2],Me=()=>["","none",k,De,Ie],je=()=>["none",it,De,Ie],Ye=()=>["none",it,De,Ie],nt=()=>[it,De,Ie],tt=()=>[Co,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ei],breakpoint:[ei],color:[mO],container:[ei],"drop-shadow":[ei],ease:["in","out","in-out"],font:[yO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ei],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ei],shadow:[ei],spacing:["px",it],text:[ei],"text-shadow":[ei],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Co,Ie,De,A]}],container:["container"],columns:[{columns:[it,Ie,De,d]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Hi,"auto",De,Ie]}],basis:[{basis:[Co,"full","auto",d,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[it,Co,"auto","initial","none",Ie]}],grow:[{grow:["",it,De,Ie]}],shrink:[{shrink:["",it,De,Ie]}],order:[{order:[Hi,"first","last","none",De,Ie]}],"grid-cols":[{"grid-cols":ue()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":ue()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[d,"screen",...Z()]}],"min-w":[{"min-w":[d,"screen","none",...Z()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",r,iu,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,De,hm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",fm,Ie]}],"font-family":[{font:[wO,Ie,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,De,Ie]}],"line-clamp":[{"line-clamp":[it,"none",De,hm]}],leading:[{leading:[o,...j()]}],"list-image":[{"list-image":["none",De,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[it,"from-font","auto",De,Ns]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[it,"auto",De,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:ze()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hi,De,Ie],radial:["",De,Ie],conic:[Hi,De,Ie]},_O,xO]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[it,De,Ie]}],"outline-w":[{outline:["",it,iu,Ns]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",p,bc,yc]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",g,bc,yc]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[it,Ns]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",y,bc,yc]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[it,De,Ie]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[it]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[De,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[it]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:ze()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Ie]}],filter:[{filter:["","none",De,Ie]}],blur:[{blur:Me()}],brightness:[{brightness:[it,De,Ie]}],contrast:[{contrast:[it,De,Ie]}],"drop-shadow":[{"drop-shadow":["","none",x,bc,yc]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",it,De,Ie]}],"hue-rotate":[{"hue-rotate":[it,De,Ie]}],invert:[{invert:["",it,De,Ie]}],saturate:[{saturate:[it,De,Ie]}],sepia:[{sepia:["",it,De,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Ie]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[it,De,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[it,De,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",it,De,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[it,De,Ie]}],"backdrop-invert":[{"backdrop-invert":["",it,De,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[it,De,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[it,De,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",it,De,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[it,"initial",De,Ie]}],ease:[{ease:["linear","initial",C,De,Ie]}],delay:[{delay:[it,De,Ie]}],animate:[{animate:["none",R,De,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,De,Ie]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:Ye()}],"scale-x":[{"scale-x":Ye()}],"scale-y":[{"scale-y":Ye()}],"scale-z":[{"scale-z":Ye()}],"scale-3d":["scale-3d"],skew:[{skew:nt()}],"skew-x":[{"skew-x":nt()}],"skew-y":[{"skew-y":nt()}],transform:[{transform:[De,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tt()}],"translate-x":[{"translate-x":tt()}],"translate-y":[{"translate-y":tt()}],"translate-z":[{"translate-z":tt()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Ie]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[it,iu,Ns,hm]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},AO=sO(TO);function kd(...e){return AO(Lb(e))}const EO=Ub("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ma=_e.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>z.jsx("button",{className:kd(EO({variant:t,size:r,className:e})),ref:o,...s}));ma.displayName="Button";const qr=_e.forwardRef(({className:e,type:t,...r},n)=>z.jsx("input",{type:t,className:kd("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));qr.displayName="Input";const MO=Ub("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_r=_e.forwardRef(({className:e,...t},r)=>z.jsx("label",{ref:r,className:kd(MO(),e),...t}));_r.displayName="Label";function NO(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var o;const u=f=>f===null?null:JSON.parse(f,void 0),d=(o=r.getItem(s))!=null?o:null;return d instanceof Promise?d.then(u):u(d)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>r.removeItem(s)}}const rp=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return rp(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return rp(n)(r)}}}},OO=(e,t)=>(r,n,s)=>{let o={storage:NO(()=>localStorage),partialize:S=>S,version:0,merge:(S,A)=>({...A,...S}),...t},u=!1;const d=new Set,f=new Set;let h=o.storage;if(!h)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...S)},n,s);const p=()=>{const S=o.partialize({...n()});return h.setItem(o.name,{state:S,version:o.version})},g=s.setState;s.setState=(S,A)=>(g(S,A),p());const y=e((...S)=>(r(...S),p()),n,s);s.getInitialState=()=>y;let x;const k=()=>{var S,A;if(!h)return;u=!1,d.forEach(R=>{var M;return R((M=n())!=null?M:y)});const C=((A=o.onRehydrateStorage)==null?void 0:A.call(o,(S=n())!=null?S:y))||void 0;return rp(h.getItem.bind(h))(o.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==o.version){if(o.migrate){const M=o.migrate(R.state,R.version);return M instanceof Promise?M.then(I=>[!0,I]):[!0,M]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var M;const[I,D]=R;if(x=o.merge(D,(M=n())!=null?M:y),r(x,!0),I)return p()}).then(()=>{C==null||C(x,void 0),x=n(),u=!0,f.forEach(R=>R(x))}).catch(R=>{C==null||C(void 0,R)})};return s.persist={setOptions:S=>{o={...o,...S},S.storage&&(h=S.storage)},clearStorage:()=>{h==null||h.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:S=>(d.add(S),()=>{d.delete(S)}),onFinishHydration:S=>(f.add(S),()=>{f.delete(S)})},o.skipHydration||k(),x||y},CO=OO,Qb=Db()(CO(e=>({apiKey:"",setApiKey:t=>e({apiKey:t}),apiProvider:"gemini",setApiProvider:t=>e({apiProvider:t}),customEndpoint:"",setCustomEndpoint:t=>e({customEndpoint:t})}),{name:"arrowgram-settings"}));function e7({isOpen:e,onClose:t}){const{apiKey:r,setApiKey:n,apiProvider:s}=Qb(),[o,u]=_e.useState(!1);return e?zd.createPortal(z.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:z.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-96 ring-1 ring-black/5 animate-in zoom-in-95 duration-200",children:[z.jsxs("div",{className:"flex justify-between items-center mb-6",children:[z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Settings"}),z.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:z.jsx(rl,{size:24})})]}),z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx(_r,{className:"mb-2 block",children:"AI Provider"}),z.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[z.jsx("button",{className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${s==="gemini"?"bg-white shadow text-purple-700":"text-gray-500 hover:text-gray-700"}`,children:"Google Gemini"}),z.jsx("button",{className:"flex-1 py-1.5 text-sm font-medium rounded-md text-gray-400 cursor-not-allowed",disabled:!0,children:"Custom (Soon)"})]})]}),z.jsxs("div",{children:[z.jsx(_r,{className:"mb-2 block",children:"Gemini API Key"}),z.jsxs("div",{className:"relative",children:[z.jsx(qr,{type:o?"text":"password",value:r,onChange:d=>n(d.target.value),placeholder:"AIzaSy...",className:"pr-10"}),z.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>u(!o),children:o?z.jsx(GM,{size:16}):z.jsx(YM,{size:16})})]}),z.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Your API key is stored locally in your browser.",z.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:underline ml-1",children:"Get an API key"})]})]})]}),z.jsx("div",{className:"mt-8 flex justify-end",children:z.jsx(ma,{onClick:t,children:"Done"})})]})}),document.body):null}const jo=_e.forwardRef(({className:e,children:t,...r},n)=>z.jsxs("div",{className:"relative",children:[z.jsx("select",{className:kd("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none",e),ref:n,...r,children:t}),z.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:z.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:z.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}));jo.displayName="Select";function RO({node:e,nodes:t,arrows:r,onSpecChange:n}){const s=o=>{const{name:u,value:d}=o.target,f=t.map(h=>h.name===e.name?{...h,[u]:d}:h);n(Na({nodes:f,arrows:r}))};return z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx(_r,{children:"Label"}),z.jsx(qr,{type:"text",name:"label",value:e.label||"",onChange:s})]}),z.jsxs("div",{children:[z.jsx(_r,{children:"Color"}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx(qr,{type:"color",name:"color",value:e.color||"#000000",onChange:s,className:"w-12 h-10 p-1"}),z.jsx(qr,{type:"text",name:"color",value:e.color||"",onChange:s,placeholder:"#000000"})]})]})]})}function IO({arrow:e,nodes:t,arrows:r,onSpecChange:n}){var d,f,h,p,g,y,x,k,S,A,C;const s=R=>{const{name:M,value:I,type:D}=R.target;let B=D==="number"?Number(I):I;M==="angle"&&typeof B=="number"&&!isNaN(B)&&(B=Gc(B));const E=r.map((j,F)=>(j.name||`_arrow_${F}`)===e.key?{...j,[M]:B}:j);n(Na({nodes:t,arrows:E}))},o=(R,M)=>{const I=r.map((D,B)=>{if((D.name||`_arrow_${B}`)===e.key){const j=D.shorten||{};return{...D,shorten:{...j,[R]:M}}}return D});n(Na({nodes:t,arrows:I}))},u=(R,M,I)=>{const D=r.map((B,E)=>{if((B.name||`_arrow_${E}`)===e.key){const F={...B.style};if(R==="level")F.level=I;else if(R==="mode")F.mode=I;else if(I!==void 0){const ue=F[R]||{};F[R]={...ue,[M]:I}}else F[R]=M;return{...B,style:F}}return B});n(Na({nodes:t,arrows:D}))};return z.jsxs("div",{className:"space-y-6",children:[z.jsxs("div",{children:[z.jsx(_r,{children:"Content"}),z.jsx(qr,{type:"text",name:"label",value:e.label||"",onChange:s,placeholder:"Label text"})]}),z.jsxs("div",{children:[z.jsx(_r,{children:"Colors"}),z.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[z.jsxs("div",{children:[z.jsx(_r,{className:"text-xs",children:"Arrow"}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx(qr,{type:"color",name:"color",value:e.color||"#000000",onChange:s,className:"w-8 h-8 p-0"}),z.jsx(qr,{type:"text",name:"color",value:e.color||"",onChange:s,placeholder:"Arrow Color"})]})]}),z.jsxs("div",{children:[z.jsx(_r,{className:"text-xs",children:"Label"}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx(qr,{type:"color",name:"label_color",value:e.label_color||"#000000",onChange:s,className:"w-8 h-8 p-0"}),z.jsx(qr,{type:"text",name:"label_color",value:e.label_color||"",onChange:s,placeholder:"Label Color"})]})]})]})]}),z.jsxs("div",{children:[z.jsx("div",{className:"pb-2 border-b border-gray-100 mb-3 font-semibold text-gray-700 text-sm",children:"Label Placement"}),z.jsx("div",{className:"space-y-3",children:z.jsxs("div",{children:[z.jsx(_r,{children:"Alignment"}),z.jsxs(jo,{name:"label_alignment",value:e.label_alignment||"over",onChange:s,children:[z.jsx("option",{value:"over",children:"Over"}),z.jsx("option",{value:"left",children:"Left"}),z.jsx("option",{value:"right",children:"Right"})]})]})})]}),z.jsxs("div",{children:[z.jsx("div",{className:"pb-2 border-b border-gray-100 mb-3 font-semibold text-gray-700 text-sm",children:"Geometry"}),z.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.from===e.to?z.jsxs(z.Fragment,{children:[z.jsxs("div",{children:[z.jsx(_r,{children:"Radius"}),z.jsx(qr,{type:"number",name:"radius",value:e.radius||0,onChange:s})]}),z.jsxs("div",{children:[z.jsx(_r,{children:"Angle"}),z.jsx(qr,{type:"number",name:"angle",value:e.angle||0,min:-180,max:180,onChange:s})]})]}):z.jsxs(z.Fragment,{children:[z.jsxs("div",{children:[z.jsx(_r,{children:"Curve"}),z.jsx(qr,{type:"number",name:"curve",value:e.curve||0,onChange:s})]}),z.jsxs("div",{children:[z.jsx(_r,{children:"Shift"}),z.jsx(qr,{type:"number",name:"shift",value:e.shift||0,onChange:s})]})]}),z.jsxs("div",{children:[z.jsx(_r,{children:"Shorten Start"}),z.jsx(qr,{type:"number",value:((d=e.shorten)==null?void 0:d.source)||0,onChange:R=>o("source",R.target.valueAsNumber)})]}),z.jsxs("div",{children:[z.jsx(_r,{children:"Shorten End"}),z.jsx(qr,{type:"number",value:((f=e.shorten)==null?void 0:f.target)||0,onChange:R=>o("target",R.target.valueAsNumber)})]}),z.jsxs("div",{className:"col-span-2",children:[z.jsx(_r,{children:"Level (Parallel)"}),z.jsx(qr,{type:"number",name:"level",value:((h=e.style)==null?void 0:h.level)||1,min:1,onChange:R=>u("level","level",R.target.valueAsNumber)})]})]})]}),z.jsxs("div",{children:[z.jsx("div",{className:"pb-2 border-b border-gray-100 mb-3 font-semibold text-gray-700 text-sm",children:"Styling"}),z.jsxs("div",{className:"space-y-3",children:[z.jsxs("div",{children:[z.jsx(_r,{children:"Type"}),z.jsxs(jo,{value:((p=e.style)==null?void 0:p.mode)||"arrow",onChange:R=>u("mode","arrow",R.target.value),children:[z.jsx("option",{value:"arrow",children:"Arrow"}),z.jsx("option",{value:"adjunction",children:"Adjunction ()"}),z.jsx("option",{value:"corner",children:"Pullback ()"}),z.jsx("option",{value:"corner_inverse",children:"Pushout ()"})]})]}),(!((g=e.style)!=null&&g.mode)||e.style.mode==="arrow")&&z.jsxs(z.Fragment,{children:[z.jsxs("div",{children:[z.jsx(_r,{children:"Body Style"}),z.jsxs(jo,{value:((x=(y=e.style)==null?void 0:y.body)==null?void 0:x.name)||"solid",onChange:R=>u("body","name",R.target.value),children:[z.jsx("option",{value:"solid",children:"Solid"}),z.jsx("option",{value:"dashed",children:"Dashed"}),z.jsx("option",{value:"dotted",children:"Dotted"}),z.jsx("option",{value:"none",children:"None"}),z.jsx("option",{value:"squiggly",children:"Squiggly"}),z.jsx("option",{value:"barred",children:"Barred"}),z.jsx("option",{value:"double_barred",children:"Double Barred"}),z.jsx("option",{value:"bullet_solid",children:"Bullet (Solid)"}),z.jsx("option",{value:"bullet_hollow",children:"Bullet (Hollow)"})]})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[z.jsxs("div",{children:[z.jsx(_r,{children:"Head"}),z.jsxs(jo,{value:((S=(k=e.style)==null?void 0:k.head)==null?void 0:S.name)||"normal",onChange:R=>u("head","name",R.target.value),children:[z.jsx("option",{value:"normal",children:"Normal"}),z.jsx("option",{value:"epi",children:"Epi ()"}),z.jsx("option",{value:"none",children:"None"}),z.jsx("option",{value:"maps_to",children:"Bar (|)"}),z.jsx("option",{value:"hook",children:"Hook ()"}),z.jsx("option",{value:"harpoon",children:"Harpoon ()"})]})]}),z.jsxs("div",{children:[z.jsx(_r,{children:"Tail"}),z.jsxs(jo,{value:((C=(A=e.style)==null?void 0:A.tail)==null?void 0:C.name)||"none",onChange:R=>u("tail","name",R.target.value),children:[z.jsx("option",{value:"none",children:"None"}),z.jsx("option",{value:"mono",children:"Mono ()"}),z.jsx("option",{value:"maps_to",children:"Maps to (|)"}),z.jsx("option",{value:"hook",children:"Hook ()"})]})]})]})]})]})]})]})}function t7({selection:e,spec:t,onSpecChange:r}){const n=Tt(f=>f.deleteSelection),{nodes:s,arrows:o}=_e.useMemo(()=>{try{const f=JSON.parse(t);return{nodes:f.nodes||[],arrows:f.arrows||[]}}catch{return{nodes:[],arrows:[]}}},[t]),u=_e.useMemo(()=>{if(!(e!=null&&e.key))return null;const{key:f}=e,h=s.find(g=>g.name===f);if(h)return{type:"node",data:h};const p=o.find((g,y)=>(g.name||`_arrow_${y}`)===f);return p?{type:"arrow",data:{...p,key:f}}:null},[e,s,o]);if(!u)return z.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[z.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4 text-gray-300",children:z.jsx(sN,{size:32})}),z.jsx("p",{className:"text-sm font-medium",children:"No item selected"}),z.jsx("p",{className:"text-xs mt-1",children:"Select a node or arrow on the canvas to edit its properties."})]});const d=u.type==="node"?u.data.name:u.data.name||u.data.key;return z.jsxs("div",{children:[z.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[z.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[z.jsx("span",{className:"capitalize",children:u.type}),z.jsx("span",{className:"text-sm font-normal text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full max-w-[150px] truncate",children:d})]}),z.jsx(ma,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:n,title:"Delete",children:z.jsx(Cb,{size:18})})]}),u.type==="node"&&z.jsx(RO,{node:u.data,nodes:s,arrows:o,onSpecChange:r}),u.type==="arrow"&&z.jsx(IO,{arrow:u.data,nodes:s,arrows:o,onSpecChange:r})]})}function DO({initialMarkdown:e,filename:t,onRename:r,onPersist:n,onChange:s,onPrint:o,showSaveButton:u=!0,showPrintButton:d=!0,sharing:f}){const[h,p]=_e.useState(e),[g,y]=_e.useState(!1),[x,k]=_e.useState("split"),[S,A]=_e.useState(null),[C,R]=_e.useState(!1),[M,I]=_e.useState(!1),[D,B]=_e.useState(t),{addToast:E}=al();hn.useEffect(()=>{p(e)},[e]),hn.useEffect(()=>{B(t)},[t]);const j=async()=>{if(!r){I(!1),B(t);return}const K=D.trim();if(!K||K===t){I(!1),B(t);return}try{await r(K),E("Renamed.","success")}catch(X){console.error(X),E("Failed to rename.","error"),B(t)}finally{I(!1)}},F=async()=>{if(!n){E("Save is not configured in this host app.","error");return}try{await n(h),E("Paper saved successfully!","success")}catch(K){console.error(K),E("Failed to save paper.","error")}},ue=()=>{if(o){o(h,{isTwoColumn:g});return}localStorage.setItem("print_content",h),localStorage.setItem("print_layout",String(g));const K=new URL("/arrowgram/",window.location.origin),X=new URL("print-preview",K).toString();window.open(X,"_blank")},ee=(K,X)=>{A({id:K,spec:X})},V=K=>{if(!S)return;const X=S.spec;if(h.includes(X)){const re=h.replace(X,K);p(re),E("Diagram updated in document","success")}else E("Could not find the original diagram code to replace.","error");A(null)};return z.jsxs("div",{className:"paper-editor-root flex flex-col h-full bg-gray-50 overflow-hidden",children:[z.jsxs("div",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 shrink-0 z-20 print:hidden",children:[z.jsx("div",{className:"flex items-center gap-4 min-w-0",children:z.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium min-w-0",children:[z.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded flex items-center justify-center text-white text-xs font-bold shrink-0",children:"P"}),M?z.jsx("input",{className:"min-w-0 max-w-[380px] w-[28ch] border border-gray-200 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-white",value:D,onChange:K=>B(K.target.value),onBlur:()=>void j(),onKeyDown:K=>{K.key==="Enter"&&j(),K.key==="Escape"&&(I(!1),B(t))},autoFocus:!0}):z.jsx("button",{type:"button",className:`min-w-0 truncate text-left ${r?"hover:underline":""}`,title:r?"Click to rename":t,onClick:()=>{r&&I(!0)},children:t})]})}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg mr-4",children:[z.jsx("button",{onClick:()=>k("code"),className:`p-1.5 rounded ${x==="code"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Editor Only",children:z.jsx(C2,{size:16})}),z.jsx("button",{onClick:()=>k("split"),className:`p-1.5 rounded ${x==="split"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Split View",children:z.jsxs("div",{className:"flex",children:[z.jsx(C2,{size:16,className:"-mr-1"}),z.jsx(Yc,{size:16,className:"-ml-1"})]})}),z.jsx("button",{onClick:()=>k("preview"),className:`p-1.5 rounded ${x==="preview"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Preview Only",children:z.jsx(Yc,{size:16})})]}),z.jsx("button",{onClick:()=>y(!g),className:`text-sm px-3 py-1.5 rounded border transition-colors ${g?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:g?"Two Column":"Single Column"}),z.jsxs("button",{onClick:ue,className:"flex items-center gap-2 px-3 py-1.5 text-gray-600 hover:bg-gray-100 rounded-md text-sm font-medium transition-colors",style:{display:d?void 0:"none"},children:[z.jsx(mN,{size:16}),"Print PDF"]}),f&&z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:async()=>{const K=!f.isPublic;await f.onTogglePublic(K),K&&await f.onCopyShareLink()},className:`text-sm px-3 py-1.5 rounded border transition-colors ${f.isPublic?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,title:f.isPublic?"Public (click to make private)":"Private (click to make public)",children:f.isPublic?"Public":"Private"}),z.jsx("button",{onClick:()=>f.onCopyShareLink(),className:"flex items-center gap-2 px-3 py-1.5 text-gray-600 hover:bg-gray-100 rounded-md text-sm font-medium transition-colors",title:"Copy share link",children:"Share"})]}),z.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-3 py-1.5 text-gray-600 hover:bg-gray-100 rounded-md text-sm font-medium transition-colors",title:"Settings",children:[z.jsx(Ob,{size:16}),"Settings"]}),z.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md text-sm font-medium transition-colors shadow-sm",style:{display:u?void 0:"none"},children:[z.jsx(Nb,{size:16}),"Save"]})]})]}),f!=null&&f.isPublic&&f.publicUrl?z.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 bg-white flex items-center gap-2 text-sm print:hidden",children:[z.jsx("span",{className:"text-gray-500",children:"Public link:"}),z.jsx("input",{className:"flex-1 min-w-0 border border-gray-200 rounded px-2 py-1 text-xs font-mono text-gray-700 bg-gray-50",value:f.publicUrl,readOnly:!0}),z.jsx("button",{className:"px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs font-medium",onClick:()=>f.onCopyShareLink(),children:"Copy"})]}):null,z.jsxs("div",{className:"flex-1 flex overflow-hidden paper-editor-main",children:[z.jsxs("div",{className:`${x==="preview"?"hidden":x==="code"?"w-full":"w-1/2"} flex flex-col border-r border-gray-200 transition-all duration-300 print:hidden`,children:[z.jsx("div",{className:"bg-gray-50 px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Markdown Source"}),z.jsx("textarea",{className:"flex-1 w-full h-full p-6 resize-none outline-none font-mono text-sm bg-white text-gray-800 leading-relaxed",value:h,onChange:K=>{const X=K.target.value;p(X),s==null||s(X)},placeholder:"# Start writing your paper...",spellCheck:!1})]}),z.jsxs("div",{className:`${x==="code"?"hidden":x==="preview"?"w-full":"w-1/2"} bg-gray-100 flex flex-col relative overflow-hidden transition-all duration-300 paper-preview-pane`,children:[z.jsxs("div",{className:"bg-gray-100 px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200 flex justify-between print:hidden",children:[z.jsx("span",{children:"Live Preview"}),z.jsx("span",{className:"text-[10px] text-gray-400",children:"Paged.js Rendering"})]}),z.jsx("div",{className:"flex-1 overflow-auto p-8 relative paper-scroll-container",children:z.jsx("div",{className:"mx-auto w-fit paper-content-wrapper",children:z.jsx(BN,{markdown:h,isTwoColumn:g,onEditDiagram:ee})})})]})]}),S&&z.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-8",children:z.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl h-[80vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[z.jsxs("div",{className:"h-14 border-b border-gray-200 flex items-center justify-between px-6 bg-gray-50",children:[z.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[z.jsx(eN,{size:20,className:"text-indigo-600"}),"Edit Diagram"]}),z.jsx("button",{onClick:()=>A(null),className:"p-2 hover:bg-gray-200 rounded-full text-gray-500 transition-colors",children:z.jsx(rl,{size:20})})]}),z.jsx("div",{className:"flex-1 overflow-hidden relative",children:z.jsx(jO,{initialSpec:S.spec,onSave:K=>V(K)})})]})}),z.jsx(e7,{isOpen:C,onClose:()=>R(!1)})]})}function jO({initialSpec:e,onSave:t}){const r=Tt(d=>d.setSpec),n=Tt(d=>d.spec),s=Tt(d=>d.selectedIds),o=Tt(d=>d.setSelection),u={key:s.values().next().value};return hn.useEffect(()=>{r(e),o(new Set)},[]),z.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[z.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[z.jsx("div",{className:"flex-1 relative",children:z.jsx(jb,{})}),z.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[z.jsx("div",{className:"p-4 border-b border-gray-100 font-semibold text-gray-700 bg-gray-50/50",children:"Properties"}),z.jsx("div",{className:"p-4",children:z.jsx(t7,{selection:u,spec:n,onSpecChange:r})})]})]}),z.jsx("div",{className:"h-16 border-t border-gray-200 flex items-center justify-end px-6 gap-3 bg-white z-10",children:z.jsx("button",{onClick:()=>t(n),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-sm transition-colors",children:"Apply Changes"})})]})}const $O=`
{
  "nodes": [
    { "name": "T", "left": 100, "top": 100, "label": "T" },
    { "name": "P", "left": 300, "top": 300, "label": "$A \\times_C B$" },
    { "name": "A", "left": 300, "top": 600, "label": "A" },
    { "name": "B", "left": 600, "top": 300, "label": "B" },
    { "name": "C", "left": 600, "top": 600, "label": "C" }
  ],
  "arrows": [
    { "from": "P", "to": "A", "label": "p", "style": { "tail": { "name": "mono" } } },
    { "from": "P", "to": "B", "label": "p" },
    { "from": "A", "to": "C", "label": "f", "label_alignment": "left", "style": { "head": { "name": "epi" } } },
    { "from": "B", "to": "C", "label": "g", "label_alignment": "right", "style": { "tail": { "name": "mono" } } },
    { "from": "T", "to": "A", "label": "t", "curve": -80 },
    { "from": "T", "to": "B", "label": "t", "curve": 80 },
    { "from": "T", "to": "P", "label": "! u", "style": { "body": { "name": "dashed" } } }
  ]
}
`,BO=`
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "A" },
    { "name": "B", "left": 400, "top": 100, "label": "B" }
  ],
  "arrows": [
    { "name": "f", "from": "A", "to": "B", "label": "F(f)", "curve": -90 },
    { "name": "g", "from": "A", "to": "B", "label": "G(f)", "curve": 90 },
    { "name": "eta", "from": "f", "to": "g", "label": "", "style": { "head": { "name": "epi" } } }
  ]
}
`,LO=`
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "A" },
    { "name": "B", "left": 500, "top": 100, "label": "B" },
    { "name": "C", "left": 100, "top": 400, "label": "C" },
    { "name": "D", "left": 500, "top": 400, "label": "D" }
  ],
  "arrows": [
    { "name": "top_arrow", "from": "A", "to": "B", "label": "f", "curve": 90 },
    { "name": "bottom_arrow", "from": "C", "to": "D", "label": "g" },
    { "name": "left_arrow", "from": "A", "to": "C", "label": "" },
    { "name": "right_arrow", "from": "B", "to": "D", "label": "" },
    { "name": "diag1", "from": "top_arrow", "to": "right_arrow", "label": "", "curve": 40, "label_alignment": "left",
      "style": { "level": 2,  "head": { "name": "epi" },  "tail": { "name": "mono" }  } },
    { "name": "diag2", "from": "left_arrow", "to": "bottom_arrow", "label": "", "curve": -40, "label_alignment": "right" }
  ]
}
`,UO=`
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "A" },
    { "name": "B", "left": 600, "top": 100, "label": "B" },
    { "name": "C", "left": 100, "top": 400, "label": "C" },
    { "name": "D", "left": 600, "top": 400, "label": "D" }
  ],
  "arrows": [
    { "name": "f1", "from": "A", "to": "B", "label": "f", "curve": -90 },
    { "name": "f2", "from": "A", "to": "B", "label": "f", "curve": 90 },
    { "name": "g1", "from": "C", "to": "D", "label": "g", "curve": -60 },
    { "name": "g2", "from": "C", "to": "D", "label": "g", "curve": 60 },
    { "name": "h1", "from": "f1", "to": "f2", "label": "h", "curve": -90,
      "style": { "level": 2 }  },
    { "name": "h2", "from": "g1", "to": "g2", "label": "h", "curve": 90  },
    { "name": "h3", "from": "h1", "to": "h2", "label": "h", "curve": -50,
      "style": { "level": 3 } }
  ]
}
`,G2={Pullback:$O.trim(),"Natural Transformation":BO.trim(),"Higher Order Square":LO.trim(),"Higher Orderception":UO.trim()};function qO({isOpen:e,onClose:t}){const r=Tt(C=>C.spec),n=Tt(C=>C.setSpec),[s,o]=_e.useState(r),[u,d]=_e.useState(null),{addToast:f}=al(),[h,p]=_e.useState(!1),[g,y]=_e.useState(!1);_e.useEffect(()=>{o(r),d(null)},[r,e]);const x=C=>{o(C.target.value),d(null)},k=()=>{try{JSON.parse(s),n(s),f("Specification updated","success"),t()}catch(C){d(C.message)}},S=()=>{navigator.clipboard.writeText(s),p(!0),setTimeout(()=>p(!1),2e3),f("Copied to clipboard","info")},A=C=>{o(G2[C]),y(!1),f(`Loaded example: ${C}`,"info")};return e?zd.createPortal(z.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:z.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-[800px] h-[80vh] flex flex-col ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[z.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 relative",children:[z.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:["JSON Specification",u&&z.jsx("span",{className:"text-xs font-normal text-red-500 bg-red-50 px-2 py-1 rounded",children:"Invalid JSON"})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("div",{className:"relative",children:[z.jsx("button",{onClick:()=>y(!g),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2",title:"Load Example",children:z.jsx(OM,{size:20})}),g&&z.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden z-50",children:[z.jsx("div",{className:"p-2 text-xs font-semibold text-gray-400 bg-gray-50 border-b border-gray-100",children:"Load Example"}),Object.keys(G2).map(C=>z.jsx("button",{onClick:()=>A(C),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-700 transition-colors",children:C},C))]})]}),z.jsx("button",{onClick:S,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy to Clipboard",children:h?z.jsx(Vc,{size:20,className:"text-green-500"}):z.jsx(Jp,{size:20})}),z.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:z.jsx(rl,{size:20})})]})]}),z.jsx("div",{className:"flex-1 p-0 relative",children:z.jsx("textarea",{value:s,onChange:x,className:"w-full h-full p-4 font-mono text-sm resize-none focus:outline-none text-gray-700 bg-gray-50",spellCheck:!1})}),z.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50 rounded-b-2xl flex justify-between items-center",children:[z.jsx("div",{className:"text-xs text-gray-500",children:"Edit the raw JSON to modify the diagram directly."}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx(ma,{variant:"secondary",onClick:t,children:"Cancel"}),z.jsx(ma,{onClick:k,disabled:!!u,children:"Apply Changes"})]})]})]})}),document.body):null}const Xc=40,r7=-25,ap=10,np=-90,V2={left:0,centre:1,right:2,over:3},HO={0:"left",1:"over",2:"right",3:"over"},PO={none:[],normal:["epi"],epi:["epi","epi"],mono:["mono"],maps_to:["maps to"],hook:["hook"],harpoon:["harpoon"],corner:["corner"],corner_inverse:["corner-inverse"]},ZO={none:[],normal:[],mono:["mono"],maps_to:["maps to"],hook:["hook"]},GO={solid:"cell",dashed:"dashed",dotted:"dotted",squiggly:"squiggly",wavy:"squiggly",barred:"barred",double_barred:"double barred",bullet_solid:"bullet solid",bullet_hollow:"bullet hollow",none:"none"};function VO(e){if(typeof e>"u")return{name:"normal"};if(e.length===0)return{name:"none"};const t=JSON.stringify(e);if(t==='["epi"]')return{name:"normal"};if(t==='["epi","epi"]')return{name:"epi"};if(t==='["mono"]')return{name:"mono"};if(t==='["maps to"]')return{name:"maps_to"};if(t==='["corner"]')return{name:"corner"};const r=e[0];return r.startsWith("harpoon")?{name:"harpoon",side:r.endsWith("top")?"top":"bottom"}:r.startsWith("hook")?{name:"hook",side:r.endsWith("top")?"top":"bottom"}:{name:"normal"}}function YO(e){if(!e||e.length===0)return{name:"none"};const t=JSON.stringify(e);if(t==='["mono"]')return{name:"mono"};if(t==='["maps to"]')return{name:"maps_to"};const r=e[0];return r.startsWith("hook")?{name:"hook",side:r.endsWith("top")?"top":"bottom"}:{name:"none"}}const FO={cell:"solid",dashed:"dashed",dotted:"dotted",squiggly:"squiggly",barred:"barred","double barred":"double_barred","bullet solid":"bullet_solid","bullet hollow":"bullet_hollow",none:"none"};function mm(e){const t=e[0],r=e[1],n=e[2],s=e[3]!==void 0?e[3]:1;return`hsla(${t}, ${r}%, ${n}%, ${s})`}function pm(e){if(!e)return[0,0,0,1];const t=e.trim().toLowerCase();if(t==="black")return[0,0,0,1];if(t==="white")return[0,0,100,1];if(t==="red")return[0,100,50,1];if(t==="blue")return[240,100,50,1];if(t==="green")return[120,100,50,1];if(t==="transparent")return[0,0,0,0];if(t.startsWith("#")){let r=t.substring(1);r.length===3&&(r=r.split("").map(u=>u+u).join(""));const n=parseInt(r.substring(0,2),16)/255,s=parseInt(r.substring(2,4),16)/255,o=parseInt(r.substring(4,6),16)/255;return Y2(n,s,o)}if(t.startsWith("rgb")){const r=t.match(/[\d.]+/g);if(r&&r.length>=3){const n=parseFloat(r[0])/255,s=parseFloat(r[1])/255,o=parseFloat(r[2])/255,u=r.length>3?parseFloat(r[3]):1,[d,f,h]=Y2(n,s,o);return[d,f,h,u]}}if(t.startsWith("hsl")){const r=t.match(/[\d.]+/g);if(r&&r.length>=3){const n=parseFloat(r[0]),s=parseFloat(r[1]),o=parseFloat(r[2]),u=r.length>3?parseFloat(r[3]):1;return[n,s,o,u]}}return[0,0,0,1]}function Y2(e,t,r){const n=Math.max(e,t,r),s=Math.min(e,t,r);let o=0,u=0,d=(n+s)/2;if(n!==s){const f=n-s;switch(u=d>.5?f/(2-n-s):f/(n+s),n){case e:o=(t-r)/f+(t<r?6:0);break;case t:o=(r-e)/f+2;break;case r:o=(e-t)/f+4;break}o*=60}return[Math.round(o),Math.round(u*100),Math.round(d*100),1]}function XO(e){var t,r,n;try{const o=(e.includes("#")?e.substring(e.indexOf("#")+1):e).split("&").find(A=>A.startsWith("q="));if(!o)throw new Error("No 'q' parameter found in URL fragment.");const u=o.substring(2),d=atob(u),f=new Uint8Array(d.length);for(let A=0;A<d.length;A++)f[A]=d.charCodeAt(A);const h=new TextDecoder().decode(f),p=JSON.parse(h),[g,y,...x]=p,k={version:1,nodes:[],arrows:[]},S=[];for(let A=0;A<y;A++){const C=x[A],[R,M,I="",D]=C,B=`v${A}`,E={name:B,left:R*Xc,top:M*Xc,label:I?`$${I}$`:""};D&&Array.isArray(D)&&D.length>=3&&(D[0]===0&&D[2]===0||(E.color=mm(D))),k.nodes.push(E),S[A]={name:B,type:"node"}}for(let A=y;A<x.length;A++){const C=x[A],R=C[0],M=C[1],I=(t=S[R])==null?void 0:t.name,D=(r=S[M])==null?void 0:r.name;if(I&&D){const B=`e${A-y}`,E={name:B,from:I,to:D,label:"",label_alignment:"over"};let j=2;if(j<C.length&&typeof C[j]=="string"){const re=C[j];re&&(E.label=`$${re}$`),j++}let F=0;j<C.length&&typeof C[j]=="number"&&(F=C[j],j++),E.label_alignment=HO[F]||"over";let ue={};if(j<C.length&&typeof C[j]=="object"&&!Array.isArray(C[j])&&(ue=C[j],j++),typeof ue.curve=="number"&&(E.curve=ue.curve*r7),typeof ue.offset=="number"&&(E.shift=ue.offset),ue.shorten)E.shorten={source:ue.shorten.source,target:ue.shorten.target};else if(typeof ue.length=="number"){const re=(100-ue.length)/2;E.shorten={source:re,target:re}}if(R===M){const re=typeof ue.radius=="number"?ue.radius:3,$=typeof ue.angle=="number"?ue.angle:0;E.radius=-1*re*ap,E.angle=$+np}else typeof ue.radius=="number"&&(E.radius=ue.radius*ap),typeof ue.angle=="number"&&(E.angle=ue.angle+np);E.style={level:ue.level||1};const ee=ue.style||{};ee.name==="adjunction"?E.style.mode="adjunction":ee.name==="corner"?E.style.mode="corner":ee.name==="corner-inverse"&&(E.style.mode="corner_inverse");const V=VO(ee.heads);V.name!=="normal"&&(E.style.head=V);const K=YO(ee.tails);K.name!=="none"&&(E.style.tail=K);const X=(n=ee.body)!=null&&n.name?FO[ee.body.name]:null;if(X&&X!=="solid"?E.style.body={name:X}:ee.dash_style&&(ee.dash_style==="dashed"&&(E.style.body={name:"dashed"}),ee.dash_style==="dotted"&&(E.style.body={name:"dotted"})),typeof ue.colour<"u"){const re=ue.colour;Array.isArray(re)&&(E.color=mm(re))}j<C.length&&Array.isArray(C[j])&&(E.label_color=mm(C[j])),k.arrows?k.arrows.push(E):k.arrows=[E],S[A]={name:B,type:"arrow"}}}return k}catch(s){throw console.error("Failed to decode Quiver URL:",s),new Error("Failed to decode URL. Please check the format.")}}function KO(e){try{const t=[],r=[],n=new Map;e.nodes.forEach((p,g)=>{const y=[Math.round(p.left/Xc),Math.round(p.top/Xc)];if(p.label){let x=p.label;x.startsWith("$")&&x.endsWith("$")&&(x=x.slice(1,-1)),y.push(x)}p.color&&p.label&&y.push(pm(p.color)),t.push(y),n.set(p.name,g)});const s=_u(e);let o=t.length;s.arrows.forEach((p,g)=>{n.set(p.spec.name||p.key,o+g)}),s.arrows.forEach(p=>{var V,K,X,re;const g=p.spec,y=n.get(g.from),x=n.get(g.to);if(y===void 0||x===void 0)return;const k=[y,x],S={},A={};if(g.curve&&(S.curve=Math.round(g.curve/r7)),g.shift&&(S.offset=g.shift),(V=g.style)!=null&&V.level&&g.style.level>1&&(S.level=g.style.level),g.shorten&&p.arcLength>0){const $=(g.shorten.source||0)/p.arcLength*100,Z=(g.shorten.target||0)/p.arcLength*100;($>0||Z>0)&&(S.shorten={source:Math.round($),target:Math.round(Z)})}const C=y===x;if(g.radius){const $=g.radius/ap,Z=C?-1*$:$;(!C||Z!==3)&&(S.radius=Z)}if(typeof g.angle=="number"){const $=g.angle-np;(!C||$!==0)&&(S.angle=$)}g.color&&(S.colour=pm(g.color));const R=g.style||{};if(R.mode==="adjunction"?A.name="adjunction":R.mode==="corner"?A.name="corner":R.mode==="corner_inverse"?A.name="corner-inverse":A.name="arrow",(K=R.head)!=null&&K.name&&R.head.name!=="normal"){const $=PO[R.head.name];$&&(A.heads=[...$],R.head.side&&(R.head.name==="harpoon"||R.head.name==="hook")&&(A.heads[0]+=R.head.side==="top"?"-top":"-bottom"))}if((X=R.tail)!=null&&X.name&&R.tail.name!=="none"){const $=ZO[R.tail.name];$&&(A.tails=[...$],R.tail.side&&R.tail.name==="hook"&&(A.tails[0]+=R.tail.side==="top"?"-top":"-bottom"))}(re=R.body)!=null&&re.name&&R.body.name!=="solid"&&(A.body={name:GO[R.body.name]||"cell"}),Object.keys(A).length>0&&(A.name==="arrow"&&Object.keys(A).length===1||(S.style=A));let M="";g.label&&(M=g.label,M.startsWith("$")&&M.endsWith("$")&&(M=M.slice(1,-1)));const I=V2[g.label_alignment||"over"],D=Object.keys(S).length>0,B=I!==V2.over,E=g.label_color?pm(g.label_color):null,j=M!==""||B||D||E,F=B||D||E,ue=D||E,ee=!!E;j&&k.push(M),F&&k.push(I),ue&&k.push(S),ee&&k.push(E),r.push(k)});const u=[0,t.length,...t,...r],d=JSON.stringify(u),f=new TextEncoder().encode(d),h=String.fromCharCode.apply(null,Array.from(f));return btoa(h)}catch(t){throw console.error("Failed to encode Arrowgram spec:",t),new Error("Failed to encode spec.")}}function JO({isOpen:e,onClose:t}){const{spec:r,setSpec:n}=Tt(),[s,o]=_e.useState(""),[u,d]=_e.useState(""),{addToast:f}=al(),[h,p]=_e.useState(!1),g=()=>{try{const k=XO(s);n(Na(k)),f("Quiver diagram imported successfully!","success"),t()}catch(k){f(k.message||"Failed to decode Quiver URL","error")}},y=()=>{try{const k=JSON.parse(r),A=`https://q.uiver.app/#q=${KO(k)}`;d(A)}catch{f("Failed to encode diagram","error")}},x=()=>{navigator.clipboard.writeText(u),p(!0),setTimeout(()=>p(!1),2e3),f("Quiver URL copied!","success")};return e?zd.createPortal(z.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:z.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-[500px] ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[z.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[z.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[z.jsx(nN,{size:18})," Quiver Integration"]}),z.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:z.jsx(rl,{size:20})})]}),z.jsxs("div",{className:"p-6 space-y-8",children:[z.jsxs("div",{className:"space-y-3",children:[z.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Import from Quiver"}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx(qr,{value:s,onChange:k=>o(k.target.value),placeholder:"Paste https://q.uiver.app/... URL here",className:"flex-1"}),z.jsx(ma,{onClick:g,disabled:!s,children:"Import"})]}),z.jsx("p",{className:"text-xs text-gray-500",children:"Paste a URL from q.uiver.app to load the diagram here."})]}),z.jsx("div",{className:"h-px bg-gray-100"}),z.jsxs("div",{className:"space-y-3",children:[z.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Export to Quiver"}),z.jsx("div",{className:"flex gap-2 items-start",children:z.jsxs(ma,{onClick:y,variant:"outline",className:"w-full justify-center",children:["Generate Quiver URL ",z.jsx(MM,{size:16,className:"ml-2"})]})}),u&&z.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex items-center gap-2 mt-2",children:[z.jsx("div",{className:"flex-1 text-xs text-gray-600 font-mono break-all line-clamp-2",children:u}),z.jsx("button",{onClick:x,className:"p-1.5 text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"Copy",children:h?z.jsx(Vc,{size:16}):z.jsx(Jp,{size:16})})]}),z.jsx("p",{className:"text-xs text-gray-500",children:"Generate a URL to open this diagram in q.uiver.app."})]})]})]})}),document.body):null}function WO({onExport:e,onShare:t,onToggleChat:r,isChatOpen:n}){const{filename:s}=Tt(),{undo:o,redo:u,pastStates:d,futureStates:f}=Ib(Tt.temporal),[h,p]=_e.useState(!1),[g,y]=_e.useState(!1),[x,k]=_e.useState(!1),[S,A]=_e.useState(!1),[C,R]=_e.useState({fitView:!0,showGrid:!0}),M=d.length>0,I=f.length>0,D="p-2 rounded-lg text-gray-600 hover:bg-gray-100/80 hover:text-gray-900 transition-all disabled:opacity-40 disabled:cursor-not-allowed active:scale-95",B=z.jsx("div",{className:"h-5 w-px bg-gray-200 mx-1"});return z.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white/90 backdrop-blur-md border border-gray-200/50 shadow-lg rounded-xl ring-1 ring-black/5",children:[z.jsx("button",{className:D,onClick:()=>o(),disabled:!M,title:"Undo",children:z.jsx(TN,{size:18})}),z.jsx("button",{className:D,onClick:()=>u(),disabled:!I,title:"Redo",children:z.jsx(vN,{size:18})}),B,z.jsx("button",{className:`${D} ${n?"bg-purple-100 text-purple-700 hover:bg-purple-200":""}`,onClick:r,title:"AI Assistant",children:z.jsx(Wm,{size:18})}),z.jsx("button",{className:D,onClick:()=>p(!0),title:"Settings",children:z.jsx(Ob,{size:18})}),z.jsx("button",{className:D,onClick:()=>y(!0),title:"Edit JSON Spec",children:z.jsx(XM,{size:18})}),z.jsx("button",{className:D,onClick:()=>k(!0),title:"Quiver Integration",children:z.jsx(R2,{size:18,className:"rotate-90"})}),B,z.jsxs("div",{className:"relative flex items-center",children:[z.jsx("button",{className:`${D} rounded-r-none border-r border-gray-200/50 pr-1`,onClick:()=>e("svg",C),title:"Export SVG",children:z.jsx(PM,{size:18})}),z.jsx("button",{className:`${D} rounded-l-none px-1`,onClick:()=>A(!S),title:"Export Options",children:z.jsx(DM,{size:14})}),S&&z.jsxs("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 p-2 z-50 animate-in fade-in zoom-in-95",children:[z.jsx("div",{className:"text-xs font-semibold text-gray-500 px-2 py-1 uppercase tracking-wider",children:"Export Settings"}),z.jsxs("button",{className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors",onClick:()=>R(E=>({...E,fitView:!E.fitView})),children:[z.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${C.fitView?"bg-purple-600 border-purple-600 text-white":"border-gray-300"}`,children:C.fitView&&z.jsx(Vc,{size:10})}),"Fit View to Content"]}),z.jsxs("button",{className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors",onClick:()=>R(E=>({...E,showGrid:!E.showGrid})),children:[z.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${C.showGrid?"bg-purple-600 border-purple-600 text-white":"border-gray-300"}`,children:C.showGrid&&z.jsx(Vc,{size:10})}),"Include Grid"]}),z.jsx("div",{className:"h-px bg-gray-100 my-2"}),z.jsx("button",{className:"w-full text-left px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 font-medium transition-colors",onClick:()=>{e("svg",C),A(!1)},children:"Export SVG"}),z.jsx("button",{className:"w-full text-left px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 font-medium transition-colors",onClick:()=>{e("png",C),A(!1)},children:"Export PNG"})]})]}),z.jsx("button",{className:D,onClick:()=>e("tikz"),title:"Export TikZ",children:z.jsx("span",{className:"font-mono font-bold text-xs",children:"TeX"})}),z.jsx("button",{className:D,onClick:t,title:"Share Link",children:z.jsx(R2,{size:18})}),B,z.jsx("div",{className:"px-3 py-1 font-medium text-sm text-gray-500 max-w-[150px] truncate select-none",title:s,children:s}),z.jsx(e7,{isOpen:h,onClose:()=>p(!1)}),z.jsx(qO,{isOpen:g,onClose:()=>y(!1)}),z.jsx(JO,{isOpen:x,onClose:()=>k(!1)})]})}function QO({tikzCode:e,onClose:t,isOpen:r}){const{addToast:n}=al();if(!r)return null;const s=()=>{navigator.clipboard.writeText(e),n("TikZ code copied to clipboard","success")};return zd.createPortal(z.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:z.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-3/4 max-w-2xl ring-1 ring-black/5 animate-in zoom-in-95 duration-200",children:[z.jsxs("div",{className:"flex justify-between items-center mb-4",children:[z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Export to TikZ-CD"}),z.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:z.jsx(rl,{size:24})})]}),z.jsxs("div",{className:"relative mb-6",children:[z.jsx("textarea",{readOnly:!0,value:e||"",className:"w-full h-64 p-4 font-mono text-sm border border-gray-200 rounded-xl bg-gray-50 text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-500/50 resize-none"}),z.jsx("div",{className:"absolute top-2 right-2",children:z.jsxs(ma,{size:"sm",variant:"secondary",onClick:s,title:"Copy",children:[z.jsx(Jp,{size:14,className:"mr-1.5"})," Copy"]})})]}),z.jsxs("div",{className:"flex justify-end gap-2",children:[z.jsx(ma,{variant:"ghost",onClick:t,children:"Close"}),z.jsx(ma,{onClick:s,children:"Copy to Clipboard"})]})]})}),document.body)}function F2(e,t){return(e%t+t)%t}const xc=40;function X2(e){const t=(e||"").replace(/^\$|\$$/g,"").trim();return t?t.includes("\\\\")?`\\begin{array}{c} ${t} \\end{array}`:`{${t}}`:""}function vm(e){const t=e.replace("#",""),r=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),s=parseInt(t.substring(4,6),16);return`{rgb,255:red,${r};green,${n};blue,${s}}`}function eC(e){try{const t=JSON.parse(e);if(!t.nodes||t.nodes.length===0)return"";const r=.75,n=.4,s=1.3;let o=1/0,u=-1/0,d=1/0,f=-1/0;const h=new Map,p=new Map;t.nodes.forEach(S=>{const A=Math.round(S.left/xc),C=Math.round(S.top/xc);o=Math.min(o,A),u=Math.max(u,A),d=Math.min(d,C),f=Math.max(f,C),h.set(S.name,{r:C,c:A,label:S.label||"",color:S.color})}),t.arrows&&t.arrows.forEach((S,A)=>{const C=`${A}`;S.name&&p.set(S.name,C)});const g=f-d+1,y=u-o+1,x=Array(g).fill(null).map(()=>Array(y).fill(""));h.forEach((S,A)=>{const C=S.r-d,R=S.c-o;let M=X2(S.label);S.color&&S.color!=="#000000"&&(M=`\\textcolor${vm(S.color)}{${M}}`),x[C][R]=M,h.set(A,{r:C+1,c:R+1,label:S.label})});const k=[];k.push("\\[\\begin{tikzcd}");for(let S=0;S<g;S++){const A=x[S].join(" & ");k.push(`	${A}${S<g-1?" \\\\":""}`)}return t.arrows&&t.arrows.forEach((S,A)=>{var ee,V,K,X,re,$,Z,J,Ae,ze,L,ie;const C=h.get(S.from),R=h.get(S.to),M=C?null:p.get(S.from),I=R?null:p.get(S.to);if(!C&&!M||!R&&!I)return;const D=[],B=[],E=`${A}`;if(B.push(`""{name=${E}, anchor=center, inner sep=0}`),S.label){const W=(S.label||"").replace(/^$|"$/g,"");let te=`"${X2(W)}"`;const ge=[];S.label_alignment==="left"&&(te+="'"),S.label_color&&S.label_color!=="#000000"&&ge.push(`text=${vm(S.label_color)}`),S.label_alignment==="over"&&ge.push("description"),ge.length>0&&(te+=`{${ge.join(", ")}}`),B.push(te)}S.color&&S.color!=="#000000"&&D.push(`draw=${vm(S.color)}`);const j=S.style||{};((ee=j.head)==null?void 0:ee.name)==="epi"&&D.push("two heads"),((V=j.head)==null?void 0:V.name)==="none"&&D.push("no head"),((K=j.head)==null?void 0:K.name)==="maps_to"&&D.push("maps to"),((X=j.head)==null?void 0:X.name)==="harpoon"&&D.push((j.head.side==="bottom","harpoon")),((re=j.head)==null?void 0:re.name)==="hook"&&D.push((j.head.side==="bottom","hook")),(($=j.tail)==null?void 0:$.name)==="mono"&&D.push("tail"),((Z=j.tail)==null?void 0:Z.name)==="maps_to"&&D.push("maps to"),((J=j.tail)==null?void 0:J.name)==="hook"&&D.push((j.tail.side==="bottom","hook")),((Ae=j.body)==null?void 0:Ae.name)==="dashed"&&D.push("dashed"),((ze=j.body)==null?void 0:ze.name)==="dotted"&&D.push("dotted"),((L=j.body)==null?void 0:L.name)==="squiggly"&&D.push("squiggly"),((ie=j.body)==null?void 0:ie.name)==="barred"&&D.push("slashed"),j.level===2?D.push("Rightarrow"):j.level===3&&D.push("Rrightarrow"),C?D.push(`from=${C.r}-${C.c}`):D.push(`from=${M}`),R?D.push(`to=${R.r}-${R.c}`):D.push(`to=${I}`);let F=!1;if(C&&R&&C.r===R.r&&C.c===R.c){F=!0,D.push("loop");const te=(S.radius??40)/10,ge=S.angle??-90,Te=te>=0?1:-1,le=180-90*Te-ge,Me=35,je=F2(le-Me*Te,360),Ye=F2(le+Me*Te,360);D.push(`in=${Math.round(je)}`),D.push(`out=${Math.round(Ye)}`),D.push(`distance=${Math.abs(te)*3}mm`)}else{if(S.curve){const W=S.curve*s;let te=W;if(C&&R){const ge=(R.r-C.r)*xc,Te=(R.c-C.c)*xc,le=Math.sqrt(ge*ge+Te*Te);le>0&&(te=2*Math.atan(2*W/le)*(180/Math.PI))}D.push(`bend left=${Math.round(te)}`)}S.shift&&D.push(`shift left=${S.shift/20}em`)}if(S.shorten){let W=S.shorten.source||0,te=S.shorten.target||0;W*=r,te*=r,F&&(W*=n,te*=n);const ge=20;F&&(W=Math.min(W,ge),te=Math.min(te,ge)),W>0&&D.push(`shorten <=${Math.round(W)}pt`),te>0&&D.push(`shorten >=${Math.round(te)}pt`)}const ue=[...D,...B];k.push(`	\\arrow[${ue.join(", ")}]`)}),k.push("\\end{tikzcd}\\]"),k.join(`
`)}catch(t){return`% Failed to export to TikZ-CD: ${t.message}`}}var gm={},K2;function tC(){return K2||(K2=1,function(e){(function(){var t=e||!1||this||window;t.default=t;var r="http://www.w3.org/2000/xmlns/",n="http://www.w3.org/1999/xhtml",s="http://www.w3.org/2000/svg",o='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',u=/url\(["']?(.+?)["']?\)/,d={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},f=function(V){return V instanceof HTMLElement||V instanceof SVGElement},h=function(V){if(!f(V))throw new Error("an HTMLElement or SVGElement is required; got "+V)},p=function(V){return new Promise(function(K,X){f(V)?K(V):X(new Error("an HTMLElement or SVGElement is required; got "+V))})},g=function(V){return V&&V.lastIndexOf("http",0)===0&&V.lastIndexOf(window.location.host)===-1},y=function(V){var K=Object.keys(d).filter(function(X){return V.indexOf("."+X)>0}).map(function(X){return d[X]});return K?K[0]:(console.error("Unknown font format for "+V+". Fonts may not be working correctly."),"application/octet-stream")},x=function(V){for(var K="",X=new Uint8Array(V),re=0;re<X.byteLength;re++)K+=String.fromCharCode(X[re]);return window.btoa(K)},k=function(V,K,X){var re=V.viewBox&&V.viewBox.baseVal&&V.viewBox.baseVal[X]||K.getAttribute(X)!==null&&!K.getAttribute(X).match(/%$/)&&parseInt(K.getAttribute(X))||V.getBoundingClientRect()[X]||parseInt(K.style[X])||parseInt(window.getComputedStyle(V).getPropertyValue(X));return typeof re>"u"||re===null||isNaN(parseFloat(re))?0:re},S=function(V,K,X,re){if(V.tagName==="svg")return{width:X||k(V,K,"width"),height:re||k(V,K,"height")};if(V.getBBox){var $=V.getBBox(),Z=$.x,J=$.y,Ae=$.width,ze=$.height;return{width:Z+Ae,height:J+ze}}},A=function(V){return decodeURIComponent(encodeURIComponent(V).replace(/%([0-9A-F]{2})/g,function(K,X){var re=String.fromCharCode("0x"+X);return re==="%"?"%25":re}))},C=function(V){for(var K=window.atob(V.split(",")[1]),X=V.split(",")[0].split(":")[1].split(";")[0],re=new ArrayBuffer(K.length),$=new Uint8Array(re),Z=0;Z<K.length;Z++)$[Z]=K.charCodeAt(Z);return new Blob([re],{type:X})},R=function(V,K){if(K)try{return V.querySelector(K)||V.parentNode&&V.parentNode.querySelector(K)}catch(X){console.warn('Invalid CSS selector "'+K+'"',X)}},M=function(V,K){var X=V.cssText.match(u),re=X&&X[1]||"";if(!(!re||re.match(/^data:/)||re==="about:blank")){var $=re.startsWith("../")?K+"/../"+re:re.startsWith("./")?K+"/."+re:re;return{text:V.cssText,format:y($),url:$}}},I=function(V){return Promise.all(Array.from(V.querySelectorAll("image")).map(function(K){var X=K.getAttributeNS("http://www.w3.org/1999/xlink","href")||K.getAttribute("href");return X?(g(X)&&(X+=(X.indexOf("?")===-1?"?":"&")+"t="+new Date().valueOf()),new Promise(function(re,$){var Z=document.createElement("canvas"),J=new Image;J.crossOrigin="anonymous",J.src=X,J.onerror=function(){return $(new Error("Could not load "+X))},J.onload=function(){Z.width=J.width,Z.height=J.height,Z.getContext("2d").drawImage(J,0,0),K.setAttributeNS("http://www.w3.org/1999/xlink","href",Z.toDataURL("image/png")),re(!0)}})):Promise.resolve(null)}))},D={},B=function(V){return Promise.all(V.map(function(K){return new Promise(function(X,re){if(D[K.url])return X(D[K.url]);var $=new XMLHttpRequest;$.addEventListener("load",function(){var Z=x($.response),J=K.text.replace(u,'url("data:'+K.format+";base64,"+Z+'")')+`
`;D[K.url]=J,X(J)}),$.addEventListener("error",function(Z){console.warn("Failed to load font from: "+K.url,Z),D[K.url]=null,X(null)}),$.addEventListener("abort",function(Z){console.warn("Aborted loading font from: "+K.url,Z),X(null)}),$.open("GET",K.url),$.responseType="arraybuffer",$.send()})})).then(function(K){return K.filter(function(X){return X}).join("")})},E=null,j=function(){return E||(E=Array.from(document.styleSheets).map(function(V){try{return{rules:V.cssRules,href:V.href}}catch(K){return console.warn("Stylesheet could not be loaded: "+V.href,K),{}}}))},F=function(V,K){var X=K||{},re=X.selectorRemap,$=X.modifyStyle,Z=X.modifyCss,J=X.fonts,Ae=X.excludeUnusedCss,ze=Z||function(te,ge){var Te=re?re(te):te,le=$?$(ge):ge;return Te+"{"+le+`}
`},L=[],ie=typeof J>"u",W=J||[];return j().forEach(function(te){var ge=te.rules,Te=te.href;ge&&Array.from(ge).forEach(function(le){if(typeof le.style<"u")if(R(V,le.selectorText))L.push(ze(le.selectorText,le.style.cssText));else if(ie&&le.cssText.match(/^@font-face/)){var Me=M(le,Te);Me&&W.push(Me)}else Ae||L.push(le.cssText)})}),B(W).then(function(te){return L.join(`
`)+te})},ue=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};t.prepareSvg=function(ee,V,K){h(ee);var X=V||{},re=X.left,$=re===void 0?0:re,Z=X.top,J=Z===void 0?0:Z,Ae=X.width,ze=X.height,L=X.scale,ie=L===void 0?1:L,W=X.responsive,te=W===void 0?!1:W,ge=X.excludeCss,Te=ge===void 0?!1:ge;return I(ee).then(function(){var le=ee.cloneNode(!0);le.style.backgroundColor=(V||{}).backgroundColor||ee.style.backgroundColor;var Me=S(ee,le,Ae,ze),je=Me.width,Ye=Me.height;if(ee.tagName!=="svg")if(ee.getBBox){le.getAttribute("transform")!=null&&le.setAttribute("transform",le.getAttribute("transform").replace(/translate\(.*?\)/,""));var nt=document.createElementNS("http://www.w3.org/2000/svg","svg");nt.appendChild(le),le=nt}else{console.error("Attempted to render non-SVG element",ee);return}if(le.setAttribute("version","1.1"),le.setAttribute("viewBox",[$,J,je,Ye].join(" ")),le.getAttribute("xmlns")||le.setAttributeNS(r,"xmlns",s),le.getAttribute("xmlns:xlink")||le.setAttributeNS(r,"xmlns:xlink","http://www.w3.org/1999/xlink"),te?(le.removeAttribute("width"),le.removeAttribute("height"),le.setAttribute("preserveAspectRatio","xMinYMin meet")):(le.setAttribute("width",je*ie),le.setAttribute("height",Ye*ie)),Array.from(le.querySelectorAll("foreignObject > *")).forEach(function(kt){kt.setAttributeNS(r,"xmlns",kt.tagName==="svg"?s:n)}),Te){var tt=document.createElement("div");tt.appendChild(le);var Dt=tt.innerHTML;if(typeof K=="function")K(Dt,je,Ye);else return{src:Dt,width:je,height:Ye}}else return F(ee,V).then(function(kt){var Yt=document.createElement("style");Yt.setAttribute("type","text/css"),Yt.innerHTML=`<![CDATA[
`+kt+`
]]>`;var Ut=document.createElement("defs");Ut.appendChild(Yt),le.insertBefore(Ut,le.firstChild);var er=document.createElement("div");er.appendChild(le);var _t=er.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof K=="function")K(_t,je,Ye);else return{src:_t,width:je,height:Ye}})})},t.svgAsDataUri=function(ee,V,K){return h(ee),t.prepareSvg(ee,V).then(function(X){var re=X.src,$=X.width,Z=X.height,J="data:image/svg+xml;base64,"+window.btoa(A(o+re));return typeof K=="function"&&K(J,$,Z),J})},t.svgAsPngUri=function(ee,V,K){h(ee);var X=V||{},re=X.encoderType,$=re===void 0?"image/png":re,Z=X.encoderOptions,J=Z===void 0?.8:Z,Ae=X.canvg,ze=function(ie){var W=ie.src,te=ie.width,ge=ie.height,Te=document.createElement("canvas"),le=Te.getContext("2d"),Me=window.devicePixelRatio||1;Te.width=te*Me,Te.height=ge*Me,Te.style.width=Te.width+"px",Te.style.height=Te.height+"px",le.setTransform(Me,0,0,Me,0,0),Ae?Ae(Te,W):le.drawImage(W,0,0);var je=void 0;try{je=Te.toDataURL($,J)}catch(Ye){if(typeof SecurityError<"u"&&Ye instanceof SecurityError||Ye.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw Ye}return typeof K=="function"&&K(je,Te.width,Te.height),Promise.resolve(je)};return Ae?t.prepareSvg(ee,V).then(ze):t.svgAsDataUri(ee,V).then(function(L){return new Promise(function(ie,W){var te=new Image;te.onload=function(){return ie(ze({src:te,width:te.width,height:te.height}))},te.onerror=function(){W(`There was an error loading the data URI as an image on the following SVG
`+window.atob(L.slice(26))+`Open the following link to see browser's diagnosis
`+L)},te.src=L})})},t.download=function(ee,V,K){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(C(V),ee);else{var X=document.createElement("a");if("download"in X){X.download=ee,X.style.display="none",document.body.appendChild(X);try{var re=C(V),$=URL.createObjectURL(re);X.href=$,X.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL($)})}}catch(Z){console.error(Z),console.warn("Error while getting object URL. Falling back to string URL."),X.href=V}X.click(),document.body.removeChild(X)}else K&&K.popup&&(K.popup.document.title=ee,K.popup.location.replace(V))}},t.saveSvg=function(ee,V,K){var X=ue();return p(ee).then(function(re){return t.svgAsDataUri(re,K||{})}).then(function(re){return t.download(V,re,X)})},t.saveSvgAsPng=function(ee,V,K){var X=ue();return p(ee).then(function(re){return t.svgAsPngUri(re,K||{})}).then(function(re){return t.download(V,re,X)})}})()}(gm)),gm}var rC=tC(),Mc={exports:{}},aC=Mc.exports,J2;function nC(){return J2||(J2=1,function(e,t){(function(r,n){n()})(aC,function(){function r(h,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,p,g){var y=new XMLHttpRequest;y.open("GET",h),y.responseType="blob",y.onload=function(){f(y.response,p,g)},y.onerror=function(){console.error("could not download file")},y.send()}function s(h){var p=new XMLHttpRequest;p.open("HEAD",h,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(p)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ac=="object"&&ac.global===ac?ac:void 0,d=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(h,p,g){var y=u.URL||u.webkitURL,x=document.createElement("a");p=p||h.name||"download",x.download=p,x.rel="noopener",typeof h=="string"?(x.href=h,x.origin===location.origin?o(x):s(x.href)?n(h,p,g):o(x,x.target="_blank")):(x.href=y.createObjectURL(h),setTimeout(function(){y.revokeObjectURL(x.href)},4e4),setTimeout(function(){o(x)},0))}:"msSaveOrOpenBlob"in navigator?function(h,p,g){if(p=p||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(r(h,g),p);else if(s(h))n(h,p,g);else{var y=document.createElement("a");y.href=h,y.target="_blank",setTimeout(function(){o(y)})}}:function(h,p,g,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof h=="string")return n(h,p,g);var x=h.type==="application/octet-stream",k=/constructor/i.test(u.HTMLElement)||u.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||x&&k||d)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var M=A.result;M=S?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=M:location=M,y=null},A.readAsDataURL(h)}else{var C=u.URL||u.webkitURL,R=C.createObjectURL(h);y?y.location=R:location.href=R,y=null,setTimeout(function(){C.revokeObjectURL(R)},4e4)}});u.saveAs=f.saveAs=f,e.exports=f})}(Mc)),Mc.exports}var iC=nC(),a7="vercel.ai.error",sC=Symbol.for(a7),W2,Q2,Fe=class n7 extends(Q2=Error,W2=sC,Q2){constructor({name:t,message:r,cause:n}){super(r),this[W2]=!0,this.name=t,this.cause=n}static isInstance(t){return n7.hasMarker(t,a7)}static hasMarker(t,r){const n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}},i7="AI_APICallError",s7=`vercel.ai.error.${i7}`,oC=Symbol.for(s7),e3,t3,Kr=class extends(t3=Fe,e3=oC,t3){constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:s,responseBody:o,cause:u,isRetryable:d=n!=null&&(n===408||n===409||n===429||n>=500),data:f}){super({name:i7,message:e,cause:u}),this[e3]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=s,this.responseBody=o,this.isRetryable=d,this.data=f}static isInstance(e){return Fe.hasMarker(e,s7)}},o7="AI_EmptyResponseBodyError",l7=`vercel.ai.error.${o7}`,lC=Symbol.for(l7),r3,a3,uC=class extends(a3=Fe,r3=lC,a3){constructor({message:e="Empty response body"}={}){super({name:o7,message:e}),this[r3]=!0}static isInstance(e){return Fe.hasMarker(e,l7)}};function Bs(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var u7="AI_InvalidArgumentError",c7=`vercel.ai.error.${u7}`,cC=Symbol.for(c7),n3,i3,d7=class extends(i3=Fe,n3=cC,i3){constructor({message:t,cause:r,argument:n}){super({name:u7,message:t,cause:r}),this[n3]=!0,this.argument=n}static isInstance(t){return Fe.hasMarker(t,c7)}},f7="AI_InvalidPromptError",h7=`vercel.ai.error.${f7}`,dC=Symbol.for(h7),s3,o3,Ro=class extends(o3=Fe,s3=dC,o3){constructor({prompt:e,message:t,cause:r}){super({name:f7,message:`Invalid prompt: ${t}`,cause:r}),this[s3]=!0,this.prompt=e}static isInstance(e){return Fe.hasMarker(e,h7)}},m7="AI_JSONParseError",p7=`vercel.ai.error.${m7}`,fC=Symbol.for(p7),l3,u3,Kc=class extends(u3=Fe,l3=fC,u3){constructor({text:e,cause:t}){super({name:m7,message:`JSON parsing failed: Text: ${e}.
Error message: ${Bs(t)}`,cause:t}),this[l3]=!0,this.text=e}static isInstance(e){return Fe.hasMarker(e,p7)}},v7="AI_LoadAPIKeyError",g7=`vercel.ai.error.${v7}`,hC=Symbol.for(g7),c3,d3,wc=class extends(d3=Fe,c3=hC,d3){constructor({message:e}){super({name:v7,message:e}),this[c3]=!0}static isInstance(e){return Fe.hasMarker(e,g7)}},y7="AI_TooManyEmbeddingValuesForCallError",b7=`vercel.ai.error.${y7}`,mC=Symbol.for(b7),f3,h3,pC=class extends(h3=Fe,f3=mC,h3){constructor(e){super({name:y7,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[f3]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Fe.hasMarker(e,b7)}},x7="AI_TypeValidationError",w7=`vercel.ai.error.${x7}`,vC=Symbol.for(w7),m3,p3,li=class ip extends(p3=Fe,m3=vC,p3){constructor({value:t,cause:r}){super({name:x7,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Bs(r)}`,cause:r}),this[m3]=!0,this.value=t}static isInstance(t){return Fe.hasMarker(t,w7)}static wrap({value:t,cause:r}){return ip.isInstance(r)&&r.value===t?r:new ip({value:t,cause:r})}},S7="AI_UnsupportedFunctionalityError",_7=`vercel.ai.error.${S7}`,gC=Symbol.for(_7),v3,g3,Jc=class extends(g3=Fe,v3=gC,g3){constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:S7,message:t}),this[v3]=!0,this.functionality=e}static isInstance(e){return Fe.hasMarker(e,_7)}};function fe(e,t,r){function n(d,f){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:f,constr:u,traits:new Set},enumerable:!1}),d._zod.traits.has(e))return;d._zod.traits.add(e),t(d,f);const h=u.prototype,p=Object.keys(h);for(let g=0;g<p.length;g++){const y=p[g];y in d||(d[y]=h[y].bind(d))}}const s=(r==null?void 0:r.Parent)??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function u(d){var f;const h=r!=null&&r.Parent?new o:this;n(h,d),(f=h._zod).deferred??(f.deferred=[]);for(const p of h._zod.deferred)p();return h}return Object.defineProperty(u,"init",{value:n}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>{var f,h;return r!=null&&r.Parent&&d instanceof r.Parent?!0:(h=(f=d==null?void 0:d._zod)==null?void 0:f.traits)==null?void 0:h.has(e)}}),Object.defineProperty(u,"name",{value:e}),u}class Go extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class z7 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const k7={};function Qi(e){return k7}function T7(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function sp(e,t){return typeof t=="bigint"?t.toString():t}function Td(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Qp(e){return e==null}function e1(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function yC(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const f=n.match(/\d?e-(\d?)/);f!=null&&f[1]&&(s=Number.parseInt(f[1]))}const o=r>s?r:s,u=Number.parseInt(e.toFixed(o).replace(".","")),d=Number.parseInt(t.toFixed(o).replace(".",""));return u%d/10**o}const y3=Symbol("evaluating");function pt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==y3)return n===void 0&&(n=y3,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Zs(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ss(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function b3(e){return JSON.stringify(e)}function bC(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const A7="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function zu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const xC=Td(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ko(e){if(zu(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(zu(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function E7(e){return Ko(e)?{...e}:Array.isArray(e)?[...e]:e}const wC=new Set(["string","number","symbol"]);function Jo(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function os(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function Be(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function SC(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const _C={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function zC(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=ss(e._zod.def,{get shape(){const u={};for(const d in t){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);t[d]&&(u[d]=r.shape[d])}return Zs(this,"shape",u),u},checks:[]});return os(e,o)}function kC(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=ss(e._zod.def,{get shape(){const u={...e._zod.def.shape};for(const d in t){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);t[d]&&delete u[d]}return Zs(this,"shape",u),u},checks:[]});return os(e,o)}function TC(e,t){if(!Ko(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const o=e._zod.def.shape;for(const u in t)if(Object.getOwnPropertyDescriptor(o,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=ss(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return Zs(this,"shape",o),o}});return os(e,s)}function AC(e,t){if(!Ko(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=ss(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Zs(this,"shape",n),n}});return os(e,r)}function EC(e,t){const r=ss(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Zs(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return os(e,r)}function MC(e,t,r){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=ss(t._zod.def,{get shape(){const d=t._zod.def.shape,f={...d};if(r)for(const h in r){if(!(h in d))throw new Error(`Unrecognized key: "${h}"`);r[h]&&(f[h]=e?new e({type:"optional",innerType:d[h]}):d[h])}else for(const h in d)f[h]=e?new e({type:"optional",innerType:d[h]}):d[h];return Zs(this,"shape",f),f},checks:[]});return os(t,u)}function NC(e,t,r){const n=ss(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(r)for(const u in r){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(o[u]=new e({type:"nonoptional",innerType:s[u]}))}else for(const u in s)o[u]=new e({type:"nonoptional",innerType:s[u]});return Zs(this,"shape",o),o}});return os(t,n)}function Uo(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function qo(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Sc(e){return typeof e=="string"?e:e==null?void 0:e.message}function es(e,t,r){var s,o,u,d,f,h;const n={...e,path:e.path??[]};if(!e.message){const p=Sc((u=(o=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:o.error)==null?void 0:u.call(o,e))??Sc((d=t==null?void 0:t.error)==null?void 0:d.call(t,e))??Sc((f=r.customError)==null?void 0:f.call(r,e))??Sc((h=r.localeError)==null?void 0:h.call(r,e))??"Invalid input";n.message=p}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function t1(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ku(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const M7=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,sp,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},N7=fe("$ZodError",M7),O7=fe("$ZodError",M7,{Parent:Error});function OC(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function CC(e,t=r=>r.message){const r={_errors:[]},n=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(u=>n({issues:u}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(t(o));else{let u=r,d=0;for(;d<o.path.length;){const f=o.path[d];d===o.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(o))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return n(e),r}const r1=e=>(t,r,n,s)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},u=t._zod.run({value:r,issues:[]},o);if(u instanceof Promise)throw new Go;if(u.issues.length){const d=new((s==null?void 0:s.Err)??e)(u.issues.map(f=>es(f,o,Qi())));throw A7(d,s==null?void 0:s.callee),d}return u.value},a1=e=>async(t,r,n,s)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let u=t._zod.run({value:r,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new((s==null?void 0:s.Err)??e)(u.issues.map(f=>es(f,o,Qi())));throw A7(d,s==null?void 0:s.callee),d}return u.value},Ad=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new Go;return o.issues.length?{success:!1,error:new(e??N7)(o.issues.map(u=>es(u,s,Qi())))}:{success:!0,data:o.value}},RC=Ad(O7),Ed=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(u=>es(u,s,Qi())))}:{success:!0,data:o.value}},IC=Ed(O7),DC=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return r1(e)(t,r,s)},jC=e=>(t,r,n)=>r1(e)(t,r,n),$C=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return a1(e)(t,r,s)},BC=e=>async(t,r,n)=>a1(e)(t,r,n),LC=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ad(e)(t,r,s)},UC=e=>(t,r,n)=>Ad(e)(t,r,n),qC=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ed(e)(t,r,s)},HC=e=>async(t,r,n)=>Ed(e)(t,r,n),PC=/^[cC][^\s-]{8,}$/,ZC=/^[0-9a-z]+$/,GC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,VC=/^[0-9a-vA-V]{20}$/,YC=/^[A-Za-z0-9]{27}$/,FC=/^[a-zA-Z0-9_-]{21}$/,XC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,KC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,x3=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,JC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,WC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function QC(){return new RegExp(WC,"u")}const eR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,rR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,aR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nR=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,C7=/^[A-Za-z0-9_-]*$/,iR=/^\+[1-9]\d{6,14}$/,R7="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",sR=new RegExp(`^${R7}$`);function I7(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function oR(e){return new RegExp(`^${I7(e)}$`)}function lR(e){const t=I7({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${R7}T(?:${n})$`)}const uR=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},cR=/^-?\d+$/,D7=/^-?\d+(?:\.\d+)?$/,dR=/^(?:true|false)$/i,fR=/^null$/i,hR=/^[^A-Z]*$/,mR=/^[^a-z]*$/,ga=fe("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),j7={number:"number",bigint:"bigint",object:"date"},$7=fe("$ZodCheckLessThan",(e,t)=>{ga.init(e,t);const r=j7[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,o=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),B7=fe("$ZodCheckGreaterThan",(e,t)=>{ga.init(e,t);const r=j7[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,o=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),pR=fe("$ZodCheckMultipleOf",(e,t)=>{ga.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):yC(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),vR=fe("$ZodCheckNumberFormat",(e,t)=>{var u;ga.init(e,t),t.format=t.format||"float64";const r=(u=t.format)==null?void 0:u.includes("int"),n=r?"int":"number",[s,o]=_C[t.format];e._zod.onattach.push(d=>{const f=d._zod.bag;f.format=t.format,f.minimum=s,f.maximum=o,r&&(f.pattern=cR)}),e._zod.check=d=>{const f=d.value;if(r){if(!Number.isInteger(f)){d.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?d.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):d.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}f<s&&d.issues.push({origin:"number",input:f,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),f>o&&d.issues.push({origin:"number",input:f,code:"too_big",maximum:o,inclusive:!0,inst:e,continue:!t.abort})}}),gR=fe("$ZodCheckMaxLength",(e,t)=>{var r;ga.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Qp(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const u=t1(s);n.issues.push({origin:u,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),yR=fe("$ZodCheckMinLength",(e,t)=>{var r;ga.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Qp(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const u=t1(s);n.issues.push({origin:u,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),bR=fe("$ZodCheckLengthEquals",(e,t)=>{var r;ga.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Qp(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,o=s.length;if(o===t.length)return;const u=t1(s),d=o>t.length;n.issues.push({origin:u,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Md=fe("$ZodCheckStringFormat",(e,t)=>{var r,n;ga.init(e,t),e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),xR=fe("$ZodCheckRegex",(e,t)=>{Md.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),wR=fe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=hR),Md.init(e,t)}),SR=fe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=mR),Md.init(e,t)}),_R=fe("$ZodCheckIncludes",(e,t)=>{ga.init(e,t);const r=Jo(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),zR=fe("$ZodCheckStartsWith",(e,t)=>{ga.init(e,t);const r=new RegExp(`^${Jo(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),kR=fe("$ZodCheckEndsWith",(e,t)=>{ga.init(e,t);const r=new RegExp(`.*${Jo(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),TR=fe("$ZodCheckOverwrite",(e,t)=>{ga.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class AR{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(u=>u),s=Math.min(...n.map(u=>u.length-u.trimStart().length)),o=n.map(u=>u.slice(s)).map(u=>" ".repeat(this.indent*2)+u);for(const u of o)this.content.push(u)}compile(){const t=Function,r=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...r,s.join(`
`))}}const ER={major:4,minor:3,patch:5},Zt=fe("$ZodType",(e,t)=>{var s;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ER;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const o of n)for(const u of o._zod.onattach)u(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const o=(d,f,h)=>{let p=Uo(d),g;for(const y of f){if(y._zod.def.when){if(!y._zod.def.when(d))continue}else if(p)continue;const x=d.issues.length,k=y._zod.check(d);if(k instanceof Promise&&(h==null?void 0:h.async)===!1)throw new Go;if(g||k instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await k,d.issues.length!==x&&(p||(p=Uo(d,x)))});else{if(d.issues.length===x)continue;p||(p=Uo(d,x))}}return g?g.then(()=>d):d},u=(d,f,h)=>{if(Uo(d))return d.aborted=!0,d;const p=o(f,n,h);if(p instanceof Promise){if(h.async===!1)throw new Go;return p.then(g=>e._zod.parse(g,h))}return e._zod.parse(p,h)};e._zod.run=(d,f)=>{if(f.skipChecks)return e._zod.parse(d,f);if(f.direction==="backward"){const p=e._zod.parse({value:d.value,issues:[]},{...f,skipChecks:!0});return p instanceof Promise?p.then(g=>u(g,d,f)):u(p,d,f)}const h=e._zod.parse(d,f);if(h instanceof Promise){if(f.async===!1)throw new Go;return h.then(p=>o(p,n,f))}return o(h,n,f)}}pt(e,"~standard",()=>({validate:o=>{var u;try{const d=RC(e,o);return d.success?{value:d.data}:{issues:(u=d.error)==null?void 0:u.issues}}catch{return IC(e,o).then(f=>{var h;return f.success?{value:f.data}:{issues:(h=f.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}))}),n1=fe("$ZodString",(e,t)=>{var r;Zt.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??uR(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),sr=fe("$ZodStringFormat",(e,t)=>{Md.init(e,t),n1.init(e,t)}),MR=fe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=KC),sr.init(e,t)}),NR=fe("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=x3(n))}else t.pattern??(t.pattern=x3());sr.init(e,t)}),OR=fe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=JC),sr.init(e,t)}),CR=fe("$ZodURL",(e,t)=>{sr.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),RR=fe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=QC()),sr.init(e,t)}),IR=fe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=FC),sr.init(e,t)}),DR=fe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=PC),sr.init(e,t)}),jR=fe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=ZC),sr.init(e,t)}),$R=fe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=GC),sr.init(e,t)}),BR=fe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=VC),sr.init(e,t)}),LR=fe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=YC),sr.init(e,t)}),UR=fe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=lR(t)),sr.init(e,t)}),qR=fe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=sR),sr.init(e,t)}),HR=fe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=oR(t)),sr.init(e,t)}),PR=fe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=XC),sr.init(e,t)}),ZR=fe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=eR),sr.init(e,t),e._zod.bag.format="ipv4"}),GR=fe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=tR),sr.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),VR=fe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=rR),sr.init(e,t)}),YR=fe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=aR),sr.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,o]=n;if(!o)throw new Error;const u=Number(o);if(`${u}`!==o)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function L7(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const FR=fe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=nR),sr.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{L7(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function XR(e){if(!C7.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return L7(r)}const KR=fe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=C7),sr.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{XR(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),JR=fe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=iR),sr.init(e,t)});function WR(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const QR=fe("$ZodJWT",(e,t)=>{sr.init(e,t),e._zod.check=r=>{WR(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),U7=fe("$ZodNumber",(e,t)=>{Zt.init(e,t),e._zod.pattern=e._zod.bag.pattern??D7,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...o?{received:o}:{}}),r}}),eI=fe("$ZodNumberFormat",(e,t)=>{vR.init(e,t),U7.init(e,t)}),tI=fe("$ZodBoolean",(e,t)=>{Zt.init(e,t),e._zod.pattern=dR,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),r}}),rI=fe("$ZodNull",(e,t)=>{Zt.init(e,t),e._zod.pattern=fR,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const s=r.value;return s===null||r.issues.push({expected:"null",code:"invalid_type",input:s,inst:e}),r}}),aI=fe("$ZodAny",(e,t)=>{Zt.init(e,t),e._zod.parse=r=>r}),nI=fe("$ZodUnknown",(e,t)=>{Zt.init(e,t),e._zod.parse=r=>r}),iI=fe("$ZodNever",(e,t)=>{Zt.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function w3(e,t,r){e.issues.length&&t.issues.push(...qo(r,e.issues)),t.value[r]=e.value}const sI=fe("$ZodArray",(e,t)=>{Zt.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const o=[];for(let u=0;u<s.length;u++){const d=s[u],f=t.element._zod.run({value:d,issues:[]},n);f instanceof Promise?o.push(f.then(h=>w3(h,r,u))):w3(f,r,u)}return o.length?Promise.all(o).then(()=>r):r}});function Wc(e,t,r,n,s){if(e.issues.length){if(s&&!(r in n))return;t.issues.push(...qo(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function q7(e){var n,s,o,u;const t=Object.keys(e.shape);for(const d of t)if(!((u=(o=(s=(n=e.shape)==null?void 0:n[d])==null?void 0:s._zod)==null?void 0:o.traits)!=null&&u.has("$ZodType")))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const r=SC(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function H7(e,t,r,n,s,o){const u=[],d=s.keySet,f=s.catchall._zod,h=f.def.type,p=f.optout==="optional";for(const g in t){if(d.has(g))continue;if(h==="never"){u.push(g);continue}const y=f.run({value:t[g],issues:[]},n);y instanceof Promise?e.push(y.then(x=>Wc(x,r,g,t,p))):Wc(y,r,g,t,p)}return u.length&&r.issues.push({code:"unrecognized_keys",keys:u,input:t,inst:o}),e.length?Promise.all(e).then(()=>r):r}const oI=fe("$ZodObject",(e,t)=>{Zt.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...d};return Object.defineProperty(t,"shape",{value:f}),f}})}const n=Td(()=>q7(t));pt(e._zod,"propValues",()=>{const d=t.shape,f={};for(const h in d){const p=d[h]._zod;if(p.values){f[h]??(f[h]=new Set);for(const g of p.values)f[h].add(g)}}return f});const s=zu,o=t.catchall;let u;e._zod.parse=(d,f)=>{u??(u=n.value);const h=d.value;if(!s(h))return d.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),d;d.value={};const p=[],g=u.shape;for(const y of u.keys){const x=g[y],k=x._zod.optout==="optional",S=x._zod.run({value:h[y],issues:[]},f);S instanceof Promise?p.push(S.then(A=>Wc(A,d,y,h,k))):Wc(S,d,y,h,k)}return o?H7(p,h,d,f,n.value,e):p.length?Promise.all(p).then(()=>d):d}}),lI=fe("$ZodObjectJIT",(e,t)=>{oI.init(e,t);const r=e._zod.parse,n=Td(()=>q7(t)),s=y=>{var M;const x=new AR(["shape","payload","ctx"]),k=n.value,S=I=>{const D=b3(I);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};x.write("const input = payload.value;");const A=Object.create(null);let C=0;for(const I of k.keys)A[I]=`key_${C++}`;x.write("const newResult = {};");for(const I of k.keys){const D=A[I],B=b3(I),E=y[I],j=((M=E==null?void 0:E._zod)==null?void 0:M.optout)==="optional";x.write(`const ${D} = ${S(I)};`),j?x.write(`
        if (${D}.issues.length) {
          if (${B} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${B}, ...iss.path] : [${B}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${D}.value;
        }
        
      `):x.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${B}, ...iss.path] : [${B}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${D}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const R=x.compile();return(I,D)=>R(y,I,D)};let o;const u=zu,d=!k7.jitless,h=d&&xC.value,p=t.catchall;let g;e._zod.parse=(y,x)=>{g??(g=n.value);const k=y.value;return u(k)?d&&h&&(x==null?void 0:x.async)===!1&&x.jitless!==!0?(o||(o=s(t.shape)),y=o(y,x),p?H7([],k,y,x,g,e):y):r(y,x):(y.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),y)}});function S3(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const s=e.filter(o=>!Uo(o));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(u=>es(u,n,Qi())))}),t)}const P7=fe("$ZodUnion",(e,t)=>{Zt.init(e,t),pt(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),pt(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),pt(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),pt(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>e1(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,o)=>{if(r)return n(s,o);let u=!1;const d=[];for(const f of t.options){const h=f._zod.run({value:s.value,issues:[]},o);if(h instanceof Promise)d.push(h),u=!0;else{if(h.issues.length===0)return h;d.push(h)}}return u?Promise.all(d).then(f=>S3(f,s,e,o)):S3(d,s,e,o)}}),uI=fe("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,P7.init(e,t);const r=e._zod.parse;pt(e._zod,"propValues",()=>{const s={};for(const o of t.options){const u=o._zod.propValues;if(!u||Object.keys(u).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const[d,f]of Object.entries(u)){s[d]||(s[d]=new Set);for(const h of f)s[d].add(h)}}return s});const n=Td(()=>{var u;const s=t.options,o=new Map;for(const d of s){const f=(u=d._zod.propValues)==null?void 0:u[t.discriminator];if(!f||f.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(d)}"`);for(const h of f){if(o.has(h))throw new Error(`Duplicate discriminator value "${String(h)}"`);o.set(h,d)}}return o});e._zod.parse=(s,o)=>{const u=s.value;if(!zu(u))return s.issues.push({code:"invalid_type",expected:"object",input:u,inst:e}),s;const d=n.value.get(u==null?void 0:u[t.discriminator]);return d?d._zod.run(s,o):t.unionFallback?r(s,o):(s.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:u,path:[t.discriminator],inst:e}),s)}}),cI=fe("$ZodIntersection",(e,t)=>{Zt.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,o=t.left._zod.run({value:s,issues:[]},n),u=t.right._zod.run({value:s,issues:[]},n);return o instanceof Promise||u instanceof Promise?Promise.all([o,u]).then(([f,h])=>_3(r,f,h)):_3(r,o,u)}});function op(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ko(e)&&Ko(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),s={...e,...t};for(const o of n){const u=op(e[o],t[o]);if(!u.valid)return{valid:!1,mergeErrorPath:[o,...u.mergeErrorPath]};s[o]=u.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],o=t[n],u=op(s,o);if(!u.valid)return{valid:!1,mergeErrorPath:[n,...u.mergeErrorPath]};r.push(u.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function _3(e,t,r){const n=new Map;let s;for(const d of t.issues)if(d.code==="unrecognized_keys"){s??(s=d);for(const f of d.keys)n.has(f)||n.set(f,{}),n.get(f).l=!0}else e.issues.push(d);for(const d of r.issues)if(d.code==="unrecognized_keys")for(const f of d.keys)n.has(f)||n.set(f,{}),n.get(f).r=!0;else e.issues.push(d);const o=[...n].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(o.length&&s&&e.issues.push({...s,keys:o}),Uo(e))return e;const u=op(t.value,r.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return e.value=u.data,e}const dI=fe("$ZodRecord",(e,t)=>{Zt.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Ko(s))return r.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),r;const o=[],u=t.keyType._zod.values;if(u){r.value={};const d=new Set;for(const h of u)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){d.add(typeof h=="number"?h.toString():h);const p=t.valueType._zod.run({value:s[h],issues:[]},n);p instanceof Promise?o.push(p.then(g=>{g.issues.length&&r.issues.push(...qo(h,g.issues)),r.value[h]=g.value})):(p.issues.length&&r.issues.push(...qo(h,p.issues)),r.value[h]=p.value)}let f;for(const h in s)d.has(h)||(f=f??[],f.push(h));f&&f.length>0&&r.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:f})}else{r.value={};for(const d of Reflect.ownKeys(s)){if(d==="__proto__")continue;let f=t.keyType._zod.run({value:d,issues:[]},n);if(f instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof d=="string"&&D7.test(d)&&f.issues.length&&f.issues.some(g=>g.code==="invalid_type"&&g.expected==="number")){const g=t.keyType._zod.run({value:Number(d),issues:[]},n);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");g.issues.length===0&&(f=g)}if(f.issues.length){t.mode==="loose"?r.value[d]=s[d]:r.issues.push({code:"invalid_key",origin:"record",issues:f.issues.map(g=>es(g,n,Qi())),input:d,path:[d],inst:e});continue}const p=t.valueType._zod.run({value:s[d],issues:[]},n);p instanceof Promise?o.push(p.then(g=>{g.issues.length&&r.issues.push(...qo(d,g.issues)),r.value[f.value]=g.value})):(p.issues.length&&r.issues.push(...qo(d,p.issues)),r.value[f.value]=p.value)}}return o.length?Promise.all(o).then(()=>r):r}}),fI=fe("$ZodEnum",(e,t)=>{Zt.init(e,t);const r=T7(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>wC.has(typeof s)).map(s=>typeof s=="string"?Jo(s):s.toString()).join("|")})$`),e._zod.parse=(s,o)=>{const u=s.value;return n.has(u)||s.issues.push({code:"invalid_value",values:r,input:u,inst:e}),s}}),hI=fe("$ZodLiteral",(e,t)=>{if(Zt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Jo(n):n?Jo(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,s)=>{const o=n.value;return r.has(o)||n.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),n}}),mI=fe("$ZodTransform",(e,t)=>{Zt.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new z7(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(u=>(r.value=u,r));if(s instanceof Promise)throw new Go;return r.value=s,r}});function z3(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Z7=fe("$ZodOptional",(e,t)=>{Zt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",pt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),pt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${e1(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>z3(o,r.value)):z3(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),pI=fe("$ZodExactOptional",(e,t)=>{Z7.init(e,t),pt(e._zod,"values",()=>t.innerType._zod.values),pt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),vI=fe("$ZodNullable",(e,t)=>{Zt.init(e,t),pt(e._zod,"optin",()=>t.innerType._zod.optin),pt(e._zod,"optout",()=>t.innerType._zod.optout),pt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${e1(r.source)}|null)$`):void 0}),pt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),gI=fe("$ZodDefault",(e,t)=>{Zt.init(e,t),e._zod.optin="optional",pt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>k3(o,t)):k3(s,t)}});function k3(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const yI=fe("$ZodPrefault",(e,t)=>{Zt.init(e,t),e._zod.optin="optional",pt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),bI=fe("$ZodNonOptional",(e,t)=>{Zt.init(e,t),pt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>T3(o,e)):T3(s,e)}});function T3(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const xI=fe("$ZodCatch",(e,t)=>{Zt.init(e,t),pt(e._zod,"optin",()=>t.innerType._zod.optin),pt(e._zod,"optout",()=>t.innerType._zod.optout),pt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(u=>es(u,n,Qi()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>es(o,n,Qi()))},input:r.value}),r.issues=[]),r)}}),wI=fe("$ZodPipe",(e,t)=>{Zt.init(e,t),pt(e._zod,"values",()=>t.in._zod.values),pt(e._zod,"optin",()=>t.in._zod.optin),pt(e._zod,"optout",()=>t.out._zod.optout),pt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const o=t.out._zod.run(r,n);return o instanceof Promise?o.then(u=>_c(u,t.in,n)):_c(o,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(o=>_c(o,t.out,n)):_c(s,t.out,n)}});function _c(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const SI=fe("$ZodReadonly",(e,t)=>{Zt.init(e,t),pt(e._zod,"propValues",()=>t.innerType._zod.propValues),pt(e._zod,"values",()=>t.innerType._zod.values),pt(e._zod,"optin",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optin}),pt(e._zod,"optout",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optout}),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(A3):A3(s)}});function A3(e){return e.value=Object.freeze(e.value),e}const _I=fe("$ZodLazy",(e,t)=>{Zt.init(e,t),pt(e._zod,"innerType",()=>t.getter()),pt(e._zod,"pattern",()=>{var r,n;return(n=(r=e._zod.innerType)==null?void 0:r._zod)==null?void 0:n.pattern}),pt(e._zod,"propValues",()=>{var r,n;return(n=(r=e._zod.innerType)==null?void 0:r._zod)==null?void 0:n.propValues}),pt(e._zod,"optin",()=>{var r,n;return((n=(r=e._zod.innerType)==null?void 0:r._zod)==null?void 0:n.optin)??void 0}),pt(e._zod,"optout",()=>{var r,n;return((n=(r=e._zod.innerType)==null?void 0:r._zod)==null?void 0:n.optout)??void 0}),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),zI=fe("$ZodCustom",(e,t)=>{ga.init(e,t),Zt.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(o=>E3(o,r,n,e));E3(s,r,n,e)}});function E3(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(ku(s))}}var M3;class kI{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function TI(){return new kI}(M3=globalThis).__zod_globalRegistry??(M3.__zod_globalRegistry=TI());const fu=globalThis.__zod_globalRegistry;function AI(e,t){return new e({type:"string",...Be(t)})}function EI(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Be(t)})}function N3(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Be(t)})}function MI(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Be(t)})}function NI(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Be(t)})}function OI(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Be(t)})}function CI(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Be(t)})}function RI(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Be(t)})}function II(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Be(t)})}function DI(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Be(t)})}function jI(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Be(t)})}function $I(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Be(t)})}function BI(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Be(t)})}function LI(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Be(t)})}function UI(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Be(t)})}function qI(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Be(t)})}function HI(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Be(t)})}function PI(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Be(t)})}function ZI(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Be(t)})}function GI(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Be(t)})}function VI(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Be(t)})}function YI(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Be(t)})}function FI(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Be(t)})}function XI(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Be(t)})}function KI(e,t){return new e({type:"string",format:"date",check:"string_format",...Be(t)})}function JI(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Be(t)})}function WI(e,t){return new e({type:"string",format:"duration",check:"string_format",...Be(t)})}function QI(e,t){return new e({type:"number",checks:[],...Be(t)})}function eD(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Be(t)})}function tD(e,t){return new e({type:"boolean",...Be(t)})}function rD(e,t){return new e({type:"null",...Be(t)})}function aD(e){return new e({type:"any"})}function nD(e){return new e({type:"unknown"})}function iD(e,t){return new e({type:"never",...Be(t)})}function O3(e,t){return new $7({check:"less_than",...Be(t),value:e,inclusive:!1})}function ym(e,t){return new $7({check:"less_than",...Be(t),value:e,inclusive:!0})}function C3(e,t){return new B7({check:"greater_than",...Be(t),value:e,inclusive:!1})}function bm(e,t){return new B7({check:"greater_than",...Be(t),value:e,inclusive:!0})}function R3(e,t){return new pR({check:"multiple_of",...Be(t),value:e})}function G7(e,t){return new gR({check:"max_length",...Be(t),maximum:e})}function Qc(e,t){return new yR({check:"min_length",...Be(t),minimum:e})}function V7(e,t){return new bR({check:"length_equals",...Be(t),length:e})}function sD(e,t){return new xR({check:"string_format",format:"regex",...Be(t),pattern:e})}function oD(e){return new wR({check:"string_format",format:"lowercase",...Be(e)})}function lD(e){return new SR({check:"string_format",format:"uppercase",...Be(e)})}function uD(e,t){return new _R({check:"string_format",format:"includes",...Be(t),includes:e})}function cD(e,t){return new zR({check:"string_format",format:"starts_with",...Be(t),prefix:e})}function dD(e,t){return new kR({check:"string_format",format:"ends_with",...Be(t),suffix:e})}function sl(e){return new TR({check:"overwrite",tx:e})}function fD(e){return sl(t=>t.normalize(e))}function hD(){return sl(e=>e.trim())}function mD(){return sl(e=>e.toLowerCase())}function pD(){return sl(e=>e.toUpperCase())}function vD(){return sl(e=>bC(e))}function gD(e,t,r){return new e({type:"array",element:t,...Be(r)})}function yD(e,t,r){const n=Be(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function bD(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Be(r)})}function xD(e){const t=wD(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(ku(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(ku(s))}},e(r.value,r)));return t}function wD(e,t){const r=new ga({check:"custom",...Be(t)});return r._zod.check=e,r}function ed(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??fu,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function Pt(e,t,r={path:[],schemaPath:[]}){var p,g;var n;const s=e._zod.def,o=t.seen.get(e);if(o)return o.count++,r.schemaPath.includes(e)&&(o.cycle=r.path),o.schema;const u={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,u);const d=(g=(p=e._zod).toJSONSchema)==null?void 0:g.call(p);if(d)u.schema=d;else{const y={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,u.schema,y);else{const k=u.schema,S=t.processors[s.type];if(!S)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);S(e,t,k,y)}const x=e._zod.parent;x&&(u.ref||(u.ref=x),Pt(x,t,y),t.seen.get(x).isParent=!0)}const f=t.metadataRegistry.get(e);return f&&Object.assign(u.schema,f),t.io==="input"&&ra(e)&&(delete u.schema.examples,delete u.schema.default),t.io==="input"&&u.schema._prefault&&((n=u.schema).default??(n.default=u.schema._prefault)),delete u.schema._prefault,t.seen.get(e).schema}function td(e,t){var u,d,f,h;const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const p of e.seen.entries()){const g=(u=e.metadataRegistry.get(p[0]))==null?void 0:u.id;if(g){const y=n.get(g);if(y&&y!==p[0])throw new Error(`Duplicate schema id "${g}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(g,p[0])}}const s=p=>{var S;const g=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const A=(S=e.external.registry.get(p[0]))==null?void 0:S.id,C=e.external.uri??(M=>M);if(A)return{ref:C(A)};const R=p[1].defId??p[1].schema.id??`schema${e.counter++}`;return p[1].defId=R,{defId:R,ref:`${C("__shared")}#/${g}/${R}`}}if(p[1]===r)return{ref:"#"};const x=`#/${g}/`,k=p[1].schema.id??`__schema${e.counter++}`;return{defId:k,ref:x+k}},o=p=>{if(p[1].schema.$ref)return;const g=p[1],{ref:y,defId:x}=s(p);g.def={...g.schema},x&&(g.defId=x);const k=g.schema;for(const S in k)delete k[S];k.$ref=y};if(e.cycles==="throw")for(const p of e.seen.entries()){const g=p[1];if(g.cycle)throw new Error(`Cycle detected: #/${(d=g.cycle)==null?void 0:d.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of e.seen.entries()){const g=p[1];if(t===p[0]){o(p);continue}if(e.external){const x=(f=e.external.registry.get(p[0]))==null?void 0:f.id;if(t!==p[0]&&x){o(p);continue}}if((h=e.metadataRegistry.get(p[0]))==null?void 0:h.id){o(p);continue}if(g.cycle){o(p);continue}if(g.count>1&&e.reused==="ref"){o(p);continue}}}function rd(e,t){var u,d,f;const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=h=>{const p=e.seen.get(h);if(p.ref===null)return;const g=p.def??p.schema,y={...g},x=p.ref;if(p.ref=null,x){n(x);const S=e.seen.get(x),A=S.schema;if(A.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(A)):Object.assign(g,A),Object.assign(g,y),h._zod.parent===x)for(const R in g)R==="$ref"||R==="allOf"||R in y||delete g[R];if(A.$ref)for(const R in g)R==="$ref"||R==="allOf"||R in S.def&&JSON.stringify(g[R])===JSON.stringify(S.def[R])&&delete g[R]}const k=h._zod.parent;if(k&&k!==x){n(k);const S=e.seen.get(k);if(S!=null&&S.schema.$ref&&(g.$ref=S.schema.$ref,S.def))for(const A in g)A==="$ref"||A==="allOf"||A in S.def&&JSON.stringify(g[A])===JSON.stringify(S.def[A])&&delete g[A]}e.override({zodSchema:h,jsonSchema:g,path:p.path??[]})};for(const h of[...e.seen.entries()].reverse())n(h[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,(u=e.external)!=null&&u.uri){const h=(d=e.external.registry.get(t))==null?void 0:d.id;if(!h)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(h)}Object.assign(s,r.def??r.schema);const o=((f=e.external)==null?void 0:f.defs)??{};for(const h of e.seen.entries()){const p=h[1];p.def&&p.defId&&(o[p.defId]=p.def)}e.external||Object.keys(o).length>0&&(e.target==="draft-2020-12"?s.$defs=o:s.definitions=o);try{const h=JSON.parse(JSON.stringify(s));return Object.defineProperty(h,"~standard",{value:{...t["~standard"],jsonSchema:{input:ad(t,"input",e.processors),output:ad(t,"output",e.processors)}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function ra(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return ra(n.element,r);if(n.type==="set")return ra(n.valueType,r);if(n.type==="lazy")return ra(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return ra(n.innerType,r);if(n.type==="intersection")return ra(n.left,r)||ra(n.right,r);if(n.type==="record"||n.type==="map")return ra(n.keyType,r)||ra(n.valueType,r);if(n.type==="pipe")return ra(n.in,r)||ra(n.out,r);if(n.type==="object"){for(const s in n.shape)if(ra(n.shape[s],r))return!0;return!1}if(n.type==="union"){for(const s of n.options)if(ra(s,r))return!0;return!1}if(n.type==="tuple"){for(const s of n.items)if(ra(s,r))return!0;return!!(n.rest&&ra(n.rest,r))}return!1}const SD=(e,t={})=>r=>{const n=ed({...r,processors:t});return Pt(e,n),td(n,e),rd(n,e)},ad=(e,t,r={})=>n=>{const{libraryOptions:s,target:o}=n??{},u=ed({...s??{},target:o,io:t,processors:r});return Pt(e,u),td(u,e),rd(u,e)},_D={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Y7=(e,t,r,n)=>{const s=r;s.type="string";const{minimum:o,maximum:u,format:d,patterns:f,contentEncoding:h}=e._zod.bag;if(typeof o=="number"&&(s.minLength=o),typeof u=="number"&&(s.maxLength=u),d&&(s.format=_D[d]??d,s.format===""&&delete s.format,d==="time"&&delete s.format),h&&(s.contentEncoding=h),f&&f.size>0){const p=[...f];p.length===1?s.pattern=p[0].source:p.length>1&&(s.allOf=[...p.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},F7=(e,t,r,n)=>{const s=r,{minimum:o,maximum:u,format:d,multipleOf:f,exclusiveMaximum:h,exclusiveMinimum:p}=e._zod.bag;typeof d=="string"&&d.includes("int")?s.type="integer":s.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=p,s.exclusiveMinimum=!0):s.exclusiveMinimum=p),typeof o=="number"&&(s.minimum=o,typeof p=="number"&&t.target!=="draft-04"&&(p>=o?delete s.minimum:delete s.exclusiveMinimum)),typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=h,s.exclusiveMaximum=!0):s.exclusiveMaximum=h),typeof u=="number"&&(s.maximum=u,typeof h=="number"&&t.target!=="draft-04"&&(h<=u?delete s.maximum:delete s.exclusiveMaximum)),typeof f=="number"&&(s.multipleOf=f)},X7=(e,t,r,n)=>{r.type="boolean"},zD=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},kD=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},K7=(e,t,r,n)=>{t.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},TD=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},AD=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},J7=(e,t,r,n)=>{r.not={}},W7=(e,t,r,n)=>{},Q7=(e,t,r,n)=>{},ED=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},e8=(e,t,r,n)=>{const s=e._zod.def,o=T7(s.entries);o.every(u=>typeof u=="number")&&(r.type="number"),o.every(u=>typeof u=="string")&&(r.type="string"),r.enum=o},t8=(e,t,r,n)=>{const s=e._zod.def,o=[];for(const u of s.values)if(u===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof u=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(u))}else o.push(u);if(o.length!==0)if(o.length===1){const u=o[0];r.type=u===null?"null":typeof u,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[u]:r.const=u}else o.every(u=>typeof u=="number")&&(r.type="number"),o.every(u=>typeof u=="string")&&(r.type="string"),o.every(u=>typeof u=="boolean")&&(r.type="boolean"),o.every(u=>u===null)&&(r.type="null"),r.enum=o},MD=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},ND=(e,t,r,n)=>{const s=r,o=e._zod.pattern;if(!o)throw new Error("Pattern not found in template literal");s.type="string",s.pattern=o.source},OD=(e,t,r,n)=>{const s=r,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:u,maximum:d,mime:f}=e._zod.bag;u!==void 0&&(o.minLength=u),d!==void 0&&(o.maxLength=d),f?f.length===1?(o.contentMediaType=f[0],Object.assign(s,o)):(Object.assign(s,o),s.anyOf=f.map(h=>({contentMediaType:h}))):Object.assign(s,o)},CD=(e,t,r,n)=>{r.type="boolean"},r8=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},RD=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},a8=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},ID=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},DD=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},n8=(e,t,r,n)=>{const s=r,o=e._zod.def,{minimum:u,maximum:d}=e._zod.bag;typeof u=="number"&&(s.minItems=u),typeof d=="number"&&(s.maxItems=d),s.type="array",s.items=Pt(o.element,t,{...n,path:[...n.path,"items"]})},i8=(e,t,r,n)=>{var h;const s=r,o=e._zod.def;s.type="object",s.properties={};const u=o.shape;for(const p in u)s.properties[p]=Pt(u[p],t,{...n,path:[...n.path,"properties",p]});const d=new Set(Object.keys(u)),f=new Set([...d].filter(p=>{const g=o.shape[p]._zod;return t.io==="input"?g.optin===void 0:g.optout===void 0}));f.size>0&&(s.required=Array.from(f)),((h=o.catchall)==null?void 0:h._zod.def.type)==="never"?s.additionalProperties=!1:o.catchall?o.catchall&&(s.additionalProperties=Pt(o.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},s8=(e,t,r,n)=>{const s=e._zod.def,o=s.inclusive===!1,u=s.options.map((d,f)=>Pt(d,t,{...n,path:[...n.path,o?"oneOf":"anyOf",f]}));o?r.oneOf=u:r.anyOf=u},o8=(e,t,r,n)=>{const s=e._zod.def,o=Pt(s.left,t,{...n,path:[...n.path,"allOf",0]}),u=Pt(s.right,t,{...n,path:[...n.path,"allOf",1]}),d=h=>"allOf"in h&&Object.keys(h).length===1,f=[...d(o)?o.allOf:[o],...d(u)?u.allOf:[u]];r.allOf=f},jD=(e,t,r,n)=>{const s=r,o=e._zod.def;s.type="array";const u=t.target==="draft-2020-12"?"prefixItems":"items",d=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",f=o.items.map((y,x)=>Pt(y,t,{...n,path:[...n.path,u,x]})),h=o.rest?Pt(o.rest,t,{...n,path:[...n.path,d,...t.target==="openapi-3.0"?[o.items.length]:[]]}):null;t.target==="draft-2020-12"?(s.prefixItems=f,h&&(s.items=h)):t.target==="openapi-3.0"?(s.items={anyOf:f},h&&s.items.anyOf.push(h),s.minItems=f.length,h||(s.maxItems=f.length)):(s.items=f,h&&(s.additionalItems=h));const{minimum:p,maximum:g}=e._zod.bag;typeof p=="number"&&(s.minItems=p),typeof g=="number"&&(s.maxItems=g)},l8=(e,t,r,n)=>{const s=r,o=e._zod.def;s.type="object";const u=o.keyType,d=u._zod.bag,f=d==null?void 0:d.patterns;if(o.mode==="loose"&&f&&f.size>0){const p=Pt(o.valueType,t,{...n,path:[...n.path,"patternProperties","*"]});s.patternProperties={};for(const g of f)s.patternProperties[g.source]=p}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=Pt(o.keyType,t,{...n,path:[...n.path,"propertyNames"]})),s.additionalProperties=Pt(o.valueType,t,{...n,path:[...n.path,"additionalProperties"]});const h=u._zod.values;if(h){const p=[...h].filter(g=>typeof g=="string"||typeof g=="number");p.length>0&&(s.required=p)}},u8=(e,t,r,n)=>{const s=e._zod.def,o=Pt(s.innerType,t,n),u=t.seen.get(e);t.target==="openapi-3.0"?(u.ref=s.innerType,r.nullable=!0):r.anyOf=[o,{type:"null"}]},c8=(e,t,r,n)=>{const s=e._zod.def;Pt(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType},d8=(e,t,r,n)=>{const s=e._zod.def;Pt(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType,r.default=JSON.parse(JSON.stringify(s.defaultValue))},f8=(e,t,r,n)=>{const s=e._zod.def;Pt(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},h8=(e,t,r,n)=>{const s=e._zod.def;Pt(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType;let u;try{u=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=u},m8=(e,t,r,n)=>{const s=e._zod.def,o=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;Pt(o,t,n);const u=t.seen.get(e);u.ref=o},p8=(e,t,r,n)=>{const s=e._zod.def;Pt(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType,r.readOnly=!0},$D=(e,t,r,n)=>{const s=e._zod.def;Pt(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType},i1=(e,t,r,n)=>{const s=e._zod.def;Pt(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType},v8=(e,t,r,n)=>{const s=e._zod.innerType;Pt(s,t,n);const o=t.seen.get(e);o.ref=s},I3={string:Y7,number:F7,boolean:X7,bigint:zD,symbol:kD,null:K7,undefined:TD,void:AD,never:J7,any:W7,unknown:Q7,date:ED,enum:e8,literal:t8,nan:MD,template_literal:ND,file:OD,success:CD,custom:r8,function:RD,transform:a8,map:ID,set:DD,array:n8,object:i8,union:s8,intersection:o8,tuple:jD,record:l8,nullable:u8,nonoptional:c8,default:d8,prefault:f8,catch:h8,pipe:m8,readonly:p8,promise:$D,optional:i1,lazy:v8};function BD(e,t){if("_idmap"in e){const n=e,s=ed({...t,processors:I3}),o={};for(const f of n._idmap.entries()){const[h,p]=f;Pt(p,s)}const u={},d={registry:n,uri:t==null?void 0:t.uri,defs:o};s.external=d;for(const f of n._idmap.entries()){const[h,p]=f;td(s,p),u[h]=rd(s,p)}if(Object.keys(o).length>0){const f=s.target==="draft-2020-12"?"$defs":"definitions";u.__shared={[f]:o}}return{schemas:u}}const r=ed({...t,processors:I3});return Pt(e,r),td(r,e),rd(r,e)}const LD=fe("ZodISODateTime",(e,t)=>{UR.init(e,t),fr.init(e,t)});function UD(e){return XI(LD,e)}const qD=fe("ZodISODate",(e,t)=>{qR.init(e,t),fr.init(e,t)});function HD(e){return KI(qD,e)}const PD=fe("ZodISOTime",(e,t)=>{HR.init(e,t),fr.init(e,t)});function ZD(e){return JI(PD,e)}const GD=fe("ZodISODuration",(e,t)=>{PR.init(e,t),fr.init(e,t)});function VD(e){return WI(GD,e)}const YD=(e,t)=>{N7.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>CC(e,r)},flatten:{value:r=>OC(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,sp,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,sp,2)}},isEmpty:{get(){return e.issues.length===0}}})},tn=fe("ZodError",YD,{Parent:Error}),FD=r1(tn),XD=a1(tn),KD=Ad(tn),g8=Ed(tn),JD=DC(tn),WD=jC(tn),QD=$C(tn),ej=BC(tn),tj=LC(tn),rj=UC(tn),aj=qC(tn),nj=HC(tn),Gt=fe("ZodType",(e,t)=>(Zt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:ad(e,"input"),output:ad(e,"output")}}),e.toJSONSchema=SD(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(ss(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>os(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>FD(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>KD(e,r,n),e.parseAsync=async(r,n)=>XD(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>g8(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>JD(e,r,n),e.decode=(r,n)=>WD(e,r,n),e.encodeAsync=async(r,n)=>QD(e,r,n),e.decodeAsync=async(r,n)=>ej(e,r,n),e.safeEncode=(r,n)=>tj(e,r,n),e.safeDecode=(r,n)=>rj(e,r,n),e.safeEncodeAsync=async(r,n)=>aj(e,r,n),e.safeDecodeAsync=async(r,n)=>nj(e,r,n),e.refine=(r,n)=>e.check(e$(r,n)),e.superRefine=r=>e.check(t$(r)),e.overwrite=r=>e.check(sl(r)),e.optional=()=>$3(e),e.exactOptional=()=>Uj(e),e.nullable=()=>B3(e),e.nullish=()=>$3(B3(e)),e.nonoptional=r=>Vj(e,r),e.array=()=>Je(e),e.or=r=>cr([e,r]),e.and=r=>Ij(e,r),e.transform=r=>L3(e,Bj(r)),e.default=r=>Pj(e,r),e.prefault=r=>Gj(e,r),e.catch=r=>Fj(e,r),e.pipe=r=>L3(e,r),e.readonly=()=>Jj(e),e.describe=r=>{const n=e.clone();return fu.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=fu.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return fu.get(e);const n=e.clone();return fu.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),y8=fe("_ZodString",(e,t)=>{n1.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(n,s,o)=>Y7(e,n,s);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(sD(...n)),e.includes=(...n)=>e.check(uD(...n)),e.startsWith=(...n)=>e.check(cD(...n)),e.endsWith=(...n)=>e.check(dD(...n)),e.min=(...n)=>e.check(Qc(...n)),e.max=(...n)=>e.check(G7(...n)),e.length=(...n)=>e.check(V7(...n)),e.nonempty=(...n)=>e.check(Qc(1,...n)),e.lowercase=n=>e.check(oD(n)),e.uppercase=n=>e.check(lD(n)),e.trim=()=>e.check(hD()),e.normalize=(...n)=>e.check(fD(...n)),e.toLowerCase=()=>e.check(mD()),e.toUpperCase=()=>e.check(pD()),e.slugify=()=>e.check(vD())}),ij=fe("ZodString",(e,t)=>{n1.init(e,t),y8.init(e,t),e.email=r=>e.check(EI(sj,r)),e.url=r=>e.check(RI(oj,r)),e.jwt=r=>e.check(FI(Sj,r)),e.emoji=r=>e.check(II(lj,r)),e.guid=r=>e.check(N3(D3,r)),e.uuid=r=>e.check(MI(zc,r)),e.uuidv4=r=>e.check(NI(zc,r)),e.uuidv6=r=>e.check(OI(zc,r)),e.uuidv7=r=>e.check(CI(zc,r)),e.nanoid=r=>e.check(DI(uj,r)),e.guid=r=>e.check(N3(D3,r)),e.cuid=r=>e.check(jI(cj,r)),e.cuid2=r=>e.check($I(dj,r)),e.ulid=r=>e.check(BI(fj,r)),e.base64=r=>e.check(GI(bj,r)),e.base64url=r=>e.check(VI(xj,r)),e.xid=r=>e.check(LI(hj,r)),e.ksuid=r=>e.check(UI(mj,r)),e.ipv4=r=>e.check(qI(pj,r)),e.ipv6=r=>e.check(HI(vj,r)),e.cidrv4=r=>e.check(PI(gj,r)),e.cidrv6=r=>e.check(ZI(yj,r)),e.e164=r=>e.check(YI(wj,r)),e.datetime=r=>e.check(UD(r)),e.date=r=>e.check(HD(r)),e.time=r=>e.check(ZD(r)),e.duration=r=>e.check(VD(r))});function q(e){return AI(ij,e)}const fr=fe("ZodStringFormat",(e,t)=>{sr.init(e,t),y8.init(e,t)}),sj=fe("ZodEmail",(e,t)=>{OR.init(e,t),fr.init(e,t)}),D3=fe("ZodGUID",(e,t)=>{MR.init(e,t),fr.init(e,t)}),zc=fe("ZodUUID",(e,t)=>{NR.init(e,t),fr.init(e,t)}),oj=fe("ZodURL",(e,t)=>{CR.init(e,t),fr.init(e,t)}),lj=fe("ZodEmoji",(e,t)=>{RR.init(e,t),fr.init(e,t)}),uj=fe("ZodNanoID",(e,t)=>{IR.init(e,t),fr.init(e,t)}),cj=fe("ZodCUID",(e,t)=>{DR.init(e,t),fr.init(e,t)}),dj=fe("ZodCUID2",(e,t)=>{jR.init(e,t),fr.init(e,t)}),fj=fe("ZodULID",(e,t)=>{$R.init(e,t),fr.init(e,t)}),hj=fe("ZodXID",(e,t)=>{BR.init(e,t),fr.init(e,t)}),mj=fe("ZodKSUID",(e,t)=>{LR.init(e,t),fr.init(e,t)}),pj=fe("ZodIPv4",(e,t)=>{ZR.init(e,t),fr.init(e,t)}),vj=fe("ZodIPv6",(e,t)=>{GR.init(e,t),fr.init(e,t)}),gj=fe("ZodCIDRv4",(e,t)=>{VR.init(e,t),fr.init(e,t)}),yj=fe("ZodCIDRv6",(e,t)=>{YR.init(e,t),fr.init(e,t)}),bj=fe("ZodBase64",(e,t)=>{FR.init(e,t),fr.init(e,t)}),xj=fe("ZodBase64URL",(e,t)=>{KR.init(e,t),fr.init(e,t)}),wj=fe("ZodE164",(e,t)=>{JR.init(e,t),fr.init(e,t)}),Sj=fe("ZodJWT",(e,t)=>{QR.init(e,t),fr.init(e,t)}),b8=fe("ZodNumber",(e,t)=>{U7.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(n,s,o)=>F7(e,n,s),e.gt=(n,s)=>e.check(C3(n,s)),e.gte=(n,s)=>e.check(bm(n,s)),e.min=(n,s)=>e.check(bm(n,s)),e.lt=(n,s)=>e.check(O3(n,s)),e.lte=(n,s)=>e.check(ym(n,s)),e.max=(n,s)=>e.check(ym(n,s)),e.int=n=>e.check(j3(n)),e.safe=n=>e.check(j3(n)),e.positive=n=>e.check(C3(0,n)),e.nonnegative=n=>e.check(bm(0,n)),e.negative=n=>e.check(O3(0,n)),e.nonpositive=n=>e.check(ym(0,n)),e.multipleOf=(n,s)=>e.check(R3(n,s)),e.step=(n,s)=>e.check(R3(n,s)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function ot(e){return QI(b8,e)}const _j=fe("ZodNumberFormat",(e,t)=>{eI.init(e,t),b8.init(e,t)});function j3(e){return eD(_j,e)}const zj=fe("ZodBoolean",(e,t)=>{tI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>X7(e,r,n)});function st(e){return tD(zj,e)}const kj=fe("ZodNull",(e,t)=>{rI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>K7(e,r,n)});function Tj(e){return rD(kj,e)}const Aj=fe("ZodAny",(e,t)=>{aI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>W7()});function Fi(){return aD(Aj)}const Ej=fe("ZodUnknown",(e,t)=>{nI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Q7()});function mt(){return nD(Ej)}const Mj=fe("ZodNever",(e,t)=>{iI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>J7(e,r,n)});function gt(e){return iD(Mj,e)}const Nj=fe("ZodArray",(e,t)=>{sI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>n8(e,r,n,s),e.element=t.element,e.min=(r,n)=>e.check(Qc(r,n)),e.nonempty=r=>e.check(Qc(1,r)),e.max=(r,n)=>e.check(G7(r,n)),e.length=(r,n)=>e.check(V7(r,n)),e.unwrap=()=>e.element});function Je(e,t){return gD(Nj,e,t)}const x8=fe("ZodObject",(e,t)=>{lI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>i8(e,r,n,s),pt(e,"shape",()=>t.shape),e.keyof=()=>gr(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:mt()}),e.loose=()=>e.clone({...e._zod.def,catchall:mt()}),e.strict=()=>e.clone({...e._zod.def,catchall:gt()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>TC(e,r),e.safeExtend=r=>AC(e,r),e.merge=r=>EC(e,r),e.pick=r=>zC(e,r),e.omit=r=>kC(e,r),e.partial=(...r)=>MC(S8,e,r[0]),e.required=(...r)=>NC(_8,e,r[0])});function de(e,t){const r={type:"object",shape:e??{},...Be(t)};return new x8(r)}function Wt(e,t){return new x8({type:"object",shape:e,catchall:gt(),...Be(t)})}const w8=fe("ZodUnion",(e,t)=>{P7.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>s8(e,r,n,s),e.options=t.options});function cr(e,t){return new w8({type:"union",options:e,...Be(t)})}const Oj=fe("ZodDiscriminatedUnion",(e,t)=>{w8.init(e,t),uI.init(e,t)});function Cj(e,t,r){return new Oj({type:"union",options:t,discriminator:e,...Be(r)})}const Rj=fe("ZodIntersection",(e,t)=>{cI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>o8(e,r,n,s)});function Ij(e,t){return new Rj({type:"intersection",left:e,right:t})}const Dj=fe("ZodRecord",(e,t)=>{dI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>l8(e,r,n,s),e.keyType=t.keyType,e.valueType=t.valueType});function ui(e,t,r){return new Dj({type:"record",keyType:e,valueType:t,...Be(r)})}const lp=fe("ZodEnum",(e,t)=>{fI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(n,s,o)=>e8(e,n,s),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const o={};for(const u of n)if(r.has(u))o[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new lp({...t,checks:[],...Be(s),entries:o})},e.exclude=(n,s)=>{const o={...t.entries};for(const u of n)if(r.has(u))delete o[u];else throw new Error(`Key ${u} not found in enum`);return new lp({...t,checks:[],...Be(s),entries:o})}});function gr(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new lp({type:"enum",entries:r,...Be(t)})}const jj=fe("ZodLiteral",(e,t)=>{hI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>t8(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Se(e,t){return new jj({type:"literal",values:Array.isArray(e)?e:[e],...Be(t)})}const $j=fe("ZodTransform",(e,t)=>{mI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>a8(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new z7(e.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(ku(o,r.value,t));else{const u=o;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=r.value),u.inst??(u.inst=e),r.issues.push(ku(u))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(o=>(r.value=o,r)):(r.value=s,r)}});function Bj(e){return new $j({type:"transform",transform:e})}const S8=fe("ZodOptional",(e,t)=>{Z7.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>i1(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function $3(e){return new S8({type:"optional",innerType:e})}const Lj=fe("ZodExactOptional",(e,t)=>{pI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>i1(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Uj(e){return new Lj({type:"optional",innerType:e})}const qj=fe("ZodNullable",(e,t)=>{vI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>u8(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function B3(e){return new qj({type:"nullable",innerType:e})}const Hj=fe("ZodDefault",(e,t)=>{gI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>d8(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Pj(e,t){return new Hj({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():E7(t)}})}const Zj=fe("ZodPrefault",(e,t)=>{yI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>f8(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Gj(e,t){return new Zj({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():E7(t)}})}const _8=fe("ZodNonOptional",(e,t)=>{bI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>c8(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Vj(e,t){return new _8({type:"nonoptional",innerType:e,...Be(t)})}const Yj=fe("ZodCatch",(e,t)=>{xI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>h8(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Fj(e,t){return new Yj({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Xj=fe("ZodPipe",(e,t)=>{wI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>m8(e,r,n,s),e.in=t.in,e.out=t.out});function L3(e,t){return new Xj({type:"pipe",in:e,out:t})}const Kj=fe("ZodReadonly",(e,t)=>{SI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>p8(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Jj(e){return new Kj({type:"readonly",innerType:e})}const Wj=fe("ZodLazy",(e,t)=>{_I.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>v8(e,r,n,s),e.unwrap=()=>e._zod.def.getter()});function Qj(e){return new Wj({type:"lazy",getter:e})}const s1=fe("ZodCustom",(e,t)=>{zI.init(e,t),Gt.init(e,t),e._zod.processJSONSchema=(r,n,s)=>r8(e,r)});function z8(e,t){return yD(s1,e??(()=>!0),t)}function e$(e,t={}){return bD(s1,e,t)}function t$(e){return xD(e)}function nd(e,t={}){const r=new s1({type:"custom",check:"custom",fn:n=>n instanceof e,abort:!0,...Be(t)});return r._zod.bag.Class=e,r._zod.check=n=>{n.value instanceof e||n.issues.push({code:"invalid_type",expected:e.name,input:n.value,inst:r,path:[...r._zod.def.path??[]]})},r}var Tu;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const u of s)o[u]=u;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(d=>typeof s[s[d]]!="number"),u={};for(const d of o)u[d]=s[d];return e.objectValues(u)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&o.push(u);return o},e.find=(s,o)=>{for(const u of s)if(o(u))return u},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Tu||(Tu={}));var U3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(U3||(U3={}));Tu.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);Tu.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class id extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(s);else if(u.code==="invalid_return_type")s(u.returnTypeError);else if(u.code==="invalid_arguments")s(u.argumentsError);else if(u.path.length===0)n._errors.push(r(u));else{let d=n,f=0;for(;f<u.path.length;){const h=u.path[f];f===u.path.length-1?(d[h]=d[h]||{_errors:[]},d[h]._errors.push(r(u))):d[h]=d[h]||{_errors:[]},d=d[h],f++}}};return s(this),n}static assert(t){if(!(t instanceof id))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tu.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r=Object.create(null),n=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];r[o]=r[o]||[],r[o].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}id.create=e=>new id(e);var q3;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(q3||(q3={}));var Qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));class H3 extends Error{constructor(t,r){super(t),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}}function xm(e){}function r$(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=xm,onError:r=xm,onRetry:n=xm,onComment:s}=e;let o="",u=!0,d,f="",h="";function p(S){const A=u?S.replace(/^\xEF\xBB\xBF/,""):S,[C,R]=a$(`${o}${A}`);for(const M of C)g(M);o=R,u=!1}function g(S){if(S===""){x();return}if(S.startsWith(":")){s&&s(S.slice(S.startsWith(": ")?2:1));return}const A=S.indexOf(":");if(A!==-1){const C=S.slice(0,A),R=S[A+1]===" "?2:1,M=S.slice(A+R);y(C,M,S);return}y(S,"",S)}function y(S,A,C){switch(S){case"event":h=A;break;case"data":f=`${f}${A}
`;break;case"id":d=A.includes("\0")?void 0:A;break;case"retry":/^\d+$/.test(A)?n(parseInt(A,10)):r(new H3(`Invalid \`retry\` value: "${A}"`,{type:"invalid-retry",value:A,line:C}));break;default:r(new H3(`Unknown field "${S.length>20?`${S.slice(0,20)}`:S}"`,{type:"unknown-field",field:S,value:A,line:C}));break}}function x(){f.length>0&&t({id:d,event:h||void 0,data:f.endsWith(`
`)?f.slice(0,-1):f}),d=void 0,f="",h=""}function k(S={}){o&&S.consume&&g(o),u=!0,d=void 0,f="",h="",o=""}return{feed:p,reset:k}}function a$(e){const t=[];let r="",n=0;for(;n<e.length;){const s=e.indexOf("\r",n),o=e.indexOf(`
`,n);let u=-1;if(s!==-1&&o!==-1?u=Math.min(s,o):s!==-1?s===e.length-1?u=-1:u=s:o!==-1&&(u=o),u===-1){r=e.slice(n);break}else{const d=e.slice(n,u);t.push(d),n=u+1,e[n-1]==="\r"&&e[n]===`
`&&n++}}return[t,r]}class n$ extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let s;super({start(o){s=r$({onEvent:u=>{o.enqueue(u)},onError(u){t==="terminate"?o.error(u):typeof t=="function"&&t(u)},onRetry:r,onComment:n})},transform(o){s.feed(o)}})}}var k8={};function ts(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}async function i$(e,t){if(e==null)return Promise.resolve();const r=t==null?void 0:t.abortSignal;return new Promise((n,s)=>{if(r!=null&&r.aborted){s(P3());return}const o=setTimeout(()=>{u(),n()},e),u=()=>{clearTimeout(o),r==null||r.removeEventListener("abort",d)},d=()=>{u(),s(P3())};r==null||r.addEventListener("abort",d)})}function P3(){return new DOMException("Delay was aborted","AbortError")}var su=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise?this._promise:(this._promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise)}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}};function $u(e){return Object.fromEntries([...e.headers])}var{btoa:s$,atob:o$}=globalThis;function o1(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=o$(t);return Uint8Array.from(r,n=>n.codePointAt(0))}function Au(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return s$(t)}function Z3(e){return e instanceof Uint8Array?Au(e):e}var T8="AI_DownloadError",A8=`vercel.ai.error.${T8}`,l$=Symbol.for(A8),G3,V3,wm=class extends(V3=Fe,G3=l$,V3){constructor({url:e,statusCode:t,statusText:r,cause:n,message:s=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:T8,message:s,cause:n}),this[G3]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return Fe.hasMarker(e,A8)}},Bu=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const s=()=>{const o=r.length,u=new Array(t);for(let d=0;d<t;d++)u[d]=r[Math.random()*o|0];return u.join("")};if(e==null)return s;if(r.includes(n))throw new d7({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${s()}`},l1=Bu();function E8(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function Ls(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}var u$=["fetch failed","failed to fetch"],c$=["ConnectionRefused","ConnectionClosed","FailedToOpenSocket","ECONNRESET","ECONNREFUSED","ETIMEDOUT","EPIPE"];function d$(e){if(!(e instanceof Error))return!1;const t=e.code;return!!(typeof t=="string"&&c$.includes(t))}function M8({error:e,url:t,requestBodyValues:r}){if(Ls(e))return e;if(e instanceof TypeError&&u$.includes(e.message.toLowerCase())){const n=e.cause;if(n!=null)return new Kr({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return d$(e)?new Kr({message:`Cannot connect to API: ${e.message}`,cause:e,url:t,requestBodyValues:r,isRetryable:!0}):e}function Eu(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Cs(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(const[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}function Us(e,...t){const r=new Headers(Cs(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}var N8="4.0.10",f$=()=>globalThis.fetch,Y3=async({url:e,headers:t={},successfulResponseHandler:r,failedResponseHandler:n,abortSignal:s,fetch:o=f$()})=>{try{const u=await o(e,{method:"GET",headers:Us(t,`ai-sdk/provider-utils/${N8}`,Eu()),signal:s}),d=$u(u);if(!u.ok){let f;try{f=await n({response:u,url:e,requestBodyValues:{}})}catch(h){throw Ls(h)||Kr.isInstance(h)?h:new Kr({message:"Failed to process error response",cause:h,statusCode:u.status,url:e,responseHeaders:d,requestBodyValues:{}})}throw f.value}try{return await r({response:u,url:e,requestBodyValues:{}})}catch(f){throw f instanceof Error&&(Ls(f)||Kr.isInstance(f))?f:new Kr({message:"Failed to process successful response",cause:f,statusCode:u.status,url:e,responseHeaders:d,requestBodyValues:{}})}}catch(u){throw M8({error:u,url:e,requestBodyValues:{}})}};function h$(e){return e!=null}function m$({mediaType:e,url:t,supportedUrls:r}){return t=t.toLowerCase(),e=e.toLowerCase(),Object.entries(r).map(([n,s])=>{const o=n.toLowerCase();return o==="*"||o==="*/*"?{mediaTypePrefix:"",regexes:s}:{mediaTypePrefix:o.replace(/\*/,""),regexes:s}}).filter(({mediaTypePrefix:n})=>e.startsWith(n)).flatMap(({regexes:n})=>n).some(n=>n.test(t))}function p$({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new wc({message:`${n} API key must be a string.`});if(typeof process>"u")throw new wc({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=k8[t],e==null)throw new wc({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new wc({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}function Nc({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=k8[t],!(e==null||typeof e!="string")))return e}var v$=/"__proto__"\s*:/,g$=/"constructor"\s*:/;function F3(e){const t=JSON.parse(e);return t===null||typeof t!="object"||v$.test(e)===!1&&g$.test(e)===!1?t:y$(t)}function y$(e){let t=[e];for(;t.length;){const r=t;t=[];for(const n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const s in n){const o=n[s];o&&typeof o=="object"&&t.push(o)}}}return e}function O8(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return F3(e)}try{return F3(e)}finally{Error.stackTraceLimit=t}}function u1(e){if(e.type==="object"||Array.isArray(e.type)&&e.type.includes("object")){e.additionalProperties=!1;const{properties:r}=e;if(r!=null)for(const n of Object.keys(r))r[n]=Os(r[n])}e.items!=null&&(e.items=Array.isArray(e.items)?e.items.map(Os):Os(e.items)),e.anyOf!=null&&(e.anyOf=e.anyOf.map(Os)),e.allOf!=null&&(e.allOf=e.allOf.map(Os)),e.oneOf!=null&&(e.oneOf=e.oneOf.map(Os));const{definitions:t}=e;if(t!=null)for(const r of Object.keys(t))t[r]=Os(t[r]);return e}function Os(e){return typeof e=="boolean"?e:u1(e)}var b$=Symbol("Let zodToJsonSchema decide on which parser to use"),X3={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},x$=e=>typeof e=="string"?{...X3,name:e}:{...X3,...e};function Ca(){return{}}function w$(e,t){var r,n,s;const o={type:"array"};return(r=e.type)!=null&&r._def&&((s=(n=e.type)==null?void 0:n._def)==null?void 0:s.typeName)!==Qe.ZodAny&&(o.items=Nt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(o.minItems=e.minLength.value),e.maxLength&&(o.maxItems=e.maxLength.value),e.exactLength&&(o.minItems=e.exactLength.value,o.maxItems=e.exactLength.value),o}function S$(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function _$(){return{type:"boolean"}}function C8(e,t){return Nt(e.type._def,t)}var z$=(e,t)=>Nt(e.innerType._def,t);function R8(e,t,r){const n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((s,o)=>R8(e,t,s))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return k$(e)}}var k$=e=>{const t={type:"integer",format:"unix-time"};for(const r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t};function T$(e,t){return{...Nt(e.innerType._def,t),default:e.defaultValue()}}function A$(e,t){return t.effectStrategy==="input"?Nt(e.schema._def,t):Ca()}function E$(e){return{type:"string",enum:Array.from(e.values)}}var M$=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function N$(e,t){const r=[Nt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Nt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(s=>!!s),n=[];return r.forEach(s=>{if(M$(s))n.push(...s.allOf);else{let o=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:u,...d}=s;o=d}n.push(o)}}),n.length?{allOf:n}:void 0}function O$(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var Sm=void 0,ln={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Sm===void 0&&(Sm=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Sm),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function I8(e,t){const r={type:"string"};if(e.checks)for(const n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":un(r,"email",n.message,t);break;case"format:idn-email":un(r,"idn-email",n.message,t);break;case"pattern:zod":ea(r,ln.email,n.message,t);break}break;case"url":un(r,"uri",n.message,t);break;case"uuid":un(r,"uuid",n.message,t);break;case"regex":ea(r,n.regex,n.message,t);break;case"cuid":ea(r,ln.cuid,n.message,t);break;case"cuid2":ea(r,ln.cuid2,n.message,t);break;case"startsWith":ea(r,RegExp(`^${_m(n.value,t)}`),n.message,t);break;case"endsWith":ea(r,RegExp(`${_m(n.value,t)}$`),n.message,t);break;case"datetime":un(r,"date-time",n.message,t);break;case"date":un(r,"date",n.message,t);break;case"time":un(r,"time",n.message,t);break;case"duration":un(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{ea(r,RegExp(_m(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&un(r,"ipv4",n.message,t),n.version!=="v4"&&un(r,"ipv6",n.message,t);break}case"base64url":ea(r,ln.base64url,n.message,t);break;case"jwt":ea(r,ln.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&ea(r,ln.ipv4Cidr,n.message,t),n.version!=="v4"&&ea(r,ln.ipv6Cidr,n.message,t);break}case"emoji":ea(r,ln.emoji(),n.message,t);break;case"ulid":{ea(r,ln.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{un(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{ea(r,ln.base64,n.message,t);break}}break}case"nanoid":ea(r,ln.nanoid,n.message,t)}return r}function _m(e,t){return t.patternStrategy==="escape"?R$(e):e}var C$=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function R$(e){let t="";for(let r=0;r<e.length;r++)C$.has(e[r])||(t+="\\"),t+=e[r];return t}function un(e,t,r,n){var s;e.format||(s=e.anyOf)!=null&&s.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}function ea(e,t,r,n){var s;e.pattern||(s=e.allOf)!=null&&s.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:K3(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=K3(t,n)}function K3(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},s=n.i?e.source.toLowerCase():e.source;let o="",u=!1,d=!1,f=!1;for(let h=0;h<s.length;h++){if(u){o+=s[h],u=!1;continue}if(n.i){if(d){if(s[h].match(/[a-z]/)){f?(o+=s[h],o+=`${s[h-2]}-${s[h]}`.toUpperCase(),f=!1):s[h+1]==="-"&&((r=s[h+2])!=null&&r.match(/[a-z]/))?(o+=s[h],f=!0):o+=`${s[h]}${s[h].toUpperCase()}`;continue}}else if(s[h].match(/[a-z]/)){o+=`[${s[h]}${s[h].toUpperCase()}]`;continue}}if(n.m){if(s[h]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(s[h]==="$"){o+=`($|(?=[\r
]))`;continue}}if(n.s&&s[h]==="."){o+=d?`${s[h]}\r
`:`[${s[h]}\r
]`;continue}o+=s[h],s[h]==="\\"?u=!0:d&&s[h]==="]"?d=!1:!d&&s[h]==="["&&(d=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}function D8(e,t){var r,n,s,o,u,d;const f={type:"object",additionalProperties:(r=Nt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===Qe.ZodString&&((s=e.keyType._def.checks)!=null&&s.length)){const{type:h,...p}=I8(e.keyType._def,t);return{...f,propertyNames:p}}else{if(((o=e.keyType)==null?void 0:o._def.typeName)===Qe.ZodEnum)return{...f,propertyNames:{enum:e.keyType._def.values}};if(((u=e.keyType)==null?void 0:u._def.typeName)===Qe.ZodBranded&&e.keyType._def.type._def.typeName===Qe.ZodString&&((d=e.keyType._def.type._def.checks)!=null&&d.length)){const{type:h,...p}=C8(e.keyType._def,t);return{...f,propertyNames:p}}}return f}function I$(e,t){if(t.mapStrategy==="record")return D8(e,t);const r=Nt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Ca(),n=Nt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Ca();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function D$(e){const t=e.values,n=Object.keys(e.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),s=Array.from(new Set(n.map(o=>typeof o)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:n}}function j$(){return{not:Ca()}}function $$(){return{type:"null"}}var up={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function B$(e,t){const r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in up&&(!n._def.checks||!n._def.checks.length))){const n=r.reduce((s,o)=>{const u=up[o._def.typeName];return u&&!s.includes(u)?[...s,u]:s},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=r.reduce((s,o)=>{const u=typeof o._def.value;switch(u){case"string":case"number":case"boolean":return[...s,u];case"bigint":return[...s,"integer"];case"object":if(o._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(n.length===r.length){const s=n.filter((o,u,d)=>d.indexOf(o)===u);return{type:s.length>1?s:s[0],enum:r.reduce((o,u)=>o.includes(u._def.value)?o:[...o,u._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,s)=>[...n,...s._def.values.filter(o=>!n.includes(o))],[])};return L$(e,t)}var L$=(e,t)=>{const r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,s)=>Nt(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function U$(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[up[e.innerType._def.typeName],"null"]};const r=Nt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function q$(e){const t={type:"number"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function H$(e,t){const r={type:"object",properties:{}},n=[],s=e.shape();for(const u in s){let d=s[u];if(d===void 0||d._def===void 0)continue;const f=Z$(d),h=Nt(d._def,{...t,currentPath:[...t.currentPath,"properties",u],propertyPath:[...t.currentPath,"properties",u]});h!==void 0&&(r.properties[u]=h,f||n.push(u))}n.length&&(r.required=n);const o=P$(e,t);return o!==void 0&&(r.additionalProperties=o),r}function P$(e,t){if(e.catchall._def.typeName!=="ZodNever")return Nt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function Z$(e){try{return e.isOptional()}catch{return!0}}var G$=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Nt(e.innerType._def,t);const n=Nt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Ca()},n]}:Ca()},V$=(e,t)=>{if(t.pipeStrategy==="input")return Nt(e.in._def,t);if(t.pipeStrategy==="output")return Nt(e.out._def,t);const r=Nt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Nt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(s=>s!==void 0)}};function Y$(e,t){return Nt(e.type._def,t)}function F$(e,t){const n={type:"array",uniqueItems:!0,items:Nt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}function X$(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Nt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Nt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Nt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function K$(){return{not:Ca()}}function J$(){return Ca()}var W$=(e,t)=>Nt(e.innerType._def,t),Q$=(e,t,r)=>{switch(t){case Qe.ZodString:return I8(e,r);case Qe.ZodNumber:return q$(e);case Qe.ZodObject:return H$(e,r);case Qe.ZodBigInt:return S$(e);case Qe.ZodBoolean:return _$();case Qe.ZodDate:return R8(e,r);case Qe.ZodUndefined:return K$();case Qe.ZodNull:return $$();case Qe.ZodArray:return w$(e,r);case Qe.ZodUnion:case Qe.ZodDiscriminatedUnion:return B$(e,r);case Qe.ZodIntersection:return N$(e,r);case Qe.ZodTuple:return X$(e,r);case Qe.ZodRecord:return D8(e,r);case Qe.ZodLiteral:return O$(e);case Qe.ZodEnum:return E$(e);case Qe.ZodNativeEnum:return D$(e);case Qe.ZodNullable:return U$(e,r);case Qe.ZodOptional:return G$(e,r);case Qe.ZodMap:return I$(e,r);case Qe.ZodSet:return F$(e,r);case Qe.ZodLazy:return()=>e.getter()._def;case Qe.ZodPromise:return Y$(e,r);case Qe.ZodNaN:case Qe.ZodNever:return j$();case Qe.ZodEffects:return A$(e,r);case Qe.ZodAny:return Ca();case Qe.ZodUnknown:return J$();case Qe.ZodDefault:return T$(e,r);case Qe.ZodBranded:return C8(e,r);case Qe.ZodReadonly:return W$(e,r);case Qe.ZodCatch:return z$(e,r);case Qe.ZodPipeline:return V$(e,r);case Qe.ZodFunction:case Qe.ZodVoid:case Qe.ZodSymbol:return;default:return(n=>{})()}},eB=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};function Nt(e,t,r=!1){var n;const s=t.seen.get(e);if(t.override){const f=(n=t.override)==null?void 0:n.call(t,e,t,s,r);if(f!==b$)return f}if(s&&!r){const f=tB(s,t);if(f!==void 0)return f}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const u=Q$(e,e.typeName,t),d=typeof u=="function"?Nt(u(),t):u;if(d&&rB(e,t,d),t.postProcess){const f=t.postProcess(d,e,t);return o.jsonSchema=d,f}return o.jsonSchema=d,d}var tB=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:eB(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Ca()):t.$refStrategy==="seen"?Ca():void 0}},rB=(e,t,r)=>(e.description&&(r.description=e.description),r),aB=e=>{const t=x$(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},nB=(e,t)=>{var r;const n=aB(t);let s=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((h,[p,g])=>{var y;return{...h,[p]:(y=Nt(g._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?y:Ca()}},{}):void 0;const o=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,u=(r=Nt(e._def,o===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,o]},!1))!=null?r:Ca(),d=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;d!==void 0&&(u.title=d);const f=o===void 0?s?{...u,[n.definitionPath]:s}:u:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,o].join("/"),[n.definitionPath]:{...s,[o]:u}};return f.$schema="http://json-schema.org/draft-07/schema#",f},cp=Symbol.for("vercel.ai.schema");function Vt(e){let t;return()=>(t==null&&(t=e()),t)}function Nd(e,{validate:t}={}){return{[cp]:!0,_type:void 0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function iB(e){return typeof e=="object"&&e!==null&&cp in e&&e[cp]===!0&&"jsonSchema"in e&&"validate"in e}function ol(e){return e==null?Nd({properties:{},additionalProperties:!1}):iB(e)?e:"~standard"in e?e["~standard"].vendor==="zod"?Lt(e):sB(e):e()}function sB(e){return Nd(()=>u1(e["~standard"].jsonSchema.input({target:"draft-07"})),{validate:async t=>{const r=await e["~standard"].validate(t);return"value"in r?{success:!0,value:r.value}:{success:!1,error:new li({value:t,cause:r.issues})}}})}function oB(e,t){var r;const n=(r=void 0)!=null?r:!1;return Nd(()=>nB(e,{$refStrategy:n?"root":"none"}),{validate:async s=>{const o=await e.safeParseAsync(s);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function lB(e,t){var r;const n=(r=void 0)!=null?r:!1;return Nd(()=>u1(BD(e,{target:"draft-7",io:"input",reused:n?"ref":"inline"})),{validate:async s=>{const o=await g8(e,s);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function uB(e){return"_zod"in e}function Lt(e,t){return uB(e)?lB(e):oB(e)}async function Gi({value:e,schema:t}){const r=await mn({value:e,schema:t});if(!r.success)throw li.wrap({value:e,cause:r.error});return r.value}async function mn({value:e,schema:t}){const r=ol(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};const n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:li.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:li.wrap({value:e,cause:n}),rawValue:e}}}async function cB({text:e,schema:t}){try{const r=O8(e);return t==null?r:Gi({value:r,schema:t})}catch(r){throw Kc.isInstance(r)||li.isInstance(r)?r:new Kc({text:e,cause:r})}}async function pn({text:e,schema:t}){try{const r=O8(e);return t==null?{success:!0,value:r,rawValue:r}:await mn({value:r,schema:t})}catch(r){return{success:!1,error:Kc.isInstance(r)?r:new Kc({text:e,cause:r}),rawValue:void 0}}}function j8({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new n$).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await pn({text:r,schema:t}))}}))}async function sd({provider:e,providerOptions:t,schema:r}){if((t==null?void 0:t[e])==null)return;const n=await mn({value:t[e],schema:r});if(!n.success)throw new d7({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var dB=()=>globalThis.fetch,ci=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:s,abortSignal:o,fetch:u})=>fB({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:s,abortSignal:o,fetch:u}),fB=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:s,abortSignal:o,fetch:u=dB()})=>{try{const d=await u(e,{method:"POST",headers:Us(t,`ai-sdk/provider-utils/${N8}`,Eu()),body:r.content,signal:o}),f=$u(d);if(!d.ok){let h;try{h=await s({response:d,url:e,requestBodyValues:r.values})}catch(p){throw Ls(p)||Kr.isInstance(p)?p:new Kr({message:"Failed to process error response",cause:p,statusCode:d.status,url:e,responseHeaders:f,requestBodyValues:r.values})}throw h.value}try{return await n({response:d,url:e,requestBodyValues:r.values})}catch(h){throw h instanceof Error&&(Ls(h)||Kr.isInstance(h))?h:new Kr({message:"Failed to process successful response",cause:h,statusCode:d.status,url:e,responseHeaders:f,requestBodyValues:r.values})}}catch(d){throw M8({error:d,url:e,requestBodyValues:r.values})}};function ll({id:e,inputSchema:t}){return({execute:r,outputSchema:n,needsApproval:s,toModelOutput:o,onInputStart:u,onInputDelta:d,onInputAvailable:f,...h})=>({type:"provider",id:e,args:h,inputSchema:t,outputSchema:n,execute:r,needsApproval:s,toModelOutput:o,onInputStart:u,onInputDelta:d,onInputAvailable:f})}function c1({id:e,inputSchema:t,outputSchema:r,supportsDeferredResults:n}){return({execute:s,needsApproval:o,toModelOutput:u,onInputStart:d,onInputDelta:f,onInputAvailable:h,...p})=>({type:"provider",id:e,args:p,inputSchema:t,outputSchema:r,execute:s,needsApproval:o,toModelOutput:u,onInputStart:d,onInputDelta:f,onInputAvailable:h,supportsDeferredResults:n})}async function yr(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var qs=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:s,requestBodyValues:o})=>{const u=await n.text(),d=$u(n);if(u.trim()==="")return{responseHeaders:d,value:new Kr({message:n.statusText,url:s,requestBodyValues:o,statusCode:n.status,responseHeaders:d,responseBody:u,isRetryable:r==null?void 0:r(n)})};try{const f=await cB({text:u,schema:e});return{responseHeaders:d,value:new Kr({message:t(f),url:s,requestBodyValues:o,statusCode:n.status,responseHeaders:d,responseBody:u,data:f,isRetryable:r==null?void 0:r(n,f)})}}catch{return{responseHeaders:d,value:new Kr({message:n.statusText,url:s,requestBodyValues:o,statusCode:n.status,responseHeaders:d,responseBody:u,isRetryable:r==null?void 0:r(n)})}}},$8=e=>async({response:t})=>{const r=$u(t);if(t.body==null)throw new uC({});return{responseHeaders:r,value:j8({stream:t.body,schema:e})}},di=e=>async({response:t,url:r,requestBodyValues:n})=>{const s=await t.text(),o=await pn({text:s,schema:e}),u=$u(t);if(!o.success)throw new Kr({message:"Invalid JSON response",cause:o.error,statusCode:t.status,responseHeaders:u,responseBody:s,url:r,requestBodyValues:n});return{responseHeaders:u,value:o.value,rawValue:o.rawValue}};function B8(e){return e==null?void 0:e.replace(/\/$/,"")}function hB(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}async function*mB({execute:e,input:t,options:r}){const n=e(t,r);if(hB(n)){let s;for await(const o of n)s=o,yield{type:"preliminary",output:o};yield{type:"final",output:s}}else yield{type:"final",output:await n}}var zm,J3;function pB(){if(J3)return zm;J3=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s=(p,g)=>{for(var y in g)e(p,y,{get:g[y],enumerable:!0})},o=(p,g,y,x)=>{if(g&&typeof g=="object"||typeof g=="function")for(let k of r(g))!n.call(p,k)&&k!==y&&e(p,k,{get:()=>g[k],enumerable:!(x=t(g,k))||x.enumerable});return p},u=p=>o(e({},"__esModule",{value:!0}),p),d={};s(d,{SYMBOL_FOR_REQ_CONTEXT:()=>f,getContext:()=>h}),zm=u(d);const f=Symbol.for("@vercel/request-context");function h(){var g,y;return((y=(g=globalThis[f])==null?void 0:g.get)==null?void 0:y.call(g))??{}}return zm}var km,W3;function vB(){if(W3)return km;W3=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s=(g,y)=>{for(var x in y)e(g,x,{get:y[x],enumerable:!0})},o=(g,y,x,k)=>{if(y&&typeof y=="object"||typeof y=="function")for(let S of r(y))!n.call(g,S)&&S!==x&&e(g,S,{get:()=>y[S],enumerable:!(k=t(y,S))||k.enumerable});return g},u=g=>o(e({},"__esModule",{value:!0}),g),d={};s(d,{getContext:()=>f.getContext,getVercelOidcToken:()=>h,getVercelOidcTokenSync:()=>p}),km=u(d);var f=pB();async function h(){return""}function p(){return""}return km}var L8=vB(),gB="vercel.ai.gateway.error",Tm=Symbol.for(gB),Q3,e5,Ra=class U8 extends(e5=Error,Q3=Tm,e5){constructor({message:t,statusCode:r=500,cause:n,generationId:s}){super(s?`${t} [${s}]`:t),this[Q3]=!0,this.statusCode=r,this.cause=n,this.generationId=s}static isInstance(t){return U8.hasMarker(t)}static hasMarker(t){return typeof t=="object"&&t!==null&&Tm in t&&t[Tm]===!0}},q8="GatewayAuthenticationError",yB=`vercel.ai.gateway.error.${q8}`,t5=Symbol.for(yB),r5,a5,d1=class H8 extends(a5=Ra,r5=t5,a5){constructor({message:t="Authentication failed",statusCode:r=401,cause:n,generationId:s}={}){super({message:t,statusCode:r,cause:n,generationId:s}),this[r5]=!0,this.name=q8,this.type="authentication_error"}static isInstance(t){return Ra.hasMarker(t)&&t5 in t}static createContextualError({apiKeyProvided:t,oidcTokenProvided:r,message:n="Authentication failed",statusCode:s=401,cause:o,generationId:u}){let d;return t?d=`AI Gateway authentication failed: Invalid API key.

Create a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys

Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:r?d=`AI Gateway authentication failed: Invalid OIDC token.

Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.

Alternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`:d=`AI Gateway authentication failed: No authentication provided.

Option 1 - API key:
Create an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys
Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

Option 2 - OIDC token:
Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`,new H8({message:d,statusCode:s,cause:o,generationId:u})}},P8="GatewayInvalidRequestError",bB=`vercel.ai.gateway.error.${P8}`,n5=Symbol.for(bB),i5,s5,xB=class extends(s5=Ra,i5=n5,s5){constructor({message:e="Invalid request",statusCode:t=400,cause:r,generationId:n}={}){super({message:e,statusCode:t,cause:r,generationId:n}),this[i5]=!0,this.name=P8,this.type="invalid_request_error"}static isInstance(e){return Ra.hasMarker(e)&&n5 in e}},Z8="GatewayRateLimitError",wB=`vercel.ai.gateway.error.${Z8}`,o5=Symbol.for(wB),l5,u5,SB=class extends(u5=Ra,l5=o5,u5){constructor({message:e="Rate limit exceeded",statusCode:t=429,cause:r,generationId:n}={}){super({message:e,statusCode:t,cause:r,generationId:n}),this[l5]=!0,this.name=Z8,this.type="rate_limit_exceeded"}static isInstance(e){return Ra.hasMarker(e)&&o5 in e}},G8="GatewayModelNotFoundError",_B=`vercel.ai.gateway.error.${G8}`,c5=Symbol.for(_B),zB=Vt(()=>Lt(de({modelId:q()}))),d5,f5,kB=class extends(f5=Ra,d5=c5,f5){constructor({message:e="Model not found",statusCode:t=404,modelId:r,cause:n,generationId:s}={}){super({message:e,statusCode:t,cause:n,generationId:s}),this[d5]=!0,this.name=G8,this.type="model_not_found",this.modelId=r}static isInstance(e){return Ra.hasMarker(e)&&c5 in e}},V8="GatewayInternalServerError",TB=`vercel.ai.gateway.error.${V8}`,h5=Symbol.for(TB),m5,p5,v5=class extends(p5=Ra,m5=h5,p5){constructor({message:e="Internal server error",statusCode:t=500,cause:r,generationId:n}={}){super({message:e,statusCode:t,cause:r,generationId:n}),this[m5]=!0,this.name=V8,this.type="internal_server_error"}static isInstance(e){return Ra.hasMarker(e)&&h5 in e}},Y8="GatewayResponseError",AB=`vercel.ai.gateway.error.${Y8}`,g5=Symbol.for(AB),y5,b5,EB=class extends(b5=Ra,y5=g5,b5){constructor({message:e="Invalid response from Gateway",statusCode:t=502,response:r,validationError:n,cause:s,generationId:o}={}){super({message:e,statusCode:t,cause:s,generationId:o}),this[y5]=!0,this.name=Y8,this.type="response_error",this.response=r,this.validationError=n}static isInstance(e){return Ra.hasMarker(e)&&g5 in e}};async function x5({response:e,statusCode:t,defaultMessage:r="Gateway request failed",cause:n,authMethod:s}){var o;const u=await mn({value:e,schema:MB});if(!u.success){const g=typeof e=="object"&&e!==null&&"generationId"in e?e.generationId:void 0;return new EB({message:`Invalid error response format: ${r}`,statusCode:t,response:e,validationError:u.error,cause:n,generationId:g})}const d=u.value,f=d.error.type,h=d.error.message,p=(o=d.generationId)!=null?o:void 0;switch(f){case"authentication_error":return d1.createContextualError({apiKeyProvided:s==="api-key",oidcTokenProvided:s==="oidc",statusCode:t,cause:n,generationId:p});case"invalid_request_error":return new xB({message:h,statusCode:t,cause:n,generationId:p});case"rate_limit_exceeded":return new SB({message:h,statusCode:t,cause:n,generationId:p});case"model_not_found":{const g=await mn({value:d.error.param,schema:zB});return new kB({message:h,statusCode:t,modelId:g.success?g.value.modelId:void 0,cause:n,generationId:p})}case"internal_server_error":return new v5({message:h,statusCode:t,cause:n,generationId:p});default:return new v5({message:h,statusCode:t,cause:n,generationId:p})}}var MB=Vt(()=>Lt(de({error:de({message:q(),type:q().nullish(),param:mt().nullish(),code:cr([q(),ot()]).nullish()}),generationId:q().nullish()})));function rs(e,t){var r;return Ra.isInstance(e)?e:Kr.isInstance(e)?x5({response:NB(e),statusCode:(r=e.statusCode)!=null?r:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):x5({response:{},statusCode:500,defaultMessage:e instanceof Error?`Gateway request failed: ${e.message}`:"Unknown Gateway error",cause:e,authMethod:t})}function NB(e){if(e.data!==void 0)return e.data;if(e.responseBody!=null)try{return JSON.parse(e.responseBody)}catch{return e.responseBody}return{}}var F8="ai-gateway-auth-method";async function Wo(e){const t=await mn({value:e[F8],schema:OB});return t.success?t.value:void 0}var OB=Vt(()=>Lt(cr([Se("api-key"),Se("oidc")]))),w5=class{constructor(e){this.config=e}async getAvailableModels(){try{const{value:e}=await Y3({url:`${this.config.baseURL}/config`,headers:await yr(this.config.headers()),successfulResponseHandler:di(CB),failedResponseHandler:qs({errorSchema:Fi(),errorToMessage:t=>t}),fetch:this.config.fetch});return e}catch(e){throw await rs(e)}}async getCredits(){try{const e=new URL(this.config.baseURL),{value:t}=await Y3({url:`${e.origin}/v1/credits`,headers:await yr(this.config.headers()),successfulResponseHandler:di(RB),failedResponseHandler:qs({errorSchema:Fi(),errorToMessage:r=>r}),fetch:this.config.fetch});return t}catch(e){throw await rs(e)}}},CB=Vt(()=>Lt(de({models:Je(de({id:q(),name:q(),description:q().nullish(),pricing:de({input:q(),output:q(),input_cache_read:q().nullish(),input_cache_write:q().nullish()}).transform(({input:e,output:t,input_cache_read:r,input_cache_write:n})=>({input:e,output:t,...r?{cachedInputTokens:r}:{},...n?{cacheCreationInputTokens:n}:{}})).nullish(),specification:de({specificationVersion:Se("v3"),provider:q(),modelId:q()}),modelType:gr(["language","embedding","image"]).nullish()}))}))),RB=Vt(()=>Lt(de({balance:q(),total_used:q()}).transform(({balance:e,total_used:t})=>({balance:e,totalUsed:t})))),IB=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v3",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){const{abortSignal:t,...r}=e;return{args:this.maybeEncodeFileParts(r),warnings:[]}}async doGenerate(e){const{args:t,warnings:r}=await this.getArgs(e),{abortSignal:n}=e,s=await yr(this.config.headers());try{const{responseHeaders:o,value:u,rawValue:d}=await ci({url:this.getUrl(),headers:ts(s,e.headers,this.getModelConfigHeaders(this.modelId,!1),await yr(this.config.o11yHeaders)),body:t,successfulResponseHandler:di(Fi()),failedResponseHandler:qs({errorSchema:Fi(),errorToMessage:f=>f}),...n&&{abortSignal:n},fetch:this.config.fetch});return{...u,request:{body:t},response:{headers:o,body:d},warnings:r}}catch(o){throw await rs(o,await Wo(s))}}async doStream(e){const{args:t,warnings:r}=await this.getArgs(e),{abortSignal:n}=e,s=await yr(this.config.headers());try{const{value:o,responseHeaders:u}=await ci({url:this.getUrl(),headers:ts(s,e.headers,this.getModelConfigHeaders(this.modelId,!0),await yr(this.config.o11yHeaders)),body:t,successfulResponseHandler:$8(Fi()),failedResponseHandler:qs({errorSchema:Fi(),errorToMessage:d=>d}),...n&&{abortSignal:n},fetch:this.config.fetch});return{stream:o.pipeThrough(new TransformStream({start(d){r.length>0&&d.enqueue({type:"stream-start",warnings:r})},transform(d,f){if(d.success){const h=d.value;if(h.type==="raw"&&!e.includeRawChunks)return;h.type==="response-metadata"&&h.timestamp&&typeof h.timestamp=="string"&&(h.timestamp=new Date(h.timestamp)),f.enqueue(h)}else f.error(d.error)}})),request:{body:t},response:{headers:u}}}catch(o){throw await rs(o,await Wo(s))}}isFilePart(e){return e&&typeof e=="object"&&"type"in e&&e.type==="file"}maybeEncodeFileParts(e){for(const t of e.prompt)for(const r of t.content)if(this.isFilePart(r)){const n=r;if(n.data instanceof Uint8Array){const s=Uint8Array.from(n.data),o=Buffer.from(s).toString("base64");n.data=new URL(`data:${n.mediaType||"application/octet-stream"};base64,${o}`)}}return e}getUrl(){return`${this.config.baseURL}/language-model`}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"3","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},DB=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){var s;const o=await yr(this.config.headers());try{const{responseHeaders:u,value:d,rawValue:f}=await ci({url:this.getUrl(),headers:ts(o,t??{},this.getModelConfigHeaders(),await yr(this.config.o11yHeaders)),body:{values:e,...n?{providerOptions:n}:{}},successfulResponseHandler:di(jB),failedResponseHandler:qs({errorSchema:Fi(),errorToMessage:h=>h}),...r&&{abortSignal:r},fetch:this.config.fetch});return{embeddings:d.embeddings,usage:(s=d.usage)!=null?s:void 0,providerMetadata:d.providerMetadata,response:{headers:u,body:f},warnings:[]}}catch(u){throw await rs(u,await Wo(o))}}getUrl(){return`${this.config.baseURL}/embedding-model`}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"3","ai-model-id":this.modelId}}},jB=Vt(()=>Lt(de({embeddings:Je(Je(ot())),usage:de({tokens:ot()}).nullish(),providerMetadata:ui(q(),ui(q(),mt())).optional()}))),$B=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v3",this.maxImagesPerCall=Number.MAX_SAFE_INTEGER}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:s,files:o,mask:u,providerOptions:d,headers:f,abortSignal:h}){var p;const g=await yr(this.config.headers());try{const{responseHeaders:y,value:x,rawValue:k}=await ci({url:this.getUrl(),headers:ts(g,f??{},this.getModelConfigHeaders(),await yr(this.config.o11yHeaders)),body:{prompt:e,n:t,...r&&{size:r},...n&&{aspectRatio:n},...s&&{seed:s},...d&&{providerOptions:d},...o&&{files:o.map(S=>S5(S))},...u&&{mask:S5(u)}},successfulResponseHandler:di(LB),failedResponseHandler:qs({errorSchema:Fi(),errorToMessage:S=>S}),...h&&{abortSignal:h},fetch:this.config.fetch});return{images:x.images,warnings:(p=x.warnings)!=null?p:[],providerMetadata:x.providerMetadata,response:{timestamp:new Date,modelId:this.modelId,headers:y}}}catch(y){throw rs(y,await Wo(g))}}getUrl(){return`${this.config.baseURL}/image-model`}getModelConfigHeaders(){return{"ai-image-model-specification-version":"3","ai-model-id":this.modelId}}};function S5(e){return e.type==="file"&&e.data instanceof Uint8Array?{...e,data:Au(e.data)}:e}var BB=de({images:Je(mt()).optional()}).catchall(mt()),LB=de({images:Je(q()),warnings:Je(de({type:Se("other"),message:q()})).optional(),providerMetadata:ui(q(),BB).optional()}),UB=Vt(()=>Lt(de({objective:q().describe("Natural-language description of the web research goal, including source or freshness guidance and broader context from the task. Maximum 5000 characters."),search_queries:Je(q()).optional().describe("Optional search queries to supplement the objective. Maximum 200 characters per query."),mode:gr(["one-shot","agentic"]).optional().describe('Mode preset: "one-shot" for comprehensive results with longer excerpts (default), "agentic" for concise, token-efficient results for multi-step workflows.'),max_results:ot().optional().describe("Maximum number of results to return (1-20). Defaults to 10 if not specified."),source_policy:de({include_domains:Je(q()).optional().describe("List of domains to include in search results."),exclude_domains:Je(q()).optional().describe("List of domains to exclude from search results."),after_date:q().optional().describe("Only include results published after this date (ISO 8601 format).")}).optional().describe("Source policy for controlling which domains to include/exclude and freshness."),excerpts:de({max_chars_per_result:ot().optional().describe("Maximum characters per result."),max_chars_total:ot().optional().describe("Maximum total characters across all results.")}).optional().describe("Excerpt configuration for controlling result length."),fetch_policy:de({max_age_seconds:ot().optional().describe("Maximum age in seconds for cached content. Set to 0 to always fetch fresh content.")}).optional().describe("Fetch policy for controlling content freshness.")}))),qB=Vt(()=>Lt(cr([de({searchId:q(),results:Je(de({url:q(),title:q(),excerpt:q(),publishDate:q().nullable().optional(),relevanceScore:ot().optional()}))}),de({error:gr(["api_error","rate_limit","timeout","invalid_input","configuration_error","unknown"]),statusCode:ot().optional(),message:q()})]))),HB=c1({id:"gateway.parallel_search",inputSchema:UB,outputSchema:qB}),PB=(e={})=>HB(e),ZB=Vt(()=>Lt(de({query:cr([q(),Je(q())]).describe("Search query (string) or multiple queries (array of up to 5 strings). Multi-query searches return combined results from all queries."),max_results:ot().optional().describe("Maximum number of search results to return (1-20, default: 10)"),max_tokens_per_page:ot().optional().describe("Maximum number of tokens to extract per search result page (256-2048, default: 2048)"),max_tokens:ot().optional().describe("Maximum total tokens across all search results (default: 25000, max: 1000000)"),country:q().optional().describe("Two-letter ISO 3166-1 alpha-2 country code for regional search results (e.g., 'US', 'GB', 'FR')"),search_domain_filter:Je(q()).optional().describe("List of domains to include or exclude from search results (max 20). To include: ['nature.com', 'science.org']. To exclude: ['-example.com', '-spam.net']"),search_language_filter:Je(q()).optional().describe("List of ISO 639-1 language codes to filter results (max 10, lowercase). Examples: ['en', 'fr', 'de']"),search_after_date:q().optional().describe("Include only results published after this date. Format: 'MM/DD/YYYY' (e.g., '3/1/2025'). Cannot be used with search_recency_filter."),search_before_date:q().optional().describe("Include only results published before this date. Format: 'MM/DD/YYYY' (e.g., '3/15/2025'). Cannot be used with search_recency_filter."),last_updated_after_filter:q().optional().describe("Include only results last updated after this date. Format: 'MM/DD/YYYY' (e.g., '3/1/2025'). Cannot be used with search_recency_filter."),last_updated_before_filter:q().optional().describe("Include only results last updated before this date. Format: 'MM/DD/YYYY' (e.g., '3/15/2025'). Cannot be used with search_recency_filter."),search_recency_filter:gr(["day","week","month","year"]).optional().describe("Filter results by relative time period. Cannot be used with search_after_date or search_before_date.")}))),GB=Vt(()=>Lt(cr([de({results:Je(de({title:q(),url:q(),snippet:q(),date:q().optional(),lastUpdated:q().optional()})),id:q()}),de({error:gr(["api_error","rate_limit","timeout","invalid_input","unknown"]),statusCode:ot().optional(),message:q()})]))),VB=c1({id:"gateway.perplexity_search",inputSchema:ZB,outputSchema:GB}),YB=(e={})=>VB(e),FB={parallelSearch:PB,perplexitySearch:YB};async function XB(){var e;return(e=L8.getContext().headers)==null?void 0:e["x-vercel-id"]}var KB="3.0.27",JB="0.0.1";function WB(e={}){var t,r;let n=null,s=null;const o=(t=e.metadataCacheRefreshMillis)!=null?t:1e3*60*5;let u=0;const d=(r=B8(e.baseURL))!=null?r:"https://ai-gateway.vercel.sh/v3/ai",f=async()=>{try{const S=await eL(e);return Us({Authorization:`Bearer ${S.token}`,"ai-gateway-protocol-version":JB,[F8]:S.authMethod,...e.headers},`ai-sdk/gateway/${KB}`)}catch(S){throw d1.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401,cause:S})}},h=()=>{const S=Nc({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),A=Nc({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),C=Nc({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{const R=await XB();return{...S&&{"ai-o11y-deployment-id":S},...A&&{"ai-o11y-environment":A},...C&&{"ai-o11y-region":C},...R&&{"ai-o11y-request-id":R}}}},p=S=>new IB(S,{provider:"gateway",baseURL:d,headers:f,fetch:e.fetch,o11yHeaders:h()}),g=async()=>{var S,A,C;const R=(C=(A=(S=e._internal)==null?void 0:S.currentDate)==null?void 0:A.call(S).getTime())!=null?C:Date.now();return(!n||R-u>o)&&(u=R,n=new w5({baseURL:d,headers:f,fetch:e.fetch}).getAvailableModels().then(M=>(s=M,M)).catch(async M=>{throw await rs(M,await Wo(await f()))})),s?Promise.resolve(s):n},y=async()=>new w5({baseURL:d,headers:f,fetch:e.fetch}).getCredits().catch(async S=>{throw await rs(S,await Wo(await f()))}),x=function(S){if(new.target)throw new Error("The Gateway Provider model function cannot be called with the new keyword.");return p(S)};x.specificationVersion="v3",x.getAvailableModels=g,x.getCredits=y,x.imageModel=S=>new $B(S,{provider:"gateway",baseURL:d,headers:f,fetch:e.fetch,o11yHeaders:h()}),x.languageModel=p;const k=S=>new DB(S,{provider:"gateway",baseURL:d,headers:f,fetch:e.fetch,o11yHeaders:h()});return x.embeddingModel=k,x.textEmbeddingModel=k,x.tools=FB,x}var QB=WB();async function eL(e){const t=Nc({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});return t?{token:t,authMethod:"api-key"}:{token:await L8.getVercelOidcToken(),authMethod:"oidc"}}var tL=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Is="1.9.0",_5=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function rL(e){var t=new Set([e]),r=new Set,n=e.match(_5);if(!n)return function(){return!1};var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(s.prerelease!=null)return function(f){return f===e};function o(d){return r.add(d),!1}function u(d){return t.add(d),!0}return function(f){if(t.has(f))return!0;if(r.has(f))return!1;var h=f.match(_5);if(!h)return o(f);var p={major:+h[1],minor:+h[2],patch:+h[3],prerelease:h[4]};return p.prerelease!=null||s.major!==p.major?o(f):s.major===0?s.minor===p.minor&&s.patch<=p.patch?u(f):o(f):s.minor<=p.minor?u(f):o(f)}}var aL=rL(Is),nL=Is.split(".")[0],Mu=Symbol.for("opentelemetry.js.api."+nL),Nu=tL;function f1(e,t,r,n){var s;n===void 0&&(n=!1);var o=Nu[Mu]=(s=Nu[Mu])!==null&&s!==void 0?s:{version:Is};if(!n&&o[e]){var u=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(u.stack||u.message),!1}if(o.version!==Is){var u=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+Is);return r.error(u.stack||u.message),!1}return o[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Is+"."),!0}function Ou(e){var t,r,n=(t=Nu[Mu])===null||t===void 0?void 0:t.version;if(!(!n||!aL(n)))return(r=Nu[Mu])===null||r===void 0?void 0:r[e]}function h1(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Is+".");var r=Nu[Mu];r&&delete r[e]}var iL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],u;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o},sL=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},oL=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ou("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ou("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ou("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ou("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ou("verbose",this._namespace,t)},e}();function ou(e,t,r){var n=Ou("diag");if(n)return r.unshift(t),n[e].apply(n,sL([],iL(r),!1))}var Ta;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Ta||(Ta={}));function lL(e,t){e<Ta.NONE?e=Ta.NONE:e>Ta.ALL&&(e=Ta.ALL),t=t||{};function r(n,s){var o=t[n];return typeof o=="function"&&e>=s?o.bind(t):function(){}}return{error:r("error",Ta.ERROR),warn:r("warn",Ta.WARN),info:r("info",Ta.INFO),debug:r("debug",Ta.DEBUG),verbose:r("verbose",Ta.VERBOSE)}}var uL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],u;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o},cL=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},dL="diag",od=function(){function e(){function t(s){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var d=Ou("diag");if(d)return d[s].apply(d,cL([],uL(o),!1))}}var r=this,n=function(s,o){var u,d,f;if(o===void 0&&(o={logLevel:Ta.INFO}),s===r){var h=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((u=h.stack)!==null&&u!==void 0?u:h.message),!1}typeof o=="number"&&(o={logLevel:o});var p=Ou("diag"),g=lL((d=o.logLevel)!==null&&d!==void 0?d:Ta.INFO,s);if(p&&!o.suppressOverrideMessage){var y=(f=new Error().stack)!==null&&f!==void 0?f:"<failed to generate stacktrace>";p.warn("Current logger will be overwritten from "+y),g.warn("Current logger will overwrite one already registered from "+y)}return f1("diag",g,r,!0)};r.setLogger=n,r.disable=function(){h1(dL,r)},r.createComponentLogger=function(s){return new oL(s)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function fL(e){return Symbol.for(e)}var hL=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,s){var o=new e(r._currentContext);return o._currentContext.set(n,s),o},r.deleteValue=function(n){var s=new e(r._currentContext);return s._currentContext.delete(n),s}}return e}(),mL=new hL,pL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],u;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o},vL=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},gL=function(){function e(){}return e.prototype.active=function(){return mL},e.prototype.with=function(t,r,n){for(var s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return r.call.apply(r,vL([n],pL(s),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),yL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],u;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o},bL=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},Am="context",xL=new gL,m1=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return f1(Am,t,od.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var s,o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];return(s=this._getContextManager()).with.apply(s,bL([t,r,n],yL(o),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Ou(Am)||xL},e.prototype.disable=function(){this._getContextManager().disable(),h1(Am,od.instance())},e}(),dp;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(dp||(dp={}));var X8="0000000000000000",K8="00000000000000000000000000000000",wL={traceId:K8,spanId:X8,traceFlags:dp.NONE},yu=function(){function e(t){t===void 0&&(t=wL),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}(),p1=fL("OpenTelemetry Context Key SPAN");function v1(e){return e.getValue(p1)||void 0}function SL(){return v1(m1.getInstance().active())}function g1(e,t){return e.setValue(p1,t)}function _L(e){return e.deleteValue(p1)}function zL(e,t){return g1(e,new yu(t))}function J8(e){var t;return(t=v1(e))===null||t===void 0?void 0:t.spanContext()}var kL=/^([0-9a-f]{32})$/i,TL=/^[0-9a-f]{16}$/i;function AL(e){return kL.test(e)&&e!==K8}function EL(e){return TL.test(e)&&e!==X8}function W8(e){return AL(e.traceId)&&EL(e.spanId)}function ML(e){return new yu(e)}var Em=m1.getInstance(),Q8=function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=Em.active());var s=!!(r!=null&&r.root);if(s)return new yu;var o=n&&J8(n);return NL(o)&&W8(o)?new yu(o):new yu},e.prototype.startActiveSpan=function(t,r,n,s){var o,u,d;if(!(arguments.length<2)){arguments.length===2?d=r:arguments.length===3?(o=r,d=n):(o=r,u=n,d=s);var f=u??Em.active(),h=this.startSpan(t,o,f),p=g1(f,h);return Em.with(p,d,void 0,h)}},e}();function NL(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var OL=new Q8,CL=function(){function e(t,r,n,s){this._provider=t,this.name=r,this.version=n,this.options=s}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,s){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):OL},e}(),RL=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new Q8},e}(),IL=new RL,z5=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var s;return(s=this.getDelegateTracer(t,r,n))!==null&&s!==void 0?s:new CL(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:IL},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,r,n)},e}(),ld;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(ld||(ld={}));var k5=m1.getInstance(),Mm="trace",DL=function(){function e(){this._proxyTracerProvider=new z5,this.wrapSpanContext=ML,this.isSpanContextValid=W8,this.deleteSpan=_L,this.getSpan=v1,this.getActiveSpan=SL,this.getSpanContext=J8,this.setSpan=g1,this.setSpanContext=zL}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=f1(Mm,this._proxyTracerProvider,od.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Ou(Mm)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){h1(Mm,od.instance()),this._proxyTracerProvider=new z5},e}(),jL=DL.getInstance(),$L=Object.defineProperty,BL=(e,t)=>{for(var r in t)$L(e,r,{get:t[r],enumerable:!0})},ex="AI_InvalidArgumentError",tx=`vercel.ai.error.${ex}`,LL=Symbol.for(tx),rx,dn=class extends Fe{constructor({parameter:e,value:t,message:r}){super({name:ex,message:`Invalid argument for parameter ${e}: ${r}`}),this[rx]=!0,this.parameter=e,this.value=t}static isInstance(e){return Fe.hasMarker(e,tx)}};rx=LL;var ax="AI_InvalidToolApprovalError",nx=`vercel.ai.error.${ax}`,UL=Symbol.for(nx),ix,qL=class extends Fe{constructor({approvalId:e}){super({name:ax,message:`Tool approval response references unknown approvalId: "${e}". No matching tool-approval-request found in message history.`}),this[ix]=!0,this.approvalId=e}static isInstance(e){return Fe.hasMarker(e,nx)}};ix=UL;var sx="AI_InvalidToolInputError",ox=`vercel.ai.error.${sx}`,HL=Symbol.for(ox),lx,y1=class extends Fe{constructor({toolInput:e,toolName:t,cause:r,message:n=`Invalid input for tool ${t}: ${Bs(r)}`}){super({name:sx,message:n,cause:r}),this[lx]=!0,this.toolInput=e,this.toolName=t}static isInstance(e){return Fe.hasMarker(e,ox)}};lx=HL;var ux="AI_ToolCallNotFoundForApprovalError",cx=`vercel.ai.error.${ux}`,PL=Symbol.for(cx),dx,fx=class extends Fe{constructor({toolCallId:e,approvalId:t}){super({name:ux,message:`Tool call "${e}" not found for approval request "${t}".`}),this[dx]=!0,this.toolCallId=e,this.approvalId=t}static isInstance(e){return Fe.hasMarker(e,cx)}};dx=PL;var hx="AI_MissingToolResultsError",mx=`vercel.ai.error.${hx}`,ZL=Symbol.for(mx),px,T5=class extends Fe{constructor({toolCallIds:e}){super({name:hx,message:`Tool result${e.length>1?"s are":" is"} missing for tool call${e.length>1?"s":""} ${e.join(", ")}.`}),this[px]=!0,this.toolCallIds=e}static isInstance(e){return Fe.hasMarker(e,mx)}};px=ZL;var vx="AI_NoObjectGeneratedError",gx=`vercel.ai.error.${vx}`,GL=Symbol.for(gx),yx,Xi=class extends Fe{constructor({message:e="No object generated.",cause:t,text:r,response:n,usage:s,finishReason:o}){super({name:vx,message:e,cause:t}),this[yx]=!0,this.text=r,this.response=n,this.usage=s,this.finishReason=o}static isInstance(e){return Fe.hasMarker(e,gx)}};yx=GL;var bx="AI_NoOutputGeneratedError",xx=`vercel.ai.error.${bx}`,VL=Symbol.for(xx),wx,YL=class extends Fe{constructor({message:e="No output generated.",cause:t}={}){super({name:bx,message:e,cause:t}),this[wx]=!0}static isInstance(e){return Fe.hasMarker(e,xx)}};wx=VL;var Sx="AI_NoSuchToolError",_x=`vercel.ai.error.${Sx}`,FL=Symbol.for(_x),zx,fp=class extends Fe{constructor({toolName:e,availableTools:t=void 0,message:r=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:Sx,message:r}),this[zx]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Fe.hasMarker(e,_x)}};zx=FL;var kx="AI_ToolCallRepairError",Tx=`vercel.ai.error.${kx}`,XL=Symbol.for(Tx),Ax,KL=class extends Fe{constructor({cause:e,originalError:t,message:r=`Error repairing tool call: ${Bs(e)}`}){super({name:kx,message:r,cause:e}),this[Ax]=!0,this.originalError=t}static isInstance(e){return Fe.hasMarker(e,Tx)}};Ax=XL;var JL=class extends Fe{constructor(e){super({name:"AI_UnsupportedModelVersionError",message:`Unsupported model version ${e.version} for provider "${e.provider}" and model "${e.modelId}". AI SDK 5 only supports models that implement specification version "v2".`}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},Ex="AI_UIMessageStreamError",Mx=`vercel.ai.error.${Ex}`,WL=Symbol.for(Mx),Nx,Io=class extends Fe{constructor({chunkType:e,chunkId:t,message:r}){super({name:Ex,message:r}),this[Nx]=!0,this.chunkType=e,this.chunkId=t}static isInstance(e){return Fe.hasMarker(e,Mx)}};Nx=WL;var Ox="AI_InvalidMessageRoleError",Cx=`vercel.ai.error.${Ox}`,QL=Symbol.for(Cx),Rx,eU=class extends Fe{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:Ox,message:t}),this[Rx]=!0,this.role=e}static isInstance(e){return Fe.hasMarker(e,Cx)}};Rx=QL;var Ix="AI_MessageConversionError",Dx=`vercel.ai.error.${Ix}`,tU=Symbol.for(Dx),jx,rU=class extends Fe{constructor({originalMessage:e,message:t}){super({name:Ix,message:t}),this[jx]=!0,this.originalMessage=e}static isInstance(e){return Fe.hasMarker(e,Dx)}};jx=tU;var $x="AI_RetryError",Bx=`vercel.ai.error.${$x}`,aU=Symbol.for(Bx),Lx,A5=class extends Fe{constructor({message:e,reason:t,errors:r}){super({name:$x,message:e}),this[Lx]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return Fe.hasMarker(e,Bx)}};Lx=aU;function nU({warning:e,provider:t,model:r}){const n=`AI SDK Warning (${t} / ${r}):`;switch(e.type){case"unsupported":{let s=`${n} The feature "${e.feature}" is not supported.`;return e.details&&(s+=` ${e.details}`),s}case"compatibility":{let s=`${n} The feature "${e.feature}" is used in a compatibility mode.`;return e.details&&(s+=` ${e.details}`),s}case"other":return`${n} ${e.message}`;default:return`${n} ${JSON.stringify(e,null,2)}`}}var iU="AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.",E5=!1,Ux=e=>{if(e.warnings.length===0)return;const t=globalThis.AI_SDK_LOG_WARNINGS;if(t!==!1){if(typeof t=="function"){t(e);return}E5||(E5=!0,console.info(iU));for(const r of e.warnings)console.warn(nU({warning:r,provider:e.provider,model:e.model}))}};function sU({provider:e,modelId:t}){Ux({warnings:[{type:"compatibility",feature:"specificationVersion",details:"Using v2 specification compatibility mode. Some features may not be available."}],provider:e,model:t})}function oU(e){return e.specificationVersion==="v3"?e:(sU({provider:e.provider,modelId:e.modelId}),new Proxy(e,{get(t,r){switch(r){case"specificationVersion":return"v3";case"doGenerate":return async(...n)=>{const s=await t.doGenerate(...n);return{...s,finishReason:qx(s.finishReason),usage:Hx(s.usage)}};case"doStream":return async(...n)=>{const s=await t.doStream(...n);return{...s,stream:lU(s.stream)}};default:return t[r]}}}))}function lU(e){return e.pipeThrough(new TransformStream({transform(t,r){switch(t.type){case"finish":r.enqueue({...t,finishReason:qx(t.finishReason),usage:Hx(t.usage)});break;default:r.enqueue(t);break}}}))}function qx(e){return{unified:e==="unknown"?"other":e,raw:void 0}}function Hx(e){return{inputTokens:{total:e.inputTokens,noCache:void 0,cacheRead:e.cachedInputTokens,cacheWrite:void 0},outputTokens:{total:e.outputTokens,text:void 0,reasoning:e.reasoningTokens}}}function Px(e){if(typeof e!="string"){if(e.specificationVersion!=="v3"&&e.specificationVersion!=="v2"){const t=e;throw new JL({version:t.specificationVersion,provider:t.provider,modelId:t.modelId})}return oU(e)}return uU().languageModel(e)}function uU(){var e;return(e=globalThis.AI_SDK_DEFAULT_PROVIDER)!=null?e:QB}function Zx(e){if(e!=null)return typeof e=="number"?e:e.totalMs}function cU(e){if(!(e==null||typeof e=="number"))return e.stepMs}function dU(e){if(!(e==null||typeof e=="number"))return e.chunkMs}var fU=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],hU=e=>{const t=typeof e=="string"?o1(e):e,r=(t[6]&127)<<21|(t[7]&127)<<14|(t[8]&127)<<7|t[9]&127;return t.slice(r+10)};function mU(e){return typeof e=="string"&&e.startsWith("SUQz")||typeof e!="string"&&e.length>10&&e[0]===73&&e[1]===68&&e[2]===51?hU(e):e}function pU({data:e,signatures:t}){const r=mU(e),n=typeof r=="string"?o1(r.substring(0,Math.min(r.length,24))):r;for(const s of t)if(n.length>=s.bytesPrefix.length&&s.bytesPrefix.every((o,u)=>o===null||n[u]===o))return s.mediaType}var hp="6.0.59",vU=async({url:e})=>{var t;const r=e.toString();try{const n=await fetch(r,{headers:Us({},`ai-sdk/${hp}`,Eu())});if(!n.ok)throw new wm({url:r,statusCode:n.status,statusText:n.statusText});return{data:new Uint8Array(await n.arrayBuffer()),mediaType:(t=n.headers.get("content-type"))!=null?t:void 0}}catch(n){throw wm.isInstance(n)?n:new wm({url:r,cause:n})}},gU=(e=vU)=>t=>Promise.all(t.map(async r=>r.isUrlSupportedByModel?null:e(r)));function yU(e){try{const[t,r]=e.split(",");return{mediaType:t.split(";")[0].split(":")[1],base64Content:r}}catch{return{mediaType:void 0,base64Content:void 0}}}var Gx=cr([q(),nd(Uint8Array),nd(ArrayBuffer),z8(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]);function Vx(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if(typeof e=="string")try{e=new URL(e)}catch{}if(e instanceof URL&&e.protocol==="data:"){const{mediaType:t,base64Content:r}=yU(e.toString());if(t==null||r==null)throw new Fe({name:"InvalidDataContentError",message:`Invalid data URL format in content ${e.toString()}`});return{data:r,mediaType:t}}return{data:e,mediaType:void 0}}function bU(e){return typeof e=="string"?e:e instanceof ArrayBuffer?Au(new Uint8Array(e)):Au(e)}function ud(e){return e===void 0?[]:Array.isArray(e)?e:[e]}async function xU({prompt:e,supportedUrls:t,download:r=gU()}){const n=await SU(e.messages,r,t),s=new Map;for(const h of e.messages)if(h.role==="assistant"&&Array.isArray(h.content))for(const p of h.content)p.type==="tool-approval-request"&&"approvalId"in p&&"toolCallId"in p&&s.set(p.approvalId,p.toolCallId);const o=new Set;for(const h of e.messages)if(h.role==="tool"){for(const p of h.content)if(p.type==="tool-approval-response"){const g=s.get(p.approvalId);g&&o.add(g)}}const u=[...e.system!=null?typeof e.system=="string"?[{role:"system",content:e.system}]:ud(e.system).map(h=>({role:"system",content:h.content,providerOptions:h.providerOptions})):[],...e.messages.map(h=>wU({message:h,downloadedAssets:n}))],d=[];for(const h of u){if(h.role!=="tool"){d.push(h);continue}const p=d.at(-1);(p==null?void 0:p.role)==="tool"?p.content.push(...h.content):d.push(h)}const f=new Set;for(const h of d)switch(h.role){case"assistant":{for(const p of h.content)p.type==="tool-call"&&!p.providerExecuted&&f.add(p.toolCallId);break}case"tool":{for(const p of h.content)p.type==="tool-result"&&f.delete(p.toolCallId);break}case"user":case"system":for(const p of o)f.delete(p);if(f.size>0)throw new T5({toolCallIds:Array.from(f)});break}for(const h of o)f.delete(h);if(f.size>0)throw new T5({toolCallIds:Array.from(f)});return d.filter(h=>h.role!=="tool"||h.content.length>0)}function wU({message:e,downloadedAssets:t}){const r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerOptions:e.providerOptions};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerOptions:e.providerOptions}:{role:"user",content:e.content.map(n=>_U(n,t)).filter(n=>n.type!=="text"||n.text!==""),providerOptions:e.providerOptions};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerOptions:e.providerOptions}:{role:"assistant",content:e.content.filter(n=>n.type!=="text"||n.text!==""||n.providerOptions!=null).filter(n=>n.type!=="tool-approval-request").map(n=>{const s=n.providerOptions;switch(n.type){case"file":{const{data:o,mediaType:u}=Vx(n.data);return{type:"file",data:o,filename:n.filename,mediaType:u??n.mediaType,providerOptions:s}}case"reasoning":return{type:"reasoning",text:n.text,providerOptions:s};case"text":return{type:"text",text:n.text,providerOptions:s};case"tool-call":return{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,input:n.input,providerExecuted:n.providerExecuted,providerOptions:s};case"tool-result":return{type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,output:M5(n.output),providerOptions:s}}}),providerOptions:e.providerOptions};case"tool":return{role:"tool",content:e.content.filter(n=>n.type!=="tool-approval-response"||n.providerExecuted).map(n=>{switch(n.type){case"tool-result":return{type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,output:M5(n.output),providerOptions:n.providerOptions};case"tool-approval-response":return{type:"tool-approval-response",approvalId:n.approvalId,approved:n.approved,reason:n.reason}}}),providerOptions:e.providerOptions};default:{const n=r;throw new eU({role:n})}}}async function SU(e,t,r){const n=e.filter(o=>o.role==="user").map(o=>o.content).filter(o=>Array.isArray(o)).flat().filter(o=>o.type==="image"||o.type==="file").map(o=>{var u;const d=(u=o.mediaType)!=null?u:o.type==="image"?"image/*":void 0;let f=o.type==="image"?o.image:o.data;if(typeof f=="string")try{f=new URL(f)}catch{}return{mediaType:d,data:f}}).filter(o=>o.data instanceof URL).map(o=>({url:o.data,isUrlSupportedByModel:o.mediaType!=null&&m$({url:o.data.toString(),mediaType:o.mediaType,supportedUrls:r})})),s=await t(n);return Object.fromEntries(s.map((o,u)=>o==null?null:[n[u].url.toString(),{data:o.data,mediaType:o.mediaType}]).filter(o=>o!=null))}function _U(e,t){var r;if(e.type==="text")return{type:"text",text:e.text,providerOptions:e.providerOptions};let n;const s=e.type;switch(s){case"image":n=e.image;break;case"file":n=e.data;break;default:throw new Error(`Unsupported part type: ${s}`)}const{data:o,mediaType:u}=Vx(n);let d=u??e.mediaType,f=o;if(f instanceof URL){const h=t[f.toString()];h&&(f=h.data,d??(d=h.mediaType))}switch(s){case"image":return(f instanceof Uint8Array||typeof f=="string")&&(d=(r=pU({data:f,signatures:fU}))!=null?r:d),{type:"file",mediaType:d??"image/*",filename:void 0,data:f,providerOptions:e.providerOptions};case"file":{if(d==null)throw new Error("Media type is missing for file part");return{type:"file",mediaType:d,filename:e.filename,data:f,providerOptions:e.providerOptions}}}}function M5(e){return e.type!=="content"?e:{type:"content",value:e.value.map(t=>t.type!=="media"?t:t.mediaType.startsWith("image/")?{type:"image-data",data:t.data,mediaType:t.mediaType}:{type:"file-data",data:t.data,mediaType:t.mediaType})}}async function Vo({toolCallId:e,input:t,output:r,tool:n,errorMode:s}){return s==="text"?{type:"error-text",value:Bs(r)}:s==="json"?{type:"error-json",value:N5(r)}:n!=null&&n.toModelOutput?await n.toModelOutput({toolCallId:e,input:t,output:r}):typeof r=="string"?{type:"text",value:r}:{type:"json",value:N5(r)}}function N5(e){return e===void 0?null:e}function zU({maxOutputTokens:e,temperature:t,topP:r,topK:n,presencePenalty:s,frequencyPenalty:o,seed:u,stopSequences:d}){if(e!=null){if(!Number.isInteger(e))throw new dn({parameter:"maxOutputTokens",value:e,message:"maxOutputTokens must be an integer"});if(e<1)throw new dn({parameter:"maxOutputTokens",value:e,message:"maxOutputTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new dn({parameter:"temperature",value:t,message:"temperature must be a number"});if(r!=null&&typeof r!="number")throw new dn({parameter:"topP",value:r,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new dn({parameter:"topK",value:n,message:"topK must be a number"});if(s!=null&&typeof s!="number")throw new dn({parameter:"presencePenalty",value:s,message:"presencePenalty must be a number"});if(o!=null&&typeof o!="number")throw new dn({parameter:"frequencyPenalty",value:o,message:"frequencyPenalty must be a number"});if(u!=null&&!Number.isInteger(u))throw new dn({parameter:"seed",value:u,message:"seed must be an integer"});return{maxOutputTokens:e,temperature:t,topP:r,topK:n,presencePenalty:s,frequencyPenalty:o,stopSequences:d,seed:u}}function kU(e){return e!=null&&Object.keys(e).length>0}async function TU({tools:e,toolChoice:t,activeTools:r}){if(!kU(e))return{tools:void 0,toolChoice:void 0};const n=r!=null?Object.entries(e).filter(([o])=>r.includes(o)):Object.entries(e),s=[];for(const[o,u]of n){const d=u.type;switch(d){case void 0:case"dynamic":case"function":s.push({type:"function",name:o,description:u.description,inputSchema:await ol(u.inputSchema).jsonSchema,...u.inputExamples!=null?{inputExamples:u.inputExamples}:{},providerOptions:u.providerOptions,...u.strict!=null?{strict:u.strict}:{}});break;case"provider":s.push({type:"provider",name:o,id:u.id,args:u.args});break;default:{const f=d;throw new Error(`Unsupported tool type: ${f}`)}}}return{tools:s,toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}}var Cu=Qj(()=>cr([Tj(),q(),ot(),st(),ui(q(),Cu.optional()),Je(Cu)])),qe=ui(q(),ui(q(),Cu.optional())),Yx=de({type:Se("text"),text:q(),providerOptions:qe.optional()}),AU=de({type:Se("image"),image:cr([Gx,nd(URL)]),mediaType:q().optional(),providerOptions:qe.optional()}),Fx=de({type:Se("file"),data:cr([Gx,nd(URL)]),filename:q().optional(),mediaType:q(),providerOptions:qe.optional()}),EU=de({type:Se("reasoning"),text:q(),providerOptions:qe.optional()}),MU=de({type:Se("tool-call"),toolCallId:q(),toolName:q(),input:mt(),providerOptions:qe.optional(),providerExecuted:st().optional()}),NU=Cj("type",[de({type:Se("text"),value:q(),providerOptions:qe.optional()}),de({type:Se("json"),value:Cu,providerOptions:qe.optional()}),de({type:Se("execution-denied"),reason:q().optional(),providerOptions:qe.optional()}),de({type:Se("error-text"),value:q(),providerOptions:qe.optional()}),de({type:Se("error-json"),value:Cu,providerOptions:qe.optional()}),de({type:Se("content"),value:Je(cr([de({type:Se("text"),text:q(),providerOptions:qe.optional()}),de({type:Se("media"),data:q(),mediaType:q()}),de({type:Se("file-data"),data:q(),mediaType:q(),filename:q().optional(),providerOptions:qe.optional()}),de({type:Se("file-url"),url:q(),providerOptions:qe.optional()}),de({type:Se("file-id"),fileId:cr([q(),ui(q(),q())]),providerOptions:qe.optional()}),de({type:Se("image-data"),data:q(),mediaType:q(),providerOptions:qe.optional()}),de({type:Se("image-url"),url:q(),providerOptions:qe.optional()}),de({type:Se("image-file-id"),fileId:cr([q(),ui(q(),q())]),providerOptions:qe.optional()}),de({type:Se("custom"),providerOptions:qe.optional()})]))})]),Xx=de({type:Se("tool-result"),toolCallId:q(),toolName:q(),output:NU,providerOptions:qe.optional()}),OU=de({type:Se("tool-approval-request"),approvalId:q(),toolCallId:q()}),CU=de({type:Se("tool-approval-response"),approvalId:q(),approved:st(),reason:q().optional()}),RU=de({role:Se("system"),content:q(),providerOptions:qe.optional()}),IU=de({role:Se("user"),content:cr([q(),Je(cr([Yx,AU,Fx]))]),providerOptions:qe.optional()}),DU=de({role:Se("assistant"),content:cr([q(),Je(cr([Yx,Fx,EU,MU,Xx,OU]))]),providerOptions:qe.optional()}),jU=de({role:Se("tool"),content:Je(cr([Xx,CU])),providerOptions:qe.optional()}),$U=cr([RU,IU,DU,jU]);async function BU(e){if(e.prompt==null&&e.messages==null)throw new Ro({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Ro({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string"&&!ud(e.system).every(n=>typeof n=="object"&&n!==null&&"role"in n&&n.role==="system"))throw new Ro({prompt:e,message:"system must be a string, SystemModelMessage, or array of SystemModelMessage"});let t;if(e.prompt!=null&&typeof e.prompt=="string")t=[{role:"user",content:e.prompt}];else if(e.prompt!=null&&Array.isArray(e.prompt))t=e.prompt;else if(e.messages!=null)t=e.messages;else throw new Ro({prompt:e,message:"prompt or messages must be defined"});if(t.length===0)throw new Ro({prompt:e,message:"messages must not be empty"});const r=await mn({value:t,schema:Je($U)});if(!r.success)throw new Ro({prompt:e,message:"The messages do not match the ModelMessage[] schema.",cause:r.error});return{messages:t,system:e.system}}function LU(e){if(!d1.isInstance(e))return e;const t=(process==null?void 0:"production")==="production",r="https://ai-sdk.dev/unauthenticated-ai-gateway";return t?new Fe({name:"GatewayError",message:`Unauthenticated. Configure AI_GATEWAY_API_KEY or use a provider module. Learn more: ${r}`}):Object.assign(new Error(`\x1B[1m\x1B[31mUnauthenticated request to AI Gateway.\x1B[0m

To authenticate, set the \x1B[33mAI_GATEWAY_API_KEY\x1B[0m environment variable with your API key.

Alternatively, you can use a provider module instead of the AI Gateway.

Learn more: \x1B[34m${r}\x1B[0m

`),{name:"GatewayAuthenticationError"})}function mp({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function UU({model:e,settings:t,telemetry:r,headers:n}){var s;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((o,[u,d])=>{if(u==="timeout"){const f=Zx(d);f!=null&&(o[`ai.settings.${u}`]=f)}else o[`ai.settings.${u}`]=d;return o},{}),...Object.entries((s=r==null?void 0:r.metadata)!=null?s:{}).reduce((o,[u,d])=>(o[`ai.telemetry.metadata.${u}`]=d,o),{}),...Object.entries(n??{}).reduce((o,[u,d])=>(d!==void 0&&(o[`ai.request.headers.${u}`]=d),o),{})}}var qU={startSpan(){return kc},startActiveSpan(e,t,r,n){if(typeof t=="function")return t(kc);if(typeof r=="function")return r(kc);if(typeof n=="function")return n(kc)}},kc={spanContext(){return HU},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},HU={traceId:"",spanId:"",traceFlags:0};function PU({isEnabled:e=!1,tracer:t}={}){return e?t||jL.getTracer("ai"):qU}async function pp({name:e,tracer:t,attributes:r,fn:n,endWhenDone:s=!0}){return t.startActiveSpan(e,{attributes:await r},async o=>{const u=k5.active();try{const d=await k5.with(u,()=>n(o));return s&&o.end(),d}catch(d){try{Kx(o,d)}finally{o.end()}throw d}})}function Kx(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:ld.ERROR,message:t.message})):e.setStatus({code:ld.ERROR})}async function Ho({telemetry:e,attributes:t}){if((e==null?void 0:e.isEnabled)!==!0)return{};const r={};for(const[n,s]of Object.entries(t))if(s!=null){if(typeof s=="object"&&"input"in s&&typeof s.input=="function"){if((e==null?void 0:e.recordInputs)===!1)continue;const o=await s.input();o!=null&&(r[n]=o);continue}if(typeof s=="object"&&"output"in s&&typeof s.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)continue;const o=await s.output();o!=null&&(r[n]=o);continue}r[n]=s}return r}function ZU(e){return JSON.stringify(e.map(t=>({...t,content:typeof t.content=="string"?t.content:t.content.map(r=>r.type==="file"?{...r,data:r.data instanceof Uint8Array?bU(r.data):r.data}:r)})))}function GU(e){return{inputTokens:e.inputTokens.total,inputTokenDetails:{noCacheTokens:e.inputTokens.noCache,cacheReadTokens:e.inputTokens.cacheRead,cacheWriteTokens:e.inputTokens.cacheWrite},outputTokens:e.outputTokens.total,outputTokenDetails:{textTokens:e.outputTokens.text,reasoningTokens:e.outputTokens.reasoning},totalTokens:cn(e.inputTokens.total,e.outputTokens.total),raw:e.raw,reasoningTokens:e.outputTokens.reasoning,cachedInputTokens:e.inputTokens.cacheRead}}function Nm(){return{inputTokens:void 0,inputTokenDetails:{noCacheTokens:void 0,cacheReadTokens:void 0,cacheWriteTokens:void 0},outputTokens:void 0,outputTokenDetails:{textTokens:void 0,reasoningTokens:void 0},totalTokens:void 0,raw:void 0}}function VU(e,t){var r,n,s,o,u,d,f,h,p,g;return{inputTokens:cn(e.inputTokens,t.inputTokens),inputTokenDetails:{noCacheTokens:cn((r=e.inputTokenDetails)==null?void 0:r.noCacheTokens,(n=t.inputTokenDetails)==null?void 0:n.noCacheTokens),cacheReadTokens:cn((s=e.inputTokenDetails)==null?void 0:s.cacheReadTokens,(o=t.inputTokenDetails)==null?void 0:o.cacheReadTokens),cacheWriteTokens:cn((u=e.inputTokenDetails)==null?void 0:u.cacheWriteTokens,(d=t.inputTokenDetails)==null?void 0:d.cacheWriteTokens)},outputTokens:cn(e.outputTokens,t.outputTokens),outputTokenDetails:{textTokens:cn((f=e.outputTokenDetails)==null?void 0:f.textTokens,(h=t.outputTokenDetails)==null?void 0:h.textTokens),reasoningTokens:cn((p=e.outputTokenDetails)==null?void 0:p.reasoningTokens,(g=t.outputTokenDetails)==null?void 0:g.reasoningTokens)},totalTokens:cn(e.totalTokens,t.totalTokens),reasoningTokens:cn(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:cn(e.cachedInputTokens,t.cachedInputTokens)}}function cn(e,t){return e==null&&t==null?void 0:(e??0)+(t??0)}function b1(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const r={...e};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(s===void 0)continue;const o=n in e?e[n]:void 0,u=s!==null&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&!(s instanceof RegExp),d=o!=null&&typeof o=="object"&&!Array.isArray(o)&&!(o instanceof Date)&&!(o instanceof RegExp);u&&d?r[n]=b1(o,s):r[n]=s}return r}function YU({error:e,exponentialBackoffDelay:t}){const r=e.responseHeaders;if(!r)return t;let n;const s=r["retry-after-ms"];if(s){const u=parseFloat(s);Number.isNaN(u)||(n=u)}const o=r["retry-after"];if(o&&n===void 0){const u=parseFloat(o);Number.isNaN(u)?n=Date.parse(o)-Date.now():n=u*1e3}return n!=null&&!Number.isNaN(n)&&0<=n&&(n<60*1e3||n<t)?n:t}var FU=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2,abortSignal:n}={})=>async s=>Jx(s,{maxRetries:e,delayInMs:t,backoffFactor:r,abortSignal:n});async function Jx(e,{maxRetries:t,delayInMs:r,backoffFactor:n,abortSignal:s},o=[]){try{return await e()}catch(u){if(Ls(u)||t===0)throw u;const d=E8(u),f=[...o,u],h=f.length;if(h>t)throw new A5({message:`Failed after ${h} attempts. Last error: ${d}`,reason:"maxRetriesExceeded",errors:f});if(u instanceof Error&&Kr.isInstance(u)&&u.isRetryable===!0&&h<=t)return await i$(YU({error:u,exponentialBackoffDelay:r}),{abortSignal:s}),Jx(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n,abortSignal:s},f);throw h===1?u:new A5({message:`Failed after ${h} attempts with non-retryable error: '${d}'`,reason:"errorNotRetryable",errors:f})}}function XU({maxRetries:e,abortSignal:t}){if(e!=null){if(!Number.isInteger(e))throw new dn({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new dn({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const r=e??2;return{maxRetries:r,retry:FU({maxRetries:r,abortSignal:t})}}function KU({messages:e}){const t=e.at(-1);if((t==null?void 0:t.role)!="tool")return{approvedToolApprovals:[],deniedToolApprovals:[]};const r={};for(const f of e)if(f.role==="assistant"&&typeof f.content!="string"){const h=f.content;for(const p of h)p.type==="tool-call"&&(r[p.toolCallId]=p)}const n={};for(const f of e)if(f.role==="assistant"&&typeof f.content!="string"){const h=f.content;for(const p of h)p.type==="tool-approval-request"&&(n[p.approvalId]=p)}const s={};for(const f of t.content)f.type==="tool-result"&&(s[f.toolCallId]=f);const o=[],u=[],d=t.content.filter(f=>f.type==="tool-approval-response");for(const f of d){const h=n[f.approvalId];if(h==null)throw new qL({approvalId:f.approvalId});if(s[h.toolCallId]!=null)continue;const p=r[h.toolCallId];if(p==null)throw new fx({toolCallId:h.toolCallId,approvalId:h.approvalId});const g={approvalRequest:h,approvalResponse:f,toolCall:p};f.approved?o.push(g):u.push(g)}return{approvedToolApprovals:o,deniedToolApprovals:u}}async function Wx({toolCall:e,tools:t,tracer:r,telemetry:n,messages:s,abortSignal:o,experimental_context:u,onPreliminaryToolResult:d}){const{toolName:f,toolCallId:h,input:p}=e,g=t==null?void 0:t[f];if((g==null?void 0:g.execute)!=null)return pp({name:"ai.toolCall",attributes:Ho({telemetry:n,attributes:{...mp({operationId:"ai.toolCall",telemetry:n}),"ai.toolCall.name":f,"ai.toolCall.id":h,"ai.toolCall.args":{output:()=>JSON.stringify(p)}}}),tracer:r,fn:async y=>{let x;try{const k=mB({execute:g.execute.bind(g),input:p,options:{toolCallId:h,messages:s,abortSignal:o,experimental_context:u}});for await(const S of k)S.type==="preliminary"?d==null||d({...e,type:"tool-result",output:S.output,preliminary:!0}):x=S.output}catch(k){return Kx(y,k),{type:"tool-error",toolCallId:h,toolName:f,input:p,error:k,dynamic:g.type==="dynamic",...e.providerMetadata!=null?{providerMetadata:e.providerMetadata}:{}}}try{y.setAttributes(await Ho({telemetry:n,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(x)}}}))}catch{}return{type:"tool-result",toolCallId:h,toolName:f,input:p,output:x,dynamic:g.type==="dynamic",...e.providerMetadata!=null?{providerMetadata:e.providerMetadata}:{}}}})}var JU=class{constructor({data:e,mediaType:t}){const r=e instanceof Uint8Array;this.base64Data=r?void 0:e,this.uint8ArrayData=r?e:void 0,this.mediaType=t}get base64(){return this.base64Data==null&&(this.base64Data=Au(this.uint8ArrayData)),this.base64Data}get uint8Array(){return this.uint8ArrayData==null&&(this.uint8ArrayData=o1(this.base64Data)),this.uint8ArrayData}},WU=class extends JU{constructor(e){super(e),this.type="file"}};async function QU({tool:e,toolCall:t,messages:r,experimental_context:n}){return e.needsApproval==null?!1:typeof e.needsApproval=="boolean"?e.needsApproval:await e.needsApproval(t.input,{toolCallId:t.toolCallId,messages:r,experimental_context:n})}var eq={};BL(eq,{array:()=>aq,choice:()=>nq,json:()=>iq,object:()=>rq,text:()=>vp});function tq(e){const t=["ROOT"];let r=-1,n=null;function s(f,h,p){switch(f){case'"':{r=h,t.pop(),t.push(p),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=h,n=h,t.pop(),t.push(p),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=h,t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"{":{r=h,t.pop(),t.push(p),t.push("INSIDE_OBJECT_START");break}case"[":{r=h,t.pop(),t.push(p),t.push("INSIDE_ARRAY_START");break}}}function o(f,h){switch(f){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=h,t.pop();break}}}function u(f,h){switch(f){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=h,t.pop();break}}}for(let f=0;f<e.length;f++){const h=e[f];switch(t[t.length-1]){case"ROOT":s(h,f,"FINISH");break;case"INSIDE_OBJECT_START":{switch(h){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{r=f,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(h){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(h){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(h){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(h,f,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{o(h,f);break}case"INSIDE_STRING":{switch(h){case'"':{t.pop(),r=f;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:r=f}break}case"INSIDE_ARRAY_START":{switch(h){case"]":{r=f,t.pop();break}default:{r=f,s(h,f,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(h){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=f,t.pop();break}default:{r=f;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(h,f,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),r=f;break}case"INSIDE_NUMBER":{switch(h){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=f;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(h,f),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(h,f);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(h,f);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(h,f);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const g=e.substring(n,f+1);!"false".startsWith(g)&&!"true".startsWith(g)&&!"null".startsWith(g)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?o(h,f):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(h,f)):r=f;break}}}let d=e.slice(0,r+1);for(let f=t.length-1;f>=0;f--)switch(t[f]){case"INSIDE_STRING":{d+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{d+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{d+="]";break}case"INSIDE_LITERAL":{const p=e.substring(n,e.length);"true".startsWith(p)?d+="true".slice(p.length):"false".startsWith(p)?d+="false".slice(p.length):"null".startsWith(p)&&(d+="null".slice(p.length))}}return d}async function Lu(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await pn({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await pn({text:tq(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var vp=()=>({name:"text",responseFormat:Promise.resolve({type:"text"}),async parseCompleteOutput({text:e}){return e},async parsePartialOutput({text:e}){return{partial:e}},createElementStreamTransform(){}}),rq=({schema:e,name:t,description:r})=>{const n=ol(e);return{name:"object",responseFormat:yr(n.jsonSchema).then(s=>({type:"json",schema:s,...t!=null&&{name:t},...r!=null&&{description:r}})),async parseCompleteOutput({text:s},o){const u=await pn({text:s});if(!u.success)throw new Xi({message:"No object generated: could not parse the response.",cause:u.error,text:s,response:o.response,usage:o.usage,finishReason:o.finishReason});const d=await mn({value:u.value,schema:n});if(!d.success)throw new Xi({message:"No object generated: response did not match schema.",cause:d.error,text:s,response:o.response,usage:o.usage,finishReason:o.finishReason});return d.value},async parsePartialOutput({text:s}){const o=await Lu(s);switch(o.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:o.value}}},createElementStreamTransform(){}}},aq=({element:e,name:t,description:r})=>{const n=ol(e);return{name:"array",responseFormat:yr(n.jsonSchema).then(s=>{const{$schema:o,...u}=s;return{type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:u}},required:["elements"],additionalProperties:!1},...t!=null&&{name:t},...r!=null&&{description:r}}}),async parseCompleteOutput({text:s},o){const u=await pn({text:s});if(!u.success)throw new Xi({message:"No object generated: could not parse the response.",cause:u.error,text:s,response:o.response,usage:o.usage,finishReason:o.finishReason});const d=u.value;if(d==null||typeof d!="object"||!("elements"in d)||!Array.isArray(d.elements))throw new Xi({message:"No object generated: response did not match schema.",cause:new li({value:d,cause:"response must be an object with an elements array"}),text:s,response:o.response,usage:o.usage,finishReason:o.finishReason});for(const f of d.elements){const h=await mn({value:f,schema:n});if(!h.success)throw new Xi({message:"No object generated: response did not match schema.",cause:h.error,text:s,response:o.response,usage:o.usage,finishReason:o.finishReason})}return d.elements},async parsePartialOutput({text:s}){const o=await Lu(s);switch(o.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{const u=o.value;if(u==null||typeof u!="object"||!("elements"in u)||!Array.isArray(u.elements))return;const d=o.state==="repaired-parse"&&u.elements.length>0?u.elements.slice(0,-1):u.elements,f=[];for(const h of d){const p=await mn({value:h,schema:n});p.success&&f.push(p.value)}return{partial:f}}}},createElementStreamTransform(){let s=0;return new TransformStream({transform({partialOutput:o},u){if(o!=null)for(;s<o.length;s++)u.enqueue(o[s])}})}}},nq=({options:e,name:t,description:r})=>({name:"choice",responseFormat:Promise.resolve({type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:e}},required:["result"],additionalProperties:!1},...t!=null&&{name:t},...r!=null&&{description:r}}),async parseCompleteOutput({text:n},s){const o=await pn({text:n});if(!o.success)throw new Xi({message:"No object generated: could not parse the response.",cause:o.error,text:n,response:s.response,usage:s.usage,finishReason:s.finishReason});const u=o.value;if(u==null||typeof u!="object"||!("result"in u)||typeof u.result!="string"||!e.includes(u.result))throw new Xi({message:"No object generated: response did not match schema.",cause:new li({value:u,cause:"response must be an object that contains a choice value."}),text:n,response:s.response,usage:s.usage,finishReason:s.finishReason});return u.result},async parsePartialOutput({text:n}){const s=await Lu(n);switch(s.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{const o=s.value;if(o==null||typeof o!="object"||!("result"in o)||typeof o.result!="string")return;const u=e.filter(d=>d.startsWith(o.result));return s.state==="successful-parse"?u.includes(o.result)?{partial:o.result}:void 0:u.length===1?{partial:u[0]}:void 0}}},createElementStreamTransform(){}}),iq=({name:e,description:t}={})=>({name:"json",responseFormat:Promise.resolve({type:"json",...e!=null&&{name:e},...t!=null&&{description:t}}),async parseCompleteOutput({text:r},n){const s=await pn({text:r});if(!s.success)throw new Xi({message:"No object generated: could not parse the response.",cause:s.error,text:r,response:n.response,usage:n.usage,finishReason:n.finishReason});return s.value},async parsePartialOutput({text:r}){const n=await Lu(r);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return n.value===void 0?void 0:{partial:n.value}}},createElementStreamTransform(){}});async function sq({toolCall:e,tools:t,repairToolCall:r,system:n,messages:s}){var o;try{if(t==null){if(e.providerExecuted&&e.dynamic)return await Qx(e);throw new fp({toolName:e.toolName})}try{return await O5({toolCall:e,tools:t})}catch(u){if(r==null||!(fp.isInstance(u)||y1.isInstance(u)))throw u;let d=null;try{d=await r({toolCall:e,tools:t,inputSchema:async({toolName:f})=>{const{inputSchema:h}=t[f];return await ol(h).jsonSchema},system:n,messages:s,error:u})}catch(f){throw new KL({cause:f,originalError:u})}if(d==null)throw u;return await O5({toolCall:d,tools:t})}}catch(u){const d=await pn({text:e.input}),f=d.success?d.value:e.input;return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:f,dynamic:!0,invalid:!0,error:u,title:(o=t==null?void 0:t[e.toolName])==null?void 0:o.title,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}}}async function Qx(e){const t=e.input.trim()===""?{success:!0,value:{}}:await pn({text:e.input});if(t.success===!1)throw new y1({toolName:e.toolName,toolInput:e.input,cause:t.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:t.value,providerExecuted:!0,dynamic:!0,providerMetadata:e.providerMetadata}}async function O5({toolCall:e,tools:t}){const r=e.toolName,n=t[r];if(n==null){if(e.providerExecuted&&e.dynamic)return await Qx(e);throw new fp({toolName:e.toolName,availableTools:Object.keys(t)})}const s=ol(n.inputSchema),o=e.input.trim()===""?await mn({value:{},schema:s}):await pn({text:e.input,schema:s});if(o.success===!1)throw new y1({toolName:r,toolInput:e.input,cause:o.error});return n.type==="dynamic"?{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:o.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata,dynamic:!0,title:n.title}:{type:"tool-call",toolCallId:e.toolCallId,toolName:r,input:o.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata,title:n.title}}var oq=class{constructor({content:e,finishReason:t,rawFinishReason:r,usage:n,warnings:s,request:o,response:u,providerMetadata:d}){this.content=e,this.finishReason=t,this.rawFinishReason=r,this.usage=n,this.warnings=s,this.request=o,this.response=u,this.providerMetadata=d}get text(){return this.content.filter(e=>e.type==="text").map(e=>e.text).join("")}get reasoning(){return this.content.filter(e=>e.type==="reasoning")}get reasoningText(){return this.reasoning.length===0?void 0:this.reasoning.map(e=>e.text).join("")}get files(){return this.content.filter(e=>e.type==="file").map(e=>e.file)}get sources(){return this.content.filter(e=>e.type==="source")}get toolCalls(){return this.content.filter(e=>e.type==="tool-call")}get staticToolCalls(){return this.toolCalls.filter(e=>e.dynamic!==!0)}get dynamicToolCalls(){return this.toolCalls.filter(e=>e.dynamic===!0)}get toolResults(){return this.content.filter(e=>e.type==="tool-result")}get staticToolResults(){return this.toolResults.filter(e=>e.dynamic!==!0)}get dynamicToolResults(){return this.toolResults.filter(e=>e.dynamic===!0)}};function e9(e){return({steps:t})=>t.length===e}function lq(e){return({steps:t})=>{var r,n,s;return(s=(n=(r=t[t.length-1])==null?void 0:r.toolCalls)==null?void 0:n.some(o=>o.toolName===e))!=null?s:!1}}async function uq({stopConditions:e,steps:t}){return(await Promise.all(e.map(r=>r({steps:t})))).some(r=>r)}async function C5({content:e,tools:t}){const r=[],n=[];for(const o of e)if(o.type!=="source"&&!((o.type==="tool-result"||o.type==="tool-error")&&!o.providerExecuted)&&!(o.type==="text"&&o.text.length===0))switch(o.type){case"text":n.push({type:"text",text:o.text,providerOptions:o.providerMetadata});break;case"reasoning":n.push({type:"reasoning",text:o.text,providerOptions:o.providerMetadata});break;case"file":n.push({type:"file",data:o.file.base64,mediaType:o.file.mediaType,providerOptions:o.providerMetadata});break;case"tool-call":n.push({type:"tool-call",toolCallId:o.toolCallId,toolName:o.toolName,input:o.input,providerExecuted:o.providerExecuted,providerOptions:o.providerMetadata});break;case"tool-result":{const u=await Vo({toolCallId:o.toolCallId,input:o.input,tool:t==null?void 0:t[o.toolName],output:o.output,errorMode:"none"});n.push({type:"tool-result",toolCallId:o.toolCallId,toolName:o.toolName,output:u,providerOptions:o.providerMetadata});break}case"tool-error":{const u=await Vo({toolCallId:o.toolCallId,input:o.input,tool:t==null?void 0:t[o.toolName],output:o.error,errorMode:"json"});n.push({type:"tool-result",toolCallId:o.toolCallId,toolName:o.toolName,output:u,providerOptions:o.providerMetadata});break}case"tool-approval-request":n.push({type:"tool-approval-request",approvalId:o.approvalId,toolCallId:o.toolCall.toolCallId});break}n.length>0&&r.push({role:"assistant",content:n});const s=[];for(const o of e){if(!(o.type==="tool-result"||o.type==="tool-error")||o.providerExecuted)continue;const u=await Vo({toolCallId:o.toolCallId,input:o.input,tool:t==null?void 0:t[o.toolName],output:o.type==="tool-result"?o.output:o.error,errorMode:o.type==="tool-error"?"text":"none"});s.push({type:"tool-result",toolCallId:o.toolCallId,toolName:o.toolName,output:u,...o.providerMetadata!=null?{providerOptions:o.providerMetadata}:{}})}return s.length>0&&r.push({role:"tool",content:s}),r}function cq(...e){const t=e.filter(n=>n!=null);if(t.length===0)return;if(t.length===1)return t[0];const r=new AbortController;for(const n of t){if(n.aborted)return r.abort(n.reason),r.signal;n.addEventListener("abort",()=>{r.abort(n.reason)},{once:!0})}return r.signal}Bu({prefix:"aitxt",size:24});function Od(e,t){const r=new Headers(e??{});for(const[n,s]of Object.entries(t))r.has(n)||r.set(n,s);return r}function dq({status:e,statusText:t,headers:r,textStream:n}){return new Response(n.pipeThrough(new TextEncoderStream),{status:e??200,statusText:t,headers:Od(r,{"content-type":"text/plain; charset=utf-8"})})}function t9({response:e,status:t,statusText:r,headers:n,stream:s}){const o=t??200;r!==void 0?e.writeHead(o,r,n):e.writeHead(o,n);const u=s.getReader();(async()=>{try{for(;;){const{done:f,value:h}=await u.read();if(f)break;e.write(h)||await new Promise(g=>{e.once("drain",g)})}}catch(f){throw f}finally{e.end()}})()}function fq({response:e,status:t,statusText:r,headers:n,textStream:s}){t9({response:e,status:t,statusText:r,headers:Object.fromEntries(Od(n,{"content-type":"text/plain; charset=utf-8"}).entries()),stream:s.pipeThrough(new TextEncoderStream)})}var r9=class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}},a9={"content-type":"text/event-stream","cache-control":"no-cache",connection:"keep-alive","x-vercel-ai-ui-message-stream":"v1","x-accel-buffering":"no"};function hq({status:e,statusText:t,headers:r,stream:n,consumeSseStream:s}){let o=n.pipeThrough(new r9);if(s){const[u,d]=o.tee();o=u,s({stream:d})}return new Response(o.pipeThrough(new TextEncoderStream),{status:e,statusText:t,headers:Od(r,a9)})}function mq({originalMessages:e,responseMessageId:t}){if(e==null)return;const r=e[e.length-1];return(r==null?void 0:r.role)==="assistant"?r.id:typeof t=="function"?t():t}var pq=Vt(()=>Lt(cr([Wt({type:Se("text-start"),id:q(),providerMetadata:qe.optional()}),Wt({type:Se("text-delta"),id:q(),delta:q(),providerMetadata:qe.optional()}),Wt({type:Se("text-end"),id:q(),providerMetadata:qe.optional()}),Wt({type:Se("error"),errorText:q()}),Wt({type:Se("tool-input-start"),toolCallId:q(),toolName:q(),providerExecuted:st().optional(),providerMetadata:qe.optional(),dynamic:st().optional(),title:q().optional()}),Wt({type:Se("tool-input-delta"),toolCallId:q(),inputTextDelta:q()}),Wt({type:Se("tool-input-available"),toolCallId:q(),toolName:q(),input:mt(),providerExecuted:st().optional(),providerMetadata:qe.optional(),dynamic:st().optional(),title:q().optional()}),Wt({type:Se("tool-input-error"),toolCallId:q(),toolName:q(),input:mt(),providerExecuted:st().optional(),providerMetadata:qe.optional(),dynamic:st().optional(),errorText:q(),title:q().optional()}),Wt({type:Se("tool-approval-request"),approvalId:q(),toolCallId:q()}),Wt({type:Se("tool-output-available"),toolCallId:q(),output:mt(),providerExecuted:st().optional(),dynamic:st().optional(),preliminary:st().optional()}),Wt({type:Se("tool-output-error"),toolCallId:q(),errorText:q(),providerExecuted:st().optional(),dynamic:st().optional()}),Wt({type:Se("tool-output-denied"),toolCallId:q()}),Wt({type:Se("reasoning-start"),id:q(),providerMetadata:qe.optional()}),Wt({type:Se("reasoning-delta"),id:q(),delta:q(),providerMetadata:qe.optional()}),Wt({type:Se("reasoning-end"),id:q(),providerMetadata:qe.optional()}),Wt({type:Se("source-url"),sourceId:q(),url:q(),title:q().optional(),providerMetadata:qe.optional()}),Wt({type:Se("source-document"),sourceId:q(),mediaType:q(),title:q(),filename:q().optional(),providerMetadata:qe.optional()}),Wt({type:Se("file"),url:q(),mediaType:q(),providerMetadata:qe.optional()}),Wt({type:z8(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:q().optional(),data:mt(),transient:st().optional()}),Wt({type:Se("start-step")}),Wt({type:Se("finish-step")}),Wt({type:Se("start"),messageId:q().optional(),messageMetadata:mt().optional()}),Wt({type:Se("finish"),finishReason:gr(["stop","length","content-filter","tool-calls","error","other"]).optional(),messageMetadata:mt().optional()}),Wt({type:Se("abort"),reason:q().optional()}),Wt({type:Se("message-metadata"),messageMetadata:mt()})])));function vq(e){return e.type.startsWith("data-")}function Om(e){return e.type.startsWith("data-")}function Cm(e){return e.type==="text"}function Rm(e){return e.type==="file"}function R5(e){return e.type==="reasoning"}function gp(e){return e.type.startsWith("tool-")}function n9(e){return e.type==="dynamic-tool"}function Ds(e){return gp(e)||n9(e)}function yp(e){return e.type.split("-").slice(1).join("-")}function Im(e){return n9(e)?e.toolName:yp(e)}function i9({lastMessage:e,messageId:t}){return{message:(e==null?void 0:e.role)==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function s9({stream:e,messageMetadataSchema:t,dataPartSchemas:r,runUpdateMessageJob:n,onError:s,onToolCall:o,onData:u}){return e.pipeThrough(new TransformStream({async transform(d,f){await n(async({state:h,write:p})=>{var g,y,x,k;function S(M){const D=h.message.parts.filter(Ds).find(B=>B.toolCallId===M);if(D==null)throw new Io({chunkType:"tool-invocation",chunkId:M,message:`No tool invocation found for tool call ID "${M}".`});return D}function A(M){var I;const D=h.message.parts.find(j=>gp(j)&&j.toolCallId===M.toolCallId),B=M,E=D;D!=null?(D.state=M.state,E.input=B.input,E.output=B.output,E.errorText=B.errorText,E.rawInput=B.rawInput,E.preliminary=B.preliminary,M.title!==void 0&&(E.title=M.title),E.providerExecuted=(I=B.providerExecuted)!=null?I:D.providerExecuted,B.providerMetadata!=null&&(D.callProviderMetadata=B.providerMetadata)):h.message.parts.push({type:`tool-${M.toolName}`,toolCallId:M.toolCallId,state:M.state,title:M.title,input:B.input,output:B.output,rawInput:B.rawInput,errorText:B.errorText,providerExecuted:B.providerExecuted,preliminary:B.preliminary,...B.providerMetadata!=null?{callProviderMetadata:B.providerMetadata}:{}})}function C(M){var I,D;const B=h.message.parts.find(F=>F.type==="dynamic-tool"&&F.toolCallId===M.toolCallId),E=M,j=B;B!=null?(B.state=M.state,j.toolName=M.toolName,j.input=E.input,j.output=E.output,j.errorText=E.errorText,j.rawInput=(I=E.rawInput)!=null?I:j.rawInput,j.preliminary=E.preliminary,M.title!==void 0&&(j.title=M.title),j.providerExecuted=(D=E.providerExecuted)!=null?D:B.providerExecuted,E.providerMetadata!=null&&(B.callProviderMetadata=E.providerMetadata)):h.message.parts.push({type:"dynamic-tool",toolName:M.toolName,toolCallId:M.toolCallId,state:M.state,input:E.input,output:E.output,errorText:E.errorText,preliminary:E.preliminary,providerExecuted:E.providerExecuted,title:M.title,...E.providerMetadata!=null?{callProviderMetadata:E.providerMetadata}:{}})}async function R(M){if(M!=null){const I=h.message.metadata!=null?b1(h.message.metadata,M):M;t!=null&&await Gi({value:I,schema:t}),h.message.metadata=I}}switch(d.type){case"text-start":{const M={type:"text",text:"",providerMetadata:d.providerMetadata,state:"streaming"};h.activeTextParts[d.id]=M,h.message.parts.push(M),p();break}case"text-delta":{const M=h.activeTextParts[d.id];if(M==null)throw new Io({chunkType:"text-delta",chunkId:d.id,message:`Received text-delta for missing text part with ID "${d.id}". Ensure a "text-start" chunk is sent before any "text-delta" chunks.`});M.text+=d.delta,M.providerMetadata=(g=d.providerMetadata)!=null?g:M.providerMetadata,p();break}case"text-end":{const M=h.activeTextParts[d.id];if(M==null)throw new Io({chunkType:"text-end",chunkId:d.id,message:`Received text-end for missing text part with ID "${d.id}". Ensure a "text-start" chunk is sent before any "text-end" chunks.`});M.state="done",M.providerMetadata=(y=d.providerMetadata)!=null?y:M.providerMetadata,delete h.activeTextParts[d.id],p();break}case"reasoning-start":{const M={type:"reasoning",text:"",providerMetadata:d.providerMetadata,state:"streaming"};h.activeReasoningParts[d.id]=M,h.message.parts.push(M),p();break}case"reasoning-delta":{const M=h.activeReasoningParts[d.id];if(M==null)throw new Io({chunkType:"reasoning-delta",chunkId:d.id,message:`Received reasoning-delta for missing reasoning part with ID "${d.id}". Ensure a "reasoning-start" chunk is sent before any "reasoning-delta" chunks.`});M.text+=d.delta,M.providerMetadata=(x=d.providerMetadata)!=null?x:M.providerMetadata,p();break}case"reasoning-end":{const M=h.activeReasoningParts[d.id];if(M==null)throw new Io({chunkType:"reasoning-end",chunkId:d.id,message:`Received reasoning-end for missing reasoning part with ID "${d.id}". Ensure a "reasoning-start" chunk is sent before any "reasoning-end" chunks.`});M.providerMetadata=(k=d.providerMetadata)!=null?k:M.providerMetadata,M.state="done",delete h.activeReasoningParts[d.id],p();break}case"file":{h.message.parts.push({type:"file",mediaType:d.mediaType,url:d.url}),p();break}case"source-url":{h.message.parts.push({type:"source-url",sourceId:d.sourceId,url:d.url,title:d.title,providerMetadata:d.providerMetadata}),p();break}case"source-document":{h.message.parts.push({type:"source-document",sourceId:d.sourceId,mediaType:d.mediaType,title:d.title,filename:d.filename,providerMetadata:d.providerMetadata}),p();break}case"tool-input-start":{const M=h.message.parts.filter(gp);h.partialToolCalls[d.toolCallId]={text:"",toolName:d.toolName,index:M.length,dynamic:d.dynamic,title:d.title},d.dynamic?C({toolCallId:d.toolCallId,toolName:d.toolName,state:"input-streaming",input:void 0,providerExecuted:d.providerExecuted,title:d.title,providerMetadata:d.providerMetadata}):A({toolCallId:d.toolCallId,toolName:d.toolName,state:"input-streaming",input:void 0,providerExecuted:d.providerExecuted,title:d.title,providerMetadata:d.providerMetadata}),p();break}case"tool-input-delta":{const M=h.partialToolCalls[d.toolCallId];if(M==null)throw new Io({chunkType:"tool-input-delta",chunkId:d.toolCallId,message:`Received tool-input-delta for missing tool call with ID "${d.toolCallId}". Ensure a "tool-input-start" chunk is sent before any "tool-input-delta" chunks.`});M.text+=d.inputTextDelta;const{value:I}=await Lu(M.text);M.dynamic?C({toolCallId:d.toolCallId,toolName:M.toolName,state:"input-streaming",input:I,title:M.title}):A({toolCallId:d.toolCallId,toolName:M.toolName,state:"input-streaming",input:I,title:M.title}),p();break}case"tool-input-available":{d.dynamic?C({toolCallId:d.toolCallId,toolName:d.toolName,state:"input-available",input:d.input,providerExecuted:d.providerExecuted,providerMetadata:d.providerMetadata,title:d.title}):A({toolCallId:d.toolCallId,toolName:d.toolName,state:"input-available",input:d.input,providerExecuted:d.providerExecuted,providerMetadata:d.providerMetadata,title:d.title}),p(),o&&!d.providerExecuted&&await o({toolCall:d});break}case"tool-input-error":{d.dynamic?C({toolCallId:d.toolCallId,toolName:d.toolName,state:"output-error",input:d.input,errorText:d.errorText,providerExecuted:d.providerExecuted,providerMetadata:d.providerMetadata}):A({toolCallId:d.toolCallId,toolName:d.toolName,state:"output-error",input:void 0,rawInput:d.input,errorText:d.errorText,providerExecuted:d.providerExecuted,providerMetadata:d.providerMetadata}),p();break}case"tool-approval-request":{const M=S(d.toolCallId);M.state="approval-requested",M.approval={id:d.approvalId},p();break}case"tool-output-denied":{const M=S(d.toolCallId);M.state="output-denied",p();break}case"tool-output-available":{const M=S(d.toolCallId);M.type==="dynamic-tool"?C({toolCallId:d.toolCallId,toolName:M.toolName,state:"output-available",input:M.input,output:d.output,preliminary:d.preliminary,providerExecuted:d.providerExecuted,title:M.title}):A({toolCallId:d.toolCallId,toolName:yp(M),state:"output-available",input:M.input,output:d.output,providerExecuted:d.providerExecuted,preliminary:d.preliminary,title:M.title}),p();break}case"tool-output-error":{const M=S(d.toolCallId);M.type==="dynamic-tool"?C({toolCallId:d.toolCallId,toolName:M.toolName,state:"output-error",input:M.input,errorText:d.errorText,providerExecuted:d.providerExecuted,title:M.title}):A({toolCallId:d.toolCallId,toolName:yp(M),state:"output-error",input:M.input,rawInput:M.rawInput,errorText:d.errorText,providerExecuted:d.providerExecuted,title:M.title}),p();break}case"start-step":{h.message.parts.push({type:"step-start"});break}case"finish-step":{h.activeTextParts={},h.activeReasoningParts={};break}case"start":{d.messageId!=null&&(h.message.id=d.messageId),await R(d.messageMetadata),(d.messageId!=null||d.messageMetadata!=null)&&p();break}case"finish":{d.finishReason!=null&&(h.finishReason=d.finishReason),await R(d.messageMetadata),d.messageMetadata!=null&&p();break}case"message-metadata":{await R(d.messageMetadata),d.messageMetadata!=null&&p();break}case"error":{s==null||s(new Error(d.errorText));break}default:if(vq(d)){(r==null?void 0:r[d.type])!=null&&await Gi({value:d.data,schema:r[d.type]});const M=d;if(M.transient){u==null||u(M);break}const I=M.id!=null?h.message.parts.find(D=>M.type===D.type&&M.id===D.id):void 0;I!=null?I.data=M.data:h.message.parts.push(M),u==null||u(M),p()}}f.enqueue(d)})}}))}function gq({messageId:e,originalMessages:t=[],onFinish:r,onError:n,stream:s}){let o=t==null?void 0:t[t.length-1];(o==null?void 0:o.role)!=="assistant"?o=void 0:e=o.id;let u=!1;const d=s.pipeThrough(new TransformStream({transform(y,x){if(y.type==="start"){const k=y;k.messageId==null&&e!=null&&(k.messageId=e)}y.type==="abort"&&(u=!0),x.enqueue(y)}}));if(r==null)return d;const f=i9({lastMessage:o?structuredClone(o):void 0,messageId:e??""}),h=async y=>{await y({state:f,write:()=>{}})};let p=!1;const g=async()=>{if(p||!r)return;p=!0;const y=f.message.id===(o==null?void 0:o.id);await r({isAborted:u,isContinuation:y,responseMessage:f.message,messages:[...y?t.slice(0,-1):t,f.message],finishReason:f.finishReason})};return s9({stream:d,runUpdateMessageJob:h,onError:n}).pipeThrough(new TransformStream({transform(y,x){x.enqueue(y)},async cancel(){await g()},async flush(){await g()}}))}function yq({response:e,status:t,statusText:r,headers:n,stream:s,consumeSseStream:o}){let u=s.pipeThrough(new r9);if(o){const[d,f]=u.tee();u=d,o({stream:f})}t9({response:e,status:t,statusText:r,headers:Object.fromEntries(Od(n,a9).entries()),stream:u.pipeThrough(new TextEncoderStream)})}function lu(e){const t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=function(){const r=this.getReader();let n=!1;async function s(o){var u;if(!n){n=!0;try{o&&await((u=r.cancel)==null?void 0:u.call(r))}finally{try{r.releaseLock()}catch{}}}}return{async next(){if(n)return{done:!0,value:void 0};const{done:o,value:u}=await r.read();return o?(await s(!0),{done:!0,value:void 0}):{done:!1,value:u}},async return(){return await s(!0),{done:!0,value:void 0}},async throw(o){throw await s(!0),o}}},t}async function o9({stream:e,onError:t}){const r=e.getReader();try{for(;;){const{done:n}=await r.read();if(n)break}}catch(n){t==null||t(n)}finally{r.releaseLock()}}function I5(){let e,t;return{promise:new Promise((n,s)=>{e=n,t=s}),resolve:e,reject:t}}function bq(){let e=[],t=null,r=!1,n=I5();const s=()=>{r=!0,n.resolve(),e.forEach(u=>u.cancel()),e=[],t==null||t.close()},o=async()=>{if(r&&e.length===0){t==null||t.close();return}if(e.length===0)return n=I5(),await n.promise,o();try{const{value:u,done:d}=await e[0].read();d?(e.shift(),e.length===0&&r?t==null||t.close():await o()):t==null||t.enqueue(u)}catch(u){t==null||t.error(u),e.shift(),s()}};return{stream:new ReadableStream({start(u){t=u},pull:o,async cancel(){for(const u of e)await u.cancel();e=[],r=!0}}),addStream:u=>{if(r)throw new Error("Cannot add inner stream: outer stream is closed");e.push(u.getReader()),n.resolve()},close:()=>{r=!0,n.resolve(),e.length===0&&(t==null||t.close())},terminate:s}}function xq(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}function wq({tools:e,generatorStream:t,tracer:r,telemetry:n,system:s,messages:o,abortSignal:u,repairToolCall:d,experimental_context:f,generateId:h}){let p=null;const g=new ReadableStream({start(M){p=M}}),y=new Set,x=new Map,k=new Map;let S=!1,A;function C(){S&&y.size===0&&(A!=null&&p.enqueue(A),p.close())}const R=new TransformStream({async transform(M,I){const D=M.type;switch(D){case"stream-start":case"text-start":case"text-delta":case"text-end":case"reasoning-start":case"reasoning-delta":case"reasoning-end":case"tool-input-start":case"tool-input-delta":case"tool-input-end":case"source":case"response-metadata":case"error":case"raw":{I.enqueue(M);break}case"file":{I.enqueue({type:"file",file:new WU({data:M.data,mediaType:M.mediaType})});break}case"finish":{A={type:"finish",finishReason:M.finishReason.unified,rawFinishReason:M.finishReason.raw,usage:GU(M.usage),providerMetadata:M.providerMetadata};break}case"tool-approval-request":{const B=k.get(M.toolCallId);if(B==null){p.enqueue({type:"error",error:new fx({toolCallId:M.toolCallId,approvalId:M.approvalId})});break}I.enqueue({type:"tool-approval-request",approvalId:M.approvalId,toolCall:B});break}case"tool-call":{try{const B=await sq({toolCall:M,tools:e,repairToolCall:d,system:s,messages:o});if(k.set(B.toolCallId,B),I.enqueue(B),B.invalid){p.enqueue({type:"tool-error",toolCallId:B.toolCallId,toolName:B.toolName,input:B.input,error:E8(B.error),dynamic:!0,title:B.title});break}const E=e==null?void 0:e[B.toolName];if(E==null)break;if(E.onInputAvailable!=null&&await E.onInputAvailable({input:B.input,toolCallId:B.toolCallId,messages:o,abortSignal:u,experimental_context:f}),await QU({tool:E,toolCall:B,messages:o,experimental_context:f})){p.enqueue({type:"tool-approval-request",approvalId:h(),toolCall:B});break}if(x.set(B.toolCallId,B.input),E.execute!=null&&B.providerExecuted!==!0){const j=h();y.add(j),Wx({toolCall:B,tools:e,tracer:r,telemetry:n,messages:o,abortSignal:u,experimental_context:f,onPreliminaryToolResult:F=>{p.enqueue(F)}}).then(F=>{p.enqueue(F)}).catch(F=>{p.enqueue({type:"error",error:F})}).finally(()=>{y.delete(j),C()})}}catch(B){p.enqueue({type:"error",error:B})}break}case"tool-result":{const B=M.toolName;M.isError?p.enqueue({type:"tool-error",toolCallId:M.toolCallId,toolName:B,input:x.get(M.toolCallId),providerExecuted:!0,error:M.result,dynamic:M.dynamic}):I.enqueue({type:"tool-result",toolCallId:M.toolCallId,toolName:B,input:x.get(M.toolCallId),output:M.result,providerExecuted:!0,dynamic:M.dynamic});break}default:{const B=D;throw new Error(`Unhandled chunk type: ${B}`)}}},flush(){S=!0,C()}});return new ReadableStream({async start(M){return Promise.all([t.pipeThrough(R).pipeTo(new WritableStream({write(I){M.enqueue(I)},close(){}})),g.pipeTo(new WritableStream({write(I){M.enqueue(I)},close(){M.close()}}))])}})}var Sq=Bu({prefix:"aitxt",size:24});function _q({model:e,tools:t,toolChoice:r,system:n,prompt:s,messages:o,maxRetries:u,abortSignal:d,timeout:f,headers:h,stopWhen:p=e9(1),experimental_output:g,output:y=g,experimental_telemetry:x,prepareStep:k,providerOptions:S,experimental_activeTools:A,activeTools:C=A,experimental_repairToolCall:R,experimental_transform:M,experimental_download:I,includeRawChunks:D=!1,onChunk:B,onError:E=({error:re})=>{console.error(re)},onFinish:j,onAbort:F,onStepFinish:ue,experimental_context:ee,_internal:{now:V=xq,generateId:K=Sq}={},...X}){const re=Zx(f),$=cU(f),Z=dU(f),J=$!=null?new AbortController:void 0,Ae=Z!=null?new AbortController:void 0;return new kq({model:Px(e),telemetry:x,headers:h,settings:X,maxRetries:u,abortSignal:cq(d,re!=null?AbortSignal.timeout(re):void 0,J==null?void 0:J.signal,Ae==null?void 0:Ae.signal),stepTimeoutMs:$,stepAbortController:J,chunkTimeoutMs:Z,chunkAbortController:Ae,system:n,prompt:s,messages:o,tools:t,toolChoice:r,transforms:ud(M),activeTools:C,repairToolCall:R,stopConditions:ud(p),output:y,providerOptions:S,prepareStep:k,includeRawChunks:D,onChunk:B,onError:E,onFinish:j,onAbort:F,onStepFinish:ue,now:V,generateId:K,experimental_context:ee,download:I})}function zq(e){let t,r="",n="",s,o="";function u({controller:d,partialOutput:f=void 0}){d.enqueue({part:{type:"text-delta",id:t,text:n,providerMetadata:s},partialOutput:f}),n=""}return new TransformStream({async transform(d,f){var h;if(d.type==="finish-step"&&n.length>0&&u({controller:f}),d.type!=="text-delta"&&d.type!=="text-start"&&d.type!=="text-end"){f.enqueue({part:d,partialOutput:void 0});return}if(t==null)t=d.id;else if(d.id!==t){f.enqueue({part:d,partialOutput:void 0});return}if(d.type==="text-start"){f.enqueue({part:d,partialOutput:void 0});return}if(d.type==="text-end"){n.length>0&&u({controller:f}),f.enqueue({part:d,partialOutput:void 0});return}r+=d.text,n+=d.text,s=(h=d.providerMetadata)!=null?h:s;const p=await e.parsePartialOutput({text:r});if(p!==void 0){const g=JSON.stringify(p.partial);g!==o&&(u({controller:f,partialOutput:p.partial}),o=g)}}})}var kq=class{constructor({model:e,telemetry:t,headers:r,settings:n,maxRetries:s,abortSignal:o,stepTimeoutMs:u,stepAbortController:d,chunkTimeoutMs:f,chunkAbortController:h,system:p,prompt:g,messages:y,tools:x,toolChoice:k,transforms:S,activeTools:A,repairToolCall:C,stopConditions:R,output:M,providerOptions:I,prepareStep:D,includeRawChunks:B,now:E,generateId:j,onChunk:F,onError:ue,onFinish:ee,onAbort:V,onStepFinish:K,experimental_context:X,download:re}){this._totalUsage=new su,this._finishReason=new su,this._rawFinishReason=new su,this._steps=new su,this.outputSpecification=M,this.includeRawChunks=B,this.tools=x;let $,Z=[];const J=[];let Ae,ze,L,ie={},W=[];const te=[],ge=new Map;let Te,le={},Me={};const je=new TransformStream({async transform(xt,Ft){var jt,lt,hr,or;Ft.enqueue(xt);const{part:Ne}=xt;if((Ne.type==="text-delta"||Ne.type==="reasoning-delta"||Ne.type==="source"||Ne.type==="tool-call"||Ne.type==="tool-result"||Ne.type==="tool-input-start"||Ne.type==="tool-input-delta"||Ne.type==="raw")&&await(F==null?void 0:F({chunk:Ne})),Ne.type==="error"&&await ue({error:LU(Ne.error)}),Ne.type==="text-start"&&(le[Ne.id]={type:"text",text:"",providerMetadata:Ne.providerMetadata},Z.push(le[Ne.id])),Ne.type==="text-delta"){const Ot=le[Ne.id];if(Ot==null){Ft.enqueue({part:{type:"error",error:`text part ${Ne.id} not found`},partialOutput:void 0});return}Ot.text+=Ne.text,Ot.providerMetadata=(jt=Ne.providerMetadata)!=null?jt:Ot.providerMetadata}if(Ne.type==="text-end"){const Ot=le[Ne.id];if(Ot==null){Ft.enqueue({part:{type:"error",error:`text part ${Ne.id} not found`},partialOutput:void 0});return}Ot.providerMetadata=(lt=Ne.providerMetadata)!=null?lt:Ot.providerMetadata,delete le[Ne.id]}if(Ne.type==="reasoning-start"&&(Me[Ne.id]={type:"reasoning",text:"",providerMetadata:Ne.providerMetadata},Z.push(Me[Ne.id])),Ne.type==="reasoning-delta"){const Ot=Me[Ne.id];if(Ot==null){Ft.enqueue({part:{type:"error",error:`reasoning part ${Ne.id} not found`},partialOutput:void 0});return}Ot.text+=Ne.text,Ot.providerMetadata=(hr=Ne.providerMetadata)!=null?hr:Ot.providerMetadata}if(Ne.type==="reasoning-end"){const Ot=Me[Ne.id];if(Ot==null){Ft.enqueue({part:{type:"error",error:`reasoning part ${Ne.id} not found`},partialOutput:void 0});return}Ot.providerMetadata=(or=Ne.providerMetadata)!=null?or:Ot.providerMetadata,delete Me[Ne.id]}if(Ne.type==="file"&&Z.push({type:"file",file:Ne.file}),Ne.type==="source"&&Z.push(Ne),Ne.type==="tool-call"&&Z.push(Ne),Ne.type==="tool-result"&&!Ne.preliminary&&Z.push(Ne),Ne.type==="tool-approval-request"&&Z.push(Ne),Ne.type==="tool-error"&&Z.push(Ne),Ne.type==="start-step"&&(Z=[],Me={},le={},ie=Ne.request,W=Ne.warnings),Ne.type==="finish-step"){const Ot=await C5({content:Z,tools:x}),rn=new oq({content:Z,finishReason:Ne.finishReason,rawFinishReason:Ne.rawFinishReason,usage:Ne.usage,warnings:W,request:ie,response:{...Ne.response,messages:[...J,...Ot]},providerMetadata:Ne.providerMetadata});await(K==null?void 0:K(rn)),Ux({warnings:W,provider:e.provider,model:e.modelId}),te.push(rn),J.push(...Ot),$.resolve()}Ne.type==="finish"&&(L=Ne.totalUsage,Ae=Ne.finishReason,ze=Ne.rawFinishReason)},async flush(xt){try{if(te.length===0){const hr=o!=null&&o.aborted?o.reason:new YL({message:"No output generated. Check the stream for errors."});_t._finishReason.reject(hr),_t._rawFinishReason.reject(hr),_t._totalUsage.reject(hr),_t._steps.reject(hr);return}const Ft=Ae??"other",jt=L??Nm();_t._finishReason.resolve(Ft),_t._rawFinishReason.resolve(ze),_t._totalUsage.resolve(jt),_t._steps.resolve(te);const lt=te[te.length-1];await(ee==null?void 0:ee({finishReason:lt.finishReason,rawFinishReason:lt.rawFinishReason,totalUsage:jt,usage:lt.usage,content:lt.content,text:lt.text,reasoningText:lt.reasoningText,reasoning:lt.reasoning,files:lt.files,sources:lt.sources,toolCalls:lt.toolCalls,staticToolCalls:lt.staticToolCalls,dynamicToolCalls:lt.dynamicToolCalls,toolResults:lt.toolResults,staticToolResults:lt.staticToolResults,dynamicToolResults:lt.dynamicToolResults,request:lt.request,response:lt.response,warnings:lt.warnings,providerMetadata:lt.providerMetadata,steps:te,experimental_context:X})),Te.setAttributes(await Ho({telemetry:t,attributes:{"ai.response.finishReason":Ft,"ai.response.text":{output:()=>lt.text},"ai.response.toolCalls":{output:()=>{var hr;return(hr=lt.toolCalls)!=null&&hr.length?JSON.stringify(lt.toolCalls):void 0}},"ai.response.providerMetadata":JSON.stringify(lt.providerMetadata),"ai.usage.inputTokens":jt.inputTokens,"ai.usage.outputTokens":jt.outputTokens,"ai.usage.totalTokens":jt.totalTokens,"ai.usage.reasoningTokens":jt.reasoningTokens,"ai.usage.cachedInputTokens":jt.cachedInputTokens}}))}catch(Ft){xt.error(Ft)}finally{Te.end()}}}),Ye=bq();this.addStream=Ye.addStream,this.closeStream=Ye.close;const nt=Ye.stream.getReader();let tt=new ReadableStream({async start(xt){xt.enqueue({type:"start"})},async pull(xt){function Ft(){V==null||V({steps:te}),xt.enqueue({type:"abort",...(o==null?void 0:o.reason)!==void 0?{reason:Bs(o.reason)}:{}}),xt.close()}try{const{done:jt,value:lt}=await nt.read();if(jt){xt.close();return}if(o!=null&&o.aborted){Ft();return}xt.enqueue(lt)}catch(jt){Ls(jt)&&(o!=null&&o.aborted)?Ft():xt.error(jt)}},cancel(xt){return Ye.stream.cancel(xt)}});for(const xt of S)tt=tt.pipeThrough(xt({tools:x,stopStream(){Ye.terminate()}}));this.baseStream=tt.pipeThrough(zq(M??vp())).pipeThrough(je);const{maxRetries:Dt,retry:kt}=XU({maxRetries:s,abortSignal:o}),Yt=PU(t),Ut=zU(n),er=UU({model:e,telemetry:t,headers:r,settings:{...Ut,maxRetries:Dt}}),_t=this;pp({name:"ai.streamText",attributes:Ho({telemetry:t,attributes:{...mp({operationId:"ai.streamText",telemetry:t}),...er,"ai.prompt":{input:()=>JSON.stringify({system:p,prompt:g,messages:y})}}}),tracer:Yt,endWhenDone:!1,fn:async xt=>{Te=xt;const Ft=await BU({system:p,prompt:g,messages:y}),jt=Ft.messages,lt=[],{approvedToolApprovals:hr,deniedToolApprovals:or}=KU({messages:jt});if(or.length>0||hr.length>0){const Ot=[...hr,...or].filter($r=>$r.toolCall.providerExecuted),rn=hr.filter($r=>!$r.toolCall.providerExecuted),vn=or.filter($r=>!$r.toolCall.providerExecuted),Gs=or.filter($r=>$r.toolCall.providerExecuted);let Jr;const Vs=new ReadableStream({start($r){Jr=$r}});_t.addStream(Vs);try{for(const br of[...vn,...Gs])Jr==null||Jr.enqueue({type:"tool-output-denied",toolCallId:br.toolCall.toolCallId,toolName:br.toolCall.toolName});const $r=[];if(await Promise.all(rn.map(async br=>{const vt=await Wx({toolCall:br.toolCall,tools:x,tracer:Yt,telemetry:t,messages:jt,abortSignal:o,experimental_context:X,onPreliminaryToolResult:ya=>{Jr==null||Jr.enqueue(ya)}});vt!=null&&(Jr==null||Jr.enqueue(vt),$r.push(vt))})),Ot.length>0&&lt.push({role:"tool",content:Ot.map(br=>({type:"tool-approval-response",approvalId:br.approvalResponse.approvalId,approved:br.approvalResponse.approved,reason:br.approvalResponse.reason,providerExecuted:!0}))}),$r.length>0||vn.length>0){const br=[];for(const vt of $r)br.push({type:"tool-result",toolCallId:vt.toolCallId,toolName:vt.toolName,output:await Vo({toolCallId:vt.toolCallId,input:vt.input,tool:x==null?void 0:x[vt.toolName],output:vt.type==="tool-result"?vt.output:vt.error,errorMode:vt.type==="tool-error"?"json":"none"})});for(const vt of vn)br.push({type:"tool-result",toolCallId:vt.toolCall.toolCallId,toolName:vt.toolCall.toolName,output:{type:"execution-denied",reason:vt.approvalResponse.reason}});lt.push({role:"tool",content:br})}}finally{Jr==null||Jr.close()}}J.push(...lt);async function Ne({currentStep:Ot,responseMessages:rn,usage:vn}){var Gs,Jr,Vs,$r,br,vt;const ya=_t.includeRawChunks,Yr=u!=null?setTimeout(()=>d.abort(),u):void 0;let hi;function Rd(){f!=null&&(hi!=null&&clearTimeout(hi),hi=setTimeout(()=>h.abort(),f))}function Uu(){hi!=null&&(clearTimeout(hi),hi=void 0)}function ls(){Yr!=null&&clearTimeout(Yr)}try{$=new su;const gn=[...jt,...rn],Cr=await(D==null?void 0:D({model:e,steps:te,stepNumber:te.length,messages:gn,experimental_context:X})),ia=Px((Gs=Cr==null?void 0:Cr.model)!=null?Gs:e),us=await xU({prompt:{system:(Jr=Cr==null?void 0:Cr.system)!=null?Jr:Ft.system,messages:(Vs=Cr==null?void 0:Cr.messages)!=null?Vs:gn},supportedUrls:await ia.supportedUrls,download:re}),{toolChoice:Cn,tools:cl}=await TU({tools:x,toolChoice:($r=Cr==null?void 0:Cr.toolChoice)!=null?$r:k,activeTools:(br=Cr==null?void 0:Cr.activeTools)!=null?br:A});X=(vt=Cr==null?void 0:Cr.experimental_context)!=null?vt:X;const qu=b1(I,Cr==null?void 0:Cr.providerOptions),{result:{stream:dl,response:mi,request:Hu},doStreamSpan:Rn,startTimestampMs:fl}=await kt(()=>pp({name:"ai.streamText.doStream",attributes:Ho({telemetry:t,attributes:{...mp({operationId:"ai.streamText.doStream",telemetry:t}),...er,"ai.model.provider":ia.provider,"ai.model.id":ia.modelId,"ai.prompt.messages":{input:()=>ZU(us)},"ai.prompt.tools":{input:()=>cl==null?void 0:cl.map(Le=>JSON.stringify(Le))},"ai.prompt.toolChoice":{input:()=>Cn!=null?JSON.stringify(Cn):void 0},"gen_ai.system":ia.provider,"gen_ai.request.model":ia.modelId,"gen_ai.request.frequency_penalty":Ut.frequencyPenalty,"gen_ai.request.max_tokens":Ut.maxOutputTokens,"gen_ai.request.presence_penalty":Ut.presencePenalty,"gen_ai.request.stop_sequences":Ut.stopSequences,"gen_ai.request.temperature":Ut.temperature,"gen_ai.request.top_k":Ut.topK,"gen_ai.request.top_p":Ut.topP}}),tracer:Yt,endWhenDone:!1,fn:async Le=>({startTimestampMs:E(),doStreamSpan:Le,result:await ia.doStream({...Ut,tools:cl,toolChoice:Cn,responseFormat:await(M==null?void 0:M.responseFormat),prompt:us,providerOptions:qu,abortSignal:o,headers:r,includeRawChunks:ya})})})),Pu=wq({tools:x,generatorStream:dl,tracer:Yt,telemetry:t,system:p,messages:gn,repairToolCall:C,abortSignal:o,experimental_context:X,generateId:j}),hl=Hu??{},In=[],pi=[];let Ys;const Da={};let tr="other",Br,Lr=Nm(),cs,Zu=!0,ja={id:j(),timestamp:new Date,modelId:e.modelId},ml="";_t.addStream(Pu.pipeThrough(new TransformStream({async transform(Le,xr){var $a,Ba,yn,qt,Xt;if(Rd(),Le.type==="stream-start"){Ys=Le.warnings;return}if(Zu){const rr=E()-fl;Zu=!1,Rn.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":rr}),Rn.setAttributes({"ai.response.msToFirstChunk":rr}),xr.enqueue({type:"start-step",request:hl,warnings:Ys??[]})}const Fs=Le.type;switch(Fs){case"tool-approval-request":case"text-start":case"text-end":{xr.enqueue(Le);break}case"text-delta":{Le.delta.length>0&&(xr.enqueue({type:"text-delta",id:Le.id,text:Le.delta,providerMetadata:Le.providerMetadata}),ml+=Le.delta);break}case"reasoning-start":case"reasoning-end":{xr.enqueue(Le);break}case"reasoning-delta":{xr.enqueue({type:"reasoning-delta",id:Le.id,text:Le.delta,providerMetadata:Le.providerMetadata});break}case"tool-call":{xr.enqueue(Le),In.push(Le);break}case"tool-result":{xr.enqueue(Le),Le.preliminary||pi.push(Le);break}case"tool-error":{xr.enqueue(Le),pi.push(Le);break}case"response-metadata":{ja={id:($a=Le.id)!=null?$a:ja.id,timestamp:(Ba=Le.timestamp)!=null?Ba:ja.timestamp,modelId:(yn=Le.modelId)!=null?yn:ja.modelId};break}case"finish":{Lr=Le.usage,tr=Le.finishReason,Br=Le.rawFinishReason,cs=Le.providerMetadata;const rr=E()-fl;Rn.addEvent("ai.stream.finish"),Rn.setAttributes({"ai.response.msToFinish":rr,"ai.response.avgOutputTokensPerSecond":1e3*((qt=Lr.outputTokens)!=null?qt:0)/rr});break}case"file":{xr.enqueue(Le);break}case"source":{xr.enqueue(Le);break}case"tool-input-start":{Da[Le.id]=Le.toolName;const rr=x==null?void 0:x[Le.toolName];(rr==null?void 0:rr.onInputStart)!=null&&await rr.onInputStart({toolCallId:Le.id,messages:gn,abortSignal:o,experimental_context:X}),xr.enqueue({...Le,dynamic:(Xt=Le.dynamic)!=null?Xt:(rr==null?void 0:rr.type)==="dynamic",title:rr==null?void 0:rr.title});break}case"tool-input-end":{delete Da[Le.id],xr.enqueue(Le);break}case"tool-input-delta":{const rr=Da[Le.id],an=x==null?void 0:x[rr];(an==null?void 0:an.onInputDelta)!=null&&await an.onInputDelta({inputTextDelta:Le.delta,toolCallId:Le.id,messages:gn,abortSignal:o,experimental_context:X}),xr.enqueue(Le);break}case"error":{xr.enqueue(Le),tr="error";break}case"raw":{ya&&xr.enqueue(Le);break}default:{const rr=Fs;throw new Error(`Unknown chunk type: ${rr}`)}}},async flush(Le){const xr=In.length>0?JSON.stringify(In):void 0;try{Rn.setAttributes(await Ho({telemetry:t,attributes:{"ai.response.finishReason":tr,"ai.response.text":{output:()=>ml},"ai.response.toolCalls":{output:()=>xr},"ai.response.id":ja.id,"ai.response.model":ja.modelId,"ai.response.timestamp":ja.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(cs),"ai.usage.inputTokens":Lr.inputTokens,"ai.usage.outputTokens":Lr.outputTokens,"ai.usage.totalTokens":Lr.totalTokens,"ai.usage.reasoningTokens":Lr.reasoningTokens,"ai.usage.cachedInputTokens":Lr.cachedInputTokens,"gen_ai.response.finish_reasons":[tr],"gen_ai.response.id":ja.id,"gen_ai.response.model":ja.modelId,"gen_ai.usage.input_tokens":Lr.inputTokens,"gen_ai.usage.output_tokens":Lr.outputTokens}}))}catch{}finally{Rn.end()}Le.enqueue({type:"finish-step",finishReason:tr,rawFinishReason:Br,usage:Lr,providerMetadata:cs,response:{...ja,headers:mi==null?void 0:mi.headers}});const $a=VU(vn,Lr);await $.promise;const Ba=In.filter(qt=>qt.providerExecuted!==!0),yn=pi.filter(qt=>qt.providerExecuted!==!0);for(const qt of In){if(qt.providerExecuted!==!0)continue;const Xt=x==null?void 0:x[qt.toolName];(Xt==null?void 0:Xt.type)==="provider"&&Xt.supportsDeferredResults&&(pi.some(rr=>(rr.type==="tool-result"||rr.type==="tool-error")&&rr.toolCallId===qt.toolCallId)||ge.set(qt.toolCallId,{toolName:qt.toolName}))}for(const qt of pi)(qt.type==="tool-result"||qt.type==="tool-error")&&ge.delete(qt.toolCallId);if(ls(),Uu(),(Ba.length>0&&yn.length===Ba.length||ge.size>0)&&!await uq({stopConditions:R,steps:te})){rn.push(...await C5({content:te[te.length-1].content,tools:x}));try{await Ne({currentStep:Ot+1,responseMessages:rn,usage:$a})}catch(qt){Le.enqueue({type:"error",error:qt}),_t.closeStream()}}else Le.enqueue({type:"finish",finishReason:tr,rawFinishReason:Br,totalUsage:$a}),_t.closeStream()}})))}finally{ls(),Uu()}}await Ne({currentStep:0,responseMessages:lt,usage:Nm()})}}).catch(xt=>{_t.addStream(new ReadableStream({start(Ft){Ft.enqueue({type:"error",error:xt}),Ft.close()}})),_t.closeStream()})}get steps(){return this.consumeStream(),this._steps.promise}get finalStep(){return this.steps.then(e=>e[e.length-1])}get content(){return this.finalStep.then(e=>e.content)}get warnings(){return this.finalStep.then(e=>e.warnings)}get providerMetadata(){return this.finalStep.then(e=>e.providerMetadata)}get text(){return this.finalStep.then(e=>e.text)}get reasoningText(){return this.finalStep.then(e=>e.reasoningText)}get reasoning(){return this.finalStep.then(e=>e.reasoning)}get sources(){return this.finalStep.then(e=>e.sources)}get files(){return this.finalStep.then(e=>e.files)}get toolCalls(){return this.finalStep.then(e=>e.toolCalls)}get staticToolCalls(){return this.finalStep.then(e=>e.staticToolCalls)}get dynamicToolCalls(){return this.finalStep.then(e=>e.dynamicToolCalls)}get toolResults(){return this.finalStep.then(e=>e.toolResults)}get staticToolResults(){return this.finalStep.then(e=>e.staticToolResults)}get dynamicToolResults(){return this.finalStep.then(e=>e.dynamicToolResults)}get usage(){return this.finalStep.then(e=>e.usage)}get request(){return this.finalStep.then(e=>e.request)}get response(){return this.finalStep.then(e=>e.response)}get totalUsage(){return this.consumeStream(),this._totalUsage.promise}get finishReason(){return this.consumeStream(),this._finishReason.promise}get rawFinishReason(){return this.consumeStream(),this._rawFinishReason.promise}teeStream(){const[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return lu(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"&&t.enqueue(e.text)}})))}get fullStream(){return lu(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await o9({stream:this.fullStream,onError:e==null?void 0:e.onError})}catch(r){(t=e==null?void 0:e.onError)==null||t.call(e,r)}}get experimental_partialOutputStream(){return this.partialOutputStream}get partialOutputStream(){return lu(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}get elementStream(){var e,t,r;const n=(e=this.outputSpecification)==null?void 0:e.createElementStreamTransform();if(n==null)throw new Jc({functionality:`element streams in ${(r=(t=this.outputSpecification)==null?void 0:t.name)!=null?r:"text"} mode`});return lu(this.teeStream().pipeThrough(n))}get output(){return this.finalStep.then(e=>{var t;return((t=this.outputSpecification)!=null?t:vp()).parseCompleteOutput({text:e.text},{response:e.response,usage:e.usage,finishReason:e.finishReason})})}toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:r,messageMetadata:n,sendReasoning:s=!0,sendSources:o=!1,sendStart:u=!0,sendFinish:d=!0,onError:f=Bs}={}){const h=t!=null?mq({originalMessages:e,responseMessageId:t}):void 0,p=y=>{var x;const k=(x=this.tools)==null?void 0:x[y.toolName];return k==null?y.dynamic:(k==null?void 0:k.type)==="dynamic"?!0:void 0},g=this.fullStream.pipeThrough(new TransformStream({transform:async(y,x)=>{const k=n==null?void 0:n({part:y}),S=y.type;switch(S){case"text-start":{x.enqueue({type:"text-start",id:y.id,...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{}});break}case"text-delta":{x.enqueue({type:"text-delta",id:y.id,delta:y.text,...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{}});break}case"text-end":{x.enqueue({type:"text-end",id:y.id,...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{}});break}case"reasoning-start":{x.enqueue({type:"reasoning-start",id:y.id,...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{}});break}case"reasoning-delta":{s&&x.enqueue({type:"reasoning-delta",id:y.id,delta:y.text,...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{}});break}case"reasoning-end":{x.enqueue({type:"reasoning-end",id:y.id,...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{}});break}case"file":{x.enqueue({type:"file",mediaType:y.file.mediaType,url:`data:${y.file.mediaType};base64,${y.file.base64}`});break}case"source":{o&&y.sourceType==="url"&&x.enqueue({type:"source-url",sourceId:y.id,url:y.url,title:y.title,...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{}}),o&&y.sourceType==="document"&&x.enqueue({type:"source-document",sourceId:y.id,mediaType:y.mediaType,title:y.title,filename:y.filename,...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{}});break}case"tool-input-start":{const A=p(y);x.enqueue({type:"tool-input-start",toolCallId:y.id,toolName:y.toolName,...y.providerExecuted!=null?{providerExecuted:y.providerExecuted}:{},...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{},...A!=null?{dynamic:A}:{},...y.title!=null?{title:y.title}:{}});break}case"tool-input-delta":{x.enqueue({type:"tool-input-delta",toolCallId:y.id,inputTextDelta:y.delta});break}case"tool-call":{const A=p(y);y.invalid?x.enqueue({type:"tool-input-error",toolCallId:y.toolCallId,toolName:y.toolName,input:y.input,...y.providerExecuted!=null?{providerExecuted:y.providerExecuted}:{},...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{},...A!=null?{dynamic:A}:{},errorText:f(y.error),...y.title!=null?{title:y.title}:{}}):x.enqueue({type:"tool-input-available",toolCallId:y.toolCallId,toolName:y.toolName,input:y.input,...y.providerExecuted!=null?{providerExecuted:y.providerExecuted}:{},...y.providerMetadata!=null?{providerMetadata:y.providerMetadata}:{},...A!=null?{dynamic:A}:{},...y.title!=null?{title:y.title}:{}});break}case"tool-approval-request":{x.enqueue({type:"tool-approval-request",approvalId:y.approvalId,toolCallId:y.toolCall.toolCallId});break}case"tool-result":{const A=p(y);x.enqueue({type:"tool-output-available",toolCallId:y.toolCallId,output:y.output,...y.providerExecuted!=null?{providerExecuted:y.providerExecuted}:{},...y.preliminary!=null?{preliminary:y.preliminary}:{},...A!=null?{dynamic:A}:{}});break}case"tool-error":{const A=p(y);x.enqueue({type:"tool-output-error",toolCallId:y.toolCallId,errorText:f(y.error),...y.providerExecuted!=null?{providerExecuted:y.providerExecuted}:{},...A!=null?{dynamic:A}:{}});break}case"tool-output-denied":{x.enqueue({type:"tool-output-denied",toolCallId:y.toolCallId});break}case"error":{x.enqueue({type:"error",errorText:f(y.error)});break}case"start-step":{x.enqueue({type:"start-step"});break}case"finish-step":{x.enqueue({type:"finish-step"});break}case"start":{u&&x.enqueue({type:"start",...k!=null?{messageMetadata:k}:{},...h!=null?{messageId:h}:{}});break}case"finish":{d&&x.enqueue({type:"finish",finishReason:y.finishReason,...k!=null?{messageMetadata:k}:{}});break}case"abort":{x.enqueue(y);break}case"tool-input-end":break;case"raw":break;default:{const A=S;throw new Error(`Unknown chunk type: ${A}`)}}k!=null&&S!=="start"&&S!=="finish"&&x.enqueue({type:"message-metadata",messageMetadata:k})}}));return lu(gq({stream:g,messageId:h??(t==null?void 0:t()),originalMessages:e,onFinish:r,onError:f}))}pipeUIMessageStreamToResponse(e,{originalMessages:t,generateMessageId:r,onFinish:n,messageMetadata:s,sendReasoning:o,sendSources:u,sendFinish:d,sendStart:f,onError:h,...p}={}){yq({response:e,stream:this.toUIMessageStream({originalMessages:t,generateMessageId:r,onFinish:n,messageMetadata:s,sendReasoning:o,sendSources:u,sendFinish:d,sendStart:f,onError:h}),...p})}pipeTextStreamToResponse(e,t){fq({response:e,textStream:this.textStream,...t})}toUIMessageStreamResponse({originalMessages:e,generateMessageId:t,onFinish:r,messageMetadata:n,sendReasoning:s,sendSources:o,sendFinish:u,sendStart:d,onError:f,...h}={}){return hq({stream:this.toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:r,messageMetadata:n,sendReasoning:s,sendSources:o,sendFinish:u,sendStart:d,onError:f}),...h})}toTextStreamResponse(e){return dq({textStream:this.textStream,...e})}};async function Tq(e,t){const r=[];t!=null&&t.ignoreIncompleteToolCalls&&(e=e.map(n=>({...n,parts:n.parts.filter(s=>!Ds(s)||s.state!=="input-streaming"&&s.state!=="input-available")})));for(const n of e)switch(n.role){case"system":{const s=n.parts.filter(u=>u.type==="text"),o=s.reduce((u,d)=>d.providerMetadata!=null?{...u,...d.providerMetadata}:u,{});r.push({role:"system",content:s.map(u=>u.text).join(""),...Object.keys(o).length>0?{providerOptions:o}:{}});break}case"user":{r.push({role:"user",content:n.parts.map(s=>{var o;if(Cm(s))return{type:"text",text:s.text,...s.providerMetadata!=null?{providerOptions:s.providerMetadata}:{}};if(Rm(s))return{type:"file",mediaType:s.mediaType,filename:s.filename,data:s.url,...s.providerMetadata!=null?{providerOptions:s.providerMetadata}:{}};if(Om(s))return(o=t==null?void 0:t.convertDataPart)==null?void 0:o.call(t,s)}).filter(h$)});break}case"assistant":{if(n.parts!=null){let s=[];async function o(){var u,d,f,h,p,g;if(s.length===0)return;const y=[];for(const k of s)if(Cm(k))y.push({type:"text",text:k.text,...k.providerMetadata!=null?{providerOptions:k.providerMetadata}:{}});else if(Rm(k))y.push({type:"file",mediaType:k.mediaType,filename:k.filename,data:k.url});else if(R5(k))y.push({type:"reasoning",text:k.text,providerOptions:k.providerMetadata});else if(Ds(k)){const S=Im(k);k.state!=="input-streaming"&&(y.push({type:"tool-call",toolCallId:k.toolCallId,toolName:S,input:k.state==="output-error"?(u=k.input)!=null?u:"rawInput"in k?k.rawInput:void 0:k.input,providerExecuted:k.providerExecuted,...k.callProviderMetadata!=null?{providerOptions:k.callProviderMetadata}:{}}),k.approval!=null&&y.push({type:"tool-approval-request",approvalId:k.approval.id,toolCallId:k.toolCallId}),k.providerExecuted===!0&&k.state!=="approval-responded"&&(k.state==="output-available"||k.state==="output-error")&&y.push({type:"tool-result",toolCallId:k.toolCallId,toolName:S,output:await Vo({toolCallId:k.toolCallId,input:k.input,output:k.state==="output-error"?k.errorText:k.output,tool:(d=t==null?void 0:t.tools)==null?void 0:d[S],errorMode:k.state==="output-error"?"json":"none"}),...k.callProviderMetadata!=null?{providerOptions:k.callProviderMetadata}:{}}))}else if(Om(k)){const S=(f=t==null?void 0:t.convertDataPart)==null?void 0:f.call(t,k);S!=null&&y.push(S)}else{const S=k;throw new Error(`Unsupported part: ${S}`)}r.push({role:"assistant",content:y});const x=s.filter(k=>{var S;return Ds(k)&&(k.providerExecuted!==!0||((S=k.approval)==null?void 0:S.approved)!=null)});if(x.length>0){const k=[];for(const S of x)if(((h=S.approval)==null?void 0:h.approved)!=null&&k.push({type:"tool-approval-response",approvalId:S.approval.id,approved:S.approval.approved,reason:S.approval.reason,providerExecuted:S.providerExecuted}),S.providerExecuted!==!0)switch(S.state){case"output-denied":{k.push({type:"tool-result",toolCallId:S.toolCallId,toolName:Im(S),output:{type:"error-text",value:(p=S.approval.reason)!=null?p:"Tool execution denied."},...S.callProviderMetadata!=null?{providerOptions:S.callProviderMetadata}:{}});break}case"output-error":case"output-available":{const A=Im(S);k.push({type:"tool-result",toolCallId:S.toolCallId,toolName:A,output:await Vo({toolCallId:S.toolCallId,input:S.input,output:S.state==="output-error"?S.errorText:S.output,tool:(g=t==null?void 0:t.tools)==null?void 0:g[A],errorMode:S.state==="output-error"?"text":"none"}),...S.callProviderMetadata!=null?{providerOptions:S.callProviderMetadata}:{}});break}}k.length>0&&r.push({role:"tool",content:k})}s=[]}for(const u of n.parts)Cm(u)||R5(u)||Rm(u)||Ds(u)||Om(u)?s.push(u):u.type==="step-start"&&await o();await o();break}break}default:{const s=n.role;throw new rU({originalMessage:n,message:`Unsupported role: ${s}`})}}return r}var Aq=Vt(()=>Lt(Je(de({id:q(),role:gr(["system","user","assistant"]),metadata:mt().optional(),parts:Je(cr([de({type:Se("text"),text:q(),state:gr(["streaming","done"]).optional(),providerMetadata:qe.optional()}),de({type:Se("reasoning"),text:q(),state:gr(["streaming","done"]).optional(),providerMetadata:qe.optional()}),de({type:Se("source-url"),sourceId:q(),url:q(),title:q().optional(),providerMetadata:qe.optional()}),de({type:Se("source-document"),sourceId:q(),mediaType:q(),title:q(),filename:q().optional(),providerMetadata:qe.optional()}),de({type:Se("file"),mediaType:q(),filename:q().optional(),url:q(),providerMetadata:qe.optional()}),de({type:Se("step-start")}),de({type:q().startsWith("data-"),id:q().optional(),data:mt()}),de({type:Se("dynamic-tool"),toolName:q(),toolCallId:q(),state:Se("input-streaming"),input:mt().optional(),providerExecuted:st().optional(),callProviderMetadata:qe.optional(),output:gt().optional(),errorText:gt().optional(),approval:gt().optional()}),de({type:Se("dynamic-tool"),toolName:q(),toolCallId:q(),state:Se("input-available"),input:mt(),providerExecuted:st().optional(),output:gt().optional(),errorText:gt().optional(),callProviderMetadata:qe.optional(),approval:gt().optional()}),de({type:Se("dynamic-tool"),toolName:q(),toolCallId:q(),state:Se("approval-requested"),input:mt(),providerExecuted:st().optional(),output:gt().optional(),errorText:gt().optional(),callProviderMetadata:qe.optional(),approval:de({id:q(),approved:gt().optional(),reason:gt().optional()})}),de({type:Se("dynamic-tool"),toolName:q(),toolCallId:q(),state:Se("approval-responded"),input:mt(),providerExecuted:st().optional(),output:gt().optional(),errorText:gt().optional(),callProviderMetadata:qe.optional(),approval:de({id:q(),approved:st(),reason:q().optional()})}),de({type:Se("dynamic-tool"),toolName:q(),toolCallId:q(),state:Se("output-available"),input:mt(),providerExecuted:st().optional(),output:mt(),errorText:gt().optional(),callProviderMetadata:qe.optional(),preliminary:st().optional(),approval:de({id:q(),approved:Se(!0),reason:q().optional()}).optional()}),de({type:Se("dynamic-tool"),toolName:q(),toolCallId:q(),state:Se("output-error"),input:mt(),rawInput:mt().optional(),providerExecuted:st().optional(),output:gt().optional(),errorText:q(),callProviderMetadata:qe.optional(),approval:de({id:q(),approved:Se(!0),reason:q().optional()}).optional()}),de({type:Se("dynamic-tool"),toolName:q(),toolCallId:q(),state:Se("output-denied"),input:mt(),providerExecuted:st().optional(),output:gt().optional(),errorText:gt().optional(),callProviderMetadata:qe.optional(),approval:de({id:q(),approved:Se(!1),reason:q().optional()})}),de({type:q().startsWith("tool-"),toolCallId:q(),state:Se("input-streaming"),providerExecuted:st().optional(),callProviderMetadata:qe.optional(),input:mt().optional(),output:gt().optional(),errorText:gt().optional(),approval:gt().optional()}),de({type:q().startsWith("tool-"),toolCallId:q(),state:Se("input-available"),providerExecuted:st().optional(),input:mt(),output:gt().optional(),errorText:gt().optional(),callProviderMetadata:qe.optional(),approval:gt().optional()}),de({type:q().startsWith("tool-"),toolCallId:q(),state:Se("approval-requested"),input:mt(),providerExecuted:st().optional(),output:gt().optional(),errorText:gt().optional(),callProviderMetadata:qe.optional(),approval:de({id:q(),approved:gt().optional(),reason:gt().optional()})}),de({type:q().startsWith("tool-"),toolCallId:q(),state:Se("approval-responded"),input:mt(),providerExecuted:st().optional(),output:gt().optional(),errorText:gt().optional(),callProviderMetadata:qe.optional(),approval:de({id:q(),approved:st(),reason:q().optional()})}),de({type:q().startsWith("tool-"),toolCallId:q(),state:Se("output-available"),providerExecuted:st().optional(),input:mt(),output:mt(),errorText:gt().optional(),callProviderMetadata:qe.optional(),preliminary:st().optional(),approval:de({id:q(),approved:Se(!0),reason:q().optional()}).optional()}),de({type:q().startsWith("tool-"),toolCallId:q(),state:Se("output-error"),providerExecuted:st().optional(),input:mt(),rawInput:mt().optional(),output:gt().optional(),errorText:q(),callProviderMetadata:qe.optional(),approval:de({id:q(),approved:Se(!0),reason:q().optional()}).optional()}),de({type:q().startsWith("tool-"),toolCallId:q(),state:Se("output-denied"),providerExecuted:st().optional(),input:mt(),output:gt().optional(),errorText:gt().optional(),callProviderMetadata:qe.optional(),approval:de({id:q(),approved:Se(!1),reason:q().optional()})})])).nonempty("Message must contain at least one part")})).nonempty("Messages array must not be empty")));async function Eq({messages:e,metadataSchema:t,dataSchemas:r,tools:n}){try{if(e==null)return{success:!1,error:new dn({parameter:"messages",value:e,message:"messages parameter must be provided"})};const s=await Gi({value:e,schema:Aq});if(t)for(const o of s)await Gi({value:o.metadata,schema:t});if(r)for(const o of s){const u=o.parts.filter(d=>d.type.startsWith("data-"));for(const d of u){const f=d.type.slice(5),h=r[f];if(!h)return{success:!1,error:new li({value:d.data,cause:`No data schema found for data part ${f}`})};await Gi({value:d.data,schema:h})}}if(n)for(const o of s){const u=o.parts.filter(d=>d.type.startsWith("tool-"));for(const d of u){const f=d.type.slice(5),h=n[f];if(!h)return{success:!1,error:new li({value:d.input,cause:`No tool schema found for tool part ${f}`})};(d.state==="input-available"||d.state==="output-available"||d.state==="output-error"&&d.input!==void 0)&&await Gi({value:d.input,schema:h.inputSchema}),d.state==="output-available"&&h.outputSchema&&await Gi({value:d.output,schema:h.outputSchema})}}return{success:!0,data:s}}catch(s){return{success:!1,error:s}}}async function Mq({messages:e,metadataSchema:t,dataSchemas:r,tools:n}){const s=await Eq({messages:e,metadataSchema:t,dataSchemas:r,tools:n});if(!s.success)throw s.error;return s.data}Bu({prefix:"aiobj",size:24});var Nq=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,r)=>{this.queue.push(async()=>{try{await e(),t()}catch(n){r(n)}}),this.processQueue()})}};Bu({prefix:"aiobj",size:24});async function Oq(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:r,type:n}=t,s=await new Promise((o,u)=>{const d=new FileReader;d.onload=f=>{var h;o((h=f.target)==null?void 0:h.result)},d.onerror=f=>u(f),d.readAsDataURL(t)});return{type:"file",mediaType:n,filename:r,url:s}}))}var Cq=class{constructor({api:e="/api/chat",credentials:t,headers:r,body:n,fetch:s,prepareSendMessagesRequest:o,prepareReconnectToStreamRequest:u}){this.api=e,this.credentials=t,this.headers=r,this.body=n,this.fetch=s,this.prepareSendMessagesRequest=o,this.prepareReconnectToStreamRequest=u}async sendMessages({abortSignal:e,...t}){var r,n,s,o,u;const d=await yr(this.body),f=await yr(this.headers),h=await yr(this.credentials),p={...Cs(f),...Cs(t.headers)},g=await((r=this.prepareSendMessagesRequest)==null?void 0:r.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...d,...t.body},headers:p,credentials:h,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),y=(n=g==null?void 0:g.api)!=null?n:this.api,x=(g==null?void 0:g.headers)!==void 0?Cs(g.headers):p,k=(g==null?void 0:g.body)!==void 0?g.body:{...d,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},S=(s=g==null?void 0:g.credentials)!=null?s:h,C=await((o=this.fetch)!=null?o:globalThis.fetch)(y,{method:"POST",headers:Us({"Content-Type":"application/json",...x},`ai-sdk/${hp}`,Eu()),body:JSON.stringify(k),credentials:S,signal:e});if(!C.ok)throw new Error((u=await C.text())!=null?u:"Failed to fetch the chat response.");if(!C.body)throw new Error("The response body is empty.");return this.processResponseStream(C.body)}async reconnectToStream(e){var t,r,n,s,o;const u=await yr(this.body),d=await yr(this.headers),f=await yr(this.credentials),h={...Cs(d),...Cs(e.headers)},p=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...u,...e.body},headers:h,credentials:f,requestMetadata:e.metadata})),g=(r=p==null?void 0:p.api)!=null?r:`${this.api}/${e.chatId}/stream`,y=(p==null?void 0:p.headers)!==void 0?Cs(p.headers):h,x=(n=p==null?void 0:p.credentials)!=null?n:f,S=await((s=this.fetch)!=null?s:globalThis.fetch)(g,{method:"GET",headers:Us(y,`ai-sdk/${hp}`,Eu()),credentials:x});if(S.status===204)return null;if(!S.ok)throw new Error((o=await S.text())!=null?o:"Failed to fetch the chat response.");if(!S.body)throw new Error("The response body is empty.");return this.processResponseStream(S.body)}},l9=class extends Cq{constructor(e={}){super(e)}processResponseStream(e){return j8({stream:e,schema:pq}).pipeThrough(new TransformStream({async transform(t,r){if(!t.success)throw t.error;r.enqueue(t.value)}}))}},Rq=class{constructor({generateId:e=l1,id:t=e(),transport:r=new l9,messageMetadataSchema:n,dataPartSchemas:s,state:o,onError:u,onToolCall:d,onFinish:f,onData:h,sendAutomaticallyWhen:p}){this.activeResponse=void 0,this.jobExecutor=new Nq,this.sendMessage=async(g,y)=>{var x,k,S,A;if(g==null){await this.makeRequest({trigger:"submit-message",messageId:(x=this.lastMessage)==null?void 0:x.id,...y});return}let C;if("text"in g||"files"in g?C={parts:[...Array.isArray(g.files)?g.files:await Oq(g.files),..."text"in g&&g.text!=null?[{type:"text",text:g.text}]:[]]}:C=g,g.messageId!=null){const R=this.state.messages.findIndex(M=>M.id===g.messageId);if(R===-1)throw new Error(`message with id ${g.messageId} not found`);if(this.state.messages[R].role!=="user")throw new Error(`message with id ${g.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,R+1),this.state.replaceMessage(R,{...C,id:g.messageId,role:(k=C.role)!=null?k:"user",metadata:g.metadata})}else this.state.pushMessage({...C,id:(S=C.id)!=null?S:this.generateId(),role:(A=C.role)!=null?A:"user",metadata:g.metadata});await this.makeRequest({trigger:"submit-message",messageId:g.messageId,...y})},this.regenerate=async({messageId:g,...y}={})=>{const x=g==null?this.state.messages.length-1:this.state.messages.findIndex(k=>k.id===g);if(x===-1)throw new Error(`message ${g} not found`);this.state.messages=this.state.messages.slice(0,this.messages[x].role==="assistant"?x:x+1),await this.makeRequest({trigger:"regenerate-message",messageId:g,...y})},this.resumeStream=async(g={})=>{await this.makeRequest({trigger:"resume-stream",...g})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolApprovalResponse=async({id:g,approved:y,reason:x})=>this.jobExecutor.run(async()=>{var k,S;const A=this.state.messages,C=A[A.length-1],R=M=>Ds(M)&&M.state==="approval-requested"&&M.approval.id===g?{...M,state:"approval-responded",approval:{id:g,approved:y,reason:x}}:M;this.state.replaceMessage(A.length-1,{...C,parts:C.parts.map(R)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(R)),this.status!=="streaming"&&this.status!=="submitted"&&((k=this.sendAutomaticallyWhen)!=null&&k.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(S=this.lastMessage)==null?void 0:S.id})}),this.addToolOutput=async({state:g="output-available",tool:y,toolCallId:x,output:k,errorText:S})=>this.jobExecutor.run(async()=>{var A,C;const R=this.state.messages,M=R[R.length-1],I=D=>Ds(D)&&D.toolCallId===x?{...D,state:g,output:k,errorText:S}:D;this.state.replaceMessage(R.length-1,{...M,parts:M.parts.map(I)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(I)),this.status!=="streaming"&&this.status!=="submitted"&&((A=this.sendAutomaticallyWhen)!=null&&A.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(C=this.lastMessage)==null?void 0:C.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var g;this.status!=="streaming"&&this.status!=="submitted"||(g=this.activeResponse)!=null&&g.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=r,this.generateId=e,this.messageMetadataSchema=n,this.dataPartSchemas=s,this.state=o,this.onError=u,this.onToolCall=d,this.onFinish=f,this.onData=h,this.sendAutomaticallyWhen=p}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:r,body:n,messageId:s}){var o,u,d,f;this.setStatus({status:"submitted",error:void 0});const h=this.lastMessage;let p=!1,g=!1,y=!1;try{const x={state:i9({lastMessage:this.state.snapshot(h),messageId:this.generateId()}),abortController:new AbortController};x.abortController.signal.addEventListener("abort",()=>{p=!0}),this.activeResponse=x;let k;if(e==="resume-stream"){const A=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:r,body:n});if(A==null){this.setStatus({status:"ready"});return}k=A}else k=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:x.abortController.signal,metadata:t,headers:r,body:n,trigger:e,messageId:s});const S=A=>this.jobExecutor.run(()=>A({state:x.state,write:()=>{var C;this.setStatus({status:"streaming"}),x.state.message.id===((C=this.lastMessage)==null?void 0:C.id)?this.state.replaceMessage(this.state.messages.length-1,x.state.message):this.state.pushMessage(x.state.message)}}));await o9({stream:s9({stream:k,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:S,onError:A=>{throw A}}),onError:A=>{throw A}}),this.setStatus({status:"ready"})}catch(x){if(p||x.name==="AbortError")return p=!0,this.setStatus({status:"ready"}),null;y=!0,x instanceof TypeError&&(x.message.toLowerCase().includes("fetch")||x.message.toLowerCase().includes("network"))&&(g=!0),this.onError&&x instanceof Error&&this.onError(x),this.setStatus({status:"error",error:x})}finally{try{(u=this.onFinish)==null||u.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:p,isDisconnect:g,isError:y,finishReason:(o=this.activeResponse)==null?void 0:o.state.finishReason})}catch(x){console.error(x)}this.activeResponse=void 0}(d=this.sendAutomaticallyWhen)!=null&&d.call(this,{messages:this.state.messages})&&!y&&await this.makeRequest({trigger:"submit-message",messageId:(f=this.lastMessage)==null?void 0:f.id,metadata:t,headers:r,body:n})}},Iq=class{constructor({agent:e,options:t,...r}){this.agent=e,this.agentOptions=t,this.uiMessageStreamOptions=r}async sendMessages({messages:e,abortSignal:t}){const r=await Mq({messages:e,tools:this.agent.tools}),n=await Tq(r,{tools:this.agent.tools});return(await this.agent.stream({prompt:n,abortSignal:t,...this.agentOptions!==void 0?{options:this.agentOptions}:{}})).toUIMessageStream(this.uiMessageStreamOptions)}async reconnectToStream(e){return null}},Dm,D5;function Dq(){if(D5)return Dm;D5=1;function e(t,r){if(typeof t!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof t}\`.`);let n,s=0;return function(...u){clearTimeout(n);const d=Date.now(),f=d-s,h=r-f;h<=0?(s=d,t.apply(this,u)):n=setTimeout(()=>{s=Date.now(),t.apply(this,u)},h)}}return Dm=e,Dm}var jq=Dq();const $q=G5(jq);var u9=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Qt=(e,t,r)=>(u9(e,t,"read from private field"),r?r.call(e):t.get(e)),_n=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Pi=(e,t,r,n)=>(u9(e,t,"write to private field"),t.set(e,r),r);function Bq(e,t){return t!=null?$q(e,t):e}var Xa,Oc,Cc,hu,mu,pu,$o,bp,xp,Lq=class{constructor(e=[]){_n(this,Xa,void 0),_n(this,Oc,"ready"),_n(this,Cc,void 0),_n(this,hu,new Set),_n(this,mu,new Set),_n(this,pu,new Set),this.pushMessage=t=>{Pi(this,Xa,Qt(this,Xa).concat(t)),Qt(this,$o).call(this)},this.popMessage=()=>{Pi(this,Xa,Qt(this,Xa).slice(0,-1)),Qt(this,$o).call(this)},this.replaceMessage=(t,r)=>{Pi(this,Xa,[...Qt(this,Xa).slice(0,t),this.snapshot(r),...Qt(this,Xa).slice(t+1)]),Qt(this,$o).call(this)},this.snapshot=t=>structuredClone(t),this["~registerMessagesCallback"]=(t,r)=>{const n=r?Bq(t,r):t;return Qt(this,hu).add(n),()=>{Qt(this,hu).delete(n)}},this["~registerStatusCallback"]=t=>(Qt(this,mu).add(t),()=>{Qt(this,mu).delete(t)}),this["~registerErrorCallback"]=t=>(Qt(this,pu).add(t),()=>{Qt(this,pu).delete(t)}),_n(this,$o,()=>{Qt(this,hu).forEach(t=>t())}),_n(this,bp,()=>{Qt(this,mu).forEach(t=>t())}),_n(this,xp,()=>{Qt(this,pu).forEach(t=>t())}),Pi(this,Xa,e)}get status(){return Qt(this,Oc)}set status(e){Pi(this,Oc,e),Qt(this,bp).call(this)}get error(){return Qt(this,Cc)}set error(e){Pi(this,Cc,e),Qt(this,xp).call(this)}get messages(){return Qt(this,Xa)}set messages(e){Pi(this,Xa,[...e]),Qt(this,$o).call(this)}};Xa=new WeakMap;Oc=new WeakMap;Cc=new WeakMap;hu=new WeakMap;mu=new WeakMap;pu=new WeakMap;$o=new WeakMap;bp=new WeakMap;xp=new WeakMap;var Bo,j5=class extends Rq{constructor({messages:e,...t}){const r=new Lq(e);super({...t,state:r}),_n(this,Bo,void 0),this["~registerMessagesCallback"]=(n,s)=>Qt(this,Bo)["~registerMessagesCallback"](n,s),this["~registerStatusCallback"]=n=>Qt(this,Bo)["~registerStatusCallback"](n),this["~registerErrorCallback"]=n=>Qt(this,Bo)["~registerErrorCallback"](n),Pi(this,Bo,r)}};Bo=new WeakMap;function Uq({experimental_throttle:e,resume:t=!1,...r}={}){const n=_e.useRef("chat"in r?{}:{onToolCall:r.onToolCall,onData:r.onData,onFinish:r.onFinish,onError:r.onError,sendAutomaticallyWhen:r.sendAutomaticallyWhen});"chat"in r||(n.current={onToolCall:r.onToolCall,onData:r.onData,onFinish:r.onFinish,onError:r.onError,sendAutomaticallyWhen:r.sendAutomaticallyWhen});const s={...r,onToolCall:y=>{var x,k;return(k=(x=n.current).onToolCall)==null?void 0:k.call(x,y)},onData:y=>{var x,k;return(k=(x=n.current).onData)==null?void 0:k.call(x,y)},onFinish:y=>{var x,k;return(k=(x=n.current).onFinish)==null?void 0:k.call(x,y)},onError:y=>{var x,k;return(k=(x=n.current).onError)==null?void 0:k.call(x,y)},sendAutomaticallyWhen:y=>{var x,k,S;return(S=(k=(x=n.current).sendAutomaticallyWhen)==null?void 0:k.call(x,y))!=null?S:!1}},o=_e.useRef("chat"in r?r.chat:new j5(s));("chat"in r&&r.chat!==o.current||"id"in r&&o.current.id!==r.id)&&(o.current="chat"in r?r.chat:new j5(s));const d=_e.useCallback(y=>o.current["~registerMessagesCallback"](y,e),[e,o.current.id]),f=_e.useSyncExternalStore(d,()=>o.current.messages,()=>o.current.messages),h=_e.useSyncExternalStore(o.current["~registerStatusCallback"],()=>o.current.status,()=>o.current.status),p=_e.useSyncExternalStore(o.current["~registerErrorCallback"],()=>o.current.error,()=>o.current.error),g=_e.useCallback(y=>{typeof y=="function"&&(y=y(o.current.messages)),o.current.messages=y},[o]);return _e.useEffect(()=>{t&&o.current.resumeStream()},[t,o]),{id:o.current.id,messages:f,setMessages:g,sendMessage:o.current.sendMessage,regenerate:o.current.regenerate,clearError:o.current.clearError,stop:o.current.stop,error:p,resumeStream:o.current.resumeStream,status:h,addToolResult:o.current.addToolOutput,addToolOutput:o.current.addToolOutput,addToolApprovalResponse:o.current.addToolApprovalResponse}}var qq="3.0.16",Hq=Vt(()=>Lt(de({error:de({code:ot().nullable(),message:q(),status:q()})}))),Ru=qs({errorSchema:Hq,errorToMessage:e=>e.error.message}),Pq=Vt(()=>Lt(de({outputDimensionality:ot().optional(),taskType:gr(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),Zq=class{constructor(e,t){this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){const s=await sd({provider:"google",providerOptions:n,schema:Pq});if(e.length>this.maxEmbeddingsPerCall)throw new pC({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const o=ts(await yr(this.config.headers),t);if(e.length===1){const{responseHeaders:h,value:p,rawValue:g}=await ci({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:o,body:{model:`models/${this.modelId}`,content:{parts:[{text:e[0]}]},outputDimensionality:s==null?void 0:s.outputDimensionality,taskType:s==null?void 0:s.taskType},failedResponseHandler:Ru,successfulResponseHandler:di(Vq),abortSignal:r,fetch:this.config.fetch});return{warnings:[],embeddings:[p.embedding.values],usage:void 0,response:{headers:h,body:g}}}const{responseHeaders:u,value:d,rawValue:f}=await ci({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:o,body:{requests:e.map(h=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:h}]},outputDimensionality:s==null?void 0:s.outputDimensionality,taskType:s==null?void 0:s.taskType}))},failedResponseHandler:Ru,successfulResponseHandler:di(Gq),abortSignal:r,fetch:this.config.fetch});return{warnings:[],embeddings:d.embeddings.map(h=>h.values),usage:void 0,response:{headers:u,body:f}}}},Gq=Vt(()=>Lt(de({embeddings:Je(de({values:Je(ot())}))}))),Vq=Vt(()=>Lt(de({embedding:de({values:Je(ot())})})));function $5(e){var t,r,n,s;if(e==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};const o=(t=e.promptTokenCount)!=null?t:0,u=(r=e.candidatesTokenCount)!=null?r:0,d=(n=e.cachedContentTokenCount)!=null?n:0,f=(s=e.thoughtsTokenCount)!=null?s:0;return{inputTokens:{total:o,noCache:o-d,cacheRead:d,cacheWrite:void 0},outputTokens:{total:u+f,text:u,reasoning:f},raw:e}}function zn(e,t=!0){if(e==null)return;if(Yq(e))return t?void 0:typeof e=="object"&&e.description?{type:"object",description:e.description}:{type:"object"};if(typeof e=="boolean")return{type:"boolean",properties:{}};const{type:r,description:n,required:s,properties:o,items:u,allOf:d,anyOf:f,oneOf:h,format:p,const:g,minLength:y,enum:x}=e,k={};if(n&&(k.description=n),s&&(k.required=s),p&&(k.format=p),g!==void 0&&(k.enum=[g]),r)if(Array.isArray(r)){const S=r.includes("null"),A=r.filter(C=>C!=="null");A.length===0?k.type="null":(k.anyOf=A.map(C=>({type:C})),S&&(k.nullable=!0))}else k.type=r;if(x!==void 0&&(k.enum=x),o!=null&&(k.properties=Object.entries(o).reduce((S,[A,C])=>(S[A]=zn(C,!1),S),{})),u&&(k.items=Array.isArray(u)?u.map(S=>zn(S,!1)):zn(u,!1)),d&&(k.allOf=d.map(S=>zn(S,!1))),f)if(f.some(S=>typeof S=="object"&&(S==null?void 0:S.type)==="null")){const S=f.filter(A=>!(typeof A=="object"&&(A==null?void 0:A.type)==="null"));if(S.length===1){const A=zn(S[0],!1);typeof A=="object"&&(k.nullable=!0,Object.assign(k,A))}else k.anyOf=S.map(A=>zn(A,!1)),k.nullable=!0}else k.anyOf=f.map(S=>zn(S,!1));return h&&(k.oneOf=h.map(S=>zn(S,!1))),y!==void 0&&(k.minLength=y),k}function Yq(e){return e!=null&&typeof e=="object"&&e.type==="object"&&(e.properties==null||Object.keys(e.properties).length===0)&&!e.additionalProperties}function Fq(e,t){var r,n,s;const o=[],u=[];let d=!0;const f=(r=t==null?void 0:t.isGemmaModel)!=null?r:!1,h=(n=t==null?void 0:t.providerOptionsName)!=null?n:"google";for(const{role:p,content:g}of e)switch(p){case"system":{if(!d)throw new Jc({functionality:"system messages are only supported at the beginning of the conversation"});o.push({text:g});break}case"user":{d=!1;const y=[];for(const x of g)switch(x.type){case"text":{y.push({text:x.text});break}case"file":{const k=x.mediaType==="image/*"?"image/jpeg":x.mediaType;y.push(x.data instanceof URL?{fileData:{mimeType:k,fileUri:x.data.toString()}}:{inlineData:{mimeType:k,data:Z3(x.data)}});break}}u.push({role:"user",parts:y});break}case"assistant":{d=!1,u.push({role:"model",parts:g.map(y=>{var x;const k=(x=y.providerOptions)==null?void 0:x[h],S=(k==null?void 0:k.thoughtSignature)!=null?String(k.thoughtSignature):void 0;switch(y.type){case"text":return y.text.length===0?void 0:{text:y.text,thoughtSignature:S};case"reasoning":return y.text.length===0?void 0:{text:y.text,thought:!0,thoughtSignature:S};case"file":{if(y.data instanceof URL)throw new Jc({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:y.mediaType,data:Z3(y.data)},thoughtSignature:S}}case"tool-call":return{functionCall:{name:y.toolName,args:y.input},thoughtSignature:S}}}).filter(y=>y!==void 0)});break}case"tool":{d=!1;const y=[];for(const x of g){if(x.type==="tool-approval-response")continue;const k=x.output;if(k.type==="content")for(const S of k.value)switch(S.type){case"text":y.push({functionResponse:{name:x.toolName,response:{name:x.toolName,content:S.text}}});break;case"image-data":y.push({inlineData:{mimeType:S.mediaType,data:S.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:y.push({text:JSON.stringify(S)});break}else y.push({functionResponse:{name:x.toolName,response:{name:x.toolName,content:k.type==="execution-denied"?(s=k.reason)!=null?s:"Tool execution denied.":k.value}}})}u.push({role:"user",parts:y});break}}if(f&&o.length>0&&u.length>0&&u[0].role==="user"){const p=o.map(g=>g.text).join(`

`);u[0].parts.unshift({text:p+`

`})}return{systemInstruction:o.length>0&&!f?{parts:o}:void 0,contents:u}}function B5(e){return e.includes("/")?e:`models/${e}`}var L5=Vt(()=>Lt(de({responseModalities:Je(gr(["TEXT","IMAGE"])).optional(),thinkingConfig:de({thinkingBudget:ot().optional(),includeThoughts:st().optional(),thinkingLevel:gr(["minimal","low","medium","high"]).optional()}).optional(),cachedContent:q().optional(),structuredOutputs:st().optional(),safetySettings:Je(de({category:gr(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:gr(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:gr(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:st().optional(),labels:ui(q(),q()).optional(),mediaResolution:gr(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:de({aspectRatio:gr(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional(),imageSize:gr(["1K","2K","4K"]).optional()}).optional(),retrievalConfig:de({latLng:de({latitude:ot(),longitude:ot()}).optional()}).optional()})));function Xq({tools:e,toolChoice:t,modelId:r}){var n;e=e!=null&&e.length?e:void 0;const s=[],o=["gemini-flash-latest","gemini-flash-lite-latest","gemini-pro-latest"].some(x=>x===r),u=r.includes("gemini-2")||r.includes("gemini-3")||o,d=r.includes("gemini-1.5-flash")&&!r.includes("-8b"),f=r.includes("gemini-2.5")||r.includes("gemini-3");if(e==null)return{tools:void 0,toolConfig:void 0,toolWarnings:s};const h=e.some(x=>x.type==="function"),p=e.some(x=>x.type==="provider");if(h&&p&&s.push({type:"unsupported",feature:"combination of function and provider-defined tools"}),p){const x=[];return e.filter(S=>S.type==="provider").forEach(S=>{switch(S.id){case"google.google_search":u?x.push({googleSearch:{}}):d?x.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:S.args.mode,dynamicThreshold:S.args.dynamicThreshold}}}):x.push({googleSearchRetrieval:{}});break;case"google.enterprise_web_search":u?x.push({enterpriseWebSearch:{}}):s.push({type:"unsupported",feature:`provider-defined tool ${S.id}`,details:"Enterprise Web Search requires Gemini 2.0 or newer."});break;case"google.url_context":u?x.push({urlContext:{}}):s.push({type:"unsupported",feature:`provider-defined tool ${S.id}`,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":u?x.push({codeExecution:{}}):s.push({type:"unsupported",feature:`provider-defined tool ${S.id}`,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;case"google.file_search":f?x.push({fileSearch:{...S.args}}):s.push({type:"unsupported",feature:`provider-defined tool ${S.id}`,details:"The file search tool is only supported with Gemini 2.5 models and Gemini 3 models."});break;case"google.vertex_rag_store":u?x.push({retrieval:{vertex_rag_store:{rag_resources:{rag_corpus:S.args.ragCorpus},similarity_top_k:S.args.topK}}}):s.push({type:"unsupported",feature:`provider-defined tool ${S.id}`,details:"The RAG store tool is not supported with other Gemini models than Gemini 2."});break;case"google.google_maps":u?x.push({googleMaps:{}}):s.push({type:"unsupported",feature:`provider-defined tool ${S.id}`,details:"The Google Maps grounding tool is not supported with Gemini models other than Gemini 2 or newer."});break;default:s.push({type:"unsupported",feature:`provider-defined tool ${S.id}`});break}}),{tools:x.length>0?x:void 0,toolConfig:void 0,toolWarnings:s}}const g=[];for(const x of e)switch(x.type){case"function":g.push({name:x.name,description:(n=x.description)!=null?n:"",parameters:zn(x.inputSchema)});break;default:s.push({type:"unsupported",feature:`function tool ${x.name}`});break}if(t==null)return{tools:[{functionDeclarations:g}],toolConfig:void 0,toolWarnings:s};const y=t.type;switch(y){case"auto":return{tools:[{functionDeclarations:g}],toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:s};case"none":return{tools:[{functionDeclarations:g}],toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:s};case"required":return{tools:[{functionDeclarations:g}],toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:s};case"tool":return{tools:[{functionDeclarations:g}],toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[t.toolName]}},toolWarnings:s};default:{const x=y;throw new Jc({functionality:`tool choice type: ${x}`})}}}function U5({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"MALFORMED_FUNCTION_CALL":return"error";case"FINISH_REASON_UNSPECIFIED":case"OTHER":default:return"other"}}var Kq=class{constructor(e,t){this.specificationVersion="v3";var r;this.modelId=e,this.config=t,this.generateId=(r=t.generateId)!=null?r:l1}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return(r=(t=(e=this.config).supportedUrls)==null?void 0:t.call(e))!=null?r:{}}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:s,frequencyPenalty:o,presencePenalty:u,stopSequences:d,responseFormat:f,seed:h,tools:p,toolChoice:g,providerOptions:y}){var x;const k=[],S=this.config.provider.includes("vertex")?"vertex":"google";let A=await sd({provider:S,providerOptions:y,schema:L5});A==null&&S!=="google"&&(A=await sd({provider:"google",providerOptions:y,schema:L5})),p!=null&&p.some(E=>E.type==="provider"&&E.id==="google.vertex_rag_store")&&!this.config.provider.startsWith("google.vertex.")&&k.push({type:"other",message:`The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});const C=this.modelId.toLowerCase().startsWith("gemma-"),{contents:R,systemInstruction:M}=Fq(e,{isGemmaModel:C,providerOptionsName:S}),{tools:I,toolConfig:D,toolWarnings:B}=Xq({tools:p,toolChoice:g,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:t,temperature:r,topK:s,topP:n,frequencyPenalty:o,presencePenalty:u,stopSequences:d,seed:h,responseMimeType:(f==null?void 0:f.type)==="json"?"application/json":void 0,responseSchema:(f==null?void 0:f.type)==="json"&&f.schema!=null&&((x=A==null?void 0:A.structuredOutputs)==null||x)?zn(f.schema):void 0,...(A==null?void 0:A.audioTimestamp)&&{audioTimestamp:A.audioTimestamp},responseModalities:A==null?void 0:A.responseModalities,thinkingConfig:A==null?void 0:A.thinkingConfig,...(A==null?void 0:A.mediaResolution)&&{mediaResolution:A.mediaResolution},...(A==null?void 0:A.imageConfig)&&{imageConfig:A.imageConfig}},contents:R,systemInstruction:C?void 0:M,safetySettings:A==null?void 0:A.safetySettings,tools:I,toolConfig:A!=null&&A.retrievalConfig?{...D,retrievalConfig:A.retrievalConfig}:D,cachedContent:A==null?void 0:A.cachedContent,labels:A==null?void 0:A.labels},warnings:[...k,...B],providerOptionsName:S}}async doGenerate(e){var t,r,n,s,o,u,d,f,h;const{args:p,warnings:g,providerOptionsName:y}=await this.getArgs(e),x=ts(await yr(this.config.headers),e.headers),{responseHeaders:k,value:S,rawValue:A}=await ci({url:`${this.config.baseURL}/${B5(this.modelId)}:generateContent`,headers:x,body:p,failedResponseHandler:Ru,successfulResponseHandler:di(Wq),abortSignal:e.abortSignal,fetch:this.config.fetch}),C=S.candidates[0],R=[],M=(r=(t=C.content)==null?void 0:t.parts)!=null?r:[],I=S.usageMetadata;let D;for(const E of M)if("executableCode"in E&&((n=E.executableCode)!=null&&n.code)){const j=this.config.generateId();D=j,R.push({type:"tool-call",toolCallId:j,toolName:"code_execution",input:JSON.stringify(E.executableCode),providerExecuted:!0})}else"codeExecutionResult"in E&&E.codeExecutionResult?(R.push({type:"tool-result",toolCallId:D,toolName:"code_execution",result:{outcome:E.codeExecutionResult.outcome,output:E.codeExecutionResult.output}}),D=void 0):"text"in E&&E.text!=null&&E.text.length>0?R.push({type:E.thought===!0?"reasoning":"text",text:E.text,providerMetadata:E.thoughtSignature?{[y]:{thoughtSignature:E.thoughtSignature}}:void 0}):"functionCall"in E?R.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:E.functionCall.name,input:JSON.stringify(E.functionCall.args),providerMetadata:E.thoughtSignature?{[y]:{thoughtSignature:E.thoughtSignature}}:void 0}):"inlineData"in E&&R.push({type:"file",data:E.inlineData.data,mediaType:E.inlineData.mimeType,providerMetadata:E.thoughtSignature?{[y]:{thoughtSignature:E.thoughtSignature}}:void 0});const B=(s=q5({groundingMetadata:C.groundingMetadata,generateId:this.config.generateId}))!=null?s:[];for(const E of B)R.push(E);return{content:R,finishReason:{unified:U5({finishReason:C.finishReason,hasToolCalls:R.some(E=>E.type==="tool-call"&&!E.providerExecuted)}),raw:(o=C.finishReason)!=null?o:void 0},usage:$5(I),warnings:g,providerMetadata:{[y]:{promptFeedback:(u=S.promptFeedback)!=null?u:null,groundingMetadata:(d=C.groundingMetadata)!=null?d:null,urlContextMetadata:(f=C.urlContextMetadata)!=null?f:null,safetyRatings:(h=C.safetyRatings)!=null?h:null,usageMetadata:I??null}},request:{body:p},response:{headers:k,body:A}}}async doStream(e){const{args:t,warnings:r,providerOptionsName:n}=await this.getArgs(e),s=ts(await yr(this.config.headers),e.headers),{responseHeaders:o,value:u}=await ci({url:`${this.config.baseURL}/${B5(this.modelId)}:streamGenerateContent?alt=sse`,headers:s,body:t,failedResponseHandler:Ru,successfulResponseHandler:$8(Qq),abortSignal:e.abortSignal,fetch:this.config.fetch});let d={unified:"other",raw:void 0},f,h;const p=this.config.generateId;let g=!1,y=null,x=null,k=0;const S=new Set;let A;return{stream:u.pipeThrough(new TransformStream({start(C){C.enqueue({type:"stream-start",warnings:r})},transform(C,R){var M,I,D,B,E,j,F;if(e.includeRawChunks&&R.enqueue({type:"raw",rawValue:C.rawValue}),!C.success){R.enqueue({type:"error",error:C.error});return}const ue=C.value,ee=ue.usageMetadata;ee!=null&&(f=ee);const V=(M=ue.candidates)==null?void 0:M[0];if(V==null)return;const K=V.content,X=q5({groundingMetadata:V.groundingMetadata,generateId:p});if(X!=null)for(const re of X)re.sourceType==="url"&&!S.has(re.url)&&(S.add(re.url),R.enqueue(re));if(K!=null){const re=(I=K.parts)!=null?I:[];for(const Z of re)if("executableCode"in Z&&((D=Z.executableCode)!=null&&D.code)){const J=p();A=J,R.enqueue({type:"tool-call",toolCallId:J,toolName:"code_execution",input:JSON.stringify(Z.executableCode),providerExecuted:!0})}else if("codeExecutionResult"in Z&&Z.codeExecutionResult){const J=A;J&&(R.enqueue({type:"tool-result",toolCallId:J,toolName:"code_execution",result:{outcome:Z.codeExecutionResult.outcome,output:Z.codeExecutionResult.output}}),A=void 0)}else"text"in Z&&Z.text!=null&&Z.text.length>0?Z.thought===!0?(y!==null&&(R.enqueue({type:"text-end",id:y}),y=null),x===null&&(x=String(k++),R.enqueue({type:"reasoning-start",id:x,providerMetadata:Z.thoughtSignature?{[n]:{thoughtSignature:Z.thoughtSignature}}:void 0})),R.enqueue({type:"reasoning-delta",id:x,delta:Z.text,providerMetadata:Z.thoughtSignature?{[n]:{thoughtSignature:Z.thoughtSignature}}:void 0})):(x!==null&&(R.enqueue({type:"reasoning-end",id:x}),x=null),y===null&&(y=String(k++),R.enqueue({type:"text-start",id:y,providerMetadata:Z.thoughtSignature?{[n]:{thoughtSignature:Z.thoughtSignature}}:void 0})),R.enqueue({type:"text-delta",id:y,delta:Z.text,providerMetadata:Z.thoughtSignature?{[n]:{thoughtSignature:Z.thoughtSignature}}:void 0})):"inlineData"in Z&&R.enqueue({type:"file",mediaType:Z.inlineData.mimeType,data:Z.inlineData.data});const $=Jq({parts:K.parts,generateId:p,providerOptionsName:n});if($!=null)for(const Z of $)R.enqueue({type:"tool-input-start",id:Z.toolCallId,toolName:Z.toolName,providerMetadata:Z.providerMetadata}),R.enqueue({type:"tool-input-delta",id:Z.toolCallId,delta:Z.args,providerMetadata:Z.providerMetadata}),R.enqueue({type:"tool-input-end",id:Z.toolCallId,providerMetadata:Z.providerMetadata}),R.enqueue({type:"tool-call",toolCallId:Z.toolCallId,toolName:Z.toolName,input:Z.args,providerMetadata:Z.providerMetadata}),g=!0}V.finishReason!=null&&(d={unified:U5({finishReason:V.finishReason,hasToolCalls:g}),raw:V.finishReason},h={[n]:{promptFeedback:(B=ue.promptFeedback)!=null?B:null,groundingMetadata:(E=V.groundingMetadata)!=null?E:null,urlContextMetadata:(j=V.urlContextMetadata)!=null?j:null,safetyRatings:(F=V.safetyRatings)!=null?F:null}},ee!=null&&(h[n].usageMetadata=ee))},flush(C){y!==null&&C.enqueue({type:"text-end",id:y}),x!==null&&C.enqueue({type:"reasoning-end",id:x}),C.enqueue({type:"finish",finishReason:d,usage:$5(f),providerMetadata:h})}})),response:{headers:o},request:{body:t}}}};function Jq({parts:e,generateId:t,providerOptionsName:r}){const n=e==null?void 0:e.filter(s=>"functionCall"in s);return n==null||n.length===0?void 0:n.map(s=>({type:"tool-call",toolCallId:t(),toolName:s.functionCall.name,args:JSON.stringify(s.functionCall.args),providerMetadata:s.thoughtSignature?{[r]:{thoughtSignature:s.thoughtSignature}}:void 0}))}function q5({groundingMetadata:e,generateId:t}){var r,n,s,o,u;if(!(e!=null&&e.groundingChunks))return;const d=[];for(const f of e.groundingChunks)if(f.web!=null)d.push({type:"source",sourceType:"url",id:t(),url:f.web.uri,title:(r=f.web.title)!=null?r:void 0});else if(f.retrievedContext!=null){const h=f.retrievedContext.uri,p=f.retrievedContext.fileSearchStore;if(h&&(h.startsWith("http://")||h.startsWith("https://")))d.push({type:"source",sourceType:"url",id:t(),url:h,title:(n=f.retrievedContext.title)!=null?n:void 0});else if(h){const g=(s=f.retrievedContext.title)!=null?s:"Unknown Document";let y="application/octet-stream",x;h.endsWith(".pdf")?(y="application/pdf",x=h.split("/").pop()):h.endsWith(".txt")?(y="text/plain",x=h.split("/").pop()):h.endsWith(".docx")?(y="application/vnd.openxmlformats-officedocument.wordprocessingml.document",x=h.split("/").pop()):h.endsWith(".doc")?(y="application/msword",x=h.split("/").pop()):(h.match(/\.(md|markdown)$/)&&(y="text/markdown"),x=h.split("/").pop()),d.push({type:"source",sourceType:"document",id:t(),mediaType:y,title:g,filename:x})}else if(p){const g=(o=f.retrievedContext.title)!=null?o:"Unknown Document";d.push({type:"source",sourceType:"document",id:t(),mediaType:"application/octet-stream",title:g,filename:p.split("/").pop()})}}else f.maps!=null&&f.maps.uri&&d.push({type:"source",sourceType:"url",id:t(),url:f.maps.uri,title:(u=f.maps.title)!=null?u:void 0});return d.length>0?d:void 0}var c9=()=>de({webSearchQueries:Je(q()).nullish(),retrievalQueries:Je(q()).nullish(),searchEntryPoint:de({renderedContent:q()}).nullish(),groundingChunks:Je(de({web:de({uri:q(),title:q().nullish()}).nullish(),retrievedContext:de({uri:q().nullish(),title:q().nullish(),text:q().nullish(),fileSearchStore:q().nullish()}).nullish(),maps:de({uri:q().nullish(),title:q().nullish(),text:q().nullish(),placeId:q().nullish()}).nullish()})).nullish(),groundingSupports:Je(de({segment:de({startIndex:ot().nullish(),endIndex:ot().nullish(),text:q().nullish()}).nullish(),segment_text:q().nullish(),groundingChunkIndices:Je(ot()).nullish(),supportChunkIndices:Je(ot()).nullish(),confidenceScores:Je(ot()).nullish(),confidenceScore:Je(ot()).nullish()})).nullish(),retrievalMetadata:cr([de({webDynamicRetrievalScore:ot()}),de({})]).nullish()}),d9=()=>de({parts:Je(cr([de({functionCall:de({name:q(),args:mt()}),thoughtSignature:q().nullish()}),de({inlineData:de({mimeType:q(),data:q()}),thoughtSignature:q().nullish()}),de({executableCode:de({language:q(),code:q()}).nullish(),codeExecutionResult:de({outcome:q(),output:q()}).nullish(),text:q().nullish(),thought:st().nullish(),thoughtSignature:q().nullish()})])).nullish()}),cd=()=>de({category:q().nullish(),probability:q().nullish(),probabilityScore:ot().nullish(),severity:q().nullish(),severityScore:ot().nullish(),blocked:st().nullish()}),f9=de({cachedContentTokenCount:ot().nullish(),thoughtsTokenCount:ot().nullish(),promptTokenCount:ot().nullish(),candidatesTokenCount:ot().nullish(),totalTokenCount:ot().nullish(),trafficType:q().nullish()}),h9=()=>de({urlMetadata:Je(de({retrievedUrl:q(),urlRetrievalStatus:q()}))}),Wq=Vt(()=>Lt(de({candidates:Je(de({content:d9().nullish().or(de({}).strict()),finishReason:q().nullish(),safetyRatings:Je(cd()).nullish(),groundingMetadata:c9().nullish(),urlContextMetadata:h9().nullish()})),usageMetadata:f9.nullish(),promptFeedback:de({blockReason:q().nullish(),safetyRatings:Je(cd()).nullish()}).nullish()}))),Qq=Vt(()=>Lt(de({candidates:Je(de({content:d9().nullish(),finishReason:q().nullish(),safetyRatings:Je(cd()).nullish(),groundingMetadata:c9().nullish(),urlContextMetadata:h9().nullish()})).nullish(),usageMetadata:f9.nullish(),promptFeedback:de({blockReason:q().nullish(),safetyRatings:Je(cd()).nullish()}).nullish()}))),eH=c1({id:"google.code_execution",inputSchema:de({language:q().describe("The programming language of the code."),code:q().describe("The code to be executed.")}),outputSchema:de({outcome:q().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:q().describe("The output from the code execution.")})}),tH=ll({id:"google.enterprise_web_search",inputSchema:Vt(()=>Lt(de({})))}),rH=de({fileSearchStoreNames:Je(q()).describe("The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`"),topK:ot().int().positive().describe("The number of file search retrieval chunks to retrieve.").optional(),metadataFilter:q().describe("Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.").optional()}).passthrough(),aH=Vt(()=>Lt(rH)),nH=ll({id:"google.file_search",inputSchema:aH}),iH=ll({id:"google.google_maps",inputSchema:Vt(()=>Lt(de({})))}),sH=ll({id:"google.google_search",inputSchema:Vt(()=>Lt(de({mode:gr(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:ot().default(1)})))}),oH=ll({id:"google.url_context",inputSchema:Vt(()=>Lt(de({})))}),lH=ll({id:"google.vertex_rag_store",inputSchema:de({ragCorpus:q(),topK:ot().optional()})}),uH={googleSearch:sH,enterpriseWebSearch:tH,googleMaps:iH,urlContext:oH,fileSearch:nH,codeExecution:eH,vertexRagStore:lH},cH=class{constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v3"}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)!=null?e:4}get provider(){return this.config.provider}async doGenerate(e){var t,r,n;const{prompt:s,n:o=1,size:u,aspectRatio:d="1:1",seed:f,providerOptions:h,headers:p,abortSignal:g,files:y,mask:x}=e,k=[];if(y!=null&&y.length>0)throw new Error("Google Generative AI does not support image editing. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");if(x!=null)throw new Error("Google Generative AI does not support image editing with masks. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");u!=null&&k.push({type:"unsupported",feature:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),f!=null&&k.push({type:"unsupported",feature:"seed",details:"This model does not support the `seed` option through this provider."});const S=await sd({provider:"google",providerOptions:h,schema:fH}),A=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,C={sampleCount:o};d!=null&&(C.aspectRatio=d),S&&Object.assign(C,S);const R={instances:[{prompt:s}],parameters:C},{responseHeaders:M,value:I}=await ci({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:ts(await yr(this.config.headers),p),body:R,failedResponseHandler:Ru,successfulResponseHandler:di(dH),abortSignal:g,fetch:this.config.fetch});return{images:I.predictions.map(D=>D.bytesBase64Encoded),warnings:k??[],providerMetadata:{google:{images:I.predictions.map(D=>({}))}},response:{timestamp:A,modelId:this.modelId,headers:M}}}},dH=Vt(()=>Lt(de({predictions:Je(de({bytesBase64Encoded:q()})).default([])}))),fH=Vt(()=>Lt(de({personGeneration:gr(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:gr(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));function m9(e={}){var t,r;const n=(t=B8(e.baseURL))!=null?t:"https://generativelanguage.googleapis.com/v1beta",s=(r=e.name)!=null?r:"google.generative-ai",o=()=>Us({"x-goog-api-key":p$({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers},`ai-sdk/google/${qq}`),u=p=>{var g;return new Kq(p,{provider:s,baseURL:n,headers:o,generateId:(g=e.generateId)!=null?g:l1,supportedUrls:()=>({"*":[new RegExp(`^${n}/files/.*$`),new RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),new RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),fetch:e.fetch})},d=p=>new Zq(p,{provider:s,baseURL:n,headers:o,fetch:e.fetch}),f=(p,g={})=>new cH(p,g,{provider:s,baseURL:n,headers:o,fetch:e.fetch}),h=function(p){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return u(p)};return h.specificationVersion="v3",h.languageModel=u,h.chat=u,h.generativeAI=u,h.embedding=d,h.embeddingModel=d,h.textEmbedding=d,h.textEmbeddingModel=d,h.image=f,h.imageModel=f,h.tools=uH,h}m9();const H5=`
You are an expert in Category Theory and Commutative Diagrams. 
Your goal is to generate "Arrowgram" diagram specifications based on the user's description.

Output ONLY valid JSON. Do not include markdown formatting.

The JSON specification format is as follows (TypeScript interface):

interface NodeSpec {
  name: string; // Unique ID (e.g., "A", "node_1")
  label?: string; // LaTeX label (e.g. "$A$", "$X \\\\times B$"). MUST be wrapped in $.
  color?: string; // Hex color code (e.g. "#FF0000"). Default: "black".
  left: number; // X coordinate (pixels)
  top: number; // Y coordinate (pixels)
}

interface ArrowStyleSpec {
  mode?: "arrow" | "adjunction" | "corner" | "corner_inverse";
  head?: { 
    name?: "normal" | "none" | "epi" | "hook" | "maps_to" | "harpoon"; 
    side?: "top" | "bottom" 
  }; 
  tail?: { 
    name?: "normal" | "none" | "mono" | "hook" | "maps_to"; 
    side?: "top" | "bottom" 
  };
  body?: { 
    name?: "solid" | "dashed" | "dotted" | "squiggly" | "wavy" | "barred" | "double_barred" | "bullet_solid" | "bullet_hollow" | "none" 
  };
  level?: number; // 1 for single (->), 2 for double (=>), 3 for triple.
}

interface ArrowSpec {
  from: string; // Node ID OR Arrow ID (for 2-cells)
  to: string; // Node ID OR Arrow ID
  name?: string; // Unique arrow ID (required if this arrow is a target)
  label?: string; // LaTeX label (e.g. "$f$", "$\\\\pi$"). MUST be wrapped in $.
  label_alignment?: "over" | "left" | "right"; // "over" is default.
  color?: string; // Hex color for arrow stroke.
  label_color?: string; // Hex color for label.
  curve?: number; // Curvature (-100 to 100), 0 is straight
  shift?: number; // Parallel shift
  radius?: number; // For loops
  angle?: number; // For loops (degrees)
  shorten?: {
      source?: number; // Gap at source (px)
      target?: number; // Gap at target (px)
  };
  style?: ArrowStyleSpec;
}

interface DiagramSpec {
  version?: number;
  nodes: NodeSpec[];
  arrows?: ArrowSpec[];
}

Layout Guidelines:
- Coordinate system: (0,0) is top-left.
- Standard spacing: Nodes are usually 100-200 pixels apart.
- Centered diagrams usually look best around (300, 300) or similar.
- Use standard LaTeX for labels (e.g., "$\\\\pi$", "$f \\\\circ g$").
- IMPORTANT: All labels MUST be wrapped in dollar signs for math mode (e.g., "$A$", "$f$").
- For 2-cells (natural transformations), name the source/target arrows and connect a new arrow between them.

CRITICAL JSON SYNTAX RULE:
- **Double Escape Backslashes**: When writing LaTeX commands in the JSON string, you MUST double-escape backslashes. 
  - WRONG: "label": "$A \\to B$" (Invalid JSON escape sequence)
  - CORRECT: "label": "$A \\\\to B$" (becomes "$A \\to B$" in the parser, which is correct)

CRITICAL RULES FOR UPDATES:
1. When provided with an existing spec ("Current Diagram Spec"), you must return the FULL merged JSON.
2. PRESERVE the coordinates (left, top) of existing nodes unless the user explicitly asks to move them or reorganize the layout.
3. PRESERVE existing node IDs ("name") to maintain arrow connections.
4. If adding a new node, place it intelligently relative to connected nodes (e.g., forming a square or triangle).

---
EXAMPLES:

1. **Pullback Square (Corner)**
{
  "version": 1,
  "nodes": [
    { "name": "P", "left": 100, "top": 100, "label": "$P$" },
    { "name": "A", "left": 300, "top": 100, "label": "$A$" },
    { "name": "B", "left": 100, "top": 300, "label": "$B$" },
    { "name": "C", "left": 300, "top": 300, "label": "$C$" }
  ],
  "arrows": [
    { "from": "P", "to": "A", "label": "$p_1$" },
    { "from": "P", "to": "B", "label": "$p_2$" },
    { "from": "A", "to": "C", "label": "$f$" },
    { "from": "B", "to": "C", "label": "$g$" },
    { "from": "P", "to": "C", "style": { "mode": "corner" } }
  ]
}

2. **Natural Transformation (2-cell)**
{
  "nodes": [
    { "name": "A", "left": 100, "top": 200, "label": "$A$" },
    { "name": "B", "left": 400, "top": 200, "label": "$B$" }
  ],
  "arrows": [
    { "name": "F", "from": "A", "to": "B", "label": "$F$", "curve": -40 },
    { "name": "G", "from": "A", "to": "B", "label": "$G$", "curve": 40 },
    { "from": "F", "to": "G", "label": "$\\\\alpha$", "style": { "level": 2 }, "shorten": { "source": 10, "target": 10 } }
  ]
}

3. **Adjunction with Loops and Dashed Lines**
{
  "nodes": [
    { "name": "X", "left": 200, "top": 200, "label": "$X$", "color": "blue" }
  ],
  "arrows": [
    { "from": "X", "to": "X", "label": "$1_X$", "radius": 40, "angle": 0, "style": { "body": { "name": "dashed" } } },
    { "from": "X", "to": "X", "label": "$e$", "radius": 40, "angle": 180 }
  ]
}

4. **Styles: Hook, Epi, Squiggly, Color**
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "$A$" },
    { "name": "B", "left": 300, "top": 100, "label": "$B$" }
  ],
  "arrows": [
    {
      "from": "A", "to": "B", 
      "label": "$f$", 
      "color": "red",
      "style": { 
        "tail": { "name": "hook", "side": "top" }, 
        "head": { "name": "epi" },
        "body": { "name": "squiggly" } 
      } 
    }
  ]
}

5. **Maps To (|->)**
{
  "nodes": [
    { "name": "x", "left": 100, "top": 100, "label": "$x$" },
    { "name": "y", "left": 300, "top": 100, "label": "$y$" }
  ],
  "arrows": [
    {
      "from": "x", "to": "y", 
      "style": { "tail": { "name": "maps_to" } } 
    }
  ]
}
`,hH=`
You are an expert academic writer and researcher. Your goal is to write and edit academic papers in Markdown format.
The papers are rendered using a pipeline supporting Arrowgram, Vega-Lite, Mermaid, and KaTeX.

Output ONLY valid Markdown.

### Document Structure & Metadata
Start the document with YAML frontmatter for the title and authors:
---
title: My Paper Title
authors: Author One & Author Two
---

### Capabilities & Syntax

1. **Standard Markdown**: Use headers (#, ##), lists, bold, italics, etc.

2. **Mathematics (KaTeX)**:
   - Inline: $E=mc^2$
   - Display:
     $$
     \\int_{-\\infty}^\\infty e^{-x^2} dx = \\sqrt{\\pi}
     $$

3. **Commutative Diagrams (Arrowgram)**:
   Embed the JSON spec in a div with class "arrowgram".
   **IMPORTANT**: In the JSON inside the div, double-escape all LaTeX backslashes. (e.g. use "\\\\to" not "\\to").
   <div class="arrowgram">
   {
     "version": 1,
     "nodes": [...],
     "arrows": [...] 
   }
   </div>

4. **Charts (Vega-Lite)**:
   Embed the JSON spec in a div with class "vega-lite".
   <div class="vega-lite">
   {
     "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
     "mark": "bar",
     "encoding": { ... },
     "data": { ... }
   }
   </div>

5. **Diagrams (Mermaid)**:
   Embed the Mermaid syntax in a div with class "mermaid".
   <div class="mermaid">
   graph TD;
       A-->B;
   </div>

### Editing Rules
- If editing, PRESERVE existing structure and diagrams unless explicitly changed.
- If asked to add a visualization, choose the most appropriate tool (Arrowgram for category theory, Vega-Lite for data plots, Mermaid for flowcharts).
`,mH={updateArtifact:{description:"Update the user's artifact (either a paper markdown document or a diagram JSON spec).",inputSchema:de({commentary:q().optional().describe("Optional explanation of changes."),artifact:q().describe("The full updated artifact content. For papers: full markdown. For diagrams: full JSON spec.")})}},Do={},pH="hotdocx_bearer_token";class vH{constructor(t){No(this,"version","agent-v1");No(this,"id","arrowgram-browser-gemini");No(this,"tools",mH);No(this,"apiKey");No(this,"system");this.apiKey=t.apiKey,this.system=t.system}async generate(){throw new Error("Not implemented")}async stream({prompt:t,messages:r,abortSignal:n}){const s=m9({apiKey:this.apiKey});return _q({model:s("gemini-2.5-flash"),system:this.system,prompt:t??r,tools:this.tools,abortSignal:n,stopWhen:[lq("updateArtifact"),e9(4)]})}}function P5({context:e}){const{apiKey:t}=Qb(),{addToast:r}=al(),n=Tt(R=>R.spec),s=Tt(R=>R.setSpec),o=e||{type:"diagram",content:n,onUpdate:s},[u,d]=_e.useState(""),f=_e.useMemo(()=>[o.type==="paper"?`${hH}

${H5}`:H5,"","You MUST call the tool `updateArtifact` when you have the final updated artifact.","Do not wrap JSON/markdown in code fences. Put the full updated content in `artifact`.","Put any explanation in `commentary` (optional).","",`Current ${o.type==="paper"?"paper markdown":"diagram JSON spec"}:`,o.content||"(empty)"].join(`
`),[o.type,o.content]),h=(Do==null?void 0:Do.VITE_API_BASE_URL)||(Do==null?void 0:Do.VITE_BETTER_AUTH_URL)||"",p=typeof h=="string"&&h.length>0,g=_e.useMemo(()=>{if(p){const M=h.replace(/\/+$/,"");return new l9({api:`${M}/api/my/ai/proxy`,headers:()=>{const I=localStorage.getItem(pH)??"";return I?{Authorization:`Bearer ${I}`}:{}},prepareSendMessagesRequest:({messages:I})=>({body:{messages:I,system:f}})})}const R=new vH({apiKey:t,system:f});return new Iq({agent:R})},[h,t,p,f]),{messages:y,sendMessage:x,addToolOutput:k,status:S}=Uq({transport:g,async onToolCall({toolCall:R}){if(!R.dynamic&&R.toolName==="updateArtifact")try{const M=de({commentary:q().optional(),artifact:q()}).parse(R.input);o.type==="diagram"&&JSON.parse(M.artifact),o.onUpdate(M.artifact),M.commentary?r(M.commentary,"success"):r("Updated.","success"),k({tool:"updateArtifact",toolCallId:R.toolCallId,output:{ok:!0}})}catch(M){k({tool:"updateArtifact",toolCallId:R.toolCallId,state:"output-error",errorText:(M==null?void 0:M.message)??"Failed to apply update"})}}}),A=S==="submitted"||S==="streaming",C=!p&&!t;return z.jsxs("div",{className:"flex flex-col h-full bg-white border-l border-gray-200 w-80 shadow-lg",children:[z.jsxs("div",{className:"p-4 border-b bg-purple-50 flex items-center justify-between gap-2",children:[z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx(_N,{className:"text-purple-600",size:20}),z.jsx("h3",{className:"font-bold text-gray-800",children:"AI Assistant"})]}),A?z.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-700",children:[z.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-purple-300 border-t-purple-700"}),z.jsx("span",{children:"Working"})]}):null,!p&&!t&&z.jsx("div",{title:"API Key Missing",className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"})]}),z.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[y.length===0?z.jsxs("div",{className:"text-sm text-gray-500",children:["Ask for changes, and I will update your ",o.type,"."]}):null,y.map((R,M)=>z.jsxs("div",{className:`flex gap-2 ${R.role==="user"?"flex-row-reverse":""}`,children:[z.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${R.role==="assistant"?"bg-purple-100 text-purple-600":"bg-gray-200 text-gray-600"}`,children:R.role==="assistant"?z.jsx(Wm,{size:16}):z.jsx(EN,{size:16})}),z.jsx("div",{className:"p-3 rounded-lg text-sm max-w-[80%] bg-white border border-gray-100 shadow-sm",children:R.parts.map((I,D)=>I.type==="text"?z.jsx("div",{children:I.text},D):I.type==="tool-call"?z.jsxs("div",{className:"text-xs text-gray-500",children:["Tool: ",I.toolName]},D):I.type==="tool-result"?z.jsxs("div",{className:"text-xs text-gray-500",children:["Tool result: ",I.toolName]},D):null)})]},R.id||M)),S==="streaming"&&z.jsxs("div",{className:"flex gap-2",children:[z.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center",children:z.jsx(Wm,{size:16})}),z.jsx("div",{className:"text-gray-400 text-sm flex items-center",children:"Thinking..."})]})]}),z.jsxs("div",{className:"p-4 border-t bg-white",children:[z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{type:"text",className:"flex-1 border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:C?"Set API Key in Settings to start":A?"Working":"Ask to update",value:u,onChange:R=>d(R.target.value),onKeyDown:R=>{R.key==="Enter"&&u.trim()&&(C||A||(x({text:u}),d("")))},disabled:C||A}),z.jsx("button",{onClick:()=>{u.trim()&&(C||A||(x({text:u}),d("")))},className:"bg-purple-600 text-white p-2 rounded-md hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:C||A||!u.trim(),title:"Send",children:z.jsx(bN,{size:18})})]}),C?z.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"OSS mode requires a user-provided Gemini API key (Settings). SaaS mode uses the server proxy."}):null]})]})}function ul(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function gH(e,t){let r;const n=()=>{if(r)return r;const s=indexedDB.open(e);return s.onupgradeneeded=()=>s.result.createObjectStore(t),r=ul(s),r.then(o=>{o.onclose=()=>r=void 0},()=>{}),r};return(s,o)=>n().then(u=>o(u.transaction(t,s).objectStore(t)))}let jm;function Cd(){return jm||(jm=gH("keyval-store","keyval")),jm}function Yo(e,t=Cd()){return t("readonly",r=>ul(r.get(e)))}function Fo(e,t,r=Cd()){return r("readwrite",n=>(n.put(t,e),ul(n.transaction)))}function p9(e,t=Cd()){return t("readwrite",r=>(r.delete(e),ul(r.transaction)))}function yH(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},ul(e.transaction)}function bH(e=Cd()){return e("readonly",t=>{if(t.getAllKeys)return ul(t.getAllKeys());const r=[];return yH(t,n=>r.push(n.key)).then(()=>r)})}const xH="arrowgram_project_",Rs="arrowgram_v2_project_",v9="arrowgram_v2_project_index",$m="arrowgram_v2_migrated_from_v1";function wp(){return new Date().toISOString()}function g9(){return crypto.randomUUID()}async function Rc(){const e=await Yo(v9);return Array.isArray(e)&&e.every(t=>typeof t=="string")?e:[]}async function Sp(e){await Fo(v9,e)}async function uu(){if(await Yo($m)===!0)return;const r=(await bH()).filter(s=>String(s).startsWith(xH));if(r.length===0){await Fo($m,!0);return}const n=await Rc();for(const s of r){const o=await Yo(s);if(!o||typeof o.name!="string"||typeof o.spec!="string")continue;const u=g9(),d=o.type==="paper"?"paper":"diagram",f={id:u,type:d,title:o.name,content:o.spec,updatedAt:o.updatedAt||wp()};await Fo(Rs+u,f),n.push(u),await p9(s)}await Sp(Array.from(new Set(n))),await Fo($m,!0)}function wH(){return{capabilities:{sharing:{canTogglePublic:!1,canGetPublicUrl:!1},attachments:{canUpload:!1},ai:{mode:"byok-client"}},async list(){await uu();const t=await Rc();return(await Promise.all(t.map(async n=>await Yo(Rs+n)))).filter(Boolean).map(n=>({id:n.id,type:n.type,title:n.title,updatedAt:n.updatedAt,isPublic:n.isPublic})).sort((n,s)=>new Date(s.updatedAt).getTime()-new Date(n.updatedAt).getTime())},async create(t){await uu();const r=g9(),n=typeof t.title=="string"&&t.title.trim()?t.title.trim():t.type==="paper"?"Untitled Paper":"Untitled Diagram",s=typeof t.content=="string"?t.content:"",o={id:r,type:t.type,title:n,content:s,updatedAt:wp()};await Fo(Rs+r,o);const u=await Rc();return u.push(r),await Sp(Array.from(new Set(u))),{...o}},async get(t){await uu();const r=await Yo(Rs+t);if(!r)throw new Error("Project not found");return{...r}},async update(t){await uu();const r=await Yo(Rs+t.id);if(!r)throw new Error("Project not found");const n={...r,title:typeof t.title=="string"&&t.title.trim()?t.title.trim():r.title,content:typeof t.content=="string"?t.content:r.content,isPublic:typeof t.isPublic=="boolean"?t.isPublic:r.isPublic,updatedAt:wp()};return await Fo(Rs+t.id,n),{...n}},async remove(t){await uu(),await p9(Rs+t);const r=(await Rc()).filter(n=>n!==t);await Sp(r)}}}const y9=wH(),b9=hn.createContext(null);function SH(e){return z.jsx(b9.Provider,{value:e.repository??y9,children:e.children})}function x9(){return hn.useContext(b9)??y9}function _H({onOpenProject:e}){const[t,r]=_e.useState([]),{createNew:n}=Tt(),s=x9();_e.useEffect(()=>{o()},[]);const o=async()=>{const p=await s.list();r(p)},u=async()=>{n();const p=await s.create({type:"diagram",title:"Untitled Diagram",content:JSON.stringify({version:1,nodes:[],arrows:[]},null,2)});e(p.id)},d=async()=>{const g=await s.create({type:"paper",title:"My New Paper",content:`---
title: My New Paper
authors: Author Name
---

# Introduction

Start writing here...
`});e(g.id)},f=p=>{e(p.id)},h=async(p,g,y)=>{p.stopPropagation(),confirm(`Are you sure you want to delete "${y}"?`)&&(await s.remove(g),o())};return z.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:z.jsxs("div",{className:"max-w-5xl mx-auto",children:[z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Workspace"}),z.jsx("p",{className:"text-gray-500 mt-2",children:"Manage your Diagrams and Papers"})]}),z.jsxs("div",{className:"flex gap-3",children:[z.jsxs(ma,{onClick:d,className:"gap-2 bg-indigo-600 hover:bg-indigo-700",children:[z.jsx(dm,{className:"w-4 h-4"})," New Paper"]}),z.jsxs(ma,{onClick:u,className:"gap-2 bg-white text-gray-700 border hover:bg-gray-50",children:[z.jsx(fN,{className:"w-4 h-4"})," New Diagram"]})]})]}),t.length===0?z.jsxs("div",{className:"text-center py-20 bg-white rounded-lg border border-dashed border-gray-300",children:[z.jsx(dm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No projects yet"}),z.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first project to get started."}),z.jsxs("div",{className:"flex justify-center gap-4",children:[z.jsx(ma,{onClick:d,children:"Create Paper"}),z.jsx(ma,{onClick:u,variant:"outline",children:"Create Diagram"})]})]}):z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(p=>z.jsxs("div",{onClick:()=>f(p),className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow cursor-pointer group relative",children:[z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[z.jsx("div",{className:`p-3 rounded-lg transition-colors ${p.type==="paper"?"bg-indigo-50 group-hover:bg-indigo-100":"bg-blue-50 group-hover:bg-blue-100"}`,children:p.type==="paper"?z.jsx(dm,{className:`w-6 h-6 ${p.type==="paper"?"text-indigo-600":"text-blue-600"}`}):z.jsxs("svg",{className:"w-6 h-6 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[z.jsx("circle",{cx:"6",cy:"6",r:"3"}),z.jsx("circle",{cx:"18",cy:"18",r:"3"}),z.jsx("path",{d:"M8.5 8.5l7 7"})]})}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider py-1 px-2 rounded-full ${p.type==="paper"?"bg-indigo-100 text-indigo-700":"bg-blue-100 text-blue-700"}`,children:p.type||"Diagram"}),z.jsx("button",{onClick:g=>h(g,p.id,p.title),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:z.jsx(Cb,{className:"w-4 h-4"})})]})]}),z.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:p.title}),z.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Edited ",new Date(p.updatedAt).toLocaleDateString()]})]},p.id))})]})})}function zH({markdown:e,isTwoColumn:t}){const r=_e.useRef(null);return _e.useEffect(()=>{let n=!0;return(async()=>{var ie;const[o,u,d,f,h,p,g]=await Promise.all([ha(()=>import("./server.browser-BZDZ2R3z.js").then(W=>W.s),[]),ha(()=>import("./showdown-D4PQXcSG.js").then(W=>W.s),[]),ha(()=>import("./mermaid.core-D-mGnfG0.js").then(W=>W.b7),__vite__mapDeps([0,1])),ha(()=>Promise.resolve().then(()=>K6),void 0),ha(()=>import("./vega.module-DlPeonZJ.js"),__vite__mapDeps([2,3,1,4,5,6,7,8,9,10,11])),ha(()=>import("./index-ByJ9Ii8b.js"),__vite__mapDeps([12,2,3,1,4,5,6,7,8,9,10,11])),ha(()=>import("./index-CtuWSrRy.js"),[])]),y=u.default??u,x=d.default??d,k=f.default??f,S=g.Previewer??((ie=g.default)==null?void 0:ie.Previewer);let A=e;const C=/<div class="vega-lite"([^>]*)>([\s\S]*?)<\/div>/g,R=Array.from(A.matchAll(C)),M=await Promise.all(R.map(async W=>{try{const te=JSON.parse(W[2].trim()),ge=p.compile(te).spec,le=await new h.View(h.parse(ge),{renderer:"svg"}).toSVG();return{original:W[0],replacement:`<div class="vega-container"${W[1]}>${le}</div>`}}catch(te){return{original:W[0],replacement:`<div class="vega-error">Chart Error: ${te.message}</div>`}}}));for(const W of M)A=A.replace(W.original,W.replacement);x.initialize({startOnLoad:!1,theme:"base"});const I=/<div class="mermaid"([^>]*)>([\s\S]*?)<\/div>/g,D=Array.from(A.matchAll(I)),B=await Promise.all(D.map(async(W,te)=>{try{const{svg:ge}=await x.render(`mermaid-svg-${Date.now()}-${te}`,W[2].trim());return{original:W[0],replacement:`<div class="mermaid-container"${W[1]}>${ge}</div>`}}catch{return{original:W[0],replacement:'<div class="mermaid-error">Diagram Error</div>'}}}));for(const W of B)A=A.replace(W.original,W.replacement);const E=/<div class="arrowgram"([^>]*)>([\s\S]*?)<\/div>/g,F=Array.from(A.matchAll(E)).map(W=>{try{const te=W[2].trim();JSON.parse(te);const ge=o.renderToStaticMarkup(z.jsx(ep,{spec:te}));return{original:W[0],replacement:`<div class="arrowgram-container"${W[1]}>${ge}</div>`}}catch(te){return console.error("Arrowgram Error:",te),{original:W[0],replacement:`<div class="arrowgram-error">Diagram Error: ${te.message}</div>`}}});for(const W of F)A=A.replace(W.original,W.replacement);const ue=new Map;let ee=0;const V=W=>{const te=`AGPROTMATH${ee++}AGPROT`;return ue.set(te,W),te};A=A.replace(/\$\$[\s\S]+?\$\$/g,V),A=A.replace(/\$(?!\$)(?:\\.|[^$\\\n])+\$/g,V);const K=new y.Converter({metadata:!0,noHeaderId:!0,literalMidWordUnderscores:!0});let X=K.makeHtml(A);const re=K.getMetadata();for(const[W,te]of ue.entries())X=X.split(W).join(te);const $=new Map;let Z=0;const J=W=>{const te=`__AG_PROTECTED_BLOCK_${Z++}__`;return $.set(te,W),te};X=X.replace(/<pre[^>]*>.*?<\/pre>/gs,J),X=X.replace(/<code[^>]*>.*?<\/code>/gs,J),X=X.replace(/\$\$([\s\S]+?)\$\$/g,(W,te)=>k.renderToString(te.trim(),{throwOnError:!1,displayMode:!0})),X=X.replace(/\$([^$]+?)\$/g,(W,te)=>k.renderToString(te.trim(),{throwOnError:!1,displayMode:!1}));for(const[W,te]of $.entries())X=X.replace(W,te);const Ae=`<div class="title-block">${re.title?`<div class="title">${re.title}</div>`:""}${re.authors?`<div class="authors">${re.authors}</div>`:""}</div>`,L=`<div class="${t?"layout-two-column":"layout-single-column"}">${Ae}<div class="paper-body">${X}</div></div>`;n&&r.current&&(r.current.innerHTML="",new S().preview(L,["https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"],r.current))})(),()=>{n=!1}},[e,t]),z.jsx("div",{ref:r,className:"preview-content-area",children:z.jsx("p",{className:"loading-indicator",children:"Processing Document..."})})}function kH({markdown:e,initialIsTwoColumn:t=!1,showCloseButton:r=!1,onClose:n}){const[s,o]=_e.useState(t);return z.jsxs("div",{className:"preview-container",children:[z.jsxs("div",{className:"preview-controls",children:[r&&z.jsx("button",{className:"control-button",onClick:()=>n?n():window.close(),children:"Close"}),z.jsx("button",{className:`control-button ${s?"active":""}`,onClick:()=>o(!s),children:s?"Single Column":"Two Column"}),z.jsx("button",{className:"control-button",onClick:()=>window.print(),children:"Print / Save PDF"})]}),z.jsx(zH,{markdown:e,isTwoColumn:s})]})}function TH(){const[e,t]=_e.useState(null),[r,n]=_e.useState(!1);return _e.useEffect(()=>{const s=localStorage.getItem("print_content"),o=localStorage.getItem("print_layout");t(s||`# Error: No content found

Please close this window and try printing again.`),o&&n(o==="true")},[]),e?z.jsx(kH,{markdown:e,initialIsTwoColumn:r,showCloseButton:!0}):z.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."})}const AH='@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_AMS-Regular-BQhdFMY1.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_AMS-Regular-DMm9YOAa.woff) format("woff"),url(/arrowgram/assets/KaTeX_AMS-Regular-DRggAlZN.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_Caligraphic-Bold-Dq_IR9rO.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Caligraphic-Bold-BEiXGLvX.woff) format("woff"),url(/arrowgram/assets/KaTeX_Caligraphic-Bold-ATXxdsX0.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Caligraphic-Regular-Di6jR-x-.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Caligraphic-Regular-CTRA-rTL.woff) format("woff"),url(/arrowgram/assets/KaTeX_Caligraphic-Regular-wX97UBjC.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_Fraktur-Bold-CL6g_b3V.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Fraktur-Bold-BsDP51OF.woff) format("woff"),url(/arrowgram/assets/KaTeX_Fraktur-Bold-BdnERNNW.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Fraktur-Regular-CTYiF6lA.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Fraktur-Regular-Dxdc4cR9.woff) format("woff"),url(/arrowgram/assets/KaTeX_Fraktur-Regular-CB_wures.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_Main-Bold-Cx986IdX.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-Bold-Jm3AIy58.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-Bold-waoOVXN0.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(/arrowgram/assets/KaTeX_Main-BoldItalic-DxDJ3AOS.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-BoldItalic-SpSLRI95.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-BoldItalic-DzxPMmG6.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(/arrowgram/assets/KaTeX_Main-Italic-NWA7e6Wa.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-Italic-BMLOBm91.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-Italic-3WenGoN9.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Main-Regular-B22Nviop.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-Regular-Dr94JaBh.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-Regular-ypZvNtVU.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(/arrowgram/assets/KaTeX_Math-BoldItalic-CZnvNsCZ.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Math-BoldItalic-iY-2wyZ7.woff) format("woff"),url(/arrowgram/assets/KaTeX_Math-BoldItalic-B3XSjfu4.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(/arrowgram/assets/KaTeX_Math-Italic-t53AETM-.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Math-Italic-DA0__PXp.woff) format("woff"),url(/arrowgram/assets/KaTeX_Math-Italic-flOr_0UB.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_SansSerif-Bold-D1sUS0GD.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_SansSerif-Bold-DbIhKOiC.woff) format("woff"),url(/arrowgram/assets/KaTeX_SansSerif-Bold-CFMepnvq.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:italic;font-weight:400;src:url(/arrowgram/assets/KaTeX_SansSerif-Italic-C3H0VqGB.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_SansSerif-Italic-DN2j7dab.woff) format("woff"),url(/arrowgram/assets/KaTeX_SansSerif-Italic-YYjJ1zSn.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_SansSerif-Regular-DDBCnlJ7.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_SansSerif-Regular-CS6fqUqJ.woff) format("woff"),url(/arrowgram/assets/KaTeX_SansSerif-Regular-BNo7hRIc.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Script-Regular-D3wIWfF6.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Script-Regular-D5yQViql.woff) format("woff"),url(/arrowgram/assets/KaTeX_Script-Regular-C5JkGWo-.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Size1-Regular-mCD8mA8B.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Size1-Regular-C195tn64.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size1-Regular-Dbsnue_I.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Size2-Regular-Dy4dx90m.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Size2-Regular-oD1tc_U0.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size2-Regular-B7gKUWhC.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(data:font/woff2;base64,d09GMgABAAAAAA4oAA4AAAAAHbQAAA3TAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAgRQIDgmcDBEICo1oijYBNgIkA14LMgAEIAWJAAeBHAyBHBvbGiMRdnO0IkRRkiYDgr9KsJ1NUAf2kILNxgUmgqIgq1P89vcbIcmsQbRps3vCcXdYOKSWEPEKgZgQkprQQsxIXUgq0DqpGKmIvrgkeVGtEQD9DzAO29fM9jYhxZEsL2FeURH2JN4MIcTdO049NCVdxQ/w9NrSYFEBKTDKpLKfNkCGDc1RwjZLQcm3vqJ2UW9Xfa3tgAHz6ivp6vgC2yD4/6352ndnN0X0TL7seypkjZlMsjmZnf0Mm5Q+JykRWQBKCVCVPbARPXWyQtb5VgLB6Biq7/Uixcj2WGqdI8tGSgkuRG+t910GKP2D7AQH0DB9FMDW/obJZ8giFI3Wg8Cvevz0M+5m0rTh7XDBlvo9Y4vm13EXmfttwI4mBo1EG15fxJhUiCLbiiyCf/ZA6MFAhg3pGIZGdGIVjtPn6UcMk9A/UUr9PhoNsCENw1APAq0gpH73e+M+0ueyHbabc3vkbcdtzcf/fiy+NxQEjf9ud/ELBHAXJ0nk4z+MXH2Ev/kWyV4k7SkvpPc9Qr38F6RPWnM9cN6DJ0AdD1BhtgABtmoRoFCvPsBAumNm6soZG2Gk5GyVTo2sJncSyp0jQTYoR6WDvTwaaEcHsxHfvuWhHA3a6bN7twRKtcGok6NsCi7jYRrM2jExsUFMxMQYuJbMhuWNOumEJy9hi29Dmg5zMp/A5+hhPG19j1vBrq8JTLr8ki5VLPmG/PynJHVul440bxg5xuymHUFPBshC+nA9I1FmwbRBTNHAcik3Oae0cxKoI3MOriM42UrPe51nsaGxJ+WfXubAsP84aabUlQSJ1IiE0iPETLUU4CATgfXSCSpuRFRmCGbO+wSpAnzaeaCYW1VNEysRtuXCEL1kUFUbbtMv3Tilt/1c11jt3Q5bbMa84cpWipp8Elw3MZhOHsOlwwVUQM3lAR35JiFQbaYCRnMF2lxAWoOg2gyoIV4PouX8HytNIfLhqpJtXB4vjiViUI8IJ7bkC4ikkQvKksnOTKICwnqWSZ9YS5f0WCxmpgjbIq7EJcM4aI2nmhLNY2JIUgOjXZFWBHb+x5oh6cwb0Tv1ackHdKi0I9OO2wE9aogIOn540CCCziyhN+IaejtgAONKznHlHyutPrHGwCx9S6B8kfS4Mfi4Eyv7OU730bT1SCBjt834cXsf43zVjPUqqJjgrjeGnBxSG4aYAKFuVbeCfkDIjAqMb6yLNIbCuvXhMH2/+k2vkNpkORhR59N1CkzoOENvneIosjYmuTxlhUzaGEJQ/iWqx4dmwpmKjrwTiTGTCVozNAYqk/zXOndWxuWSmJkQpJw3pK5KX6QrLt5LATMqpmPAQhkhK6PUjzHUn7E0gHE0kPE0iKkolgkUx9SZmVAdDgpffdyJKg3k7VmzYGCwVXGz/tXmkOIp+vcWs+EMuhhvN0h9uhfzWJziBQmCREGSIFmQIkgVpAnSBRmC//6hkLZwaVhwxlrJSOdqlFtOYxlau9F2QN5Y98xmIAsiM1HVp2VFX+DHHGg6Ecjh3vmqtidX3qHI2qycTk/iwxSt5UzTmEP92ZBnEWTk4Mx8Mpl78ZDokxg/KWb+Q0QkvdKVmq3TMW+RXEgrsziSAfNXFMhDc60N5N9jQzjfO0kBKpUZl0ZmwJ41j/B9Hz6wmRaJB84niNmQrzp9eSlQCDDzazGDdVi3P36VZQ+Jy4f9UBNp+3zTjqI4abaFAm+GShVaXlsGdF3FYzZcDI6cori4kMxUECl9IjJZpzkvitAoxKue+90pDMvcKRxLl53TmOKCmV/xRolNKSqqUxc6LStOETmFOiLZZptlZepcKiAzteG8PEdpnQpbOMNcMsR4RR2Bs0cKFEvSmIjAFcnarqwUL4lDhHmnVkwu1IwshbiCcgvOheZuYyOteufZZwlcTlLgnZ3o/WcYdzZHW/WGaqaVfmTZ1aWCceJjkbZqsfbkOtcFlUZM/jy+hXHDbaUobWqqXaeWobbLO99yG5N3U4wxco0rQGGcOLASFMXeJoham8M+/x6O2WywK2l4HGbq1CoUyC/IZikQhdq3SiuNrvAEj0AVu9x2x3lp/xWzahaxidezFVtdcb5uEnzyl0ZmYiuKI0exvCd4Xc9CV1KB0db00z92wDPde0kukbvZIWN6jUWFTmPIC/Y4UPCm8UfDTFZpZNon1qLFTkBhxzB+FjQRA2Q/YRJT8pQigslMaUpFyAG8TMlXigiqmAZX4xgijKjRlGpLE0GdplRfCaJo0JQaSxNBk6ZmMzcya0FmrcisDdn0Q3HI2sWSppYigmlM1XT/kLQZSNpMJG0WkjYbSZuDpM1F0uYhFc1HxU4m1QJjDK6iL0S5uSj5rgXc3RejEigtcRBtqYPQsiTskmO5vosV+q4VGIKbOkDg0jtRrq+Em1YloaTFar3EGr1EUC8R0kus1Uus00usL97ABr2BjXoDm/QGNhuWtMVBKOwg/i78lT7hBsAvDmwHc/ao3vmUbBmhjeYySZNWvGkfZAgISDSaDo1SVpzGDsAEkF8B+gEapViUoZgUWXcRIGFZNm6gWbAKk0bp0k1MHG9fLYtV4iS2SmLEQFARzRcnf9PUS0LVn05/J9MiRRBU3v2IrvW974v4N00L7ZMk0wXP1409CHo/an8zTRHD3eSJ6m8D4YMkZNl3M79sqeuAsr/m3f+8/yl7A50aiAEJgeBeMWzu7ui9UfUBCe2TIqZIoOd/3/udRBOQidQZUERzb2/VwZN1H/Sju82ew2H2Wfr6qvfVf3hqwDvAIpkQVFy4B9Pe9e4/XvPeceu7h3dvO56iJPf0+A6cqA2ip18ER+iFgggiuOkvj24bby0N9j2UHIkgqIt+sVgfodC4YghLSMjSZbH0VR/6dMDrYJeKHilKTemt6v6kvzvn3/RrdWtr0GoN/xL+Sex/cPYLUpepx9cz/D46UPU5KXgAQa+NDps1v6J3xP1i2HtaDB0M9aX2deA7SYff//+gUCovMmIK/qfsFcOk+4Y5ZN97XlG6zebqtMbKgeRFi51vnxTQYBUik2rS/Cn6PC8ADR8FGxsRPB82dzfND90gIcshOcYUkfjherBz53odpm6TP8txlwOZ71xmfHHOvq053qFF/MRlS3jP0ELudrf2OeN8DHvp6ZceLe8qKYvWz/7yp0u4dKPfli3CYq0O13Ih71mylJ80tOi10On8wi+F4+LWgDPeJ30msSQt9/vkmHq9/Lvo2b461mP801v3W4xTcs6CbvF9UDdrSt+A8OUbpSh55qAUFXWznBBfdeJ8a4d7ugT5tvxUza3h9m4H7ptTqiG4z0g5dc0X29OcGlhpGFMpQo9ytTS+NViZpNdvU4kWx+LKxNY10kQ1yqGXrhe4/1nvP7E+nd5A92TtaRplbHSqoIdOqtRWti+fkB5/n1+/VvCmz12pG1kpQWsfi1ftlBobm0bpngs16CHkbIwdLnParxtTV3QYRlfJ0KFskH7pdN/YDn+yRuSd7sNH3aO0DYPggk6uWuXrfOc+fa3VTxFVvKaNxHsiHmsXyCLIE5yuOeN3/Jdf8HBL/5M6shjyhxHx9BjB1O0+4NLOnjLLSxwO7ukN4jMbOIcD879KLSi6Pk61Oqm2377n8079PXEEQ7cy7OKEC9nbpet118fxweTafpt69x/Bt8UqGzNQt7aelpc44dn5cqhwf71+qKp/Zf/+a0zcizOUWpl/iBcSXip0pplkatCchoH5c5aUM8I7/dWxAej8WicPL1URFZ9BDJelUwEwTkGqUhgSlydVes95YdXvhh9Gfz/aeFWvgVb4tuLbcv4+wLdutVZv/cUonwBD/6eDlE0aSiKK/uoH3+J1wDE/jMVqY2ysGufN84oIXB0sPzy8ollX/LegY74DgJXJR57sn+VGza0x3DnuIgABFM15LmajjjsNlYj+JEZGbuRYcAMOWxFkPN2w6Wd46xo4gVWQR/X4lyI/R6K/YK0110GzudPRW7Y+UOBGTfNNzHeYT0fiH0taunBpq9HEW8OKSaBGj21L0MqenEmNRWBAWDWAk4CpNoEZJ2tTaPFgbQYj8HxtFilErs3BTRwT8uO1NXQaWfIotchmPkAF5mMBAliEmZiOGVgCG9LgRzpscMAOOwowlT3JhusdazXGSC/hxR3UlmWVwWHpOIKheqONvjyhSiTHIkVUco5bnji8m//zL7PKaT1Vl5I6UE609f+gkr6MZKVyKc7zJRmCahLsdlyA5fdQkRSan9LgnnLEyGSkaKJCJog0wAgvepWBt80+1yKln1bMVtCljfNWDueKLsWwaEbBSfSPTEmVRsUcYYMnEjcjeyCZzBXK9E9BYBXLKjOSpUDR+nEV3TFSUdQaz+ot98QxgXwx0GQ+EEUAKB2qZPkQQ0GqFD8UPFMqyaCHM24BZmSGic9EYMagKizOw9Hz50DMrDLrqqLkTAhplMictiCAx5S3BIUQdeJeLnBy2CNtMfz6cV4u8XKoFZQesbf9YZiIERiHjaNodDW6LgcirX/mPnJIkBGDUpTBhSa0EIr38D5hCIszhCM8URGBqImoWjpvpt1ebu/v3Gl3qJfMnNM+9V+kiRFyROTPHQWOcs1dNW94/ukKMPZBvDi55i5CttdeJz84DLngLqjcdwEZ87bFFR8CIG35OAkDVN6VRDZ7aq67NteYqZ2lpT8oYB2CytoBd6VuAx4WgiAsnuj3WohG+LugzXiQRDeM3XYXlULv4dp5VFYC) format("woff2"),url(/arrowgram/assets/KaTeX_Size3-Regular-CTq5MqoE.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size3-Regular-DgpXs0kz.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Size4-Regular-Dl5lxZxV.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Size4-Regular-BF-4gkZK.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size4-Regular-DWFBv043.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Typewriter-Regular-CO6r4hn1.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Typewriter-Regular-C0xS9mPB.woff) format("woff"),url(/arrowgram/assets/KaTeX_Typewriter-Regular-D3Ib7_Hf.ttf) format("truetype")}.katex{font: 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.16.22"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathboldfrak,.katex .textboldfrak{font-family:KaTeX_Fraktur;font-weight:700}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .mathsfit,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.2777777778em;margin-right:-.5555555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.1666666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.6666666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.4566666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.1466666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.7142857143em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.8571428571em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.1428571429em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.2857142857em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.4285714286em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.7142857143em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.0571428571em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.4685714286em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.9628571429em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.5542857143em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.7777777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.8888888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.1111111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.3044444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.7644444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.5833333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.7283333333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.0733333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.4861111111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.4402777778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.7277777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.2893518519em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.4050925926em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.462962963em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.5208333333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.2002314815em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.4398148148em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.2410800386em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.2892960463em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.337512054em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.3857280617em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.4339440694em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.4821600771em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.5785920926em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.6943105111em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.8331726133em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.1996142719em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.2009646302em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.2411575563em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.2813504823em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.3215434084em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.3617363344em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.4019292605em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.4823151125em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.578778135em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.6945337621em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.8336012862em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}',EH={enablePrintPreview:!0},MH=hn.createContext(EH);function NH(){return hn.useContext(MH)}function OH(){var V,K,X,re;const e=x9(),t=NH(),r=new URL("/arrowgram/",window.location.origin).pathname.replace(/\/$/,""),n=window.location.pathname.startsWith(r+"/")?window.location.pathname.slice(r.length):window.location.pathname;if(t.enablePrintPreview&&(n==="/print-preview"||n==="/print-preview/"))return z.jsx(TH,{});const s=Tt($=>$.spec),o=Tt($=>$.setSpec),u=Tt($=>$.filename),f={key:Tt($=>$.selectedIds).values().next().value},[h,p]=_e.useState("dashboard"),[g,y]=_e.useState(null),[x,k]=_e.useState(null),[S,A]=_e.useState(!1),[C,R]=_e.useState(""),[M,I]=_e.useState(!1),[D,B]=_e.useState(!0),{addToast:E}=al(),j=async($,Z={fitView:!0,showGrid:!0})=>{if($==="tikz"){const ze=eC(s);R(ze),A(!0);return}const J=document.getElementById("arrowgram-canvas");if(!J){E("Could not find the diagram to export.","error");return}let Ae=J.getAttribute("viewBox")||"0 0 1000 600";if(Z.fitView){const ze=_u(s);ze.viewBox&&(Ae=ze.viewBox)}try{const ze=J.cloneNode(!0);if(ze.setAttribute("viewBox",Ae),!Z.showGrid){const W=ze.querySelector('rect[fill*="#grid"]');W&&W.remove()}let L=AH;L=L.replace(/url\((['"]?)fonts\//g,(W,te)=>`url(${te}https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/`);const ie=document.createElementNS("http://www.w3.org/2000/svg","style");if(ie.textContent=L,ze.insertBefore(ie,ze.firstChild),$==="svg"){const W=new XMLSerializer().serializeToString(ze),te=new Blob([W],{type:"image/svg+xml"});iC.saveAs(te,`${u||"diagram"}.svg`),E("Diagram exported as SVG","success")}else if($==="png"){const W=Ae.split(" ").map(parseFloat),te={backgroundColor:"white",scale:2,left:W[0],top:W[1],width:W[2],height:W[3]},ge=document.createElement("div");ge.style.position="absolute",ge.style.top="-9999px",ge.style.left="-9999px",ge.style.visibility="hidden",ge.appendChild(ze),document.body.appendChild(ge);try{await rC.saveSvgAsPng(ze,`${u||"diagram"}.png`,te),E("Diagram exported as PNG","success")}finally{document.body.removeChild(ge)}}}catch(ze){console.error("Export failed:",ze),E("Failed to export diagram.","error")}},F=async()=>{try{if(!g)throw new Error("No active project");const $=await e.update({id:g.id,title:u,content:s});y($),E("Project saved successfully!","success")}catch($){console.error($),E("Failed to save project.","error")}},ue=async()=>{var $;try{if(g&&e.getPublicUrl&&(($=e.capabilities.sharing)!=null&&$.canGetPublicUrl)){const L=await e.getPublicUrl(g.id);return await navigator.clipboard.writeText(L),k(L),E("Share link copied to clipboard!","success"),L}const Z=new TextEncoder().encode(s),J=String.fromCharCode.apply(null,Z),Ae=btoa(J),ze=`${window.location.origin}${window.location.pathname}?spec=${Ae}`;return navigator.clipboard.writeText(ze),k(ze),E("Shareable URL copied to clipboard!","success"),ze}catch(Z){return console.error(Z),E("Failed to create share URL","error"),null}};_e.useEffect(()=>{k(null)},[g==null?void 0:g.id]),_e.useEffect(()=>{const Z=new URLSearchParams(window.location.search).get("spec");if(Z)try{const J=atob(Z),Ae=new Uint8Array(J.length);for(let L=0;L<J.length;L++)Ae[L]=J.charCodeAt(L);const ze=new TextDecoder().decode(Ae);o(ze),p("editor"),y({id:`shared:${Date.now()}`,title:"Shared Diagram",content:ze,updatedAt:"",type:"diagram"})}catch(J){console.error("Failed to load shared spec",J)}},[]);const ee=async $=>{p("editor");const Z=await e.get($);y(Z),Z.type==="diagram"&&(Tt.getState().setFilename(Z.title),o(Z.content))};return h==="dashboard"?z.jsx(_H,{onOpenProject:ee}):(g==null?void 0:g.type)==="paper"?z.jsx("div",{className:"h-screen w-screen bg-gray-50 flex flex-col font-sans overflow-hidden",children:z.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[z.jsx("div",{className:`transition-all duration-300 ease-in-out border-r border-gray-200 bg-white relative z-30 shadow-xl ${M?"w-80 translate-x-0":"w-0 -translate-x-full opacity-0"}`,children:z.jsx("div",{className:"w-80 h-full absolute right-0",children:z.jsx(P5,{context:{type:"paper",content:g.content,onUpdate:$=>y(Z=>Z?{...Z,content:$}:null)}})})}),z.jsxs("div",{className:"flex-1 relative flex flex-col min-w-0",children:[z.jsx("div",{className:"absolute top-3 left-4 z-40",children:z.jsx("button",{onClick:()=>p("dashboard"),className:"p-2 bg-white/50 hover:bg-white text-gray-500 hover:text-gray-900 border border-transparent hover:border-gray-200 rounded-lg transition-all shadow-sm backdrop-blur",title:"Back to Dashboard",children:z.jsx(O2,{size:20})})}),z.jsx("div",{className:"absolute top-3 right-20 z-40",children:z.jsx("button",{onClick:()=>I(!M),className:`p-2 rounded-lg transition-colors border shadow-sm ${M?"bg-indigo-100 text-indigo-700 border-indigo-200":"bg-white text-gray-600 hover:bg-gray-50 border-gray-200"}`,children:M?"Close AI":"Ask AI"})}),z.jsx(DO,{initialMarkdown:g.content,filename:g.title,onRename:async $=>{const Z=await e.update({id:g.id,title:$});y(Z)},onPersist:async $=>{const Z=await e.update({id:g.id,title:g.title,content:$});y(Z)},onChange:$=>{y(Z=>Z?{...Z,content:$}:null)},showPrintButton:t.enablePrintPreview,sharing:(V=e.capabilities.sharing)!=null&&V.canTogglePublic&&e.getPublicUrl&&((K=e.capabilities.sharing)!=null&&K.canGetPublicUrl)?{isPublic:!!g.isPublic,publicUrl:x??void 0,onTogglePublic:async $=>{const Z=await e.update({id:g.id,isPublic:$});y(Z),$||k(null)},onCopyShareLink:async()=>{await ue()}}:void 0})]})]})}):z.jsxs("div",{className:"h-screen w-screen bg-gray-50 flex flex-col font-sans overflow-hidden",children:[z.jsxs("nav",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-4 z-10 shadow-sm relative",children:[z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx("button",{onClick:()=>p("dashboard"),className:"p-2 -ml-2 text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:z.jsx(O2,{size:20})}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold shadow-sm",children:"A"}),z.jsx("span",{className:"font-semibold text-gray-800 text-lg tracking-tight hidden sm:block",children:"Arrowgram"}),z.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2 hidden sm:block"}),z.jsx("span",{className:"text-gray-600 font-medium",children:u})]})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors",children:[z.jsx(Nb,{size:16}),z.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),g&&((X=e.capabilities.sharing)==null?void 0:X.canTogglePublic)&&e.getPublicUrl&&((re=e.capabilities.sharing)==null?void 0:re.canGetPublicUrl)&&z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:async()=>{try{const $=await e.update({id:g.id,isPublic:!g.isPublic});y($),E($.isPublic?"Diagram is now public":"Diagram is now private","success")}catch($){console.error($),E("Failed to update sharing","error")}},className:`px-3 py-1.5 rounded-md text-sm font-medium border transition-colors ${g.isPublic?"bg-emerald-50 border-emerald-200 text-emerald-700 hover:bg-emerald-100":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,title:g.isPublic?"Public (click to make private)":"Private (click to make public)",children:g.isPublic?"Public":"Private"}),z.jsx("button",{onClick:()=>ue(),className:"px-3 py-1.5 rounded-md text-sm font-medium bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors",title:"Copy share link",children:"Share"})]}),z.jsx("button",{onClick:()=>B(!D),className:`p-2 rounded-lg transition-colors ${D?"bg-purple-100 text-purple-700":"text-gray-500 hover:bg-gray-100"}`,title:"Toggle Properties",children:z.jsx(Yc,{size:20})})]})]}),z.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[z.jsx("div",{className:`transition-all duration-300 ease-in-out border-r border-gray-200 bg-white relative z-20 shadow-xl ${M?"w-80 translate-x-0":"w-0 -translate-x-full opacity-0"}`,children:z.jsx("div",{className:"w-80 h-full absolute right-0",children:z.jsx(P5,{})})}),z.jsxs("div",{className:"flex-1 relative bg-gray-50 flex flex-col min-w-0",children:[z.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30",children:z.jsx(WO,{onExport:j,onShare:ue,onToggleChat:()=>I(!M),isChatOpen:M})}),z.jsx("div",{className:"flex-1 overflow-hidden relative",children:z.jsx(jb,{})})]}),z.jsx("div",{className:`${D?"w-80 border-l border-gray-200":"w-0"} transition-all duration-300 ease-in-out bg-white z-20 shadow-xl flex flex-col overflow-hidden`,children:z.jsxs("div",{className:"w-80 h-full flex flex-col",children:[z.jsxs("div",{className:"p-4 border-b border-gray-100 font-semibold text-gray-700 bg-gray-50/50 flex justify-between items-center",children:["Properties",z.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 lg:hidden",children:z.jsx(Yc,{size:16})})]}),z.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:z.jsx(t7,{selection:f,spec:s,onSpecChange:o})})]})})]}),z.jsx(QO,{tikzCode:C,onClose:()=>A(!1),isOpen:S})]})}(()=>{const e=window.location;if(e.search&&e.search[1]==="/"){const t=e.search.slice(1).split("&").map(n=>n.replace(/~and~/g,"&")).join("?"),r=new URL("/arrowgram/",e.origin).pathname.replace(/\/$/,"");window.history.replaceState(null,"",r+t+e.hash)}})();const Z5=document.getElementById("root");Z5&&Y5.createRoot(Z5).render(z.jsx(_e.StrictMode,{children:z.jsx(LN,{children:z.jsx(SH,{children:z.jsx(OH,{})})})}));export{ha as _,V5 as a,G5 as g,K6 as k,_p as r};
