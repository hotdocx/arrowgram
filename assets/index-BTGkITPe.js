const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mermaid.core-BekE5kpw.js","assets/step-CdWOLO1w.js","assets/vega.module-DlPeonZJ.js","assets/linear-BfjZ8xob.js","assets/init-Dmth1JHB.js","assets/defaultLocale-CNpUPyHh.js","assets/time-BEjrHOyX.js","assets/range-OtVwhkKS.js","assets/ordinal-BeghXfj9.js","assets/colors-Cc3OSVma.js","assets/arc-r7J50yS7.js","assets/index-Bi7T_FA4.js","assets/index-ByJ9Ii8b.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qd={exports:{}},_s={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function U8(){if(Fg)return _s;Fg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,s){var u=null;if(s!==void 0&&(u=""+s),o.key!==void 0&&(u=""+o.key),"key"in o){s={};for(var d in o)d!=="key"&&(s[d]=o[d])}else s=o;return o=s.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:s}}return _s.Fragment=e,_s.jsx=n,_s.jsxs=n,_s}var $g;function O8(){return $g||($g=1,qd.exports=U8()),qd.exports}var A=O8(),Hd={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function B8(){if(Yg)return Ye;Yg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,z={};function I(B,oe,W){this.props=B,this.context=oe,this.refs=z,this.updater=W||k}I.prototype.isReactComponent={},I.prototype.setState=function(B,oe){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,oe,"setState")},I.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=I.prototype;function q(B,oe,W){this.props=B,this.context=oe,this.refs=z,this.updater=W||k}var D=q.prototype=new U;D.constructor=q,E(D,I.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function G(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function V(B,oe,W){var le=W.ref;return{$$typeof:t,type:B,key:oe,ref:le!==void 0?le:null,props:W}}function Q(B,oe){return V(B.type,oe,B.props)}function X(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function K(B){var oe={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(W){return oe[W]})}var Z=/\/+/g;function j(B,oe){return typeof B=="object"&&B!==null&&B.key!=null?K(""+B.key):oe.toString(36)}function ae(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(G,G):(B.status="pending",B.then(function(oe){B.status==="pending"&&(B.status="fulfilled",B.value=oe)},function(oe){B.status==="pending"&&(B.status="rejected",B.reason=oe)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,oe,W,le,xe){var Te=typeof B;(Te==="undefined"||Te==="boolean")&&(B=null);var ce=!1;if(B===null)ce=!0;else switch(Te){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(B.$$typeof){case t:case e:ce=!0;break;case g:return ce=B._init,$(ce(B._payload),oe,W,le,xe)}}if(ce)return xe=xe(B),ce=le===""?"."+j(B,0):le,O(xe)?(W="",ce!=null&&(W=ce.replace(Z,"$&/")+"/"),$(xe,oe,W,"",function($e){return $e})):xe!=null&&(X(xe)&&(xe=Q(xe,W+(xe.key==null||B&&B.key===xe.key?"":(""+xe.key).replace(Z,"$&/")+"/")+ce)),oe.push(xe)),1;ce=0;var Ce=le===""?".":le+":";if(O(B))for(var Ie=0;Ie<B.length;Ie++)le=B[Ie],Te=Ce+j(le,Ie),ce+=$(le,oe,W,Te,xe);else if(Ie=w(B),typeof Ie=="function")for(B=Ie.call(B),Ie=0;!(le=B.next()).done;)le=le.value,Te=Ce+j(le,Ie++),ce+=$(le,oe,W,Te,xe);else if(Te==="object"){if(typeof B.then=="function")return $(ae(B),oe,W,le,xe);throw oe=String(B),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return ce}function ue(B,oe,W){if(B==null)return B;var le=[],xe=0;return $(B,le,"","",function(Te){return oe.call(W,Te,xe++)}),le}function re(B){if(B._status===-1){var oe=B._result;oe=oe(),oe.then(function(W){(B._status===0||B._status===-1)&&(B._status=1,B._result=W)},function(W){(B._status===0||B._status===-1)&&(B._status=2,B._result=W)}),B._status===-1&&(B._status=0,B._result=oe)}if(B._status===1)return B._result.default;throw B._result}var Re=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Le={map:ue,forEach:function(B,oe,W){ue(B,function(){oe.apply(this,arguments)},W)},count:function(B){var oe=0;return ue(B,function(){oe++}),oe},toArray:function(B){return ue(B,function(oe){return oe})||[]},only:function(B){if(!X(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ye.Activity=y,Ye.Children=Le,Ye.Component=I,Ye.Fragment=n,Ye.Profiler=o,Ye.PureComponent=q,Ye.StrictMode=r,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},Ye.cache=function(B){return function(){return B.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(B,oe,W){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var le=E({},B.props),xe=B.key;if(oe!=null)for(Te in oe.key!==void 0&&(xe=""+oe.key),oe)!L.call(oe,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&oe.ref===void 0||(le[Te]=oe[Te]);var Te=arguments.length-2;if(Te===1)le.children=W;else if(1<Te){for(var ce=Array(Te),Ce=0;Ce<Te;Ce++)ce[Ce]=arguments[Ce+2];le.children=ce}return V(B.type,xe,le)},Ye.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:s,_context:B},B},Ye.createElement=function(B,oe,W){var le,xe={},Te=null;if(oe!=null)for(le in oe.key!==void 0&&(Te=""+oe.key),oe)L.call(oe,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(xe[le]=oe[le]);var ce=arguments.length-2;if(ce===1)xe.children=W;else if(1<ce){for(var Ce=Array(ce),Ie=0;Ie<ce;Ie++)Ce[Ie]=arguments[Ie+2];xe.children=Ce}if(B&&B.defaultProps)for(le in ce=B.defaultProps,ce)xe[le]===void 0&&(xe[le]=ce[le]);return V(B,Te,xe)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(B){return{$$typeof:d,render:B}},Ye.isValidElement=X,Ye.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:re}},Ye.memo=function(B,oe){return{$$typeof:h,type:B,compare:oe===void 0?null:oe}},Ye.startTransition=function(B){var oe=R.T,W={};R.T=W;try{var le=B(),xe=R.S;xe!==null&&xe(W,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(G,Re)}catch(Te){Re(Te)}finally{oe!==null&&W.types!==null&&(oe.types=W.types),R.T=oe}},Ye.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ye.use=function(B){return R.H.use(B)},Ye.useActionState=function(B,oe,W){return R.H.useActionState(B,oe,W)},Ye.useCallback=function(B,oe){return R.H.useCallback(B,oe)},Ye.useContext=function(B){return R.H.useContext(B)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(B,oe){return R.H.useDeferredValue(B,oe)},Ye.useEffect=function(B,oe){return R.H.useEffect(B,oe)},Ye.useEffectEvent=function(B){return R.H.useEffectEvent(B)},Ye.useId=function(){return R.H.useId()},Ye.useImperativeHandle=function(B,oe,W){return R.H.useImperativeHandle(B,oe,W)},Ye.useInsertionEffect=function(B,oe){return R.H.useInsertionEffect(B,oe)},Ye.useLayoutEffect=function(B,oe){return R.H.useLayoutEffect(B,oe)},Ye.useMemo=function(B,oe){return R.H.useMemo(B,oe)},Ye.useOptimistic=function(B,oe){return R.H.useOptimistic(B,oe)},Ye.useReducer=function(B,oe,W){return R.H.useReducer(B,oe,W)},Ye.useRef=function(B){return R.H.useRef(B)},Ye.useState=function(B){return R.H.useState(B)},Ye.useSyncExternalStore=function(B,oe,W){return R.H.useSyncExternalStore(B,oe,W)},Ye.useTransition=function(){return R.H.useTransition()},Ye.version="19.2.4",Ye}var Jg;function nh(){return Jg||(Jg=1,Hd.exports=B8()),Hd.exports}var we=nh();const ho=L8(we);var Gd={exports:{}},As={},Vd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function P8(){return Xg||(Xg=1,function(t){function e($,ue){var re=$.length;$.push(ue);e:for(;0<re;){var Re=re-1>>>1,Le=$[Re];if(0<o(Le,ue))$[Re]=ue,$[re]=Le,re=Re;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ue=$[0],re=$.pop();if(re!==ue){$[0]=re;e:for(var Re=0,Le=$.length,B=Le>>>1;Re<B;){var oe=2*(Re+1)-1,W=$[oe],le=oe+1,xe=$[le];if(0>o(W,re))le<Le&&0>o(xe,W)?($[Re]=xe,$[le]=re,Re=le):($[Re]=W,$[oe]=re,Re=oe);else if(le<Le&&0>o(xe,re))$[Re]=xe,$[le]=re,Re=le;else break e}}return ue}function o($,ue){var re=$.sortIndex-ue.sortIndex;return re!==0?re:$.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,y=null,b=3,w=!1,k=!1,E=!1,z=!1,I=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function D($){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=$)r(h),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(h)}}function O($){if(E=!1,D($),!k)if(n(f)!==null)k=!0,G||(G=!0,K());else{var ue=n(h);ue!==null&&ae(O,ue.startTime-$)}}var G=!1,R=-1,L=5,V=-1;function Q(){return z?!0:!(t.unstable_now()-V<L)}function X(){if(z=!1,G){var $=t.unstable_now();V=$;var ue=!0;try{e:{k=!1,E&&(E=!1,U(R),R=-1),w=!0;var re=b;try{t:{for(D($),y=n(f);y!==null&&!(y.expirationTime>$&&Q());){var Re=y.callback;if(typeof Re=="function"){y.callback=null,b=y.priorityLevel;var Le=Re(y.expirationTime<=$);if($=t.unstable_now(),typeof Le=="function"){y.callback=Le,D($),ue=!0;break t}y===n(f)&&r(f),D($)}else r(f);y=n(f)}if(y!==null)ue=!0;else{var B=n(h);B!==null&&ae(O,B.startTime-$),ue=!1}}break e}finally{y=null,b=re,w=!1}ue=void 0}}finally{ue?K():G=!1}}}var K;if(typeof q=="function")K=function(){q(X)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,j=Z.port2;Z.port1.onmessage=X,K=function(){j.postMessage(null)}}else K=function(){I(X,0)};function ae($,ue){R=I(function(){$(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function($){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var re=b;b=ue;try{return $()}finally{b=re}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=b;b=$;try{return ue()}finally{b=re}},t.unstable_scheduleCallback=function($,ue,re){var Re=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Re+re:Re):re=Re,$){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=re+Le,$={id:g++,callback:ue,priorityLevel:$,startTime:re,expirationTime:Le,sortIndex:-1},re>Re?($.sortIndex=re,e(h,$),n(f)===null&&$===n(h)&&(E?(U(R),R=-1):E=!0,ae(O,re-Re))):($.sortIndex=Le,e(f,$),k||w||(k=!0,G||(G=!0,K()))),$},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function($){var ue=b;return function(){var re=b;b=ue;try{return $.apply(this,arguments)}finally{b=re}}}}(Fd)),Fd}var Kg;function q8(){return Kg||(Kg=1,Vd.exports=P8()),Vd.exports}var $d={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function H8(){if(Zg)return ln;Zg=1;var t=nh();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(f,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:f,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,g)},ln.flushSync=function(f){var h=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=g,r.d.f()}},ln.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},ln.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ln.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,y=d(g,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ln.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},ln.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=d(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ln.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},ln.requestFormReset=function(f){r.d.r(f)},ln.unstable_batchedUpdates=function(f,h){return f(h)},ln.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var Wg;function g2(){if(Wg)return $d.exports;Wg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$d.exports=H8(),$d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function G8(){if(Qg)return As;Qg=1;var t=q8(),e=nh(),n=g2();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=s(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var v=l.return;if(v===null)break;var x=v.alternate;if(x===null){if(c=v.return,c!==null){l=c;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===l)return f(v),i;if(x===c)return f(v),a;x=x.sibling}throw Error(r(188))}if(l.return!==c.return)l=v,c=x;else{for(var _=!1,M=v.child;M;){if(M===l){_=!0,l=v,c=x;break}if(M===c){_=!0,c=v,l=x;break}M=M.sibling}if(!_){for(M=x.child;M;){if(M===l){_=!0,l=x,c=v;break}if(M===c){_=!0,c=x,l=v;break}M=M.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),q=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Symbol.for("react.client.reference");function j(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case I:return"Profiler";case z:return"StrictMode";case O:return"Suspense";case G:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case q:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case D:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return a=i.displayName||null,a!==null?a:j(i.type)||"Memo";case L:a=i._payload,i=i._init;try{return j(i(a))}catch{}}return null}var ae=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Re=[],Le=-1;function B(i){return{current:i}}function oe(i){0>Le||(i.current=Re[Le],Re[Le]=null,Le--)}function W(i,a){Le++,Re[Le]=i.current,i.current=a}var le=B(null),xe=B(null),Te=B(null),ce=B(null);function Ce(i,a){switch(W(Te,a),W(xe,i),W(le,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?hg(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=hg(a),i=mg(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(le),W(le,i)}function Ie(){oe(le),oe(xe),oe(Te)}function $e(i){i.memoizedState!==null&&W(ce,i);var a=le.current,l=mg(a,i.type);a!==l&&(W(xe,i),W(le,l))}function We(i){xe.current===i&&(oe(le),oe(xe)),ce.current===i&&(oe(ce),bs._currentValue=re)}var Qe,St;function ht(i){if(Qe===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Qe=a&&a[1]||"",St=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+i+St}var Bt=!1;function sn(i,a){if(!i||Bt)return"";Bt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(de){var se=de}Reflect.construct(i,[],me)}else{try{me.call()}catch(de){se=de}i.call(me.prototype)}}else{try{throw Error()}catch(de){se=de}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(de){if(de&&se&&typeof de.stack=="string")return[de.stack,se.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),_=x[0],M=x[1];if(_&&M){var F=_.split(`
`),ie=M.split(`
`);for(v=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;if(c===F.length||v===ie.length)for(c=F.length-1,v=ie.length-1;1<=c&&0<=v&&F[c]!==ie[v];)v--;for(;1<=c&&0<=v;c--,v--)if(F[c]!==ie[v]){if(c!==1||v!==1)do if(c--,v--,0>v||F[c]!==ie[v]){var fe=`
`+F[c].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=c&&0<=v);break}}}finally{Bt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ht(l):""}function It(i,a){switch(i.tag){case 26:case 27:case 5:return ht(i.type);case 16:return ht("Lazy");case 13:return i.child!==a&&a!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return sn(i.type,!1);case 11:return sn(i.type.render,!1);case 1:return sn(i.type,!0);case 31:return ht("Activity");default:return""}}function fn(i){try{var a="",l=null;do a+=It(i,l),l=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var cr=Object.prototype.hasOwnProperty,No=t.unstable_scheduleCallback,Yi=t.unstable_cancelCallback,Eu=t.unstable_shouldYield,Ji=t.unstable_requestPaint,hn=t.unstable_now,Cu=t.unstable_getCurrentPriorityLevel,$h=t.unstable_ImmediatePriority,Yh=t.unstable_UserBlockingPriority,Vs=t.unstable_NormalPriority,g6=t.unstable_LowPriority,Jh=t.unstable_IdlePriority,v6=t.log,y6=t.unstable_setDisableYieldValue,Ro=null,Rn=null;function oi(i){if(typeof v6=="function"&&y6(i),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(Ro,i)}catch{}}var In=Math.clz32?Math.clz32:S6,x6=Math.log,b6=Math.LN2;function S6(i){return i>>>=0,i===0?32:31-(x6(i)/b6|0)|0}var Fs=256,$s=262144,Ys=4194304;function Xi(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Js(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var v=0,x=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var M=c&134217727;return M!==0?(c=M&~x,c!==0?v=Xi(c):(_&=M,_!==0?v=Xi(_):l||(l=M&~i,l!==0&&(v=Xi(l))))):(M=c&~x,M!==0?v=Xi(M):_!==0?v=Xi(_):l||(l=c&~i,l!==0&&(v=Xi(l)))),v===0?0:a!==0&&a!==v&&(a&x)===0&&(x=v&-v,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:v}function Io(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function w6(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xh(){var i=Ys;return Ys<<=1,(Ys&62914560)===0&&(Ys=4194304),i}function ku(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Do(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function T6(i,a,l,c,v,x){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,F=i.expirationTimes,ie=i.hiddenUpdates;for(l=_&~l;0<l;){var fe=31-In(l),me=1<<fe;M[fe]=0,F[fe]=-1;var se=ie[fe];if(se!==null)for(ie[fe]=null,fe=0;fe<se.length;fe++){var de=se[fe];de!==null&&(de.lane&=-536870913)}l&=~me}c!==0&&Kh(i,c,0),x!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=x&~(_&~a))}function Kh(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-In(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function Zh(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-In(l),v=1<<c;v&a|i[c]&a&&(i[c]|=a),l&=~v}}function Wh(i,a){var l=a&-a;return l=(l&42)!==0?1:zu(l),(l&(i.suspendedLanes|a))!==0?0:l}function zu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Mu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Qh(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:Og(i.type))}function jh(i,a){var l=ue.p;try{return ue.p=i,a()}finally{ue.p=l}}var si=Math.random().toString(36).slice(2),en="__reactFiber$"+si,Sn="__reactProps$"+si,_a="__reactContainer$"+si,Nu="__reactEvents$"+si,_6="__reactListeners$"+si,A6="__reactHandles$"+si,em="__reactResources$"+si,Lo="__reactMarker$"+si;function Ru(i){delete i[en],delete i[Sn],delete i[Nu],delete i[_6],delete i[A6]}function Aa(i){var a=i[en];if(a)return a;for(var l=i.parentNode;l;){if(a=l[_a]||l[en]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Sg(i);i!==null;){if(l=i[en])return l;i=Sg(i)}return a}i=l,l=i.parentNode}return null}function Ea(i){if(i=i[en]||i[_a]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Uo(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Ca(i){var a=i[em];return a||(a=i[em]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Wt(i){i[Lo]=!0}var tm=new Set,nm={};function Ki(i,a){ka(i,a),ka(i+"Capture",a)}function ka(i,a){for(nm[i]=a,i=0;i<a.length;i++)tm.add(a[i])}var E6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rm={},im={};function C6(i){return cr.call(im,i)?!0:cr.call(rm,i)?!1:E6.test(i)?im[i]=!0:(rm[i]=!0,!1)}function Xs(i,a,l){if(C6(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Ks(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function zr(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function Jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function am(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function k6(i,a,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,x=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(_){l=""+_,x.call(this,_)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Iu(i){if(!i._valueTracker){var a=am(i)?"checked":"value";i._valueTracker=k6(i,a,""+i[a])}}function om(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=am(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Zs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var z6=/[\n"\\]/g;function Xn(i){return i.replace(z6,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Du(i,a,l,c,v,x,_,M){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),a!=null?_==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Jn(a)):i.value!==""+Jn(a)&&(i.value=""+Jn(a)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),a!=null?Lu(i,_,Jn(a)):l!=null?Lu(i,_,Jn(l)):c!=null&&i.removeAttribute("value"),v==null&&x!=null&&(i.defaultChecked=!!x),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Jn(M):i.removeAttribute("name")}function sm(i,a,l,c,v,x,_,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){Iu(i);return}l=l!=null?""+Jn(l):"",a=a!=null?""+Jn(a):l,M||a===i.value||(i.value=a),i.defaultValue=a}c=c??v,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=M?i.checked:!!c,i.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Iu(i)}function Lu(i,a,l){a==="number"&&Zs(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function za(i,a,l,c){if(i=i.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<i.length;l++)v=a.hasOwnProperty("$"+i[l].value),i[l].selected!==v&&(i[l].selected=v),v&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Jn(l),a=null,v=0;v<i.length;v++){if(i[v].value===l){i[v].selected=!0,c&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function lm(i,a,l){if(a!=null&&(a=""+Jn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Jn(l):""}function um(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ae(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Jn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),Iu(i)}function Ma(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var M6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cm(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||M6.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function dm(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var v in a)c=a[v],a.hasOwnProperty(v)&&l[v]!==c&&cm(i,v,c)}else for(var x in a)a.hasOwnProperty(x)&&cm(i,x,a[x])}function Uu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(i){return R6.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Mr(){}var Ou=null;function Bu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Na=null,Ra=null;function fm(i){var a=Ea(i);if(a&&(i=a.stateNode)){var l=i[Sn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Du(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Xn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var v=c[Sn]||null;if(!v)throw Error(r(90));Du(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&om(c)}break e;case"textarea":lm(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&za(i,!!l.multiple,a,!1)}}}var Pu=!1;function hm(i,a,l){if(Pu)return i(a,l);Pu=!0;try{var c=i(a);return c}finally{if(Pu=!1,(Na!==null||Ra!==null)&&(Bl(),Na&&(a=Na,i=Ra,Ra=Na=null,fm(a),i)))for(a=0;a<i.length;a++)fm(i[a])}}function Oo(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Sn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qu=!1;if(Nr)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{qu=!1}var li=null,Hu=null,Qs=null;function mm(){if(Qs)return Qs;var i,a=Hu,l=a.length,c,v="value"in li?li.value:li.textContent,x=v.length;for(i=0;i<l&&a[i]===v[i];i++);var _=l-i;for(c=1;c<=_&&a[l-c]===v[x-c];c++);return Qs=v.slice(i,1<c?1-c:void 0)}function js(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function el(){return!0}function pm(){return!1}function wn(i){function a(l,c,v,x,_){this._reactName=l,this._targetInst=v,this.type=c,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?el:pm,this.isPropagationStopped=pm,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),a}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=wn(Zi),Po=y({},Zi,{view:0,detail:0}),I6=wn(Po),Gu,Vu,qo,nl=y({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$u,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qo&&(qo&&i.type==="mousemove"?(Gu=i.screenX-qo.screenX,Vu=i.screenY-qo.screenY):Vu=Gu=0,qo=i),Gu)},movementY:function(i){return"movementY"in i?i.movementY:Vu}}),gm=wn(nl),D6=y({},nl,{dataTransfer:0}),L6=wn(D6),U6=y({},Po,{relatedTarget:0}),Fu=wn(U6),O6=y({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),B6=wn(O6),P6=y({},Zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),q6=wn(P6),H6=y({},Zi,{data:0}),vm=wn(H6),G6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $6(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=F6[i])?!!a[i]:!1}function $u(){return $6}var Y6=y({},Po,{key:function(i){if(i.key){var a=G6[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=js(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?V6[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$u,charCode:function(i){return i.type==="keypress"?js(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?js(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),J6=wn(Y6),X6=y({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ym=wn(X6),K6=y({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$u}),Z6=wn(K6),W6=y({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q6=wn(W6),j6=y({},nl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),e7=wn(j6),t7=y({},Zi,{newState:0,oldState:0}),n7=wn(t7),r7=[9,13,27,32],Yu=Nr&&"CompositionEvent"in window,Ho=null;Nr&&"documentMode"in document&&(Ho=document.documentMode);var i7=Nr&&"TextEvent"in window&&!Ho,xm=Nr&&(!Yu||Ho&&8<Ho&&11>=Ho),bm=" ",Sm=!1;function wm(i,a){switch(i){case"keyup":return r7.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ia=!1;function a7(i,a){switch(i){case"compositionend":return Tm(a);case"keypress":return a.which!==32?null:(Sm=!0,bm);case"textInput":return i=a.data,i===bm&&Sm?null:i;default:return null}}function o7(i,a){if(Ia)return i==="compositionend"||!Yu&&wm(i,a)?(i=mm(),Qs=Hu=li=null,Ia=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xm&&a.locale!=="ko"?null:a.data;default:return null}}var s7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _m(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!s7[i.type]:a==="textarea"}function Am(i,a,l,c){Na?Ra?Ra.push(c):Ra=[c]:Na=c,a=$l(a,"onChange"),0<a.length&&(l=new tl("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var Go=null,Vo=null;function l7(i){sg(i,0)}function rl(i){var a=Uo(i);if(om(a))return i}function Em(i,a){if(i==="change")return a}var Cm=!1;if(Nr){var Ju;if(Nr){var Xu="oninput"in document;if(!Xu){var km=document.createElement("div");km.setAttribute("oninput","return;"),Xu=typeof km.oninput=="function"}Ju=Xu}else Ju=!1;Cm=Ju&&(!document.documentMode||9<document.documentMode)}function zm(){Go&&(Go.detachEvent("onpropertychange",Mm),Vo=Go=null)}function Mm(i){if(i.propertyName==="value"&&rl(Vo)){var a=[];Am(a,Vo,i,Bu(i)),hm(l7,a)}}function u7(i,a,l){i==="focusin"?(zm(),Go=a,Vo=l,Go.attachEvent("onpropertychange",Mm)):i==="focusout"&&zm()}function c7(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rl(Vo)}function d7(i,a){if(i==="click")return rl(a)}function f7(i,a){if(i==="input"||i==="change")return rl(a)}function h7(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Dn=typeof Object.is=="function"?Object.is:h7;function Fo(i,a){if(Dn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var v=l[c];if(!cr.call(a,v)||!Dn(i[v],a[v]))return!1}return!0}function Nm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rm(i,a){var l=Nm(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Nm(l)}}function Im(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Im(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Dm(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Zs(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Zs(i.document)}return a}function Ku(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var m7=Nr&&"documentMode"in document&&11>=document.documentMode,Da=null,Zu=null,$o=null,Wu=!1;function Lm(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wu||Da==null||Da!==Zs(c)||(c=Da,"selectionStart"in c&&Ku(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),$o&&Fo($o,c)||($o=c,c=$l(Zu,"onSelect"),0<c.length&&(a=new tl("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=Da)))}function Wi(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var La={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},Qu={},Um={};Nr&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Qi(i){if(Qu[i])return Qu[i];if(!La[i])return i;var a=La[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Um)return Qu[i]=a[l];return i}var Om=Qi("animationend"),Bm=Qi("animationiteration"),Pm=Qi("animationstart"),p7=Qi("transitionrun"),g7=Qi("transitionstart"),v7=Qi("transitioncancel"),qm=Qi("transitionend"),Hm=new Map,ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ju.push("scrollEnd");function dr(i,a){Hm.set(i,a),Ki(a,[i])}var il=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],Ua=0,ec=0;function al(){for(var i=Ua,a=ec=Ua=0;a<i;){var l=Kn[a];Kn[a++]=null;var c=Kn[a];Kn[a++]=null;var v=Kn[a];Kn[a++]=null;var x=Kn[a];if(Kn[a++]=null,c!==null&&v!==null){var _=c.pending;_===null?v.next=v:(v.next=_.next,_.next=v),c.pending=v}x!==0&&Gm(l,v,x)}}function ol(i,a,l,c){Kn[Ua++]=i,Kn[Ua++]=a,Kn[Ua++]=l,Kn[Ua++]=c,ec|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function tc(i,a,l,c){return ol(i,a,l,c),sl(i)}function ji(i,a){return ol(i,null,null,a),sl(i)}function Gm(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var v=!1,x=i.return;x!==null;)x.childLanes|=l,c=x.alternate,c!==null&&(c.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(v=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,v&&a!==null&&(v=31-In(l),i=x.hiddenUpdates,c=i[v],c===null?i[v]=[a]:c.push(a),a.lane=l|536870912),x):null}function sl(i){if(50<hs)throw hs=0,cd=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Oa={};function y7(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,a,l,c){return new y7(i,a,l,c)}function nc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Rr(i,a){var l=i.alternate;return l===null?(l=Ln(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Vm(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function ll(i,a,l,c,v,x){var _=0;if(c=i,typeof i=="function")nc(i)&&(_=1);else if(typeof i=="string")_=T8(i,l,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=Ln(31,l,a,v),i.elementType=V,i.lanes=x,i;case E:return ea(l.children,v,x,a);case z:_=8,v|=24;break;case I:return i=Ln(12,l,a,v|2),i.elementType=I,i.lanes=x,i;case O:return i=Ln(13,l,a,v),i.elementType=O,i.lanes=x,i;case G:return i=Ln(19,l,a,v),i.elementType=G,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:_=10;break e;case U:_=9;break e;case D:_=11;break e;case R:_=14;break e;case L:_=16,c=null;break e}_=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Ln(_,l,a,v),a.elementType=i,a.type=c,a.lanes=x,a}function ea(i,a,l,c){return i=Ln(7,i,c,a),i.lanes=l,i}function rc(i,a,l){return i=Ln(6,i,null,a),i.lanes=l,i}function Fm(i){var a=Ln(18,null,null,0);return a.stateNode=i,a}function ic(i,a,l){return a=Ln(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var $m=new WeakMap;function Zn(i,a){if(typeof i=="object"&&i!==null){var l=$m.get(i);return l!==void 0?l:(a={value:i,source:a,stack:fn(a)},$m.set(i,a),a)}return{value:i,source:a,stack:fn(a)}}var Ba=[],Pa=0,ul=null,Yo=0,Wn=[],Qn=0,ui=null,yr=1,xr="";function Ir(i,a){Ba[Pa++]=Yo,Ba[Pa++]=ul,ul=i,Yo=a}function Ym(i,a,l){Wn[Qn++]=yr,Wn[Qn++]=xr,Wn[Qn++]=ui,ui=i;var c=yr;i=xr;var v=32-In(c)-1;c&=~(1<<v),l+=1;var x=32-In(a)+v;if(30<x){var _=v-v%5;x=(c&(1<<_)-1).toString(32),c>>=_,v-=_,yr=1<<32-In(a)+v|l<<v|c,xr=x+i}else yr=1<<x|l<<v|c,xr=i}function ac(i){i.return!==null&&(Ir(i,1),Ym(i,1,0))}function oc(i){for(;i===ul;)ul=Ba[--Pa],Ba[Pa]=null,Yo=Ba[--Pa],Ba[Pa]=null;for(;i===ui;)ui=Wn[--Qn],Wn[Qn]=null,xr=Wn[--Qn],Wn[Qn]=null,yr=Wn[--Qn],Wn[Qn]=null}function Jm(i,a){Wn[Qn++]=yr,Wn[Qn++]=xr,Wn[Qn++]=ui,yr=a.id,xr=a.overflow,ui=i}var tn=null,wt=null,rt=!1,ci=null,jn=!1,sc=Error(r(519));function di(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Zn(a,i)),sc}function Xm(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[en]=i,a[Sn]=c,l){case"dialog":et("cancel",a),et("close",a);break;case"iframe":case"object":case"embed":et("load",a);break;case"video":case"audio":for(l=0;l<ps.length;l++)et(ps[l],a);break;case"source":et("error",a);break;case"img":case"image":case"link":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"input":et("invalid",a),sm(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":et("invalid",a);break;case"textarea":et("invalid",a),um(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||dg(a.textContent,l)?(c.popover!=null&&(et("beforetoggle",a),et("toggle",a)),c.onScroll!=null&&et("scroll",a),c.onScrollEnd!=null&&et("scrollend",a),c.onClick!=null&&(a.onclick=Mr),a=!0):a=!1,a||di(i,!0)}function Km(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:tn=tn.return}}function qa(i){if(i!==tn)return!1;if(!rt)return Km(i),rt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ad(i.type,i.memoizedProps)),l=!l),l&&wt&&di(i),Km(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));wt=bg(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));wt=bg(i)}else a===27?(a=wt,Ai(i.type)?(i=Md,Md=null,wt=i):wt=a):wt=tn?tr(i.stateNode.nextSibling):null;return!0}function ta(){wt=tn=null,rt=!1}function lc(){var i=ci;return i!==null&&(En===null?En=i:En.push.apply(En,i),ci=null),i}function Jo(i){ci===null?ci=[i]:ci.push(i)}var uc=B(null),na=null,Dr=null;function fi(i,a,l){W(uc,a._currentValue),a._currentValue=l}function Lr(i){i._currentValue=uc.current,oe(uc)}function cc(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function dc(i,a,l,c){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var x=v.dependencies;if(x!==null){var _=v.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=v;for(var F=0;F<a.length;F++)if(M.context===a[F]){x.lanes|=l,M=x.alternate,M!==null&&(M.lanes|=l),cc(x.return,l,i),c||(_=null);break e}x=M.next}}else if(v.tag===18){if(_=v.return,_===null)throw Error(r(341));_.lanes|=l,x=_.alternate,x!==null&&(x.lanes|=l),cc(_,l,i),_=null}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===i){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}}function Ha(i,a,l,c){i=null;for(var v=a,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var _=v.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var M=v.type;Dn(v.pendingProps.value,_.value)||(i!==null?i.push(M):i=[M])}}else if(v===ce.current){if(_=v.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(bs):i=[bs])}v=v.return}i!==null&&dc(a,i,l,c),a.flags|=262144}function cl(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ra(i){na=i,Dr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return Zm(na,i)}function dl(i,a){return na===null&&ra(i),Zm(i,a)}function Zm(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Dr===null){if(i===null)throw Error(r(308));Dr=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Dr=Dr.next=a;return l}var x7=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},b7=t.unstable_scheduleCallback,S7=t.unstable_NormalPriority,Pt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fc(){return{controller:new x7,data:new Map,refCount:0}}function Xo(i){i.refCount--,i.refCount===0&&b7(S7,function(){i.controller.abort()})}var Ko=null,hc=0,Ga=0,Va=null;function w7(i,a){if(Ko===null){var l=Ko=[];hc=0,Ga=gd(),Va={status:"pending",value:void 0,then:function(c){l.push(c)}}}return hc++,a.then(Wm,Wm),a}function Wm(){if(--hc===0&&Ko!==null){Va!==null&&(Va.status="fulfilled");var i=Ko;Ko=null,Ga=0,Va=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function T7(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(c.status="rejected",c.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),c}var Qm=$.S;$.S=function(i,a){L1=hn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&w7(i,a),Qm!==null&&Qm(i,a)};var ia=B(null);function mc(){var i=ia.current;return i!==null?i:yt.pooledCache}function fl(i,a){a===null?W(ia,ia.current):W(ia,a.pool)}function jm(){var i=mc();return i===null?null:{parent:Pt._currentValue,pool:i}}var Fa=Error(r(460)),pc=Error(r(474)),hl=Error(r(542)),ml={then:function(){}};function ep(i){return i=i.status,i==="fulfilled"||i==="rejected"}function tp(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Mr,Mr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,rp(i),i;default:if(typeof a.status=="string")a.then(Mr,Mr);else{if(i=yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=c}},function(c){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,rp(i),i}throw oa=a,Fa}}function aa(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(oa=l,Fa):l}}var oa=null;function np(){if(oa===null)throw Error(r(459));var i=oa;return oa=null,i}function rp(i){if(i===Fa||i===hl)throw Error(r(483))}var $a=null,Zo=0;function pl(i){var a=Zo;return Zo+=1,$a===null&&($a=[]),tp($a,i,a)}function Wo(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function gl(i,a){throw a.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function ip(i){function a(ee,Y){if(i){var te=ee.deletions;te===null?(ee.deletions=[Y],ee.flags|=16):te.push(Y)}}function l(ee,Y){if(!i)return null;for(;Y!==null;)a(ee,Y),Y=Y.sibling;return null}function c(ee){for(var Y=new Map;ee!==null;)ee.key!==null?Y.set(ee.key,ee):Y.set(ee.index,ee),ee=ee.sibling;return Y}function v(ee,Y){return ee=Rr(ee,Y),ee.index=0,ee.sibling=null,ee}function x(ee,Y,te){return ee.index=te,i?(te=ee.alternate,te!==null?(te=te.index,te<Y?(ee.flags|=67108866,Y):te):(ee.flags|=67108866,Y)):(ee.flags|=1048576,Y)}function _(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function M(ee,Y,te,he){return Y===null||Y.tag!==6?(Y=rc(te,ee.mode,he),Y.return=ee,Y):(Y=v(Y,te),Y.return=ee,Y)}function F(ee,Y,te,he){var Ue=te.type;return Ue===E?fe(ee,Y,te.props.children,he,te.key):Y!==null&&(Y.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&aa(Ue)===Y.type)?(Y=v(Y,te.props),Wo(Y,te),Y.return=ee,Y):(Y=ll(te.type,te.key,te.props,null,ee.mode,he),Wo(Y,te),Y.return=ee,Y)}function ie(ee,Y,te,he){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=ic(te,ee.mode,he),Y.return=ee,Y):(Y=v(Y,te.children||[]),Y.return=ee,Y)}function fe(ee,Y,te,he,Ue){return Y===null||Y.tag!==7?(Y=ea(te,ee.mode,he,Ue),Y.return=ee,Y):(Y=v(Y,te),Y.return=ee,Y)}function me(ee,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=rc(""+Y,ee.mode,te),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return te=ll(Y.type,Y.key,Y.props,null,ee.mode,te),Wo(te,Y),te.return=ee,te;case k:return Y=ic(Y,ee.mode,te),Y.return=ee,Y;case L:return Y=aa(Y),me(ee,Y,te)}if(ae(Y)||K(Y))return Y=ea(Y,ee.mode,te,null),Y.return=ee,Y;if(typeof Y.then=="function")return me(ee,pl(Y),te);if(Y.$$typeof===q)return me(ee,dl(ee,Y),te);gl(ee,Y)}return null}function se(ee,Y,te,he){var Ue=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ue!==null?null:M(ee,Y,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===Ue?F(ee,Y,te,he):null;case k:return te.key===Ue?ie(ee,Y,te,he):null;case L:return te=aa(te),se(ee,Y,te,he)}if(ae(te)||K(te))return Ue!==null?null:fe(ee,Y,te,he,null);if(typeof te.then=="function")return se(ee,Y,pl(te),he);if(te.$$typeof===q)return se(ee,Y,dl(ee,te),he);gl(ee,te)}return null}function de(ee,Y,te,he,Ue){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return ee=ee.get(te)||null,M(Y,ee,""+he,Ue);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return ee=ee.get(he.key===null?te:he.key)||null,F(Y,ee,he,Ue);case k:return ee=ee.get(he.key===null?te:he.key)||null,ie(Y,ee,he,Ue);case L:return he=aa(he),de(ee,Y,te,he,Ue)}if(ae(he)||K(he))return ee=ee.get(te)||null,fe(Y,ee,he,Ue,null);if(typeof he.then=="function")return de(ee,Y,te,pl(he),Ue);if(he.$$typeof===q)return de(ee,Y,te,dl(Y,he),Ue);gl(Y,he)}return null}function ke(ee,Y,te,he){for(var Ue=null,ot=null,De=Y,Xe=Y=0,nt=null;De!==null&&Xe<te.length;Xe++){De.index>Xe?(nt=De,De=null):nt=De.sibling;var st=se(ee,De,te[Xe],he);if(st===null){De===null&&(De=nt);break}i&&De&&st.alternate===null&&a(ee,De),Y=x(st,Y,Xe),ot===null?Ue=st:ot.sibling=st,ot=st,De=nt}if(Xe===te.length)return l(ee,De),rt&&Ir(ee,Xe),Ue;if(De===null){for(;Xe<te.length;Xe++)De=me(ee,te[Xe],he),De!==null&&(Y=x(De,Y,Xe),ot===null?Ue=De:ot.sibling=De,ot=De);return rt&&Ir(ee,Xe),Ue}for(De=c(De);Xe<te.length;Xe++)nt=de(De,ee,Xe,te[Xe],he),nt!==null&&(i&&nt.alternate!==null&&De.delete(nt.key===null?Xe:nt.key),Y=x(nt,Y,Xe),ot===null?Ue=nt:ot.sibling=nt,ot=nt);return i&&De.forEach(function(Mi){return a(ee,Mi)}),rt&&Ir(ee,Xe),Ue}function He(ee,Y,te,he){if(te==null)throw Error(r(151));for(var Ue=null,ot=null,De=Y,Xe=Y=0,nt=null,st=te.next();De!==null&&!st.done;Xe++,st=te.next()){De.index>Xe?(nt=De,De=null):nt=De.sibling;var Mi=se(ee,De,st.value,he);if(Mi===null){De===null&&(De=nt);break}i&&De&&Mi.alternate===null&&a(ee,De),Y=x(Mi,Y,Xe),ot===null?Ue=Mi:ot.sibling=Mi,ot=Mi,De=nt}if(st.done)return l(ee,De),rt&&Ir(ee,Xe),Ue;if(De===null){for(;!st.done;Xe++,st=te.next())st=me(ee,st.value,he),st!==null&&(Y=x(st,Y,Xe),ot===null?Ue=st:ot.sibling=st,ot=st);return rt&&Ir(ee,Xe),Ue}for(De=c(De);!st.done;Xe++,st=te.next())st=de(De,ee,Xe,st.value,he),st!==null&&(i&&st.alternate!==null&&De.delete(st.key===null?Xe:st.key),Y=x(st,Y,Xe),ot===null?Ue=st:ot.sibling=st,ot=st);return i&&De.forEach(function(D8){return a(ee,D8)}),rt&&Ir(ee,Xe),Ue}function gt(ee,Y,te,he){if(typeof te=="object"&&te!==null&&te.type===E&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var Ue=te.key;Y!==null;){if(Y.key===Ue){if(Ue=te.type,Ue===E){if(Y.tag===7){l(ee,Y.sibling),he=v(Y,te.props.children),he.return=ee,ee=he;break e}}else if(Y.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&aa(Ue)===Y.type){l(ee,Y.sibling),he=v(Y,te.props),Wo(he,te),he.return=ee,ee=he;break e}l(ee,Y);break}else a(ee,Y);Y=Y.sibling}te.type===E?(he=ea(te.props.children,ee.mode,he,te.key),he.return=ee,ee=he):(he=ll(te.type,te.key,te.props,null,ee.mode,he),Wo(he,te),he.return=ee,ee=he)}return _(ee);case k:e:{for(Ue=te.key;Y!==null;){if(Y.key===Ue)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){l(ee,Y.sibling),he=v(Y,te.children||[]),he.return=ee,ee=he;break e}else{l(ee,Y);break}else a(ee,Y);Y=Y.sibling}he=ic(te,ee.mode,he),he.return=ee,ee=he}return _(ee);case L:return te=aa(te),gt(ee,Y,te,he)}if(ae(te))return ke(ee,Y,te,he);if(K(te)){if(Ue=K(te),typeof Ue!="function")throw Error(r(150));return te=Ue.call(te),He(ee,Y,te,he)}if(typeof te.then=="function")return gt(ee,Y,pl(te),he);if(te.$$typeof===q)return gt(ee,Y,dl(ee,te),he);gl(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(l(ee,Y.sibling),he=v(Y,te),he.return=ee,ee=he):(l(ee,Y),he=rc(te,ee.mode,he),he.return=ee,ee=he),_(ee)):l(ee,Y)}return function(ee,Y,te,he){try{Zo=0;var Ue=gt(ee,Y,te,he);return $a=null,Ue}catch(De){if(De===Fa||De===hl)throw De;var ot=Ln(29,De,null,ee.mode);return ot.lanes=he,ot.return=ee,ot}finally{}}}var sa=ip(!0),ap=ip(!1),hi=!1;function gc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vc(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function pi(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ut&2)!==0){var v=c.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),c.pending=a,a=sl(i),Gm(i,null,l),a}return ol(i,c,a,l),sl(i)}function Qo(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Zh(i,l)}}function yc(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var v=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?v=x=_:x=x.next=_,l=l.next}while(l!==null);x===null?v=x=a:x=x.next=a}else v=x=a;l={baseState:c.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var xc=!1;function jo(){if(xc){var i=Va;if(i!==null)throw i}}function es(i,a,l,c){xc=!1;var v=i.updateQueue;hi=!1;var x=v.firstBaseUpdate,_=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var F=M,ie=F.next;F.next=null,_===null?x=ie:_.next=ie,_=F;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,M=fe.lastBaseUpdate,M!==_&&(M===null?fe.firstBaseUpdate=ie:M.next=ie,fe.lastBaseUpdate=F))}if(x!==null){var me=v.baseState;_=0,fe=ie=F=null,M=x;do{var se=M.lane&-536870913,de=se!==M.lane;if(de?(tt&se)===se:(c&se)===se){se!==0&&se===Ga&&(xc=!0),fe!==null&&(fe=fe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ke=i,He=M;se=a;var gt=l;switch(He.tag){case 1:if(ke=He.payload,typeof ke=="function"){me=ke.call(gt,me,se);break e}me=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=He.payload,se=typeof ke=="function"?ke.call(gt,me,se):ke,se==null)break e;me=y({},me,se);break e;case 2:hi=!0}}se=M.callback,se!==null&&(i.flags|=64,de&&(i.flags|=8192),de=v.callbacks,de===null?v.callbacks=[se]:de.push(se))}else de={lane:se,tag:M.tag,payload:M.payload,callback:M.callback,next:null},fe===null?(ie=fe=de,F=me):fe=fe.next=de,_|=se;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;de=M,M=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);fe===null&&(F=me),v.baseState=F,v.firstBaseUpdate=ie,v.lastBaseUpdate=fe,x===null&&(v.shared.lanes=0),bi|=_,i.lanes=_,i.memoizedState=me}}function op(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function sp(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)op(l[i],a)}var Ya=B(null),vl=B(0);function lp(i,a){i=Fr,W(vl,i),W(Ya,a),Fr=i|a.baseLanes}function bc(){W(vl,Fr),W(Ya,Ya.current)}function Sc(){Fr=vl.current,oe(Ya),oe(vl)}var Un=B(null),er=null;function gi(i){var a=i.alternate;W(Dt,Dt.current&1),W(Un,i),er===null&&(a===null||Ya.current!==null||a.memoizedState!==null)&&(er=i)}function wc(i){W(Dt,Dt.current),W(Un,i),er===null&&(er=i)}function up(i){i.tag===22?(W(Dt,Dt.current),W(Un,i),er===null&&(er=i)):vi()}function vi(){W(Dt,Dt.current),W(Un,Un.current)}function On(i){oe(Un),er===i&&(er=null),oe(Dt)}var Dt=B(0);function yl(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||kd(l)||zd(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ur=0,Je=null,mt=null,qt=null,xl=!1,Ja=!1,la=!1,bl=0,ts=0,Xa=null,_7=0;function Mt(){throw Error(r(321))}function Tc(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Dn(i[l],a[l]))return!1;return!0}function _c(i,a,l,c,v,x){return Ur=x,Je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=i===null||i.memoizedState===null?Yp:Pc,la=!1,x=l(c,v),la=!1,Ja&&(x=dp(a,l,c,v)),cp(i),x}function cp(i){$.H=is;var a=mt!==null&&mt.next!==null;if(Ur=0,qt=mt=Je=null,xl=!1,ts=0,Xa=null,a)throw Error(r(300));i===null||Ht||(i=i.dependencies,i!==null&&cl(i)&&(Ht=!0))}function dp(i,a,l,c){Je=i;var v=0;do{if(Ja&&(Xa=null),ts=0,Ja=!1,25<=v)throw Error(r(301));if(v+=1,qt=mt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$.H=Jp,x=a(l,c)}while(Ja);return x}function A7(){var i=$.H,a=i.useState()[0];return a=typeof a.then=="function"?ns(a):a,i=i.useState()[0],(mt!==null?mt.memoizedState:null)!==i&&(Je.flags|=1024),a}function Ac(){var i=bl!==0;return bl=0,i}function Ec(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Cc(i){if(xl){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}xl=!1}Ur=0,qt=mt=Je=null,Ja=!1,ts=bl=0,Xa=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Je.memoizedState=qt=i:qt=qt.next=i,qt}function Lt(){if(mt===null){var i=Je.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var a=qt===null?Je.memoizedState:qt.next;if(a!==null)qt=a,mt=i;else{if(i===null)throw Je.alternate===null?Error(r(467)):Error(r(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},qt===null?Je.memoizedState=qt=i:qt=qt.next=i}return qt}function Sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(i){var a=ts;return ts+=1,Xa===null&&(Xa=[]),i=tp(Xa,i,a),a=Je,(qt===null?a.memoizedState:qt.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?Yp:Pc),i}function wl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ns(i);if(i.$$typeof===q)return nn(i)}throw Error(r(438,String(i)))}function kc(i){var a=null,l=Je.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Sl(),Je.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=Q;return a.index++,l}function Or(i,a){return typeof a=="function"?a(i):a}function Tl(i){var a=Lt();return zc(a,mt,i)}function zc(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var v=i.baseQueue,x=c.pending;if(x!==null){if(v!==null){var _=v.next;v.next=x.next,x.next=_}a.baseQueue=v=x,c.pending=null}if(x=i.baseState,v===null)i.memoizedState=x;else{a=v.next;var M=_=null,F=null,ie=a,fe=!1;do{var me=ie.lane&-536870913;if(me!==ie.lane?(tt&me)===me:(Ur&me)===me){var se=ie.revertLane;if(se===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),me===Ga&&(fe=!0);else if((Ur&se)===se){ie=ie.next,se===Ga&&(fe=!0);continue}else me={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(M=F=me,_=x):F=F.next=me,Je.lanes|=se,bi|=se;me=ie.action,la&&l(x,me),x=ie.hasEagerState?ie.eagerState:l(x,me)}else se={lane:me,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(M=F=se,_=x):F=F.next=se,Je.lanes|=me,bi|=me;ie=ie.next}while(ie!==null&&ie!==a);if(F===null?_=x:F.next=M,!Dn(x,i.memoizedState)&&(Ht=!0,fe&&(l=Va,l!==null)))throw l;i.memoizedState=x,i.baseState=_,i.baseQueue=F,c.lastRenderedState=x}return v===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Mc(i){var a=Lt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,v=l.pending,x=a.memoizedState;if(v!==null){l.pending=null;var _=v=v.next;do x=i(x,_.action),_=_.next;while(_!==v);Dn(x,a.memoizedState)||(Ht=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,c]}function fp(i,a,l){var c=Je,v=Lt(),x=rt;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=a();var _=!Dn((mt||v).memoizedState,l);if(_&&(v.memoizedState=l,Ht=!0),v=v.queue,Ic(pp.bind(null,c,v,i),[i]),v.getSnapshot!==a||_||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,Ka(9,{destroy:void 0},mp.bind(null,c,v,l,a),null),yt===null)throw Error(r(349));x||(Ur&127)!==0||hp(c,a,l)}return l}function hp(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Je.updateQueue,a===null?(a=Sl(),Je.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function mp(i,a,l,c){a.value=l,a.getSnapshot=c,gp(a)&&vp(i)}function pp(i,a,l){return l(function(){gp(a)&&vp(i)})}function gp(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Dn(i,l)}catch{return!0}}function vp(i){var a=ji(i,2);a!==null&&Cn(a,i,2)}function Nc(i){var a=mn();if(typeof i=="function"){var l=i;if(i=l(),la){oi(!0);try{l()}finally{oi(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:i},a}function yp(i,a,l,c){return i.baseState=l,zc(i,mt,typeof c=="function"?c:Or)}function E7(i,a,l,c,v){if(El(i))throw Error(r(485));if(i=a.action,i!==null){var x={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};$.T!==null?l(!0):x.isTransition=!1,c(x),l=a.pending,l===null?(x.next=a.pending=x,xp(a,x)):(x.next=l.next,a.pending=l.next=x)}}function xp(i,a){var l=a.action,c=a.payload,v=i.state;if(a.isTransition){var x=$.T,_={};$.T=_;try{var M=l(v,c),F=$.S;F!==null&&F(_,M),bp(i,a,M)}catch(ie){Rc(i,a,ie)}finally{x!==null&&_.types!==null&&(x.types=_.types),$.T=x}}else try{x=l(v,c),bp(i,a,x)}catch(ie){Rc(i,a,ie)}}function bp(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Sp(i,a,c)},function(c){return Rc(i,a,c)}):Sp(i,a,l)}function Sp(i,a,l){a.status="fulfilled",a.value=l,wp(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,xp(i,l)))}function Rc(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,wp(a),a=a.next;while(a!==c)}i.action=null}function wp(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Tp(i,a){return a}function _p(i,a){if(rt){var l=yt.formState;if(l!==null){e:{var c=Je;if(rt){if(wt){t:{for(var v=wt,x=jn;v.nodeType!==8;){if(!x){v=null;break t}if(v=tr(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){wt=tr(v.nextSibling),c=v.data==="F!";break e}}di(c)}c=!1}c&&(a=l[0])}}return l=mn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:a},l.queue=c,l=Vp.bind(null,Je,c),c.dispatch=l,c=Nc(!1),x=Bc.bind(null,Je,!1,c.queue),c=mn(),v={state:a,dispatch:null,action:i,pending:null},c.queue=v,l=E7.bind(null,Je,v,x,l),v.dispatch=l,c.memoizedState=i,[a,l,!1]}function Ap(i){var a=Lt();return Ep(a,mt,i)}function Ep(i,a,l){if(a=zc(i,a,Tp)[0],i=Tl(Or)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=ns(a)}catch(_){throw _===Fa?hl:_}else c=a;a=Lt();var v=a.queue,x=v.dispatch;return l!==a.memoizedState&&(Je.flags|=2048,Ka(9,{destroy:void 0},C7.bind(null,v,l),null)),[c,x,i]}function C7(i,a){i.action=a}function Cp(i){var a=Lt(),l=mt;if(l!==null)return Ep(a,l,i);Lt(),a=a.memoizedState,l=Lt();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function Ka(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Je.updateQueue,a===null&&(a=Sl(),Je.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function kp(){return Lt().memoizedState}function _l(i,a,l,c){var v=mn();Je.flags|=i,v.memoizedState=Ka(1|a,{destroy:void 0},l,c===void 0?null:c)}function Al(i,a,l,c){var v=Lt();c=c===void 0?null:c;var x=v.memoizedState.inst;mt!==null&&c!==null&&Tc(c,mt.memoizedState.deps)?v.memoizedState=Ka(a,x,l,c):(Je.flags|=i,v.memoizedState=Ka(1|a,x,l,c))}function zp(i,a){_l(8390656,8,i,a)}function Ic(i,a){Al(2048,8,i,a)}function k7(i){Je.flags|=4;var a=Je.updateQueue;if(a===null)a=Sl(),Je.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Mp(i){var a=Lt().memoizedState;return k7({ref:a,nextImpl:i}),function(){if((ut&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Np(i,a){return Al(4,2,i,a)}function Rp(i,a){return Al(4,4,i,a)}function Ip(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Dp(i,a,l){l=l!=null?l.concat([i]):null,Al(4,4,Ip.bind(null,a,i),l)}function Dc(){}function Lp(i,a){var l=Lt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Tc(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function Up(i,a){var l=Lt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Tc(a,c[1]))return c[0];if(c=i(),la){oi(!0);try{i()}finally{oi(!1)}}return l.memoizedState=[c,a],c}function Lc(i,a,l){return l===void 0||(Ur&1073741824)!==0&&(tt&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=O1(),Je.lanes|=i,bi|=i,l)}function Op(i,a,l,c){return Dn(l,a)?l:Ya.current!==null?(i=Lc(i,l,c),Dn(i,a)||(Ht=!0),i):(Ur&42)===0||(Ur&1073741824)!==0&&(tt&261930)===0?(Ht=!0,i.memoizedState=l):(i=O1(),Je.lanes|=i,bi|=i,a)}function Bp(i,a,l,c,v){var x=ue.p;ue.p=x!==0&&8>x?x:8;var _=$.T,M={};$.T=M,Bc(i,!1,a,l);try{var F=v(),ie=$.S;if(ie!==null&&ie(M,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var fe=T7(F,c);rs(i,a,fe,qn(i))}else rs(i,a,c,qn(i))}catch(me){rs(i,a,{then:function(){},status:"rejected",reason:me},qn())}finally{ue.p=x,_!==null&&M.types!==null&&(_.types=M.types),$.T=_}}function z7(){}function Uc(i,a,l,c){if(i.tag!==5)throw Error(r(476));var v=Pp(i).queue;Bp(i,v,a,re,l===null?z7:function(){return qp(i),l(c)})}function Pp(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:re},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function qp(i){var a=Pp(i);a.next===null&&(a=i.alternate.memoizedState),rs(i,a.next.queue,{},qn())}function Oc(){return nn(bs)}function Hp(){return Lt().memoizedState}function Gp(){return Lt().memoizedState}function M7(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=qn();i=mi(l);var c=pi(a,i,l);c!==null&&(Cn(c,a,l),Qo(c,a,l)),a={cache:fc()},i.payload=a;return}a=a.return}}function N7(i,a,l){var c=qn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},El(i)?Fp(a,l):(l=tc(i,a,l,c),l!==null&&(Cn(l,i,c),$p(l,a,c)))}function Vp(i,a,l){var c=qn();rs(i,a,l,c)}function rs(i,a,l,c){var v={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(El(i))Fp(a,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var _=a.lastRenderedState,M=x(_,l);if(v.hasEagerState=!0,v.eagerState=M,Dn(M,_))return ol(i,a,v,0),yt===null&&al(),!1}catch{}finally{}if(l=tc(i,a,v,c),l!==null)return Cn(l,i,c),$p(l,a,c),!0}return!1}function Bc(i,a,l,c){if(c={lane:2,revertLane:gd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},El(i)){if(a)throw Error(r(479))}else a=tc(i,l,c,2),a!==null&&Cn(a,i,2)}function El(i){var a=i.alternate;return i===Je||a!==null&&a===Je}function Fp(i,a){Ja=xl=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function $p(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Zh(i,l)}}var is={readContext:nn,use:wl,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};is.useEffectEvent=Mt;var Yp={readContext:nn,use:wl,useCallback:function(i,a){return mn().memoizedState=[i,a===void 0?null:a],i},useContext:nn,useEffect:zp,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,_l(4194308,4,Ip.bind(null,a,i),l)},useLayoutEffect:function(i,a){return _l(4194308,4,i,a)},useInsertionEffect:function(i,a){_l(4,2,i,a)},useMemo:function(i,a){var l=mn();a=a===void 0?null:a;var c=i();if(la){oi(!0);try{i()}finally{oi(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=mn();if(l!==void 0){var v=l(a);if(la){oi(!0);try{l(a)}finally{oi(!1)}}}else v=a;return c.memoizedState=c.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},c.queue=i,i=i.dispatch=N7.bind(null,Je,i),[c.memoizedState,i]},useRef:function(i){var a=mn();return i={current:i},a.memoizedState=i},useState:function(i){i=Nc(i);var a=i.queue,l=Vp.bind(null,Je,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Dc,useDeferredValue:function(i,a){var l=mn();return Lc(l,i,a)},useTransition:function(){var i=Nc(!1);return i=Bp.bind(null,Je,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Je,v=mn();if(rt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),yt===null)throw Error(r(349));(tt&127)!==0||hp(c,a,l)}v.memoizedState=l;var x={value:l,getSnapshot:a};return v.queue=x,zp(pp.bind(null,c,x,i),[i]),c.flags|=2048,Ka(9,{destroy:void 0},mp.bind(null,c,x,l,a),null),l},useId:function(){var i=mn(),a=yt.identifierPrefix;if(rt){var l=xr,c=yr;l=(c&~(1<<32-In(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=bl++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=_7++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Oc,useFormState:_p,useActionState:_p,useOptimistic:function(i){var a=mn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Bc.bind(null,Je,!0,l),l.dispatch=a,[i,a]},useMemoCache:kc,useCacheRefresh:function(){return mn().memoizedState=M7.bind(null,Je)},useEffectEvent:function(i){var a=mn(),l={impl:i};return a.memoizedState=l,function(){if((ut&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Pc={readContext:nn,use:wl,useCallback:Lp,useContext:nn,useEffect:Ic,useImperativeHandle:Dp,useInsertionEffect:Np,useLayoutEffect:Rp,useMemo:Up,useReducer:Tl,useRef:kp,useState:function(){return Tl(Or)},useDebugValue:Dc,useDeferredValue:function(i,a){var l=Lt();return Op(l,mt.memoizedState,i,a)},useTransition:function(){var i=Tl(Or)[0],a=Lt().memoizedState;return[typeof i=="boolean"?i:ns(i),a]},useSyncExternalStore:fp,useId:Hp,useHostTransitionStatus:Oc,useFormState:Ap,useActionState:Ap,useOptimistic:function(i,a){var l=Lt();return yp(l,mt,i,a)},useMemoCache:kc,useCacheRefresh:Gp};Pc.useEffectEvent=Mp;var Jp={readContext:nn,use:wl,useCallback:Lp,useContext:nn,useEffect:Ic,useImperativeHandle:Dp,useInsertionEffect:Np,useLayoutEffect:Rp,useMemo:Up,useReducer:Mc,useRef:kp,useState:function(){return Mc(Or)},useDebugValue:Dc,useDeferredValue:function(i,a){var l=Lt();return mt===null?Lc(l,i,a):Op(l,mt.memoizedState,i,a)},useTransition:function(){var i=Mc(Or)[0],a=Lt().memoizedState;return[typeof i=="boolean"?i:ns(i),a]},useSyncExternalStore:fp,useId:Hp,useHostTransitionStatus:Oc,useFormState:Cp,useActionState:Cp,useOptimistic:function(i,a){var l=Lt();return mt!==null?yp(l,mt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:kc,useCacheRefresh:Gp};Jp.useEffectEvent=Mp;function qc(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Hc={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=qn(),v=mi(c);v.payload=a,l!=null&&(v.callback=l),a=pi(i,v,c),a!==null&&(Cn(a,i,c),Qo(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=qn(),v=mi(c);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=pi(i,v,c),a!==null&&(Cn(a,i,c),Qo(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=qn(),c=mi(l);c.tag=2,a!=null&&(c.callback=a),a=pi(i,c,l),a!==null&&(Cn(a,i,l),Qo(a,i,l))}};function Xp(i,a,l,c,v,x,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,x,_):a.prototype&&a.prototype.isPureReactComponent?!Fo(l,c)||!Fo(v,x):!0}function Kp(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Hc.enqueueReplaceState(a,a.state,null)}function ua(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var v in i)l[v]===void 0&&(l[v]=i[v])}return l}function Zp(i){il(i)}function Wp(i){console.error(i)}function Qp(i){il(i)}function Cl(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function jp(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Gc(i,a,l){return l=mi(l),l.tag=3,l.payload={element:null},l.callback=function(){Cl(i,a)},l}function e1(i){return i=mi(i),i.tag=3,i}function t1(i,a,l,c){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=c.value;i.payload=function(){return v(x)},i.callback=function(){jp(a,l,c)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){jp(a,l,c),typeof v!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function R7(i,a,l,c,v){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Ha(a,l,v,!0),l=Un.current,l!==null){switch(l.tag){case 31:case 13:return er===null?Pl():l.alternate===null&&Nt===0&&(Nt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,c===ml?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),hd(i,c,v)),!1;case 22:return l.flags|=65536,c===ml?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),hd(i,c,v)),!1}throw Error(r(435,l.tag))}return hd(i,c,v),Pl(),!1}if(rt)return a=Un.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,c!==sc&&(i=Error(r(422),{cause:c}),Jo(Zn(i,l)))):(c!==sc&&(a=Error(r(423),{cause:c}),Jo(Zn(a,l))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,c=Zn(c,l),v=Gc(i.stateNode,c,v),yc(i,v),Nt!==4&&(Nt=2)),!1;var x=Error(r(520),{cause:c});if(x=Zn(x,l),fs===null?fs=[x]:fs.push(x),Nt!==4&&(Nt=2),a===null)return!0;c=Zn(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=v&-v,l.lanes|=i,i=Gc(l.stateNode,c,i),yc(l,i),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Si===null||!Si.has(x))))return l.flags|=65536,v&=-v,l.lanes|=v,v=e1(v),t1(v,i,l,c),yc(l,v),!1}l=l.return}while(l!==null);return!1}var Vc=Error(r(461)),Ht=!1;function rn(i,a,l,c){a.child=i===null?ap(a,null,l,c):sa(a,i.child,l,c)}function n1(i,a,l,c,v){l=l.render;var x=a.ref;if("ref"in c){var _={};for(var M in c)M!=="ref"&&(_[M]=c[M])}else _=c;return ra(a),c=_c(i,a,l,_,x,v),M=Ac(),i!==null&&!Ht?(Ec(i,a,v),Br(i,a,v)):(rt&&M&&ac(a),a.flags|=1,rn(i,a,c,v),a.child)}function r1(i,a,l,c,v){if(i===null){var x=l.type;return typeof x=="function"&&!nc(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,i1(i,a,x,c,v)):(i=ll(l.type,null,c,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,!Wc(i,v)){var _=x.memoizedProps;if(l=l.compare,l=l!==null?l:Fo,l(_,c)&&i.ref===a.ref)return Br(i,a,v)}return a.flags|=1,i=Rr(x,c),i.ref=a.ref,i.return=a,a.child=i}function i1(i,a,l,c,v){if(i!==null){var x=i.memoizedProps;if(Fo(x,c)&&i.ref===a.ref)if(Ht=!1,a.pendingProps=c=x,Wc(i,v))(i.flags&131072)!==0&&(Ht=!0);else return a.lanes=i.lanes,Br(i,a,v)}return Fc(i,a,l,c,v)}function a1(i,a,l,c){var v=c.children,x=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(c=a.child=i.child,v=0;c!==null;)v=v|c.lanes|c.childLanes,c=c.sibling;c=v&~x}else c=0,a.child=null;return o1(i,a,x,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&fl(a,x!==null?x.cachePool:null),x!==null?lp(a,x):bc(),up(a);else return c=a.lanes=536870912,o1(i,a,x!==null?x.baseLanes|l:l,l,c)}else x!==null?(fl(a,x.cachePool),lp(a,x),vi(),a.memoizedState=null):(i!==null&&fl(a,null),bc(),vi());return rn(i,a,v,l),a.child}function as(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function o1(i,a,l,c,v){var x=mc();return x=x===null?null:{parent:Pt._currentValue,pool:x},a.memoizedState={baseLanes:l,cachePool:x},i!==null&&fl(a,null),bc(),up(a),i!==null&&Ha(i,a,c,!0),a.childLanes=v,null}function kl(i,a){return a=Ml({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function s1(i,a,l){return sa(a,i.child,null,l),i=kl(a,a.pendingProps),i.flags|=2,On(a),a.memoizedState=null,i}function I7(i,a,l){var c=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(rt){if(c.mode==="hidden")return i=kl(a,c),a.lanes=536870912,as(null,i);if(wc(a),(i=wt)?(i=xg(i,jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ui!==null?{id:yr,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},l=Fm(i),l.return=a,a.child=l,tn=a,wt=null)):i=null,i===null)throw di(a);return a.lanes=536870912,null}return kl(a,c)}var x=i.memoizedState;if(x!==null){var _=x.dehydrated;if(wc(a),v)if(a.flags&256)a.flags&=-257,a=s1(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ht||Ha(i,a,l,!1),v=(l&i.childLanes)!==0,Ht||v){if(c=yt,c!==null&&(_=Wh(c,l),_!==0&&_!==x.retryLane))throw x.retryLane=_,ji(i,_),Cn(c,i,_),Vc;Pl(),a=s1(i,a,l)}else i=x.treeContext,wt=tr(_.nextSibling),tn=a,rt=!0,ci=null,jn=!1,i!==null&&Jm(a,i),a=kl(a,c),a.flags|=4096;return a}return i=Rr(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function zl(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Fc(i,a,l,c,v){return ra(a),l=_c(i,a,l,c,void 0,v),c=Ac(),i!==null&&!Ht?(Ec(i,a,v),Br(i,a,v)):(rt&&c&&ac(a),a.flags|=1,rn(i,a,l,v),a.child)}function l1(i,a,l,c,v,x){return ra(a),a.updateQueue=null,l=dp(a,c,l,v),cp(i),c=Ac(),i!==null&&!Ht?(Ec(i,a,x),Br(i,a,x)):(rt&&c&&ac(a),a.flags|=1,rn(i,a,l,x),a.child)}function u1(i,a,l,c,v){if(ra(a),a.stateNode===null){var x=Oa,_=l.contextType;typeof _=="object"&&_!==null&&(x=nn(_)),x=new l(c,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Hc,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=c,x.state=a.memoizedState,x.refs={},gc(a),_=l.contextType,x.context=typeof _=="object"&&_!==null?nn(_):Oa,x.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(qc(a,l,_,c),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&Hc.enqueueReplaceState(x,x.state,null),es(a,c,x,v),jo(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){x=a.stateNode;var M=a.memoizedProps,F=ua(l,M);x.props=F;var ie=x.context,fe=l.contextType;_=Oa,typeof fe=="object"&&fe!==null&&(_=nn(fe));var me=l.getDerivedStateFromProps;fe=typeof me=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,fe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||ie!==_)&&Kp(a,x,c,_),hi=!1;var se=a.memoizedState;x.state=se,es(a,c,x,v),jo(),ie=a.memoizedState,M||se!==ie||hi?(typeof me=="function"&&(qc(a,l,me,c),ie=a.memoizedState),(F=hi||Xp(a,l,F,c,se,ie,_))?(fe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=ie),x.props=c,x.state=ie,x.context=_,c=F):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{x=a.stateNode,vc(i,a),_=a.memoizedProps,fe=ua(l,_),x.props=fe,me=a.pendingProps,se=x.context,ie=l.contextType,F=Oa,typeof ie=="object"&&ie!==null&&(F=nn(ie)),M=l.getDerivedStateFromProps,(ie=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==me||se!==F)&&Kp(a,x,c,F),hi=!1,se=a.memoizedState,x.state=se,es(a,c,x,v),jo();var de=a.memoizedState;_!==me||se!==de||hi||i!==null&&i.dependencies!==null&&cl(i.dependencies)?(typeof M=="function"&&(qc(a,l,M,c),de=a.memoizedState),(fe=hi||Xp(a,l,fe,c,se,de,F)||i!==null&&i.dependencies!==null&&cl(i.dependencies))?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,de,F),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,de,F)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===i.memoizedProps&&se===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&se===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=de),x.props=c,x.state=de,x.context=F,c=fe):(typeof x.componentDidUpdate!="function"||_===i.memoizedProps&&se===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&se===i.memoizedState||(a.flags|=1024),c=!1)}return x=c,zl(i,a),c=(a.flags&128)!==0,x||c?(x=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,i!==null&&c?(a.child=sa(a,i.child,null,v),a.child=sa(a,null,l,v)):rn(i,a,l,v),a.memoizedState=x.state,i=a.child):i=Br(i,a,v),i}function c1(i,a,l,c){return ta(),a.flags|=256,rn(i,a,l,c),a.child}var $c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(i){return{baseLanes:i,cachePool:jm()}}function Jc(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Pn),i}function d1(i,a,l){var c=a.pendingProps,v=!1,x=(a.flags&128)!==0,_;if((_=x)||(_=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),_&&(v=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,i===null){if(rt){if(v?gi(a):vi(),(i=wt)?(i=xg(i,jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ui!==null?{id:yr,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},l=Fm(i),l.return=a,a.child=l,tn=a,wt=null)):i=null,i===null)throw di(a);return zd(i)?a.lanes=32:a.lanes=536870912,null}var M=c.children;return c=c.fallback,v?(vi(),v=a.mode,M=Ml({mode:"hidden",children:M},v),c=ea(c,v,l,null),M.return=a,c.return=a,M.sibling=c,a.child=M,c=a.child,c.memoizedState=Yc(l),c.childLanes=Jc(i,_,l),a.memoizedState=$c,as(null,c)):(gi(a),Xc(a,M))}var F=i.memoizedState;if(F!==null&&(M=F.dehydrated,M!==null)){if(x)a.flags&256?(gi(a),a.flags&=-257,a=Kc(i,a,l)):a.memoizedState!==null?(vi(),a.child=i.child,a.flags|=128,a=null):(vi(),M=c.fallback,v=a.mode,c=Ml({mode:"visible",children:c.children},v),M=ea(M,v,l,null),M.flags|=2,c.return=a,M.return=a,c.sibling=M,a.child=c,sa(a,i.child,null,l),c=a.child,c.memoizedState=Yc(l),c.childLanes=Jc(i,_,l),a.memoizedState=$c,a=as(null,c));else if(gi(a),zd(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var ie=_.dgst;_=ie,c=Error(r(419)),c.stack="",c.digest=_,Jo({value:c,source:null,stack:null}),a=Kc(i,a,l)}else if(Ht||Ha(i,a,l,!1),_=(l&i.childLanes)!==0,Ht||_){if(_=yt,_!==null&&(c=Wh(_,l),c!==0&&c!==F.retryLane))throw F.retryLane=c,ji(i,c),Cn(_,i,c),Vc;kd(M)||Pl(),a=Kc(i,a,l)}else kd(M)?(a.flags|=192,a.child=i.child,a=null):(i=F.treeContext,wt=tr(M.nextSibling),tn=a,rt=!0,ci=null,jn=!1,i!==null&&Jm(a,i),a=Xc(a,c.children),a.flags|=4096);return a}return v?(vi(),M=c.fallback,v=a.mode,F=i.child,ie=F.sibling,c=Rr(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,ie!==null?M=Rr(ie,M):(M=ea(M,v,l,null),M.flags|=2),M.return=a,c.return=a,c.sibling=M,a.child=c,as(null,c),c=a.child,M=i.child.memoizedState,M===null?M=Yc(l):(v=M.cachePool,v!==null?(F=Pt._currentValue,v=v.parent!==F?{parent:F,pool:F}:v):v=jm(),M={baseLanes:M.baseLanes|l,cachePool:v}),c.memoizedState=M,c.childLanes=Jc(i,_,l),a.memoizedState=$c,as(i.child,c)):(gi(a),l=i.child,i=l.sibling,l=Rr(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(_=a.deletions,_===null?(a.deletions=[i],a.flags|=16):_.push(i)),a.child=l,a.memoizedState=null,l)}function Xc(i,a){return a=Ml({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Ml(i,a){return i=Ln(22,i,null,a),i.lanes=0,i}function Kc(i,a,l){return sa(a,i.child,null,l),i=Xc(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function f1(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),cc(i.return,a,l)}function Zc(i,a,l,c,v,x){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:v,treeForkCount:x}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=v,_.treeForkCount=x)}function h1(i,a,l){var c=a.pendingProps,v=c.revealOrder,x=c.tail;c=c.children;var _=Dt.current,M=(_&2)!==0;if(M?(_=_&1|2,a.flags|=128):_&=1,W(Dt,_),rn(i,a,c,l),c=rt?Yo:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&f1(i,l,a);else if(i.tag===19)f1(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(l=a.child,v=null;l!==null;)i=l.alternate,i!==null&&yl(i)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),Zc(a,!1,v,l,x,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&yl(i)===null){a.child=v;break}i=v.sibling,v.sibling=l,l=v,v=i}Zc(a,!0,l,null,x,c);break;case"together":Zc(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Br(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),bi|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Ha(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Rr(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Rr(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Wc(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&cl(i)))}function D7(i,a,l){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),fi(a,Pt,i.memoizedState.cache),ta();break;case 27:case 5:$e(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:fi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,wc(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(gi(a),a.flags|=128,null):(l&a.child.childLanes)!==0?d1(i,a,l):(gi(a),i=Br(i,a,l),i!==null?i.sibling:null);gi(a);break;case 19:var v=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Ha(i,a,l,!1),c=(l&a.childLanes)!==0),v){if(c)return h1(i,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),W(Dt,Dt.current),c)break;return null;case 22:return a.lanes=0,a1(i,a,l,a.pendingProps);case 24:fi(a,Pt,i.memoizedState.cache)}return Br(i,a,l)}function m1(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ht=!0;else{if(!Wc(i,l)&&(a.flags&128)===0)return Ht=!1,D7(i,a,l);Ht=(i.flags&131072)!==0}else Ht=!1,rt&&(a.flags&1048576)!==0&&Ym(a,Yo,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(i=aa(a.elementType),a.type=i,typeof i=="function")nc(i)?(c=ua(i,c),a.tag=1,a=u1(null,a,i,c,l)):(a.tag=0,a=Fc(null,a,i,c,l));else{if(i!=null){var v=i.$$typeof;if(v===D){a.tag=11,a=n1(null,a,i,c,l);break e}else if(v===R){a.tag=14,a=r1(null,a,i,c,l);break e}}throw a=j(i)||i,Error(r(306,a,""))}}return a;case 0:return Fc(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,v=ua(c,a.pendingProps),u1(i,a,c,v,l);case 3:e:{if(Ce(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var x=a.memoizedState;v=x.element,vc(i,a),es(a,c,null,l);var _=a.memoizedState;if(c=_.cache,fi(a,Pt,c),c!==x.cache&&dc(a,[Pt],l,!0),jo(),c=_.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=c1(i,a,c,l);break e}else if(c!==v){v=Zn(Error(r(424)),a),Jo(v),a=c1(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(wt=tr(i.firstChild),tn=a,rt=!0,ci=null,jn=!0,l=ap(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ta(),c===v){a=Br(i,a,l);break e}rn(i,a,c,l)}a=a.child}return a;case 26:return zl(i,a),i===null?(l=Ag(a.type,null,a.pendingProps,null))?a.memoizedState=l:rt||(l=a.type,i=a.pendingProps,c=Yl(Te.current).createElement(l),c[en]=a,c[Sn]=i,an(c,l,i),Wt(c),a.stateNode=c):a.memoizedState=Ag(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return $e(a),i===null&&rt&&(c=a.stateNode=wg(a.type,a.pendingProps,Te.current),tn=a,jn=!0,v=wt,Ai(a.type)?(Md=v,wt=tr(c.firstChild)):wt=v),rn(i,a,a.pendingProps.children,l),zl(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&rt&&((v=c=wt)&&(c=c8(c,a.type,a.pendingProps,jn),c!==null?(a.stateNode=c,tn=a,wt=tr(c.firstChild),jn=!1,v=!0):v=!1),v||di(a)),$e(a),v=a.type,x=a.pendingProps,_=i!==null?i.memoizedProps:null,c=x.children,Ad(v,x)?c=null:_!==null&&Ad(v,_)&&(a.flags|=32),a.memoizedState!==null&&(v=_c(i,a,A7,null,null,l),bs._currentValue=v),zl(i,a),rn(i,a,c,l),a.child;case 6:return i===null&&rt&&((i=l=wt)&&(l=d8(l,a.pendingProps,jn),l!==null?(a.stateNode=l,tn=a,wt=null,i=!0):i=!1),i||di(a)),null;case 13:return d1(i,a,l);case 4:return Ce(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=sa(a,null,c,l):rn(i,a,c,l),a.child;case 11:return n1(i,a,a.type,a.pendingProps,l);case 7:return rn(i,a,a.pendingProps,l),a.child;case 8:return rn(i,a,a.pendingProps.children,l),a.child;case 12:return rn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,fi(a,a.type,c.value),rn(i,a,c.children,l),a.child;case 9:return v=a.type._context,c=a.pendingProps.children,ra(a),v=nn(v),c=c(v),a.flags|=1,rn(i,a,c,l),a.child;case 14:return r1(i,a,a.type,a.pendingProps,l);case 15:return i1(i,a,a.type,a.pendingProps,l);case 19:return h1(i,a,l);case 31:return I7(i,a,l);case 22:return a1(i,a,l,a.pendingProps);case 24:return ra(a),c=nn(Pt),i===null?(v=mc(),v===null&&(v=yt,x=fc(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=l),v=x),a.memoizedState={parent:c,cache:v},gc(a),fi(a,Pt,v)):((i.lanes&l)!==0&&(vc(i,a),es(a,null,null,l),jo()),v=i.memoizedState,x=a.memoizedState,v.parent!==c?(v={parent:c,cache:c},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),fi(a,Pt,c)):(c=x.cache,fi(a,Pt,c),c!==v.cache&&dc(a,[Pt],l,!0))),rn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Pr(i){i.flags|=4}function Qc(i,a,l,c,v){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(H1())i.flags|=8192;else throw oa=ml,pc}else i.flags&=-16777217}function p1(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Mg(a))if(H1())i.flags|=8192;else throw oa=ml,pc}function Nl(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Xh():536870912,i.lanes|=a,ja|=a)}function os(i,a){if(!rt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Tt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var v=i.child;v!==null;)l|=v.lanes|v.childLanes,c|=v.subtreeFlags&65011712,c|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)l|=v.lanes|v.childLanes,c|=v.subtreeFlags,c|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function L7(i,a,l){var c=a.pendingProps;switch(oc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(a),null;case 1:return Tt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Lr(Pt),Ie(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(qa(a)?Pr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,lc())),Tt(a),null;case 26:var v=a.type,x=a.memoizedState;return i===null?(Pr(a),x!==null?(Tt(a),p1(a,x)):(Tt(a),Qc(a,v,null,c,l))):x?x!==i.memoizedState?(Pr(a),Tt(a),p1(a,x)):(Tt(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&Pr(a),Tt(a),Qc(a,v,i,c,l)),null;case 27:if(We(a),l=Te.current,v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Pr(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Tt(a),null}i=le.current,qa(a)?Xm(a):(i=wg(v,c,l),a.stateNode=i,Pr(a))}return Tt(a),null;case 5:if(We(a),v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Pr(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Tt(a),null}if(x=le.current,qa(a))Xm(a);else{var _=Yl(Te.current);switch(x){case 1:x=_.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=_.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=_.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?x.multiple=!0:c.size&&(x.size=c.size);break;default:x=typeof c.is=="string"?_.createElement(v,{is:c.is}):_.createElement(v)}}x[en]=a,x[Sn]=c;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)x.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=x;e:switch(an(x,v,c),v){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Pr(a)}}return Tt(a),Qc(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Pr(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Te.current,qa(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,v=tn,v!==null)switch(v.tag){case 27:case 5:c=v.memoizedProps}i[en]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||dg(i.nodeValue,l)),i||di(a,!0)}else i=Yl(i).createTextNode(c),i[en]=a,a.stateNode=i}return Tt(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(c=qa(a),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[en]=a}else ta(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tt(a),i=!1}else l=lc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(On(a),a):(On(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Tt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=qa(a),c!==null&&c.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[en]=a}else ta(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tt(a),v=!1}else v=lc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(On(a),a):(On(a),null)}return On(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=a.child,v=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(v=c.alternate.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==v&&(c.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Nl(a,a.updateQueue),Tt(a),null);case 4:return Ie(),i===null&&bd(a.stateNode.containerInfo),Tt(a),null;case 10:return Lr(a.type),Tt(a),null;case 19:if(oe(Dt),c=a.memoizedState,c===null)return Tt(a),null;if(v=(a.flags&128)!==0,x=c.rendering,x===null)if(v)os(c,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(x=yl(i),x!==null){for(a.flags|=128,os(c,!1),i=x.updateQueue,a.updateQueue=i,Nl(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Vm(l,i),l=l.sibling;return W(Dt,Dt.current&1|2),rt&&Ir(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&hn()>Ul&&(a.flags|=128,v=!0,os(c,!1),a.lanes=4194304)}else{if(!v)if(i=yl(x),i!==null){if(a.flags|=128,v=!0,i=i.updateQueue,a.updateQueue=i,Nl(a,i),os(c,!0),c.tail===null&&c.tailMode==="hidden"&&!x.alternate&&!rt)return Tt(a),null}else 2*hn()-c.renderingStartTime>Ul&&l!==536870912&&(a.flags|=128,v=!0,os(c,!1),a.lanes=4194304);c.isBackwards?(x.sibling=a.child,a.child=x):(i=c.last,i!==null?i.sibling=x:a.child=x,c.last=x)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=hn(),i.sibling=null,l=Dt.current,W(Dt,v?l&1|2:l&1),rt&&Ir(a,c.treeForkCount),i):(Tt(a),null);case 22:case 23:return On(a),Sc(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Tt(a),a.subtreeFlags&6&&(a.flags|=8192)):Tt(a),l=a.updateQueue,l!==null&&Nl(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&oe(ia),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Lr(Pt),Tt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function U7(i,a){switch(oc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Lr(Pt),Ie(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 31:if(a.memoizedState!==null){if(On(a),a.alternate===null)throw Error(r(340));ta()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(On(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ta()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return oe(Dt),null;case 4:return Ie(),null;case 10:return Lr(a.type),null;case 22:case 23:return On(a),Sc(),i!==null&&oe(ia),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Lr(Pt),null;case 25:return null;default:return null}}function g1(i,a){switch(oc(a),a.tag){case 3:Lr(Pt),Ie();break;case 26:case 27:case 5:We(a);break;case 4:Ie();break;case 31:a.memoizedState!==null&&On(a);break;case 13:On(a);break;case 19:oe(Dt);break;case 10:Lr(a.type);break;case 22:case 23:On(a),Sc(),i!==null&&oe(ia);break;case 24:Lr(Pt)}}function ss(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var v=c.next;l=v;do{if((l.tag&i)===i){c=void 0;var x=l.create,_=l.inst;c=x(),_.destroy=c}l=l.next}while(l!==v)}}catch(M){dt(a,a.return,M)}}function yi(i,a,l){try{var c=a.updateQueue,v=c!==null?c.lastEffect:null;if(v!==null){var x=v.next;c=x;do{if((c.tag&i)===i){var _=c.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,v=a;var F=l,ie=M;try{ie()}catch(fe){dt(v,F,fe)}}}c=c.next}while(c!==x)}}catch(fe){dt(a,a.return,fe)}}function v1(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{sp(a,l)}catch(c){dt(i,i.return,c)}}}function y1(i,a,l){l.props=ua(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){dt(i,a,c)}}function ls(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(v){dt(i,a,v)}}function br(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(v){dt(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){dt(i,a,v)}else l.current=null}function x1(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(v){dt(i,i.return,v)}}function jc(i,a,l){try{var c=i.stateNode;i8(c,i.type,l,a),c[Sn]=a}catch(v){dt(i,i.return,v)}}function b1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ai(i.type)||i.tag===4}function ed(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||b1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ai(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function td(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Mr));else if(c!==4&&(c===27&&Ai(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(td(i,a,l),i=i.sibling;i!==null;)td(i,a,l),i=i.sibling}function Rl(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&Ai(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Rl(i,a,l),i=i.sibling;i!==null;)Rl(i,a,l),i=i.sibling}function S1(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);an(a,c,l),a[en]=i,a[Sn]=l}catch(x){dt(i,i.return,x)}}var qr=!1,Gt=!1,nd=!1,w1=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function O7(i,a){if(i=i.containerInfo,Td=jl,i=Dm(i),Ku(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var v=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var _=0,M=-1,F=-1,ie=0,fe=0,me=i,se=null;t:for(;;){for(var de;me!==l||v!==0&&me.nodeType!==3||(M=_+v),me!==x||c!==0&&me.nodeType!==3||(F=_+c),me.nodeType===3&&(_+=me.nodeValue.length),(de=me.firstChild)!==null;)se=me,me=de;for(;;){if(me===i)break t;if(se===l&&++ie===v&&(M=_),se===x&&++fe===c&&(F=_),(de=me.nextSibling)!==null)break;me=se,se=me.parentNode}me=de}l=M===-1||F===-1?null:{start:M,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(_d={focusedElem:i,selectionRange:l},jl=!1,Qt=a;Qt!==null;)if(a=Qt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Qt=i;else for(;Qt!==null;){switch(a=Qt,x=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)v=i[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=a,v=x.memoizedProps,x=x.memoizedState,c=l.stateNode;try{var ke=ua(l.type,v);i=c.getSnapshotBeforeUpdate(ke,x),c.__reactInternalSnapshotBeforeUpdate=i}catch(He){dt(l,l.return,He)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Cd(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Qt=i;break}Qt=a.return}}function T1(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Gr(i,l),c&4&&ss(5,l);break;case 1:if(Gr(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(_){dt(l,l.return,_)}else{var v=ua(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(_){dt(l,l.return,_)}}c&64&&v1(l),c&512&&ls(l,l.return);break;case 3:if(Gr(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{sp(i,a)}catch(_){dt(l,l.return,_)}}break;case 27:a===null&&c&4&&S1(l);case 26:case 5:Gr(i,l),a===null&&c&4&&x1(l),c&512&&ls(l,l.return);break;case 12:Gr(i,l);break;case 31:Gr(i,l),c&4&&E1(i,l);break;case 13:Gr(i,l),c&4&&C1(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Y7.bind(null,l),f8(i,l))));break;case 22:if(c=l.memoizedState!==null||qr,!c){a=a!==null&&a.memoizedState!==null||Gt,v=qr;var x=Gt;qr=c,(Gt=a)&&!x?Vr(i,l,(l.subtreeFlags&8772)!==0):Gr(i,l),qr=v,Gt=x}break;case 30:break;default:Gr(i,l)}}function _1(i){var a=i.alternate;a!==null&&(i.alternate=null,_1(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ru(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _t=null,Tn=!1;function Hr(i,a,l){for(l=l.child;l!==null;)A1(i,a,l),l=l.sibling}function A1(i,a,l){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Ro,l)}catch{}switch(l.tag){case 26:Gt||br(l,a),Hr(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gt||br(l,a);var c=_t,v=Tn;Ai(l.type)&&(_t=l.stateNode,Tn=!1),Hr(i,a,l),vs(l.stateNode),_t=c,Tn=v;break;case 5:Gt||br(l,a);case 6:if(c=_t,v=Tn,_t=null,Hr(i,a,l),_t=c,Tn=v,_t!==null)if(Tn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(l.stateNode)}catch(x){dt(l,a,x)}else try{_t.removeChild(l.stateNode)}catch(x){dt(l,a,x)}break;case 18:_t!==null&&(Tn?(i=_t,vg(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),so(i)):vg(_t,l.stateNode));break;case 4:c=_t,v=Tn,_t=l.stateNode.containerInfo,Tn=!0,Hr(i,a,l),_t=c,Tn=v;break;case 0:case 11:case 14:case 15:yi(2,l,a),Gt||yi(4,l,a),Hr(i,a,l);break;case 1:Gt||(br(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&y1(l,a,c)),Hr(i,a,l);break;case 21:Hr(i,a,l);break;case 22:Gt=(c=Gt)||l.memoizedState!==null,Hr(i,a,l),Gt=c;break;default:Hr(i,a,l)}}function E1(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{so(i)}catch(l){dt(a,a.return,l)}}}function C1(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{so(i)}catch(l){dt(a,a.return,l)}}function B7(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new w1),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new w1),a;default:throw Error(r(435,i.tag))}}function Il(i,a){var l=B7(i);a.forEach(function(c){if(!l.has(c)){l.add(c);var v=J7.bind(null,i,c);c.then(v,v)}})}function _n(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var v=l[c],x=i,_=a,M=_;e:for(;M!==null;){switch(M.tag){case 27:if(Ai(M.type)){_t=M.stateNode,Tn=!1;break e}break;case 5:_t=M.stateNode,Tn=!1;break e;case 3:case 4:_t=M.stateNode.containerInfo,Tn=!0;break e}M=M.return}if(_t===null)throw Error(r(160));A1(x,_,v),_t=null,Tn=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)k1(a,i),a=a.sibling}var fr=null;function k1(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(a,i),An(i),c&4&&(yi(3,i,i.return),ss(3,i),yi(5,i,i.return));break;case 1:_n(a,i),An(i),c&512&&(Gt||l===null||br(l,l.return)),c&64&&qr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var v=fr;if(_n(a,i),An(i),c&512&&(Gt||l===null||br(l,l.return)),c&4){var x=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,v=v.ownerDocument||v;t:switch(c){case"title":x=v.getElementsByTagName("title")[0],(!x||x[Lo]||x[en]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(c),v.head.insertBefore(x,v.querySelector("head > title"))),an(x,c,l),x[en]=i,Wt(x),c=x;break e;case"link":var _=kg("link","href",v).get(c+(l.href||""));if(_){for(var M=0;M<_.length;M++)if(x=_[M],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(M,1);break t}}x=v.createElement(c),an(x,c,l),v.head.appendChild(x);break;case"meta":if(_=kg("meta","content",v).get(c+(l.content||""))){for(M=0;M<_.length;M++)if(x=_[M],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(M,1);break t}}x=v.createElement(c),an(x,c,l),v.head.appendChild(x);break;default:throw Error(r(468,c))}x[en]=i,Wt(x),c=x}i.stateNode=c}else zg(v,i.type,i.stateNode);else i.stateNode=Cg(v,c,i.memoizedProps);else x!==c?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,c===null?zg(v,i.type,i.stateNode):Cg(v,c,i.memoizedProps)):c===null&&i.stateNode!==null&&jc(i,i.memoizedProps,l.memoizedProps)}break;case 27:_n(a,i),An(i),c&512&&(Gt||l===null||br(l,l.return)),l!==null&&c&4&&jc(i,i.memoizedProps,l.memoizedProps);break;case 5:if(_n(a,i),An(i),c&512&&(Gt||l===null||br(l,l.return)),i.flags&32){v=i.stateNode;try{Ma(v,"")}catch(ke){dt(i,i.return,ke)}}c&4&&i.stateNode!=null&&(v=i.memoizedProps,jc(i,v,l!==null?l.memoizedProps:v)),c&1024&&(nd=!0);break;case 6:if(_n(a,i),An(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ke){dt(i,i.return,ke)}}break;case 3:if(Kl=null,v=fr,fr=Jl(a.containerInfo),_n(a,i),fr=v,An(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{so(a.containerInfo)}catch(ke){dt(i,i.return,ke)}nd&&(nd=!1,z1(i));break;case 4:c=fr,fr=Jl(i.stateNode.containerInfo),_n(a,i),An(i),fr=c;break;case 12:_n(a,i),An(i);break;case 31:_n(a,i),An(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Il(i,c)));break;case 13:_n(a,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ll=hn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Il(i,c)));break;case 22:v=i.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,ie=qr,fe=Gt;if(qr=ie||v,Gt=fe||F,_n(a,i),Gt=fe,qr=ie,An(i),c&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||F||qr||Gt||ca(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){F=l=a;try{if(x=F.stateNode,v)_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=F.stateNode;var me=F.memoizedProps.style,se=me!=null&&me.hasOwnProperty("display")?me.display:null;M.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ke){dt(F,F.return,ke)}}}else if(a.tag===6){if(l===null){F=a;try{F.stateNode.nodeValue=v?"":F.memoizedProps}catch(ke){dt(F,F.return,ke)}}}else if(a.tag===18){if(l===null){F=a;try{var de=F.stateNode;v?yg(de,!0):yg(F.stateNode,!1)}catch(ke){dt(F,F.return,ke)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Il(i,l))));break;case 19:_n(a,i),An(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Il(i,c)));break;case 30:break;case 21:break;default:_n(a,i),An(i)}}function An(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(b1(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var v=l.stateNode,x=ed(i);Rl(i,x,v);break;case 5:var _=l.stateNode;l.flags&32&&(Ma(_,""),l.flags&=-33);var M=ed(i);Rl(i,M,_);break;case 3:case 4:var F=l.stateNode.containerInfo,ie=ed(i);td(i,ie,F);break;default:throw Error(r(161))}}catch(fe){dt(i,i.return,fe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function z1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;z1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Gr(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)T1(i,a.alternate,a),a=a.sibling}function ca(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:yi(4,a,a.return),ca(a);break;case 1:br(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&y1(a,a.return,l),ca(a);break;case 27:vs(a.stateNode);case 26:case 5:br(a,a.return),ca(a);break;case 22:a.memoizedState===null&&ca(a);break;case 30:ca(a);break;default:ca(a)}i=i.sibling}}function Vr(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,v=i,x=a,_=x.flags;switch(x.tag){case 0:case 11:case 15:Vr(v,x,l),ss(4,x);break;case 1:if(Vr(v,x,l),c=x,v=c.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ie){dt(c,c.return,ie)}if(c=x,v=c.updateQueue,v!==null){var M=c.stateNode;try{var F=v.shared.hiddenCallbacks;if(F!==null)for(v.shared.hiddenCallbacks=null,v=0;v<F.length;v++)op(F[v],M)}catch(ie){dt(c,c.return,ie)}}l&&_&64&&v1(x),ls(x,x.return);break;case 27:S1(x);case 26:case 5:Vr(v,x,l),l&&c===null&&_&4&&x1(x),ls(x,x.return);break;case 12:Vr(v,x,l);break;case 31:Vr(v,x,l),l&&_&4&&E1(v,x);break;case 13:Vr(v,x,l),l&&_&4&&C1(v,x);break;case 22:x.memoizedState===null&&Vr(v,x,l),ls(x,x.return);break;case 30:break;default:Vr(v,x,l)}a=a.sibling}}function rd(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Xo(l))}function id(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Xo(i))}function hr(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)M1(i,a,l,c),a=a.sibling}function M1(i,a,l,c){var v=a.flags;switch(a.tag){case 0:case 11:case 15:hr(i,a,l,c),v&2048&&ss(9,a);break;case 1:hr(i,a,l,c);break;case 3:hr(i,a,l,c),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Xo(i)));break;case 12:if(v&2048){hr(i,a,l,c),i=a.stateNode;try{var x=a.memoizedProps,_=x.id,M=x.onPostCommit;typeof M=="function"&&M(_,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){dt(a,a.return,F)}}else hr(i,a,l,c);break;case 31:hr(i,a,l,c);break;case 13:hr(i,a,l,c);break;case 23:break;case 22:x=a.stateNode,_=a.alternate,a.memoizedState!==null?x._visibility&2?hr(i,a,l,c):us(i,a):x._visibility&2?hr(i,a,l,c):(x._visibility|=2,Za(i,a,l,c,(a.subtreeFlags&10256)!==0||!1)),v&2048&&rd(_,a);break;case 24:hr(i,a,l,c),v&2048&&id(a.alternate,a);break;default:hr(i,a,l,c)}}function Za(i,a,l,c,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=i,_=a,M=l,F=c,ie=_.flags;switch(_.tag){case 0:case 11:case 15:Za(x,_,M,F,v),ss(8,_);break;case 23:break;case 22:var fe=_.stateNode;_.memoizedState!==null?fe._visibility&2?Za(x,_,M,F,v):us(x,_):(fe._visibility|=2,Za(x,_,M,F,v)),v&&ie&2048&&rd(_.alternate,_);break;case 24:Za(x,_,M,F,v),v&&ie&2048&&id(_.alternate,_);break;default:Za(x,_,M,F,v)}a=a.sibling}}function us(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,v=c.flags;switch(c.tag){case 22:us(l,c),v&2048&&rd(c.alternate,c);break;case 24:us(l,c),v&2048&&id(c.alternate,c);break;default:us(l,c)}a=a.sibling}}var cs=8192;function Wa(i,a,l){if(i.subtreeFlags&cs)for(i=i.child;i!==null;)N1(i,a,l),i=i.sibling}function N1(i,a,l){switch(i.tag){case 26:Wa(i,a,l),i.flags&cs&&i.memoizedState!==null&&_8(l,fr,i.memoizedState,i.memoizedProps);break;case 5:Wa(i,a,l);break;case 3:case 4:var c=fr;fr=Jl(i.stateNode.containerInfo),Wa(i,a,l),fr=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=cs,cs=16777216,Wa(i,a,l),cs=c):Wa(i,a,l));break;default:Wa(i,a,l)}}function R1(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ds(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Qt=c,D1(c,i)}R1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I1(i),i=i.sibling}function I1(i){switch(i.tag){case 0:case 11:case 15:ds(i),i.flags&2048&&yi(9,i,i.return);break;case 3:ds(i);break;case 12:ds(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Dl(i)):ds(i);break;default:ds(i)}}function Dl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Qt=c,D1(c,i)}R1(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:yi(8,a,a.return),Dl(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Dl(a));break;default:Dl(a)}i=i.sibling}}function D1(i,a){for(;Qt!==null;){var l=Qt;switch(l.tag){case 0:case 11:case 15:yi(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Xo(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Qt=c;else e:for(l=i;Qt!==null;){c=Qt;var v=c.sibling,x=c.return;if(_1(c),c===l){Qt=null;break e}if(v!==null){v.return=x,Qt=v;break e}Qt=x}}}var P7={getCacheForType:function(i){var a=nn(Pt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return nn(Pt).controller.signal}},q7=typeof WeakMap=="function"?WeakMap:Map,ut=0,yt=null,je=null,tt=0,ct=0,Bn=null,xi=!1,Qa=!1,ad=!1,Fr=0,Nt=0,bi=0,da=0,od=0,Pn=0,ja=0,fs=null,En=null,sd=!1,Ll=0,L1=0,Ul=1/0,Ol=null,Si=null,Yt=0,wi=null,eo=null,$r=0,ld=0,ud=null,U1=null,hs=0,cd=null;function qn(){return(ut&2)!==0&&tt!==0?tt&-tt:$.T!==null?gd():Qh()}function O1(){if(Pn===0)if((tt&536870912)===0||rt){var i=$s;$s<<=1,($s&3932160)===0&&($s=262144),Pn=i}else Pn=536870912;return i=Un.current,i!==null&&(i.flags|=32),Pn}function Cn(i,a,l){(i===yt&&(ct===2||ct===9)||i.cancelPendingCommit!==null)&&(to(i,0),Ti(i,tt,Pn,!1)),Do(i,l),((ut&2)===0||i!==yt)&&(i===yt&&((ut&2)===0&&(da|=l),Nt===4&&Ti(i,tt,Pn,!1)),Sr(i))}function B1(i,a,l){if((ut&6)!==0)throw Error(r(327));var c=!l&&(a&127)===0&&(a&i.expiredLanes)===0||Io(i,a),v=c?V7(i,a):fd(i,a,!0),x=c;do{if(v===0){Qa&&!c&&Ti(i,a,0,!1);break}else{if(l=i.current.alternate,x&&!H7(l)){v=fd(i,a,!1),x=!1;continue}if(v===2){if(x=a,i.errorRecoveryDisabledLanes&x)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var M=i;v=fs;var F=M.current.memoizedState.isDehydrated;if(F&&(to(M,_).flags|=256),_=fd(M,_,!1),_!==2){if(ad&&!F){M.errorRecoveryDisabledLanes|=x,da|=x,v=4;break e}x=En,En=v,x!==null&&(En===null?En=x:En.push.apply(En,x))}v=_}if(x=!1,v!==2)continue}}if(v===1){to(i,0),Ti(i,a,0,!0);break}e:{switch(c=i,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ti(c,a,Pn,!xi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=Ll+300-hn(),10<v)){if(Ti(c,a,Pn,!xi),Js(c,0,!0)!==0)break e;$r=a,c.timeoutHandle=pg(P1.bind(null,c,l,En,Ol,sd,a,Pn,da,ja,xi,x,"Throttled",-0,0),v);break e}P1(c,l,En,Ol,sd,a,Pn,da,ja,xi,x,null,-0,0)}}break}while(!0);Sr(i)}function P1(i,a,l,c,v,x,_,M,F,ie,fe,me,se,de){if(i.timeoutHandle=-1,me=a.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mr},N1(a,x,me);var ke=(x&62914560)===x?Ll-hn():(x&4194048)===x?L1-hn():0;if(ke=A8(me,ke),ke!==null){$r=x,i.cancelPendingCommit=ke(J1.bind(null,i,a,x,l,c,v,_,M,F,fe,me,null,se,de)),Ti(i,x,_,!ie);return}}J1(i,a,x,l,c,v,_,M,F)}function H7(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var v=l[c],x=v.getSnapshot;v=v.value;try{if(!Dn(x(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ti(i,a,l,c){a&=~od,a&=~da,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var v=a;0<v;){var x=31-In(v),_=1<<x;c[x]=-1,v&=~_}l!==0&&Kh(i,l,a)}function Bl(){return(ut&6)===0?(ms(0),!1):!0}function dd(){if(je!==null){if(ct===0)var i=je.return;else i=je,Dr=na=null,Cc(i),$a=null,Zo=0,i=je;for(;i!==null;)g1(i.alternate,i),i=i.return;je=null}}function to(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,s8(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),$r=0,dd(),yt=i,je=l=Rr(i.current,null),tt=a,ct=0,Bn=null,xi=!1,Qa=Io(i,a),ad=!1,ja=Pn=od=da=bi=Nt=0,En=fs=null,sd=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var v=31-In(c),x=1<<v;a|=i[v],c&=~x}return Fr=a,al(),l}function q1(i,a){Je=null,$.H=is,a===Fa||a===hl?(a=np(),ct=3):a===pc?(a=np(),ct=4):ct=a===Vc?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Bn=a,je===null&&(Nt=1,Cl(i,Zn(a,i.current)))}function H1(){var i=Un.current;return i===null?!0:(tt&4194048)===tt?er===null:(tt&62914560)===tt||(tt&536870912)!==0?i===er:!1}function G1(){var i=$.H;return $.H=is,i===null?is:i}function V1(){var i=$.A;return $.A=P7,i}function Pl(){Nt=4,xi||(tt&4194048)!==tt&&Un.current!==null||(Qa=!0),(bi&134217727)===0&&(da&134217727)===0||yt===null||Ti(yt,tt,Pn,!1)}function fd(i,a,l){var c=ut;ut|=2;var v=G1(),x=V1();(yt!==i||tt!==a)&&(Ol=null,to(i,a)),a=!1;var _=Nt;e:do try{if(ct!==0&&je!==null){var M=je,F=Bn;switch(ct){case 8:dd(),_=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(a=!0);var ie=ct;if(ct=0,Bn=null,no(i,M,F,ie),l&&Qa){_=0;break e}break;default:ie=ct,ct=0,Bn=null,no(i,M,F,ie)}}G7(),_=Nt;break}catch(fe){q1(i,fe)}while(!0);return a&&i.shellSuspendCounter++,Dr=na=null,ut=c,$.H=v,$.A=x,je===null&&(yt=null,tt=0,al()),_}function G7(){for(;je!==null;)F1(je)}function V7(i,a){var l=ut;ut|=2;var c=G1(),v=V1();yt!==i||tt!==a?(Ol=null,Ul=hn()+500,to(i,a)):Qa=Io(i,a);e:do try{if(ct!==0&&je!==null){a=je;var x=Bn;t:switch(ct){case 1:ct=0,Bn=null,no(i,a,x,1);break;case 2:case 9:if(ep(x)){ct=0,Bn=null,$1(a);break}a=function(){ct!==2&&ct!==9||yt!==i||(ct=7),Sr(i)},x.then(a,a);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:ep(x)?(ct=0,Bn=null,$1(a)):(ct=0,Bn=null,no(i,a,x,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var M=je;if(_?Mg(_):M.stateNode.complete){ct=0,Bn=null;var F=M.sibling;if(F!==null)je=F;else{var ie=M.return;ie!==null?(je=ie,ql(ie)):je=null}break t}}ct=0,Bn=null,no(i,a,x,5);break;case 6:ct=0,Bn=null,no(i,a,x,6);break;case 8:dd(),Nt=6;break e;default:throw Error(r(462))}}F7();break}catch(fe){q1(i,fe)}while(!0);return Dr=na=null,$.H=c,$.A=v,ut=l,je!==null?0:(yt=null,tt=0,al(),Nt)}function F7(){for(;je!==null&&!Eu();)F1(je)}function F1(i){var a=m1(i.alternate,i,Fr);i.memoizedProps=i.pendingProps,a===null?ql(i):je=a}function $1(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=l1(l,a,a.pendingProps,a.type,void 0,tt);break;case 11:a=l1(l,a,a.pendingProps,a.type.render,a.ref,tt);break;case 5:Cc(a);default:g1(l,a),a=je=Vm(a,Fr),a=m1(l,a,Fr)}i.memoizedProps=i.pendingProps,a===null?ql(i):je=a}function no(i,a,l,c){Dr=na=null,Cc(a),$a=null,Zo=0;var v=a.return;try{if(R7(i,v,a,l,tt)){Nt=1,Cl(i,Zn(l,i.current)),je=null;return}}catch(x){if(v!==null)throw je=v,x;Nt=1,Cl(i,Zn(l,i.current)),je=null;return}a.flags&32768?(rt||c===1?i=!0:Qa||(tt&536870912)!==0?i=!1:(xi=i=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),Y1(a,i)):ql(a)}function ql(i){var a=i;do{if((a.flags&32768)!==0){Y1(a,xi);return}i=a.return;var l=L7(a.alternate,a,Fr);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=i}while(a!==null);Nt===0&&(Nt=5)}function Y1(i,a){do{var l=U7(i.alternate,i);if(l!==null){l.flags&=32767,je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){je=i;return}je=i=l}while(i!==null);Nt=6,je=null}function J1(i,a,l,c,v,x,_,M,F){i.cancelPendingCommit=null;do Hl();while(Yt!==0);if((ut&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(x=a.lanes|a.childLanes,x|=ec,T6(i,l,x,_,M,F),i===yt&&(je=yt=null,tt=0),eo=a,wi=i,$r=l,ld=x,ud=v,U1=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,X7(Vs,function(){return Q1(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,v=ue.p,ue.p=2,_=ut,ut|=4;try{O7(i,a,l)}finally{ut=_,ue.p=v,$.T=c}}Yt=1,X1(),K1(),Z1()}}function X1(){if(Yt===1){Yt=0;var i=wi,a=eo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=ue.p;ue.p=2;var v=ut;ut|=4;try{k1(a,i);var x=_d,_=Dm(i.containerInfo),M=x.focusedElem,F=x.selectionRange;if(_!==M&&M&&M.ownerDocument&&Im(M.ownerDocument.documentElement,M)){if(F!==null&&Ku(M)){var ie=F.start,fe=F.end;if(fe===void 0&&(fe=ie),"selectionStart"in M)M.selectionStart=ie,M.selectionEnd=Math.min(fe,M.value.length);else{var me=M.ownerDocument||document,se=me&&me.defaultView||window;if(se.getSelection){var de=se.getSelection(),ke=M.textContent.length,He=Math.min(F.start,ke),gt=F.end===void 0?He:Math.min(F.end,ke);!de.extend&&He>gt&&(_=gt,gt=He,He=_);var ee=Rm(M,He),Y=Rm(M,gt);if(ee&&Y&&(de.rangeCount!==1||de.anchorNode!==ee.node||de.anchorOffset!==ee.offset||de.focusNode!==Y.node||de.focusOffset!==Y.offset)){var te=me.createRange();te.setStart(ee.node,ee.offset),de.removeAllRanges(),He>gt?(de.addRange(te),de.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),de.addRange(te))}}}}for(me=[],de=M;de=de.parentNode;)de.nodeType===1&&me.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<me.length;M++){var he=me[M];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}jl=!!Td,_d=Td=null}finally{ut=v,ue.p=c,$.T=l}}i.current=a,Yt=2}}function K1(){if(Yt===2){Yt=0;var i=wi,a=eo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=ue.p;ue.p=2;var v=ut;ut|=4;try{T1(i,a.alternate,a)}finally{ut=v,ue.p=c,$.T=l}}Yt=3}}function Z1(){if(Yt===4||Yt===3){Yt=0,Ji();var i=wi,a=eo,l=$r,c=U1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Yt=5:(Yt=0,eo=wi=null,W1(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Si=null),Mu(l),a=a.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Ro,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=$.T,v=ue.p,ue.p=2,$.T=null;try{for(var x=i.onRecoverableError,_=0;_<c.length;_++){var M=c[_];x(M.value,{componentStack:M.stack})}}finally{$.T=a,ue.p=v}}($r&3)!==0&&Hl(),Sr(i),v=i.pendingLanes,(l&261930)!==0&&(v&42)!==0?i===cd?hs++:(hs=0,cd=i):hs=0,ms(0)}}function W1(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Xo(a)))}function Hl(){return X1(),K1(),Z1(),Q1()}function Q1(){if(Yt!==5)return!1;var i=wi,a=ld;ld=0;var l=Mu($r),c=$.T,v=ue.p;try{ue.p=32>l?32:l,$.T=null,l=ud,ud=null;var x=wi,_=$r;if(Yt=0,eo=wi=null,$r=0,(ut&6)!==0)throw Error(r(331));var M=ut;if(ut|=4,I1(x.current),M1(x,x.current,_,l),ut=M,ms(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Ro,x)}catch{}return!0}finally{ue.p=v,$.T=c,W1(i,a)}}function j1(i,a,l){a=Zn(l,a),a=Gc(i.stateNode,a,2),i=pi(i,a,2),i!==null&&(Do(i,2),Sr(i))}function dt(i,a,l){if(i.tag===3)j1(i,i,l);else for(;a!==null;){if(a.tag===3){j1(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Si===null||!Si.has(c))){i=Zn(l,i),l=e1(2),c=pi(a,l,2),c!==null&&(t1(l,c,a,i),Do(c,2),Sr(c));break}}a=a.return}}function hd(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new q7;var v=new Set;c.set(a,v)}else v=c.get(a),v===void 0&&(v=new Set,c.set(a,v));v.has(l)||(ad=!0,v.add(l),i=$7.bind(null,i,a,l),a.then(i,i))}function $7(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,yt===i&&(tt&l)===l&&(Nt===4||Nt===3&&(tt&62914560)===tt&&300>hn()-Ll?(ut&2)===0&&to(i,0):od|=l,ja===tt&&(ja=0)),Sr(i)}function eg(i,a){a===0&&(a=Xh()),i=ji(i,a),i!==null&&(Do(i,a),Sr(i))}function Y7(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),eg(i,l)}function J7(i,a){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,v=i.memoizedState;v!==null&&(l=v.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),eg(i,l)}function X7(i,a){return No(i,a)}var Gl=null,ro=null,md=!1,Vl=!1,pd=!1,_i=0;function Sr(i){i!==ro&&i.next===null&&(ro===null?Gl=ro=i:ro=ro.next=i),Vl=!0,md||(md=!0,Z7())}function ms(i,a){if(!pd&&Vl){pd=!0;do for(var l=!1,c=Gl;c!==null;){if(i!==0){var v=c.pendingLanes;if(v===0)var x=0;else{var _=c.suspendedLanes,M=c.pingedLanes;x=(1<<31-In(42|i)+1)-1,x&=v&~(_&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,ig(c,x))}else x=tt,x=Js(c,c===yt?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||Io(c,x)||(l=!0,ig(c,x));c=c.next}while(l);pd=!1}}function K7(){tg()}function tg(){Vl=md=!1;var i=0;_i!==0&&o8()&&(i=_i);for(var a=hn(),l=null,c=Gl;c!==null;){var v=c.next,x=ng(c,a);x===0?(c.next=null,l===null?Gl=v:l.next=v,v===null&&(ro=l)):(l=c,(i!==0||(x&3)!==0)&&(Vl=!0)),c=v}Yt!==0&&Yt!==5||ms(i),_i!==0&&(_i=0)}function ng(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var _=31-In(x),M=1<<_,F=v[_];F===-1?((M&l)===0||(M&c)!==0)&&(v[_]=w6(M,a)):F<=a&&(i.expiredLanes|=M),x&=~M}if(a=yt,l=tt,l=Js(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(ct===2||ct===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Yi(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Io(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Yi(c),Mu(l)){case 2:case 8:l=Yh;break;case 32:l=Vs;break;case 268435456:l=Jh;break;default:l=Vs}return c=rg.bind(null,i),l=No(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Yi(c),i.callbackPriority=2,i.callbackNode=null,2}function rg(i,a){if(Yt!==0&&Yt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Hl()&&i.callbackNode!==l)return null;var c=tt;return c=Js(i,i===yt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(B1(i,c,a),ng(i,hn()),i.callbackNode!=null&&i.callbackNode===l?rg.bind(null,i):null)}function ig(i,a){if(Hl())return null;B1(i,a,!0)}function Z7(){l8(function(){(ut&6)!==0?No($h,K7):tg()})}function gd(){if(_i===0){var i=Ga;i===0&&(i=Fs,Fs<<=1,(Fs&261888)===0&&(Fs=256)),_i=i}return _i}function ag(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ws(""+i)}function og(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function W7(i,a,l,c,v){if(a==="submit"&&l&&l.stateNode===v){var x=ag((v[Sn]||null).action),_=c.submitter;_&&(a=(a=_[Sn]||null)?ag(a.formAction):_.getAttribute("formAction"),a!==null&&(x=a,_=null));var M=new tl("action","action",null,c,v);i.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_i!==0){var F=_?og(v,_):new FormData(v);Uc(l,{pending:!0,data:F,method:v.method,action:x},null,F)}}else typeof x=="function"&&(M.preventDefault(),F=_?og(v,_):new FormData(v),Uc(l,{pending:!0,data:F,method:v.method,action:x},x,F))},currentTarget:v}]})}}for(var vd=0;vd<ju.length;vd++){var yd=ju[vd],Q7=yd.toLowerCase(),j7=yd[0].toUpperCase()+yd.slice(1);dr(Q7,"on"+j7)}dr(Om,"onAnimationEnd"),dr(Bm,"onAnimationIteration"),dr(Pm,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(p7,"onTransitionRun"),dr(g7,"onTransitionStart"),dr(v7,"onTransitionCancel"),dr(qm,"onTransitionEnd"),ka("onMouseEnter",["mouseout","mouseover"]),ka("onMouseLeave",["mouseout","mouseover"]),ka("onPointerEnter",["pointerout","pointerover"]),ka("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ps));function sg(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],v=c.event;c=c.listeners;e:{var x=void 0;if(a)for(var _=c.length-1;0<=_;_--){var M=c[_],F=M.instance,ie=M.currentTarget;if(M=M.listener,F!==x&&v.isPropagationStopped())break e;x=M,v.currentTarget=ie;try{x(v)}catch(fe){il(fe)}v.currentTarget=null,x=F}else for(_=0;_<c.length;_++){if(M=c[_],F=M.instance,ie=M.currentTarget,M=M.listener,F!==x&&v.isPropagationStopped())break e;x=M,v.currentTarget=ie;try{x(v)}catch(fe){il(fe)}v.currentTarget=null,x=F}}}}function et(i,a){var l=a[Nu];l===void 0&&(l=a[Nu]=new Set);var c=i+"__bubble";l.has(c)||(lg(a,i,2,!1),l.add(c))}function xd(i,a,l){var c=0;a&&(c|=4),lg(l,i,c,a)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function bd(i){if(!i[Fl]){i[Fl]=!0,tm.forEach(function(l){l!=="selectionchange"&&(e8.has(l)||xd(l,!1,i),xd(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Fl]||(a[Fl]=!0,xd("selectionchange",!1,a))}}function lg(i,a,l,c){switch(Og(a)){case 2:var v=k8;break;case 8:v=z8;break;default:v=Ld}l=v.bind(null,a,l,i),v=void 0,!qu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),c?v!==void 0?i.addEventListener(a,l,{capture:!0,passive:v}):i.addEventListener(a,l,!0):v!==void 0?i.addEventListener(a,l,{passive:v}):i.addEventListener(a,l,!1)}function Sd(i,a,l,c,v){var x=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var M=c.stateNode.containerInfo;if(M===v)break;if(_===4)for(_=c.return;_!==null;){var F=_.tag;if((F===3||F===4)&&_.stateNode.containerInfo===v)return;_=_.return}for(;M!==null;){if(_=Aa(M),_===null)return;if(F=_.tag,F===5||F===6||F===26||F===27){c=x=_;continue e}M=M.parentNode}}c=c.return}hm(function(){var ie=x,fe=Bu(l),me=[];e:{var se=Hm.get(i);if(se!==void 0){var de=tl,ke=i;switch(i){case"keypress":if(js(l)===0)break e;case"keydown":case"keyup":de=J6;break;case"focusin":ke="focus",de=Fu;break;case"focusout":ke="blur",de=Fu;break;case"beforeblur":case"afterblur":de=Fu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=gm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=L6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Z6;break;case Om:case Bm:case Pm:de=B6;break;case qm:de=Q6;break;case"scroll":case"scrollend":de=I6;break;case"wheel":de=e7;break;case"copy":case"cut":case"paste":de=q6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=ym;break;case"toggle":case"beforetoggle":de=n7}var He=(a&4)!==0,gt=!He&&(i==="scroll"||i==="scrollend"),ee=He?se!==null?se+"Capture":null:se;He=[];for(var Y=ie,te;Y!==null;){var he=Y;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||ee===null||(he=Oo(Y,ee),he!=null&&He.push(gs(Y,he,te))),gt)break;Y=Y.return}0<He.length&&(se=new de(se,ke,null,l,fe),me.push({event:se,listeners:He}))}}if((a&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",se&&l!==Ou&&(ke=l.relatedTarget||l.fromElement)&&(Aa(ke)||ke[_a]))break e;if((de||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,de?(ke=l.relatedTarget||l.toElement,de=ie,ke=ke?Aa(ke):null,ke!==null&&(gt=s(ke),He=ke.tag,ke!==gt||He!==5&&He!==27&&He!==6)&&(ke=null)):(de=null,ke=ie),de!==ke)){if(He=gm,he="onMouseLeave",ee="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(He=ym,he="onPointerLeave",ee="onPointerEnter",Y="pointer"),gt=de==null?se:Uo(de),te=ke==null?se:Uo(ke),se=new He(he,Y+"leave",de,l,fe),se.target=gt,se.relatedTarget=te,he=null,Aa(fe)===ie&&(He=new He(ee,Y+"enter",ke,l,fe),He.target=te,He.relatedTarget=gt,he=He),gt=he,de&&ke)t:{for(He=t8,ee=de,Y=ke,te=0,he=ee;he;he=He(he))te++;he=0;for(var Ue=Y;Ue;Ue=He(Ue))he++;for(;0<te-he;)ee=He(ee),te--;for(;0<he-te;)Y=He(Y),he--;for(;te--;){if(ee===Y||Y!==null&&ee===Y.alternate){He=ee;break t}ee=He(ee),Y=He(Y)}He=null}else He=null;de!==null&&ug(me,se,de,He,!1),ke!==null&&gt!==null&&ug(me,gt,ke,He,!0)}}e:{if(se=ie?Uo(ie):window,de=se.nodeName&&se.nodeName.toLowerCase(),de==="select"||de==="input"&&se.type==="file")var ot=Em;else if(_m(se))if(Cm)ot=f7;else{ot=c7;var De=u7}else de=se.nodeName,!de||de.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&Uu(ie.elementType)&&(ot=Em):ot=d7;if(ot&&(ot=ot(i,ie))){Am(me,ot,l,fe);break e}De&&De(i,se,ie),i==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&Lu(se,"number",se.value)}switch(De=ie?Uo(ie):window,i){case"focusin":(_m(De)||De.contentEditable==="true")&&(Da=De,Zu=ie,$o=null);break;case"focusout":$o=Zu=Da=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,Lm(me,l,fe);break;case"selectionchange":if(m7)break;case"keydown":case"keyup":Lm(me,l,fe)}var Xe;if(Yu)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Ia?wm(i,l)&&(nt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(nt="onCompositionStart");nt&&(xm&&l.locale!=="ko"&&(Ia||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Ia&&(Xe=mm()):(li=fe,Hu="value"in li?li.value:li.textContent,Ia=!0)),De=$l(ie,nt),0<De.length&&(nt=new vm(nt,i,null,l,fe),me.push({event:nt,listeners:De}),Xe?nt.data=Xe:(Xe=Tm(l),Xe!==null&&(nt.data=Xe)))),(Xe=i7?a7(i,l):o7(i,l))&&(nt=$l(ie,"onBeforeInput"),0<nt.length&&(De=new vm("onBeforeInput","beforeinput",null,l,fe),me.push({event:De,listeners:nt}),De.data=Xe)),W7(me,i,ie,l,fe)}sg(me,a)})}function gs(i,a,l){return{instance:i,listener:a,currentTarget:l}}function $l(i,a){for(var l=a+"Capture",c=[];i!==null;){var v=i,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Oo(i,l),v!=null&&c.unshift(gs(i,v,x)),v=Oo(i,a),v!=null&&c.push(gs(i,v,x))),i.tag===3)return c;i=i.return}return[]}function t8(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ug(i,a,l,c,v){for(var x=a._reactName,_=[];l!==null&&l!==c;){var M=l,F=M.alternate,ie=M.stateNode;if(M=M.tag,F!==null&&F===c)break;M!==5&&M!==26&&M!==27||ie===null||(F=ie,v?(ie=Oo(l,x),ie!=null&&_.unshift(gs(l,ie,F))):v||(ie=Oo(l,x),ie!=null&&_.push(gs(l,ie,F)))),l=l.return}_.length!==0&&i.push({event:a,listeners:_})}var n8=/\r\n?/g,r8=/\u0000|\uFFFD/g;function cg(i){return(typeof i=="string"?i:""+i).replace(n8,`
`).replace(r8,"")}function dg(i,a){return a=cg(a),cg(i)===a}function pt(i,a,l,c,v,x){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ma(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ma(i,""+c);break;case"className":Ks(i,"class",c);break;case"tabIndex":Ks(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(i,l,c);break;case"style":dm(i,c,x);break;case"data":if(a!=="object"){Ks(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ws(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&pt(i,a,"name",v.name,v,null),pt(i,a,"formEncType",v.formEncType,v,null),pt(i,a,"formMethod",v.formMethod,v,null),pt(i,a,"formTarget",v.formTarget,v,null)):(pt(i,a,"encType",v.encType,v,null),pt(i,a,"method",v.method,v,null),pt(i,a,"target",v.target,v,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ws(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Mr);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Ws(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":et("beforetoggle",i),et("toggle",i),Xs(i,"popover",c);break;case"xlinkActuate":zr(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zr(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zr(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zr(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zr(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zr(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zr(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Xs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=N6.get(l)||l,Xs(i,l,c))}}function wd(i,a,l,c,v,x){switch(l){case"style":dm(i,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Ma(i,c):(typeof c=="number"||typeof c=="bigint")&&Ma(i,""+c);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nm.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),x=i[Sn]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(a,x,v),typeof c=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,v);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Xs(i,l,c)}}}function an(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",i),et("load",i);var c=!1,v=!1,x;for(x in l)if(l.hasOwnProperty(x)){var _=l[x];if(_!=null)switch(x){case"src":c=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:pt(i,a,x,_,l,null)}}v&&pt(i,a,"srcSet",l.srcSet,l,null),c&&pt(i,a,"src",l.src,l,null);return;case"input":et("invalid",i);var M=x=_=v=null,F=null,ie=null;for(c in l)if(l.hasOwnProperty(c)){var fe=l[c];if(fe!=null)switch(c){case"name":v=fe;break;case"type":_=fe;break;case"checked":F=fe;break;case"defaultChecked":ie=fe;break;case"value":x=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,a));break;default:pt(i,a,c,fe,l,null)}}sm(i,x,M,F,ie,_,v,!1);return;case"select":et("invalid",i),c=_=x=null;for(v in l)if(l.hasOwnProperty(v)&&(M=l[v],M!=null))switch(v){case"value":x=M;break;case"defaultValue":_=M;break;case"multiple":c=M;default:pt(i,a,v,M,l,null)}a=x,l=_,i.multiple=!!c,a!=null?za(i,!!c,a,!1):l!=null&&za(i,!!c,l,!0);return;case"textarea":et("invalid",i),x=v=c=null;for(_ in l)if(l.hasOwnProperty(_)&&(M=l[_],M!=null))switch(_){case"value":c=M;break;case"defaultValue":v=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:pt(i,a,_,M,l,null)}um(i,c,v,x);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pt(i,a,F,c,l,null)}return;case"dialog":et("beforetoggle",i),et("toggle",i),et("cancel",i),et("close",i);break;case"iframe":case"object":et("load",i);break;case"video":case"audio":for(c=0;c<ps.length;c++)et(ps[c],i);break;case"image":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"embed":case"source":case"link":et("error",i),et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in l)if(l.hasOwnProperty(ie)&&(c=l[ie],c!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:pt(i,a,ie,c,l,null)}return;default:if(Uu(a)){for(fe in l)l.hasOwnProperty(fe)&&(c=l[fe],c!==void 0&&wd(i,a,fe,c,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(c=l[M],c!=null&&pt(i,a,M,c,l,null))}function i8(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,_=null,M=null,F=null,ie=null,fe=null;for(de in l){var me=l[de];if(l.hasOwnProperty(de)&&me!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":F=me;default:c.hasOwnProperty(de)||pt(i,a,de,null,c,me)}}for(var se in c){var de=c[se];if(me=l[se],c.hasOwnProperty(se)&&(de!=null||me!=null))switch(se){case"type":x=de;break;case"name":v=de;break;case"checked":ie=de;break;case"defaultChecked":fe=de;break;case"value":_=de;break;case"defaultValue":M=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:de!==me&&pt(i,a,se,de,c,me)}}Du(i,_,M,F,ie,fe,x,v);return;case"select":de=_=M=se=null;for(x in l)if(F=l[x],l.hasOwnProperty(x)&&F!=null)switch(x){case"value":break;case"multiple":de=F;default:c.hasOwnProperty(x)||pt(i,a,x,null,c,F)}for(v in c)if(x=c[v],F=l[v],c.hasOwnProperty(v)&&(x!=null||F!=null))switch(v){case"value":se=x;break;case"defaultValue":M=x;break;case"multiple":_=x;default:x!==F&&pt(i,a,v,x,c,F)}a=M,l=_,c=de,se!=null?za(i,!!l,se,!1):!!c!=!!l&&(a!=null?za(i,!!l,a,!0):za(i,!!l,l?[]:"",!1));return;case"textarea":de=se=null;for(M in l)if(v=l[M],l.hasOwnProperty(M)&&v!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:pt(i,a,M,null,c,v)}for(_ in c)if(v=c[_],x=l[_],c.hasOwnProperty(_)&&(v!=null||x!=null))switch(_){case"value":se=v;break;case"defaultValue":de=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&pt(i,a,_,v,c,x)}lm(i,se,de);return;case"option":for(var ke in l)if(se=l[ke],l.hasOwnProperty(ke)&&se!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":i.selected=!1;break;default:pt(i,a,ke,null,c,se)}for(F in c)if(se=c[F],de=l[F],c.hasOwnProperty(F)&&se!==de&&(se!=null||de!=null))switch(F){case"selected":i.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:pt(i,a,F,se,c,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)se=l[He],l.hasOwnProperty(He)&&se!=null&&!c.hasOwnProperty(He)&&pt(i,a,He,null,c,se);for(ie in c)if(se=c[ie],de=l[ie],c.hasOwnProperty(ie)&&se!==de&&(se!=null||de!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,a));break;default:pt(i,a,ie,se,c,de)}return;default:if(Uu(a)){for(var gt in l)se=l[gt],l.hasOwnProperty(gt)&&se!==void 0&&!c.hasOwnProperty(gt)&&wd(i,a,gt,void 0,c,se);for(fe in c)se=c[fe],de=l[fe],!c.hasOwnProperty(fe)||se===de||se===void 0&&de===void 0||wd(i,a,fe,se,c,de);return}}for(var ee in l)se=l[ee],l.hasOwnProperty(ee)&&se!=null&&!c.hasOwnProperty(ee)&&pt(i,a,ee,null,c,se);for(me in c)se=c[me],de=l[me],!c.hasOwnProperty(me)||se===de||se==null&&de==null||pt(i,a,me,se,c,de)}function fg(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a8(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var v=l[c],x=v.transferSize,_=v.initiatorType,M=v.duration;if(x&&M&&fg(_)){for(_=0,M=v.responseEnd,c+=1;c<l.length;c++){var F=l[c],ie=F.startTime;if(ie>M)break;var fe=F.transferSize,me=F.initiatorType;fe&&fg(me)&&(F=F.responseEnd,_+=fe*(F<M?1:(M-ie)/(F-ie)))}if(--c,a+=8*(x+_)/(v.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Td=null,_d=null;function Yl(i){return i.nodeType===9?i:i.ownerDocument}function hg(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mg(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Ad(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ed=null;function o8(){var i=window.event;return i&&i.type==="popstate"?i===Ed?!1:(Ed=i,!0):(Ed=null,!1)}var pg=typeof setTimeout=="function"?setTimeout:void 0,s8=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,l8=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(i){return gg.resolve(null).then(i).catch(u8)}:pg;function u8(i){setTimeout(function(){throw i})}function Ai(i){return i==="head"}function vg(i,a){var l=a,c=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(v),so(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")vs(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,vs(l);for(var x=l.firstChild;x;){var _=x.nextSibling,M=x.nodeName;x[Lo]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=_}}else l==="body"&&vs(i.ownerDocument.body);l=v}while(l);so(a)}function yg(i,a){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function Cd(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Cd(l),Ru(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function c8(i,a,l,c){for(;i.nodeType===1;){var v=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Lo])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=tr(i.nextSibling),i===null)break}return null}function d8(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=tr(i.nextSibling),i===null))return null;return i}function xg(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=tr(i.nextSibling),i===null))return null;return i}function kd(i){return i.data==="$?"||i.data==="$~"}function zd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function f8(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function tr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Md=null;function bg(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return tr(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function Sg(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function wg(i,a,l){switch(a=Yl(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function vs(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ru(i)}var nr=new Map,Tg=new Set;function Jl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Yr=ue.d;ue.d={f:h8,r:m8,D:p8,C:g8,L:v8,m:y8,X:b8,S:x8,M:S8};function h8(){var i=Yr.f(),a=Bl();return i||a}function m8(i){var a=Ea(i);a!==null&&a.tag===5&&a.type==="form"?qp(a):Yr.r(i)}var io=typeof document>"u"?null:document;function _g(i,a,l){var c=io;if(c&&typeof a=="string"&&a){var v=Xn(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Tg.has(v)||(Tg.add(v),i={rel:i,crossOrigin:l,href:a},c.querySelector(v)===null&&(a=c.createElement("link"),an(a,"link",i),Wt(a),c.head.appendChild(a)))}}function p8(i){Yr.D(i),_g("dns-prefetch",i,null)}function g8(i,a){Yr.C(i,a),_g("preconnect",i,a)}function v8(i,a,l){Yr.L(i,a,l);var c=io;if(c&&i&&a){var v='link[rel="preload"][as="'+Xn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Xn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Xn(l.imageSizes)+'"]')):v+='[href="'+Xn(i)+'"]';var x=v;switch(a){case"style":x=ao(i);break;case"script":x=oo(i)}nr.has(x)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),nr.set(x,i),c.querySelector(v)!==null||a==="style"&&c.querySelector(ys(x))||a==="script"&&c.querySelector(xs(x))||(a=c.createElement("link"),an(a,"link",i),Wt(a),c.head.appendChild(a)))}}function y8(i,a){Yr.m(i,a);var l=io;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Xn(c)+'"][href="'+Xn(i)+'"]',x=v;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=oo(i)}if(!nr.has(x)&&(i=y({rel:"modulepreload",href:i},a),nr.set(x,i),l.querySelector(v)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xs(x)))return}c=l.createElement("link"),an(c,"link",i),Wt(c),l.head.appendChild(c)}}}function x8(i,a,l){Yr.S(i,a,l);var c=io;if(c&&i){var v=Ca(c).hoistableStyles,x=ao(i);a=a||"default";var _=v.get(x);if(!_){var M={loading:0,preload:null};if(_=c.querySelector(ys(x)))M.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=nr.get(x))&&Nd(i,l);var F=_=c.createElement("link");Wt(F),an(F,"link",i),F._p=new Promise(function(ie,fe){F.onload=ie,F.onerror=fe}),F.addEventListener("load",function(){M.loading|=1}),F.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Xl(_,a,c)}_={type:"stylesheet",instance:_,count:1,state:M},v.set(x,_)}}}function b8(i,a){Yr.X(i,a);var l=io;if(l&&i){var c=Ca(l).hoistableScripts,v=oo(i),x=c.get(v);x||(x=l.querySelector(xs(v)),x||(i=y({src:i,async:!0},a),(a=nr.get(v))&&Rd(i,a),x=l.createElement("script"),Wt(x),an(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(v,x))}}function S8(i,a){Yr.M(i,a);var l=io;if(l&&i){var c=Ca(l).hoistableScripts,v=oo(i),x=c.get(v);x||(x=l.querySelector(xs(v)),x||(i=y({src:i,async:!0,type:"module"},a),(a=nr.get(v))&&Rd(i,a),x=l.createElement("script"),Wt(x),an(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(v,x))}}function Ag(i,a,l,c){var v=(v=Te.current)?Jl(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ao(l.href),l=Ca(v).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ao(l.href);var x=Ca(v).hoistableStyles,_=x.get(i);if(_||(v=v.ownerDocument||v,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,_),(x=v.querySelector(ys(i)))&&!x._p&&(_.instance=x,_.state.loading=5),nr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},nr.set(i,l),x||w8(v,i,l,_.state))),a&&c===null)throw Error(r(528,""));return _}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=oo(l),l=Ca(v).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ao(i){return'href="'+Xn(i)+'"'}function ys(i){return'link[rel="stylesheet"]['+i+"]"}function Eg(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function w8(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),an(a,"link",l),Wt(a),i.head.appendChild(a))}function oo(i){return'[src="'+Xn(i)+'"]'}function xs(i){return"script[async]"+i}function Cg(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Xn(l.href)+'"]');if(c)return a.instance=c,Wt(c),c;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Wt(c),an(c,"style",v),Xl(c,l.precedence,i),a.instance=c;case"stylesheet":v=ao(l.href);var x=i.querySelector(ys(v));if(x)return a.state.loading|=4,a.instance=x,Wt(x),x;c=Eg(l),(v=nr.get(v))&&Nd(c,v),x=(i.ownerDocument||i).createElement("link"),Wt(x);var _=x;return _._p=new Promise(function(M,F){_.onload=M,_.onerror=F}),an(x,"link",c),a.state.loading|=4,Xl(x,l.precedence,i),a.instance=x;case"script":return x=oo(l.src),(v=i.querySelector(xs(x)))?(a.instance=v,Wt(v),v):(c=l,(v=nr.get(x))&&(c=y({},l),Rd(c,v)),i=i.ownerDocument||i,v=i.createElement("script"),Wt(v),an(v,"link",c),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Xl(c,l.precedence,i));return a.instance}function Xl(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=c.length?c[c.length-1]:null,x=v,_=0;_<c.length;_++){var M=c[_];if(M.dataset.precedence===a)x=M;else if(x!==v)break}x?x.parentNode.insertBefore(i,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Nd(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Rd(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Kl=null;function kg(i,a,l){if(Kl===null){var c=new Map,v=Kl=new Map;v.set(l,c)}else v=Kl,c=v.get(l),c||(c=new Map,v.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),v=0;v<l.length;v++){var x=l[v];if(!(x[Lo]||x[en]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(a)||"";_=i+_;var M=c.get(_);M?M.push(x):c.set(_,[x])}}return c}function zg(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function T8(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Mg(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _8(i,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=ao(c.href),x=a.querySelector(ys(v));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Zl.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=x,Wt(x);return}x=a.ownerDocument||a,c=Eg(c),(v=nr.get(v))&&Nd(c,v),x=x.createElement("link"),Wt(x);var _=x;_._p=new Promise(function(M,F){_.onload=M,_.onerror=F}),an(x,"link",c),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Zl.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var Id=0;function A8(i,a){return i.stylesheets&&i.count===0&&Ql(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&Ql(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+a);0<i.imgBytes&&Id===0&&(Id=62500*a8());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ql(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>Id?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(v)}}:null}function Zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ql(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wl=null;function Ql(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wl=new Map,a.forEach(E8,i),Wl=null,Zl.call(i))}function E8(i,a){if(!(a.state.loading&4)){var l=Wl.get(i);if(l)var c=l.get(null);else{l=new Map,Wl.set(i,l);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var _=v[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),c=_)}c&&l.set(null,c)}v=a.instance,_=v.getAttribute("data-precedence"),x=l.get(_)||c,x===c&&l.set(null,v),l.set(_,v),this.count++,c=Zl.bind(this),v.addEventListener("load",c),v.addEventListener("error",c),x?x.parentNode.insertBefore(v,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var bs={$$typeof:q,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function C8(i,a,l,c,v,x,_,M,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ku(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ku(0),this.hiddenUpdates=ku(null),this.identifierPrefix=c,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Ng(i,a,l,c,v,x,_,M,F,ie,fe,me){return i=new C8(i,a,l,_,F,ie,fe,me,M),a=1,x===!0&&(a|=24),x=Ln(3,null,null,a),i.current=x,x.stateNode=i,a=fc(),a.refCount++,i.pooledCache=a,a.refCount++,x.memoizedState={element:c,isDehydrated:l,cache:a},gc(x),i}function Rg(i){return i?(i=Oa,i):Oa}function Ig(i,a,l,c,v,x){v=Rg(v),c.context===null?c.context=v:c.pendingContext=v,c=mi(a),c.payload={element:l},x=x===void 0?null:x,x!==null&&(c.callback=x),l=pi(i,c,a),l!==null&&(Cn(l,i,a),Qo(l,i,a))}function Dg(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Dd(i,a){Dg(i,a),(i=i.alternate)&&Dg(i,a)}function Lg(i){if(i.tag===13||i.tag===31){var a=ji(i,67108864);a!==null&&Cn(a,i,67108864),Dd(i,67108864)}}function Ug(i){if(i.tag===13||i.tag===31){var a=qn();a=zu(a);var l=ji(i,a);l!==null&&Cn(l,i,a),Dd(i,a)}}var jl=!0;function k8(i,a,l,c){var v=$.T;$.T=null;var x=ue.p;try{ue.p=2,Ld(i,a,l,c)}finally{ue.p=x,$.T=v}}function z8(i,a,l,c){var v=$.T;$.T=null;var x=ue.p;try{ue.p=8,Ld(i,a,l,c)}finally{ue.p=x,$.T=v}}function Ld(i,a,l,c){if(jl){var v=Ud(c);if(v===null)Sd(i,a,c,e0,l),Bg(i,c);else if(N8(v,i,a,l,c))c.stopPropagation();else if(Bg(i,c),a&4&&-1<M8.indexOf(i)){for(;v!==null;){var x=Ea(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=Xi(x.pendingLanes);if(_!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var F=1<<31-In(_);M.entanglements[1]|=F,_&=~F}Sr(x),(ut&6)===0&&(Ul=hn()+500,ms(0))}}break;case 31:case 13:M=ji(x,2),M!==null&&Cn(M,x,2),Bl(),Dd(x,2)}if(x=Ud(c),x===null&&Sd(i,a,c,e0,l),x===v)break;v=x}v!==null&&c.stopPropagation()}else Sd(i,a,c,null,l)}}function Ud(i){return i=Bu(i),Od(i)}var e0=null;function Od(i){if(e0=null,i=Aa(i),i!==null){var a=s(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=d(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return e0=i,null}function Og(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cu()){case $h:return 2;case Yh:return 8;case Vs:case g6:return 32;case Jh:return 268435456;default:return 32}default:return 32}}var Bd=!1,Ei=null,Ci=null,ki=null,Ss=new Map,ws=new Map,zi=[],M8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bg(i,a){switch(i){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Ss.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(a.pointerId)}}function Ts(i,a,l,c,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:x,targetContainers:[v]},a!==null&&(a=Ea(a),a!==null&&Lg(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function N8(i,a,l,c,v){switch(a){case"focusin":return Ei=Ts(Ei,i,a,l,c,v),!0;case"dragenter":return Ci=Ts(Ci,i,a,l,c,v),!0;case"mouseover":return ki=Ts(ki,i,a,l,c,v),!0;case"pointerover":var x=v.pointerId;return Ss.set(x,Ts(Ss.get(x)||null,i,a,l,c,v)),!0;case"gotpointercapture":return x=v.pointerId,ws.set(x,Ts(ws.get(x)||null,i,a,l,c,v)),!0}return!1}function Pg(i){var a=Aa(i.target);if(a!==null){var l=s(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,jh(i.priority,function(){Ug(l)});return}}else if(a===31){if(a=d(l),a!==null){i.blockedOn=a,jh(i.priority,function(){Ug(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function t0(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Ud(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Ou=c,l.target.dispatchEvent(c),Ou=null}else return a=Ea(l),a!==null&&Lg(a),i.blockedOn=l,!1;a.shift()}return!0}function qg(i,a,l){t0(i)&&l.delete(a)}function R8(){Bd=!1,Ei!==null&&t0(Ei)&&(Ei=null),Ci!==null&&t0(Ci)&&(Ci=null),ki!==null&&t0(ki)&&(ki=null),Ss.forEach(qg),ws.forEach(qg)}function n0(i,a){i.blockedOn===a&&(i.blockedOn=null,Bd||(Bd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,R8)))}var r0=null;function Hg(i){r0!==i&&(r0=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){r0===i&&(r0=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],v=i[a+2];if(typeof c!="function"){if(Od(c||l)===null)continue;break}var x=Ea(l);x!==null&&(i.splice(a,3),a-=3,Uc(x,{pending:!0,data:v,method:l.method,action:c},c,v))}}))}function so(i){function a(F){return n0(F,i)}Ei!==null&&n0(Ei,i),Ci!==null&&n0(Ci,i),ki!==null&&n0(ki,i),Ss.forEach(a),ws.forEach(a);for(var l=0;l<zi.length;l++){var c=zi[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<zi.length&&(l=zi[0],l.blockedOn===null);)Pg(l),l.blockedOn===null&&zi.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var v=l[c],x=l[c+1],_=v[Sn]||null;if(typeof x=="function")_||Hg(l);else if(_){var M=null;if(x&&x.hasAttribute("formAction")){if(v=x,_=x[Sn]||null)M=_.formAction;else if(Od(v)!==null)continue}else M=_.action;typeof M=="function"?l[c+1]=M:(l.splice(c,3),c-=3),Hg(l)}}}function Gg(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(_){return v=_})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Pd(i){this._internalRoot=i}i0.prototype.render=Pd.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=qn();Ig(l,c,i,a,null,null)},i0.prototype.unmount=Pd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ig(i.current,2,null,i,null,null),Bl(),a[_a]=null}};function i0(i){this._internalRoot=i}i0.prototype.unstable_scheduleHydration=function(i){if(i){var a=Qh();i={blockedOn:null,target:i,priority:a};for(var l=0;l<zi.length&&a!==0&&a<zi[l].priority;l++);zi.splice(l,0,i),l===0&&Pg(i)}};var Vg=e.version;if(Vg!=="19.2.4")throw Error(r(527,Vg,"19.2.4"));ue.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var I8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a0.isDisabled&&a0.supportsFiber)try{Ro=a0.inject(I8),Rn=a0}catch{}}return As.createRoot=function(i,a){if(!o(i))throw Error(r(299));var l=!1,c="",v=Zp,x=Wp,_=Qp;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=Ng(i,1,!1,null,null,l,c,null,v,x,_,Gg),i[_a]=a.current,bd(i),new Pd(a)},As.hydrateRoot=function(i,a,l){if(!o(i))throw Error(r(299));var c=!1,v="",x=Zp,_=Wp,M=Qp,F=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(F=l.formState)),a=Ng(i,1,!0,a,l??null,c,v,F,x,_,M,Gg),a.context=Rg(null),l=a.current,c=qn(),c=zu(c),v=mi(c),v.callback=null,pi(l,v,c),l=c,a.current.lanes=l,Do(a,l),Sr(a),i[_a]=a.current,bd(i),new i0(a)},As.version="19.2.4",As}var jg;function V8(){if(jg)return Gd.exports;jg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gd.exports=G8(),Gd.exports}var v2=V8();class Gn{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Gn(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class ir{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new ir(n,Gn.range(this,e))}}class ye{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,o,s,u=n&&n.loc;if(u&&u.start<=u.end){var d=u.lexer.input;o=u.start,s=u.end,o===d.length?r+=" at end of input: ":r+=" at position "+(o+1)+": ";var f=d.slice(o,s).replace(/[^]/g,"$&"),h;o>15?h=""+d.slice(o-15,o):h=d.slice(0,o);var g;s+15<d.length?g=d.slice(s,s+15)+"":g=d.slice(s),r+=h+f+g}var y=new Error(r);return y.name="ParseError",y.__proto__=ye.prototype,y.position=o,o!=null&&s!=null&&(y.length=s-o),y.rawMessage=e,y}}ye.prototype.__proto__=Error.prototype;var F8=function(e,n){return e.indexOf(n)!==-1},$8=function(e,n){return e===void 0?n:e},Y8=/([A-Z])/g,J8=function(e){return e.replace(Y8,"-$1").toLowerCase()},X8={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},K8=/[&><"']/g;function Z8(t){return String(t).replace(K8,e=>X8[e])}var y2=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},W8=function(e){var n=y2(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Q8=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},j8=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Oe={contains:F8,deflt:$8,escape:Z8,hyphenate:J8,getBaseElem:y2,isCharacterBox:W8,protocolFromUrl:j8},Is={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function ex(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let rh=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Is)if(Is.hasOwnProperty(n)){var r=Is[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:ex(r)}}reportNonstrict(e,n,r){var o=this.strict;if(typeof o=="function"&&(o=o(e,n,r)),!(!o||o==="ignore")){if(o===!0||o==="error")throw new ye("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);o==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var o=this.strict;if(typeof o=="function")try{o=o(e,n,r)}catch{o="error"}return!o||o==="ignore"?!1:o===!0||o==="error"?!0:o==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Oe.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}};class Ni{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return wr[tx[this.id]]}sub(){return wr[nx[this.id]]}fracNum(){return wr[rx[this.id]]}fracDen(){return wr[ix[this.id]]}cramp(){return wr[ax[this.id]]}text(){return wr[ox[this.id]]}isTight(){return this.size>=2}}var ih=0,L0=1,vo=2,Wr=3,Ls=4,rr=5,So=6,yn=7,wr=[new Ni(ih,0,!1),new Ni(L0,0,!0),new Ni(vo,1,!1),new Ni(Wr,1,!0),new Ni(Ls,2,!1),new Ni(rr,2,!0),new Ni(So,3,!1),new Ni(yn,3,!0)],tx=[Ls,rr,Ls,rr,So,yn,So,yn],nx=[rr,rr,rr,rr,yn,yn,yn,yn],rx=[vo,Wr,Ls,rr,So,yn,So,yn],ix=[Wr,Wr,rr,rr,yn,yn,yn,yn],ax=[L0,L0,Wr,Wr,rr,rr,yn,yn],ox=[ih,L0,vo,Wr,vo,Wr,vo,Wr],qe={DISPLAY:wr[ih],TEXT:wr[vo],SCRIPT:wr[Ls],SCRIPTSCRIPT:wr[So]},bf=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function sx(t){for(var e=0;e<bf.length;e++)for(var n=bf[e],r=0;r<n.blocks.length;r++){var o=n.blocks[r];if(t>=o[0]&&t<=o[1])return n.name}return null}var z0=[];bf.forEach(t=>t.blocks.forEach(e=>z0.push(...e)));function x2(t){for(var e=0;e<z0.length;e+=2)if(t>=z0[e]&&t<=z0[e+1])return!0;return!1}var lo=80,lx=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},ux=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},cx=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},dx=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},fx=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},hx=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},mx=function(e,n,r){var o=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+o+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},px=function(e,n,r){n=1e3*n;var o="";switch(e){case"sqrtMain":o=lx(n,lo);break;case"sqrtSize1":o=ux(n,lo);break;case"sqrtSize2":o=cx(n,lo);break;case"sqrtSize3":o=dx(n,lo);break;case"sqrtSize4":o=fx(n,lo);break;case"sqrtTall":o=mx(n,lo,r)}return o},gx=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},ev={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},vx=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class qs{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Oe.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var _r={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},s0={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},tv={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function b2(t,e){_r[t]=e}function ah(t,e,n){if(!_r[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),o=_r[e][r];if(!o&&t[0]in tv&&(r=tv[t[0]].charCodeAt(0),o=_r[e][r]),!o&&n==="text"&&x2(r)&&(o=_r[e][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var Yd={};function yx(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Yd[e]){var n=Yd[e]={cssEmPerMu:s0.quad[e]/18};for(var r in s0)s0.hasOwnProperty(r)&&(n[r]=s0[r][e])}return Yd[e]}var xx=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],nv=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],rv=function(e,n){return n.size<2?e:xx[e-1][n.size-1]};class Kr{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Kr.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=nv[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Kr(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:rv(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:nv[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=rv(Kr.BASESIZE,e);return this.size===n&&this.textSize===Kr.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Kr.BASESIZE?["sizing","reset-size"+this.size,"size"+Kr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=yx(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Kr.BASESIZE=6;var Sf={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},bx={ex:!0,em:!0,mu:!0},S2=function(e){return typeof e!="string"&&(e=e.unit),e in Sf||e in bx||e==="ex"},kt=function(e,n){var r;if(e.unit in Sf)r=Sf[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var o;if(n.style.isTight()?o=n.havingStyle(n.style.text()):o=n,e.unit==="ex")r=o.fontMetrics().xHeight;else if(e.unit==="em")r=o.fontMetrics().quad;else throw new ye("Invalid unit: '"+e.unit+"'");o!==n&&(r*=o.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Se=function(e){return+e.toFixed(4)+"em"},Pi=function(e){return e.filter(n=>n).join(" ")},w2=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var o=n.getColor();o&&(this.style.color=o)}},T2=function(e){var n=document.createElement(e);n.className=Pi(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&n.setAttribute(o,this.attributes[o]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},Sx=/[\s"'>/=\x00-\x1f]/,_2=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Oe.escape(Pi(this.classes))+'"');var r="";for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=Oe.hyphenate(o)+":"+this.style[o]+";");r&&(n+=' style="'+Oe.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Sx.test(s))throw new ye("Invalid attribute name '"+s+"'");n+=" "+s+'="'+Oe.escape(this.attributes[s])+'"'}n+=">";for(var u=0;u<this.children.length;u++)n+=this.children[u].toMarkup();return n+="</"+e+">",n};class Hs{constructor(e,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,w2.call(this,e,r,o),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Oe.contains(this.classes,e)}toNode(){return T2.call(this,"span")}toMarkup(){return _2.call(this,"span")}}class oh{constructor(e,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,w2.call(this,n,o),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Oe.contains(this.classes,e)}toNode(){return T2.call(this,"a")}toMarkup(){return _2.call(this,"a")}}class wx{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Oe.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Oe.escape(this.src)+'"'+(' alt="'+Oe.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Oe.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Oe.escape(n)+'"'),e+="'/>",e}}var Tx={:"",:"",:"",:""};class or{constructor(e,n,r,o,s,u,d,f){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=o||0,this.skew=s||0,this.width=u||0,this.classes=d||[],this.style=f||{},this.maxFontSize=0;var h=sx(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=Tx[this.text])}hasClass(e){return Oe.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Se(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Pi(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Oe.escape(Pi(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=Oe.hyphenate(o)+":"+this.style[o]+";");r&&(e=!0,n+=' style="'+Oe.escape(r)+'"');var s=Oe.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class jr{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Oe.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class qi{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",ev[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Oe.escape(this.alternate)+'"/>':'<path d="'+Oe.escape(ev[this.pathName])+'"/>'}}class wf{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Oe.escape(this.attributes[n])+'"');return e+="/>",e}}function iv(t){if(t instanceof or)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function _x(t){if(t instanceof Hs)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Ax={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ex={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},bt={math:{},text:{}};function S(t,e,n,r,o,s){bt[t][o]={font:e,group:n,replace:r},s&&r&&(bt[t][r]=bt[t][o])}var T="math",ge="text",C="main",P="ams",At="accent-token",Ee="bin",bn="close",wo="inner",Pe="mathord",Vt="op-token",Yn="open",ru="punct",H="rel",ri="spacing",J="textord";S(T,C,H,"","\\equiv",!0);S(T,C,H,"","\\prec",!0);S(T,C,H,"","\\succ",!0);S(T,C,H,"","\\sim",!0);S(T,C,H,"","\\perp");S(T,C,H,"","\\preceq",!0);S(T,C,H,"","\\succeq",!0);S(T,C,H,"","\\simeq",!0);S(T,C,H,"","\\mid",!0);S(T,C,H,"","\\ll",!0);S(T,C,H,"","\\gg",!0);S(T,C,H,"","\\asymp",!0);S(T,C,H,"","\\parallel");S(T,C,H,"","\\bowtie",!0);S(T,C,H,"","\\smile",!0);S(T,C,H,"","\\sqsubseteq",!0);S(T,C,H,"","\\sqsupseteq",!0);S(T,C,H,"","\\doteq",!0);S(T,C,H,"","\\frown",!0);S(T,C,H,"","\\ni",!0);S(T,C,H,"","\\propto",!0);S(T,C,H,"","\\vdash",!0);S(T,C,H,"","\\dashv",!0);S(T,C,H,"","\\owns");S(T,C,ru,".","\\ldotp");S(T,C,ru,"","\\cdotp");S(T,C,J,"#","\\#");S(ge,C,J,"#","\\#");S(T,C,J,"&","\\&");S(ge,C,J,"&","\\&");S(T,C,J,"","\\aleph",!0);S(T,C,J,"","\\forall",!0);S(T,C,J,"","\\hbar",!0);S(T,C,J,"","\\exists",!0);S(T,C,J,"","\\nabla",!0);S(T,C,J,"","\\flat",!0);S(T,C,J,"","\\ell",!0);S(T,C,J,"","\\natural",!0);S(T,C,J,"","\\clubsuit",!0);S(T,C,J,"","\\wp",!0);S(T,C,J,"","\\sharp",!0);S(T,C,J,"","\\diamondsuit",!0);S(T,C,J,"","\\Re",!0);S(T,C,J,"","\\heartsuit",!0);S(T,C,J,"","\\Im",!0);S(T,C,J,"","\\spadesuit",!0);S(T,C,J,"","\\S",!0);S(ge,C,J,"","\\S");S(T,C,J,"","\\P",!0);S(ge,C,J,"","\\P");S(T,C,J,"","\\dag");S(ge,C,J,"","\\dag");S(ge,C,J,"","\\textdagger");S(T,C,J,"","\\ddag");S(ge,C,J,"","\\ddag");S(ge,C,J,"","\\textdaggerdbl");S(T,C,bn,"","\\rmoustache",!0);S(T,C,Yn,"","\\lmoustache",!0);S(T,C,bn,"","\\rgroup",!0);S(T,C,Yn,"","\\lgroup",!0);S(T,C,Ee,"","\\mp",!0);S(T,C,Ee,"","\\ominus",!0);S(T,C,Ee,"","\\uplus",!0);S(T,C,Ee,"","\\sqcap",!0);S(T,C,Ee,"","\\ast");S(T,C,Ee,"","\\sqcup",!0);S(T,C,Ee,"","\\bigcirc",!0);S(T,C,Ee,"","\\bullet",!0);S(T,C,Ee,"","\\ddagger");S(T,C,Ee,"","\\wr",!0);S(T,C,Ee,"","\\amalg");S(T,C,Ee,"&","\\And");S(T,C,H,"","\\longleftarrow",!0);S(T,C,H,"","\\Leftarrow",!0);S(T,C,H,"","\\Longleftarrow",!0);S(T,C,H,"","\\longrightarrow",!0);S(T,C,H,"","\\Rightarrow",!0);S(T,C,H,"","\\Longrightarrow",!0);S(T,C,H,"","\\leftrightarrow",!0);S(T,C,H,"","\\longleftrightarrow",!0);S(T,C,H,"","\\Leftrightarrow",!0);S(T,C,H,"","\\Longleftrightarrow",!0);S(T,C,H,"","\\mapsto",!0);S(T,C,H,"","\\longmapsto",!0);S(T,C,H,"","\\nearrow",!0);S(T,C,H,"","\\hookleftarrow",!0);S(T,C,H,"","\\hookrightarrow",!0);S(T,C,H,"","\\searrow",!0);S(T,C,H,"","\\leftharpoonup",!0);S(T,C,H,"","\\rightharpoonup",!0);S(T,C,H,"","\\swarrow",!0);S(T,C,H,"","\\leftharpoondown",!0);S(T,C,H,"","\\rightharpoondown",!0);S(T,C,H,"","\\nwarrow",!0);S(T,C,H,"","\\rightleftharpoons",!0);S(T,P,H,"","\\nless",!0);S(T,P,H,"","\\@nleqslant");S(T,P,H,"","\\@nleqq");S(T,P,H,"","\\lneq",!0);S(T,P,H,"","\\lneqq",!0);S(T,P,H,"","\\@lvertneqq");S(T,P,H,"","\\lnsim",!0);S(T,P,H,"","\\lnapprox",!0);S(T,P,H,"","\\nprec",!0);S(T,P,H,"","\\npreceq",!0);S(T,P,H,"","\\precnsim",!0);S(T,P,H,"","\\precnapprox",!0);S(T,P,H,"","\\nsim",!0);S(T,P,H,"","\\@nshortmid");S(T,P,H,"","\\nmid",!0);S(T,P,H,"","\\nvdash",!0);S(T,P,H,"","\\nvDash",!0);S(T,P,H,"","\\ntriangleleft");S(T,P,H,"","\\ntrianglelefteq",!0);S(T,P,H,"","\\subsetneq",!0);S(T,P,H,"","\\@varsubsetneq");S(T,P,H,"","\\subsetneqq",!0);S(T,P,H,"","\\@varsubsetneqq");S(T,P,H,"","\\ngtr",!0);S(T,P,H,"","\\@ngeqslant");S(T,P,H,"","\\@ngeqq");S(T,P,H,"","\\gneq",!0);S(T,P,H,"","\\gneqq",!0);S(T,P,H,"","\\@gvertneqq");S(T,P,H,"","\\gnsim",!0);S(T,P,H,"","\\gnapprox",!0);S(T,P,H,"","\\nsucc",!0);S(T,P,H,"","\\nsucceq",!0);S(T,P,H,"","\\succnsim",!0);S(T,P,H,"","\\succnapprox",!0);S(T,P,H,"","\\ncong",!0);S(T,P,H,"","\\@nshortparallel");S(T,P,H,"","\\nparallel",!0);S(T,P,H,"","\\nVDash",!0);S(T,P,H,"","\\ntriangleright");S(T,P,H,"","\\ntrianglerighteq",!0);S(T,P,H,"","\\@nsupseteqq");S(T,P,H,"","\\supsetneq",!0);S(T,P,H,"","\\@varsupsetneq");S(T,P,H,"","\\supsetneqq",!0);S(T,P,H,"","\\@varsupsetneqq");S(T,P,H,"","\\nVdash",!0);S(T,P,H,"","\\precneqq",!0);S(T,P,H,"","\\succneqq",!0);S(T,P,H,"","\\@nsubseteqq");S(T,P,Ee,"","\\unlhd");S(T,P,Ee,"","\\unrhd");S(T,P,H,"","\\nleftarrow",!0);S(T,P,H,"","\\nrightarrow",!0);S(T,P,H,"","\\nLeftarrow",!0);S(T,P,H,"","\\nRightarrow",!0);S(T,P,H,"","\\nleftrightarrow",!0);S(T,P,H,"","\\nLeftrightarrow",!0);S(T,P,H,"","\\vartriangle");S(T,P,J,"","\\hslash");S(T,P,J,"","\\triangledown");S(T,P,J,"","\\lozenge");S(T,P,J,"","\\circledS");S(T,P,J,"","\\circledR");S(ge,P,J,"","\\circledR");S(T,P,J,"","\\measuredangle",!0);S(T,P,J,"","\\nexists");S(T,P,J,"","\\mho");S(T,P,J,"","\\Finv",!0);S(T,P,J,"","\\Game",!0);S(T,P,J,"","\\backprime");S(T,P,J,"","\\blacktriangle");S(T,P,J,"","\\blacktriangledown");S(T,P,J,"","\\blacksquare");S(T,P,J,"","\\blacklozenge");S(T,P,J,"","\\bigstar");S(T,P,J,"","\\sphericalangle",!0);S(T,P,J,"","\\complement",!0);S(T,P,J,"","\\eth",!0);S(ge,C,J,"","");S(T,P,J,"","\\diagup");S(T,P,J,"","\\diagdown");S(T,P,J,"","\\square");S(T,P,J,"","\\Box");S(T,P,J,"","\\Diamond");S(T,P,J,"","\\yen",!0);S(ge,P,J,"","\\yen",!0);S(T,P,J,"","\\checkmark",!0);S(ge,P,J,"","\\checkmark");S(T,P,J,"","\\beth",!0);S(T,P,J,"","\\daleth",!0);S(T,P,J,"","\\gimel",!0);S(T,P,J,"","\\digamma",!0);S(T,P,J,"","\\varkappa");S(T,P,Yn,"","\\@ulcorner",!0);S(T,P,bn,"","\\@urcorner",!0);S(T,P,Yn,"","\\@llcorner",!0);S(T,P,bn,"","\\@lrcorner",!0);S(T,P,H,"","\\leqq",!0);S(T,P,H,"","\\leqslant",!0);S(T,P,H,"","\\eqslantless",!0);S(T,P,H,"","\\lesssim",!0);S(T,P,H,"","\\lessapprox",!0);S(T,P,H,"","\\approxeq",!0);S(T,P,Ee,"","\\lessdot");S(T,P,H,"","\\lll",!0);S(T,P,H,"","\\lessgtr",!0);S(T,P,H,"","\\lesseqgtr",!0);S(T,P,H,"","\\lesseqqgtr",!0);S(T,P,H,"","\\doteqdot");S(T,P,H,"","\\risingdotseq",!0);S(T,P,H,"","\\fallingdotseq",!0);S(T,P,H,"","\\backsim",!0);S(T,P,H,"","\\backsimeq",!0);S(T,P,H,"","\\subseteqq",!0);S(T,P,H,"","\\Subset",!0);S(T,P,H,"","\\sqsubset",!0);S(T,P,H,"","\\preccurlyeq",!0);S(T,P,H,"","\\curlyeqprec",!0);S(T,P,H,"","\\precsim",!0);S(T,P,H,"","\\precapprox",!0);S(T,P,H,"","\\vartriangleleft");S(T,P,H,"","\\trianglelefteq");S(T,P,H,"","\\vDash",!0);S(T,P,H,"","\\Vvdash",!0);S(T,P,H,"","\\smallsmile");S(T,P,H,"","\\smallfrown");S(T,P,H,"","\\bumpeq",!0);S(T,P,H,"","\\Bumpeq",!0);S(T,P,H,"","\\geqq",!0);S(T,P,H,"","\\geqslant",!0);S(T,P,H,"","\\eqslantgtr",!0);S(T,P,H,"","\\gtrsim",!0);S(T,P,H,"","\\gtrapprox",!0);S(T,P,Ee,"","\\gtrdot");S(T,P,H,"","\\ggg",!0);S(T,P,H,"","\\gtrless",!0);S(T,P,H,"","\\gtreqless",!0);S(T,P,H,"","\\gtreqqless",!0);S(T,P,H,"","\\eqcirc",!0);S(T,P,H,"","\\circeq",!0);S(T,P,H,"","\\triangleq",!0);S(T,P,H,"","\\thicksim");S(T,P,H,"","\\thickapprox");S(T,P,H,"","\\supseteqq",!0);S(T,P,H,"","\\Supset",!0);S(T,P,H,"","\\sqsupset",!0);S(T,P,H,"","\\succcurlyeq",!0);S(T,P,H,"","\\curlyeqsucc",!0);S(T,P,H,"","\\succsim",!0);S(T,P,H,"","\\succapprox",!0);S(T,P,H,"","\\vartriangleright");S(T,P,H,"","\\trianglerighteq");S(T,P,H,"","\\Vdash",!0);S(T,P,H,"","\\shortmid");S(T,P,H,"","\\shortparallel");S(T,P,H,"","\\between",!0);S(T,P,H,"","\\pitchfork",!0);S(T,P,H,"","\\varpropto");S(T,P,H,"","\\blacktriangleleft");S(T,P,H,"","\\therefore",!0);S(T,P,H,"","\\backepsilon");S(T,P,H,"","\\blacktriangleright");S(T,P,H,"","\\because",!0);S(T,P,H,"","\\llless");S(T,P,H,"","\\gggtr");S(T,P,Ee,"","\\lhd");S(T,P,Ee,"","\\rhd");S(T,P,H,"","\\eqsim",!0);S(T,C,H,"","\\Join");S(T,P,H,"","\\Doteq",!0);S(T,P,Ee,"","\\dotplus",!0);S(T,P,Ee,"","\\smallsetminus");S(T,P,Ee,"","\\Cap",!0);S(T,P,Ee,"","\\Cup",!0);S(T,P,Ee,"","\\doublebarwedge",!0);S(T,P,Ee,"","\\boxminus",!0);S(T,P,Ee,"","\\boxplus",!0);S(T,P,Ee,"","\\divideontimes",!0);S(T,P,Ee,"","\\ltimes",!0);S(T,P,Ee,"","\\rtimes",!0);S(T,P,Ee,"","\\leftthreetimes",!0);S(T,P,Ee,"","\\rightthreetimes",!0);S(T,P,Ee,"","\\curlywedge",!0);S(T,P,Ee,"","\\curlyvee",!0);S(T,P,Ee,"","\\circleddash",!0);S(T,P,Ee,"","\\circledast",!0);S(T,P,Ee,"","\\centerdot");S(T,P,Ee,"","\\intercal",!0);S(T,P,Ee,"","\\doublecap");S(T,P,Ee,"","\\doublecup");S(T,P,Ee,"","\\boxtimes",!0);S(T,P,H,"","\\dashrightarrow",!0);S(T,P,H,"","\\dashleftarrow",!0);S(T,P,H,"","\\leftleftarrows",!0);S(T,P,H,"","\\leftrightarrows",!0);S(T,P,H,"","\\Lleftarrow",!0);S(T,P,H,"","\\twoheadleftarrow",!0);S(T,P,H,"","\\leftarrowtail",!0);S(T,P,H,"","\\looparrowleft",!0);S(T,P,H,"","\\leftrightharpoons",!0);S(T,P,H,"","\\curvearrowleft",!0);S(T,P,H,"","\\circlearrowleft",!0);S(T,P,H,"","\\Lsh",!0);S(T,P,H,"","\\upuparrows",!0);S(T,P,H,"","\\upharpoonleft",!0);S(T,P,H,"","\\downharpoonleft",!0);S(T,C,H,"","\\origof",!0);S(T,C,H,"","\\imageof",!0);S(T,P,H,"","\\multimap",!0);S(T,P,H,"","\\leftrightsquigarrow",!0);S(T,P,H,"","\\rightrightarrows",!0);S(T,P,H,"","\\rightleftarrows",!0);S(T,P,H,"","\\twoheadrightarrow",!0);S(T,P,H,"","\\rightarrowtail",!0);S(T,P,H,"","\\looparrowright",!0);S(T,P,H,"","\\curvearrowright",!0);S(T,P,H,"","\\circlearrowright",!0);S(T,P,H,"","\\Rsh",!0);S(T,P,H,"","\\downdownarrows",!0);S(T,P,H,"","\\upharpoonright",!0);S(T,P,H,"","\\downharpoonright",!0);S(T,P,H,"","\\rightsquigarrow",!0);S(T,P,H,"","\\leadsto");S(T,P,H,"","\\Rrightarrow",!0);S(T,P,H,"","\\restriction");S(T,C,J,"","`");S(T,C,J,"$","\\$");S(ge,C,J,"$","\\$");S(ge,C,J,"$","\\textdollar");S(T,C,J,"%","\\%");S(ge,C,J,"%","\\%");S(T,C,J,"_","\\_");S(ge,C,J,"_","\\_");S(ge,C,J,"_","\\textunderscore");S(T,C,J,"","\\angle",!0);S(T,C,J,"","\\infty",!0);S(T,C,J,"","\\prime");S(T,C,J,"","\\triangle");S(T,C,J,"","\\Gamma",!0);S(T,C,J,"","\\Delta",!0);S(T,C,J,"","\\Theta",!0);S(T,C,J,"","\\Lambda",!0);S(T,C,J,"","\\Xi",!0);S(T,C,J,"","\\Pi",!0);S(T,C,J,"","\\Sigma",!0);S(T,C,J,"","\\Upsilon",!0);S(T,C,J,"","\\Phi",!0);S(T,C,J,"","\\Psi",!0);S(T,C,J,"","\\Omega",!0);S(T,C,J,"A","");S(T,C,J,"B","");S(T,C,J,"E","");S(T,C,J,"Z","");S(T,C,J,"H","");S(T,C,J,"I","");S(T,C,J,"K","");S(T,C,J,"M","");S(T,C,J,"N","");S(T,C,J,"O","");S(T,C,J,"P","");S(T,C,J,"T","");S(T,C,J,"X","");S(T,C,J,"","\\neg",!0);S(T,C,J,"","\\lnot");S(T,C,J,"","\\top");S(T,C,J,"","\\bot");S(T,C,J,"","\\emptyset");S(T,P,J,"","\\varnothing");S(T,C,Pe,"","\\alpha",!0);S(T,C,Pe,"","\\beta",!0);S(T,C,Pe,"","\\gamma",!0);S(T,C,Pe,"","\\delta",!0);S(T,C,Pe,"","\\epsilon",!0);S(T,C,Pe,"","\\zeta",!0);S(T,C,Pe,"","\\eta",!0);S(T,C,Pe,"","\\theta",!0);S(T,C,Pe,"","\\iota",!0);S(T,C,Pe,"","\\kappa",!0);S(T,C,Pe,"","\\lambda",!0);S(T,C,Pe,"","\\mu",!0);S(T,C,Pe,"","\\nu",!0);S(T,C,Pe,"","\\xi",!0);S(T,C,Pe,"","\\omicron",!0);S(T,C,Pe,"","\\pi",!0);S(T,C,Pe,"","\\rho",!0);S(T,C,Pe,"","\\sigma",!0);S(T,C,Pe,"","\\tau",!0);S(T,C,Pe,"","\\upsilon",!0);S(T,C,Pe,"","\\phi",!0);S(T,C,Pe,"","\\chi",!0);S(T,C,Pe,"","\\psi",!0);S(T,C,Pe,"","\\omega",!0);S(T,C,Pe,"","\\varepsilon",!0);S(T,C,Pe,"","\\vartheta",!0);S(T,C,Pe,"","\\varpi",!0);S(T,C,Pe,"","\\varrho",!0);S(T,C,Pe,"","\\varsigma",!0);S(T,C,Pe,"","\\varphi",!0);S(T,C,Ee,"","*",!0);S(T,C,Ee,"+","+");S(T,C,Ee,"","-",!0);S(T,C,Ee,"","\\cdot",!0);S(T,C,Ee,"","\\circ",!0);S(T,C,Ee,"","\\div",!0);S(T,C,Ee,"","\\pm",!0);S(T,C,Ee,"","\\times",!0);S(T,C,Ee,"","\\cap",!0);S(T,C,Ee,"","\\cup",!0);S(T,C,Ee,"","\\setminus",!0);S(T,C,Ee,"","\\land");S(T,C,Ee,"","\\lor");S(T,C,Ee,"","\\wedge",!0);S(T,C,Ee,"","\\vee",!0);S(T,C,J,"","\\surd");S(T,C,Yn,"","\\langle",!0);S(T,C,Yn,"","\\lvert");S(T,C,Yn,"","\\lVert");S(T,C,bn,"?","?");S(T,C,bn,"!","!");S(T,C,bn,"","\\rangle",!0);S(T,C,bn,"","\\rvert");S(T,C,bn,"","\\rVert");S(T,C,H,"=","=");S(T,C,H,":",":");S(T,C,H,"","\\approx",!0);S(T,C,H,"","\\cong",!0);S(T,C,H,"","\\ge");S(T,C,H,"","\\geq",!0);S(T,C,H,"","\\gets");S(T,C,H,">","\\gt",!0);S(T,C,H,"","\\in",!0);S(T,C,H,"","\\@not");S(T,C,H,"","\\subset",!0);S(T,C,H,"","\\supset",!0);S(T,C,H,"","\\subseteq",!0);S(T,C,H,"","\\supseteq",!0);S(T,P,H,"","\\nsubseteq",!0);S(T,P,H,"","\\nsupseteq",!0);S(T,C,H,"","\\models");S(T,C,H,"","\\leftarrow",!0);S(T,C,H,"","\\le");S(T,C,H,"","\\leq",!0);S(T,C,H,"<","\\lt",!0);S(T,C,H,"","\\rightarrow",!0);S(T,C,H,"","\\to");S(T,P,H,"","\\ngeq",!0);S(T,P,H,"","\\nleq",!0);S(T,C,ri,"","\\ ");S(T,C,ri,"","\\space");S(T,C,ri,"","\\nobreakspace");S(ge,C,ri,"","\\ ");S(ge,C,ri,""," ");S(ge,C,ri,"","\\space");S(ge,C,ri,"","\\nobreakspace");S(T,C,ri,null,"\\nobreak");S(T,C,ri,null,"\\allowbreak");S(T,C,ru,",",",");S(T,C,ru,";",";");S(T,P,Ee,"","\\barwedge",!0);S(T,P,Ee,"","\\veebar",!0);S(T,C,Ee,"","\\odot",!0);S(T,C,Ee,"","\\oplus",!0);S(T,C,Ee,"","\\otimes",!0);S(T,C,J,"","\\partial",!0);S(T,C,Ee,"","\\oslash",!0);S(T,P,Ee,"","\\circledcirc",!0);S(T,P,Ee,"","\\boxdot",!0);S(T,C,Ee,"","\\bigtriangleup");S(T,C,Ee,"","\\bigtriangledown");S(T,C,Ee,"","\\dagger");S(T,C,Ee,"","\\diamond");S(T,C,Ee,"","\\star");S(T,C,Ee,"","\\triangleleft");S(T,C,Ee,"","\\triangleright");S(T,C,Yn,"{","\\{");S(ge,C,J,"{","\\{");S(ge,C,J,"{","\\textbraceleft");S(T,C,bn,"}","\\}");S(ge,C,J,"}","\\}");S(ge,C,J,"}","\\textbraceright");S(T,C,Yn,"{","\\lbrace");S(T,C,bn,"}","\\rbrace");S(T,C,Yn,"[","\\lbrack",!0);S(ge,C,J,"[","\\lbrack",!0);S(T,C,bn,"]","\\rbrack",!0);S(ge,C,J,"]","\\rbrack",!0);S(T,C,Yn,"(","\\lparen",!0);S(T,C,bn,")","\\rparen",!0);S(ge,C,J,"<","\\textless",!0);S(ge,C,J,">","\\textgreater",!0);S(T,C,Yn,"","\\lfloor",!0);S(T,C,bn,"","\\rfloor",!0);S(T,C,Yn,"","\\lceil",!0);S(T,C,bn,"","\\rceil",!0);S(T,C,J,"\\","\\backslash");S(T,C,J,"","|");S(T,C,J,"","\\vert");S(ge,C,J,"|","\\textbar",!0);S(T,C,J,"","\\|");S(T,C,J,"","\\Vert");S(ge,C,J,"","\\textbardbl");S(ge,C,J,"~","\\textasciitilde");S(ge,C,J,"\\","\\textbackslash");S(ge,C,J,"^","\\textasciicircum");S(T,C,H,"","\\uparrow",!0);S(T,C,H,"","\\Uparrow",!0);S(T,C,H,"","\\downarrow",!0);S(T,C,H,"","\\Downarrow",!0);S(T,C,H,"","\\updownarrow",!0);S(T,C,H,"","\\Updownarrow",!0);S(T,C,Vt,"","\\coprod");S(T,C,Vt,"","\\bigvee");S(T,C,Vt,"","\\bigwedge");S(T,C,Vt,"","\\biguplus");S(T,C,Vt,"","\\bigcap");S(T,C,Vt,"","\\bigcup");S(T,C,Vt,"","\\int");S(T,C,Vt,"","\\intop");S(T,C,Vt,"","\\iint");S(T,C,Vt,"","\\iiint");S(T,C,Vt,"","\\prod");S(T,C,Vt,"","\\sum");S(T,C,Vt,"","\\bigotimes");S(T,C,Vt,"","\\bigoplus");S(T,C,Vt,"","\\bigodot");S(T,C,Vt,"","\\oint");S(T,C,Vt,"","\\oiint");S(T,C,Vt,"","\\oiiint");S(T,C,Vt,"","\\bigsqcup");S(T,C,Vt,"","\\smallint");S(ge,C,wo,"","\\textellipsis");S(T,C,wo,"","\\mathellipsis");S(ge,C,wo,"","\\ldots",!0);S(T,C,wo,"","\\ldots",!0);S(T,C,wo,"","\\@cdots",!0);S(T,C,wo,"","\\ddots",!0);S(T,C,J,"","\\varvdots");S(ge,C,J,"","\\varvdots");S(T,C,At,"","\\acute");S(T,C,At,"","\\grave");S(T,C,At,"","\\ddot");S(T,C,At,"~","\\tilde");S(T,C,At,"","\\bar");S(T,C,At,"","\\breve");S(T,C,At,"","\\check");S(T,C,At,"^","\\hat");S(T,C,At,"","\\vec");S(T,C,At,"","\\dot");S(T,C,At,"","\\mathring");S(T,C,Pe,"","\\@imath");S(T,C,Pe,"","\\@jmath");S(T,C,J,"","");S(T,C,J,"","");S(ge,C,J,"","\\i",!0);S(ge,C,J,"","\\j",!0);S(ge,C,J,"","\\ss",!0);S(ge,C,J,"","\\ae",!0);S(ge,C,J,"","\\oe",!0);S(ge,C,J,"","\\o",!0);S(ge,C,J,"","\\AE",!0);S(ge,C,J,"","\\OE",!0);S(ge,C,J,"","\\O",!0);S(ge,C,At,"","\\'");S(ge,C,At,"","\\`");S(ge,C,At,"","\\^");S(ge,C,At,"","\\~");S(ge,C,At,"","\\=");S(ge,C,At,"","\\u");S(ge,C,At,"","\\.");S(ge,C,At,"","\\c");S(ge,C,At,"","\\r");S(ge,C,At,"","\\v");S(ge,C,At,"",'\\"');S(ge,C,At,"","\\H");S(ge,C,At,"","\\textcircled");var A2={"--":!0,"---":!0,"``":!0,"''":!0};S(ge,C,J,"","--",!0);S(ge,C,J,"","\\textendash");S(ge,C,J,"","---",!0);S(ge,C,J,"","\\textemdash");S(ge,C,J,"","`",!0);S(ge,C,J,"","\\textquoteleft");S(ge,C,J,"","'",!0);S(ge,C,J,"","\\textquoteright");S(ge,C,J,"","``",!0);S(ge,C,J,"","\\textquotedblleft");S(ge,C,J,"","''",!0);S(ge,C,J,"","\\textquotedblright");S(T,C,J,"","\\degree",!0);S(ge,C,J,"","\\degree");S(ge,C,J,"","\\textdegree",!0);S(T,C,J,"","\\pounds");S(T,C,J,"","\\mathsterling",!0);S(ge,C,J,"","\\pounds");S(ge,C,J,"","\\textsterling",!0);S(T,P,J,"","\\maltese");S(ge,P,J,"","\\maltese");var av='0123456789/@."';for(var Jd=0;Jd<av.length;Jd++){var ov=av.charAt(Jd);S(T,C,J,ov,ov)}var sv='0123456789!@*()-=+";:?/.,';for(var Xd=0;Xd<sv.length;Xd++){var lv=sv.charAt(Xd);S(ge,C,J,lv,lv)}var U0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Kd=0;Kd<U0.length;Kd++){var l0=U0.charAt(Kd);S(T,C,Pe,l0,l0),S(ge,C,J,l0,l0)}S(T,P,J,"C","");S(ge,P,J,"C","");S(T,P,J,"H","");S(ge,P,J,"H","");S(T,P,J,"N","");S(ge,P,J,"N","");S(T,P,J,"P","");S(ge,P,J,"P","");S(T,P,J,"Q","");S(ge,P,J,"Q","");S(T,P,J,"R","");S(ge,P,J,"R","");S(T,P,J,"Z","");S(ge,P,J,"Z","");S(T,C,Pe,"h","");S(ge,C,Pe,"h","");var Ge="";for(var pn=0;pn<U0.length;pn++){var Rt=U0.charAt(pn);Ge=String.fromCharCode(55349,56320+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),Ge=String.fromCharCode(55349,56372+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),Ge=String.fromCharCode(55349,56424+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),Ge=String.fromCharCode(55349,56580+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),Ge=String.fromCharCode(55349,56684+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),Ge=String.fromCharCode(55349,56736+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),Ge=String.fromCharCode(55349,56788+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),Ge=String.fromCharCode(55349,56840+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),Ge=String.fromCharCode(55349,56944+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),pn<26&&(Ge=String.fromCharCode(55349,56632+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge),Ge=String.fromCharCode(55349,56476+pn),S(T,C,Pe,Rt,Ge),S(ge,C,J,Rt,Ge))}Ge="";S(T,C,Pe,"k",Ge);S(ge,C,J,"k",Ge);for(var fa=0;fa<10;fa++){var Ri=fa.toString();Ge=String.fromCharCode(55349,57294+fa),S(T,C,Pe,Ri,Ge),S(ge,C,J,Ri,Ge),Ge=String.fromCharCode(55349,57314+fa),S(T,C,Pe,Ri,Ge),S(ge,C,J,Ri,Ge),Ge=String.fromCharCode(55349,57324+fa),S(T,C,Pe,Ri,Ge),S(ge,C,J,Ri,Ge),Ge=String.fromCharCode(55349,57334+fa),S(T,C,Pe,Ri,Ge),S(ge,C,J,Ri,Ge)}var Tf="";for(var Zd=0;Zd<Tf.length;Zd++){var u0=Tf.charAt(Zd);S(T,C,Pe,u0,u0),S(ge,C,J,u0,u0)}var c0=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],uv=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Cx=function(e,n){var r=e.charCodeAt(0),o=e.charCodeAt(1),s=(r-55296)*1024+(o-56320)+65536,u=n==="math"?0:1;if(119808<=s&&s<120484){var d=Math.floor((s-119808)/26);return[c0[d][2],c0[d][u]]}else if(120782<=s&&s<=120831){var f=Math.floor((s-120782)/10);return[uv[f][2],uv[f][u]]}else{if(s===120485||s===120486)return[c0[0][2],c0[0][u]];if(120486<s&&s<120782)return["",""];throw new ye("Unsupported character: "+e)}},iu=function(e,n,r){return bt[r][e]&&bt[r][e].replace&&(e=bt[r][e].replace),{value:e,metrics:ah(e,n,r)}},mr=function(e,n,r,o,s){var u=iu(e,n,r),d=u.metrics;e=u.value;var f;if(d){var h=d.italic;(r==="text"||o&&o.font==="mathit")&&(h=0),f=new or(e,d.height,d.depth,h,d.skew,d.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),f=new or(e,0,0,0,0,0,s);if(o){f.maxFontSize=o.sizeMultiplier,o.style.isTight()&&f.classes.push("mtight");var g=o.getColor();g&&(f.style.color=g)}return f},kx=function(e,n,r,o){return o===void 0&&(o=[]),r.font==="boldsymbol"&&iu(e,"Main-Bold",n).metrics?mr(e,"Main-Bold",n,r,o.concat(["mathbf"])):e==="\\"||bt[n][e].font==="main"?mr(e,"Main-Regular",n,r,o):mr(e,"AMS-Regular",n,r,o.concat(["amsrm"]))},zx=function(e,n,r,o,s){return s!=="textord"&&iu(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Mx=function(e,n,r){var o=e.mode,s=e.text,u=["mord"],d=o==="math"||o==="text"&&n.font,f=d?n.font:n.fontFamily,h="",g="";if(s.charCodeAt(0)===55349&&([h,g]=Cx(s,o)),h.length>0)return mr(s,h,o,n,u.concat(g));if(f){var y,b;if(f==="boldsymbol"){var w=zx(s,o,n,u,r);y=w.fontName,b=[w.fontClass]}else d?(y=k2[f].fontName,b=[f]):(y=d0(f,n.fontWeight,n.fontShape),b=[f,n.fontWeight,n.fontShape]);if(iu(s,y,o).metrics)return mr(s,y,o,n,u.concat(b));if(A2.hasOwnProperty(s)&&y.slice(0,10)==="Typewriter"){for(var k=[],E=0;E<s.length;E++)k.push(mr(s[E],y,o,n,u.concat(b)));return C2(k)}}if(r==="mathord")return mr(s,"Math-Italic",o,n,u.concat(["mathnormal"]));if(r==="textord"){var z=bt[o][s]&&bt[o][s].font;if(z==="ams"){var I=d0("amsrm",n.fontWeight,n.fontShape);return mr(s,I,o,n,u.concat("amsrm",n.fontWeight,n.fontShape))}else if(z==="main"||!z){var U=d0("textrm",n.fontWeight,n.fontShape);return mr(s,U,o,n,u.concat(n.fontWeight,n.fontShape))}else{var q=d0(z,n.fontWeight,n.fontShape);return mr(s,q,o,n,u.concat(q,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Nx=(t,e)=>{if(Pi(t.classes)!==Pi(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var o in e.style)if(e.style.hasOwnProperty(o)&&t.style[o]!==e.style[o])return!1;return!0},Rx=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof or&&r instanceof or&&Nx(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},sh=function(e){for(var n=0,r=0,o=0,s=0;s<e.children.length;s++){var u=e.children[s];u.height>n&&(n=u.height),u.depth>r&&(r=u.depth),u.maxFontSize>o&&(o=u.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=o},kn=function(e,n,r,o){var s=new Hs(e,n,r,o);return sh(s),s},E2=(t,e,n,r)=>new Hs(t,e,n,r),Ix=function(e,n,r){var o=kn([e],[],n);return o.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),o.style.borderBottomWidth=Se(o.height),o.maxFontSize=1,o},Dx=function(e,n,r,o){var s=new oh(e,n,r,o);return sh(s),s},C2=function(e){var n=new qs(e);return sh(n),n},Lx=function(e,n){return e instanceof qs?kn([],[e],n):e},Ux=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],o=-n[0].shift-n[0].elem.depth,s=o,u=1;u<n.length;u++){var d=-n[u].shift-s-n[u].elem.depth,f=d-(n[u-1].elem.height+n[u-1].elem.depth);s=s+d,r.push({type:"kern",size:f}),r.push(n[u])}return{children:r,depth:o}}var h;if(e.positionType==="top"){for(var g=e.positionData,y=0;y<e.children.length;y++){var b=e.children[y];g-=b.type==="kern"?b.size:b.elem.height+b.elem.depth}h=g}else if(e.positionType==="bottom")h=-e.positionData;else{var w=e.children[0];if(w.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-w.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-w.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},Ox=function(e,n){for(var{children:r,depth:o}=Ux(e),s=0,u=0;u<r.length;u++){var d=r[u];if(d.type==="elem"){var f=d.elem;s=Math.max(s,f.maxFontSize,f.height)}}s+=2;var h=kn(["pstrut"],[]);h.style.height=Se(s);for(var g=[],y=o,b=o,w=o,k=0;k<r.length;k++){var E=r[k];if(E.type==="kern")w+=E.size;else{var z=E.elem,I=E.wrapperClasses||[],U=E.wrapperStyle||{},q=kn(I,[h,z],void 0,U);q.style.top=Se(-s-w-z.depth),E.marginLeft&&(q.style.marginLeft=E.marginLeft),E.marginRight&&(q.style.marginRight=E.marginRight),g.push(q),w+=z.height+z.depth}y=Math.min(y,w),b=Math.max(b,w)}var D=kn(["vlist"],g);D.style.height=Se(b);var O;if(y<0){var G=kn([],[]),R=kn(["vlist"],[G]);R.style.height=Se(-y);var L=kn(["vlist-s"],[new or("")]);O=[kn(["vlist-r"],[D,L]),kn(["vlist-r"],[R])]}else O=[kn(["vlist-r"],[D])];var V=kn(["vlist-t"],O);return O.length===2&&V.classes.push("vlist-t2"),V.height=b,V.depth=-y,V},Bx=(t,e)=>{var n=kn(["mspace"],[],e),r=kt(t,e);return n.style.marginRight=Se(r),n},d0=function(e,n,r){var o="";switch(e){case"amsrm":o="AMS";break;case"textrm":o="Main";break;case"textsf":o="SansSerif";break;case"texttt":o="Typewriter";break;default:o=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",o+"-"+s},k2={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},z2={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Px=function(e,n){var[r,o,s]=z2[e],u=new qi(r),d=new jr([u],{width:Se(o),height:Se(s),style:"width:"+Se(o),viewBox:"0 0 "+1e3*o+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),f=E2(["overlay"],[d],n);return f.height=s,f.style.height=Se(s),f.style.width=Se(o),f},ne={fontMap:k2,makeSymbol:mr,mathsym:kx,makeSpan:kn,makeSvgSpan:E2,makeLineSpan:Ix,makeAnchor:Dx,makeFragment:C2,wrapFragment:Lx,makeVList:Ox,makeOrd:Mx,makeGlue:Bx,staticSvg:Px,svgData:z2,tryCombineChars:Rx},Ct={number:3,unit:"mu"},ha={number:4,unit:"mu"},Jr={number:5,unit:"mu"},qx={mord:{mop:Ct,mbin:ha,mrel:Jr,minner:Ct},mop:{mord:Ct,mop:Ct,mrel:Jr,minner:Ct},mbin:{mord:ha,mop:ha,mopen:ha,minner:ha},mrel:{mord:Jr,mop:Jr,mopen:Jr,minner:Jr},mopen:{},mclose:{mop:Ct,mbin:ha,mrel:Jr,minner:Ct},mpunct:{mord:Ct,mop:Ct,mrel:Jr,mopen:Ct,mclose:Ct,mpunct:Ct,minner:Ct},minner:{mord:Ct,mop:Ct,mbin:ha,mrel:Jr,mopen:Ct,mpunct:Ct,minner:Ct}},Hx={mord:{mop:Ct},mop:{mord:Ct,mop:Ct},mbin:{},mrel:{},mopen:{},mclose:{mop:Ct},mpunct:{},minner:{mop:Ct}},M2={},O0={},B0={};function _e(t){for(var{type:e,names:n,props:r,handler:o,htmlBuilder:s,mathmlBuilder:u}=t,d={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:o},f=0;f<n.length;++f)M2[n[f]]=d;e&&(s&&(O0[e]=s),u&&(B0[e]=u))}function xa(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;_e({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var P0=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ot=function(e){return e.type==="ordgroup"?e.body:[e]},ei=ne.makeSpan,Gx=["leftmost","mbin","mopen","mrel","mop","mpunct"],Vx=["rightmost","mrel","mclose","mpunct"],Fx={display:qe.DISPLAY,text:qe.TEXT,script:qe.SCRIPT,scriptscript:qe.SCRIPTSCRIPT},$x={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Zt=function(e,n,r,o){o===void 0&&(o=[null,null]);for(var s=[],u=0;u<e.length;u++){var d=at(e[u],n);if(d instanceof qs){var f=d.children;s.push(...f)}else s.push(d)}if(ne.tryCombineChars(s),!r)return s;var h=n;if(e.length===1){var g=e[0];g.type==="sizing"?h=n.havingSize(g.size):g.type==="styling"&&(h=n.havingStyle(Fx[g.style]))}var y=ei([o[0]||"leftmost"],[],n),b=ei([o[1]||"rightmost"],[],n),w=r==="root";return cv(s,(k,E)=>{var z=E.classes[0],I=k.classes[0];z==="mbin"&&Oe.contains(Vx,I)?E.classes[0]="mord":I==="mbin"&&Oe.contains(Gx,z)&&(k.classes[0]="mord")},{node:y},b,w),cv(s,(k,E)=>{var z=_f(E),I=_f(k),U=z&&I?k.hasClass("mtight")?Hx[z][I]:qx[z][I]:null;if(U)return ne.makeGlue(U,h)},{node:y},b,w),s},cv=function t(e,n,r,o,s){o&&e.push(o);for(var u=0;u<e.length;u++){var d=e[u],f=N2(d);if(f){t(f.children,n,r,null,s);continue}var h=!d.hasClass("mspace");if(h){var g=n(d,r.node);g&&(r.insertAfter?r.insertAfter(g):(e.unshift(g),u++))}h?r.node=d:s&&d.hasClass("newline")&&(r.node=ei(["leftmost"])),r.insertAfter=(y=>b=>{e.splice(y+1,0,b),u++})(u)}o&&e.pop()},N2=function(e){return e instanceof qs||e instanceof oh||e instanceof Hs&&e.hasClass("enclosing")?e:null},Yx=function t(e,n){var r=N2(e);if(r){var o=r.children;if(o.length){if(n==="right")return t(o[o.length-1],"right");if(n==="left")return t(o[0],"left")}}return e},_f=function(e,n){return e?(n&&(e=Yx(e,n)),$x[e.classes[0]]||null):null},Us=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ei(n.concat(r))},at=function(e,n,r){if(!e)return ei();if(O0[e.type]){var o=O0[e.type](e,n);if(r&&n.size!==r.size){o=ei(n.sizingClasses(r),[o],n);var s=n.sizeMultiplier/r.sizeMultiplier;o.height*=s,o.depth*=s}return o}else throw new ye("Got group of unknown type: '"+e.type+"'")};function f0(t,e){var n=ei(["base"],t,e),r=ei(["strut"]);return r.style.height=Se(n.height+n.depth),n.depth&&(r.style.verticalAlign=Se(-n.depth)),n.children.unshift(r),n}function Af(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Zt(t,e,"root"),o;r.length===2&&r[1].hasClass("tag")&&(o=r.pop());for(var s=[],u=[],d=0;d<r.length;d++)if(u.push(r[d]),r[d].hasClass("mbin")||r[d].hasClass("mrel")||r[d].hasClass("allowbreak")){for(var f=!1;d<r.length-1&&r[d+1].hasClass("mspace")&&!r[d+1].hasClass("newline");)d++,u.push(r[d]),r[d].hasClass("nobreak")&&(f=!0);f||(s.push(f0(u,e)),u=[])}else r[d].hasClass("newline")&&(u.pop(),u.length>0&&(s.push(f0(u,e)),u=[]),s.push(r[d]));u.length>0&&s.push(f0(u,e));var h;n?(h=f0(Zt(n,e,!0)),h.classes=["tag"],s.push(h)):o&&s.push(o);var g=ei(["katex-html"],s);if(g.setAttribute("aria-hidden","true"),h){var y=h.children[0];y.style.height=Se(g.height+g.depth),g.depth&&(y.style.verticalAlign=Se(-g.depth))}return g}function R2(t){return new qs(t)}class $n{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Pi(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Ar&&this.children[r+1]instanceof Ar){for(var o=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Ar;)o+=this.children[++r].toText();e.appendChild(new Ar(o).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Oe.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Oe.escape(Pi(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Ar{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Oe.escape(this.toText())}toText(){return this.text}}class Jx{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Se(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Se(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ve={MathNode:$n,TextNode:Ar,SpaceNode:Jx,newDocumentFragment:R2},sr=function(e,n,r){return bt[n][e]&&bt[n][e].replace&&e.charCodeAt(0)!==55349&&!(A2.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=bt[n][e].replace),new ve.TextNode(e)},lh=function(e){return e.length===1?e[0]:new ve.MathNode("mrow",e)},uh=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var o=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(Oe.contains(["\\imath","\\jmath"],s))return null;bt[o][s]&&bt[o][s].replace&&(s=bt[o][s].replace);var u=ne.fontMap[r].fontName;return ah(s,u,o)?ne.fontMap[r].variant:null};function Wd(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Ar&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Ar&&n.text===","}else return!1}var Mn=function(e,n,r){if(e.length===1){var o=xt(e[0],n);return r&&o instanceof $n&&o.type==="mo"&&(o.setAttribute("lspace","0em"),o.setAttribute("rspace","0em")),[o]}for(var s=[],u,d=0;d<e.length;d++){var f=xt(e[d],n);if(f instanceof $n&&u instanceof $n){if(f.type==="mtext"&&u.type==="mtext"&&f.getAttribute("mathvariant")===u.getAttribute("mathvariant")){u.children.push(...f.children);continue}else if(f.type==="mn"&&u.type==="mn"){u.children.push(...f.children);continue}else if(Wd(f)&&u.type==="mn"){u.children.push(...f.children);continue}else if(f.type==="mn"&&Wd(u))f.children=[...u.children,...f.children],s.pop();else if((f.type==="msup"||f.type==="msub")&&f.children.length>=1&&(u.type==="mn"||Wd(u))){var h=f.children[0];h instanceof $n&&h.type==="mn"&&(h.children=[...u.children,...h.children],s.pop())}else if(u.type==="mi"&&u.children.length===1){var g=u.children[0];if(g instanceof Ar&&g.text===""&&(f.type==="mo"||f.type==="mi"||f.type==="mn")){var y=f.children[0];y instanceof Ar&&y.text.length>0&&(y.text=y.text.slice(0,1)+""+y.text.slice(1),s.pop())}}}s.push(f),u=f}return s},Hi=function(e,n,r){return lh(Mn(e,n,r))},xt=function(e,n){if(!e)return new ve.MathNode("mrow");if(B0[e.type]){var r=B0[e.type](e,n);return r}else throw new ye("Got group of unknown type: '"+e.type+"'")};function dv(t,e,n,r,o){var s=Mn(t,n),u;s.length===1&&s[0]instanceof $n&&Oe.contains(["mrow","mtable"],s[0].type)?u=s[0]:u=new ve.MathNode("mrow",s);var d=new ve.MathNode("annotation",[new ve.TextNode(e)]);d.setAttribute("encoding","application/x-tex");var f=new ve.MathNode("semantics",[u,d]),h=new ve.MathNode("math",[f]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&h.setAttribute("display","block");var g=o?"katex":"katex-mathml";return ne.makeSpan([g],[h])}var I2=function(e){return new Kr({style:e.displayMode?qe.DISPLAY:qe.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},D2=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=ne.makeSpan(r,[e])}return e},Xx=function(e,n,r){var o=I2(r),s;if(r.output==="mathml")return dv(e,n,o,r.displayMode,!0);if(r.output==="html"){var u=Af(e,o);s=ne.makeSpan(["katex"],[u])}else{var d=dv(e,n,o,r.displayMode,!1),f=Af(e,o);s=ne.makeSpan(["katex"],[d,f])}return D2(s,r)},Kx=function(e,n,r){var o=I2(r),s=Af(e,o),u=ne.makeSpan(["katex"],[s]);return D2(u,r)},Zx={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Wx=function(e){var n=new ve.MathNode("mo",[new ve.TextNode(Zx[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Qx={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},jx=function(e){return e.type==="ordgroup"?e.body.length:1},eb=function(e,n){function r(){var d=4e5,f=e.label.slice(1);if(Oe.contains(["widehat","widecheck","widetilde","utilde"],f)){var h=e,g=jx(h.base),y,b,w;if(g>5)f==="widehat"||f==="widecheck"?(y=420,d=2364,w=.42,b=f+"4"):(y=312,d=2340,w=.34,b="tilde4");else{var k=[1,1,2,2,3,3][g];f==="widehat"||f==="widecheck"?(d=[0,1062,2364,2364,2364][k],y=[0,239,300,360,420][k],w=[0,.24,.3,.3,.36,.42][k],b=f+k):(d=[0,600,1033,2339,2340][k],y=[0,260,286,306,312][k],w=[0,.26,.286,.3,.306,.34][k],b="tilde"+k)}var E=new qi(b),z=new jr([E],{width:"100%",height:Se(w),viewBox:"0 0 "+d+" "+y,preserveAspectRatio:"none"});return{span:ne.makeSvgSpan([],[z],n),minWidth:0,height:w}}else{var I=[],U=Qx[f],[q,D,O]=U,G=O/1e3,R=q.length,L,V;if(R===1){var Q=U[3];L=["hide-tail"],V=[Q]}else if(R===2)L=["halfarrow-left","halfarrow-right"],V=["xMinYMin","xMaxYMin"];else if(R===3)L=["brace-left","brace-center","brace-right"],V=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+R+" children.");for(var X=0;X<R;X++){var K=new qi(q[X]),Z=new jr([K],{width:"400em",height:Se(G),viewBox:"0 0 "+d+" "+O,preserveAspectRatio:V[X]+" slice"}),j=ne.makeSvgSpan([L[X]],[Z],n);if(R===1)return{span:j,minWidth:D,height:G};j.style.height=Se(G),I.push(j)}return{span:ne.makeSpan(["stretchy"],I,n),minWidth:D,height:G}}}var{span:o,minWidth:s,height:u}=r();return o.height=u,o.style.height=Se(u),s>0&&(o.style.minWidth=Se(s)),o},tb=function(e,n,r,o,s){var u,d=e.height+e.depth+r+o;if(/fbox|color|angl/.test(n)){if(u=ne.makeSpan(["stretchy",n],[],s),n==="fbox"){var f=s.color&&s.getColor();f&&(u.style.borderColor=f)}}else{var h=[];/^[bx]cancel$/.test(n)&&h.push(new wf({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&h.push(new wf({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var g=new jr(h,{width:"100%",height:Se(d)});u=ne.makeSvgSpan([],[g],s)}return u.height=d,u.style.height=Se(d),u},ti={encloseSpan:tb,mathMLnode:Wx,svgSpan:eb};function Ke(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function ch(t){var e=au(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function au(t){return t&&(t.type==="atom"||Ex.hasOwnProperty(t.type))?t:null}var dh=(t,e)=>{var n,r,o;t&&t.type==="supsub"?(r=Ke(t.base,"accent"),n=r.base,t.base=n,o=_x(at(t,e)),t.base=r):(r=Ke(t,"accent"),n=r.base);var s=at(n,e.havingCrampedStyle()),u=r.isShifty&&Oe.isCharacterBox(n),d=0;if(u){var f=Oe.getBaseElem(n),h=at(f,e.havingCrampedStyle());d=iv(h).skew}var g=r.label==="\\c",y=g?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),b;if(r.isStretchy)b=ti.svgSpan(r,e),b=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:b,wrapperClasses:["svg-align"],wrapperStyle:d>0?{width:"calc(100% - "+Se(2*d)+")",marginLeft:Se(2*d)}:void 0}]},e);else{var w,k;r.label==="\\vec"?(w=ne.staticSvg("vec",e),k=ne.svgData.vec[1]):(w=ne.makeOrd({mode:r.mode,text:r.label},e,"textord"),w=iv(w),w.italic=0,k=w.width,g&&(y+=w.depth)),b=ne.makeSpan(["accent-body"],[w]);var E=r.label==="\\textcircled";E&&(b.classes.push("accent-full"),y=s.height);var z=d;E||(z-=k/2),b.style.left=Se(z),r.label==="\\textcircled"&&(b.style.top=".2em"),b=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-y},{type:"elem",elem:b}]},e)}var I=ne.makeSpan(["mord","accent"],[b],e);return o?(o.children[0]=I,o.height=Math.max(I.height,o.height),o.classes[0]="mord",o):I},L2=(t,e)=>{var n=t.isStretchy?ti.mathMLnode(t.label):new ve.MathNode("mo",[sr(t.label,t.mode)]),r=new ve.MathNode("mover",[xt(t.base,e),n]);return r.setAttribute("accent","true"),r},nb=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));_e({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=P0(e[0]),r=!nb.test(t.funcName),o=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:o,base:n}},htmlBuilder:dh,mathmlBuilder:L2});_e({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:dh,mathmlBuilder:L2});_e({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:o}},htmlBuilder:(t,e)=>{var n=at(t.base,e),r=ti.svgSpan(t,e),o=t.label==="\\utilde"?.12:0,s=ne.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},e);return ne.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=ti.mathMLnode(t.label),r=new ve.MathNode("munder",[xt(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var h0=t=>{var e=new ve.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};_e({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:o}=t;return{type:"xArrow",mode:r.mode,label:o,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),o=ne.wrapFragment(at(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";o.classes.push(s+"-arrow-pad");var u;t.below&&(r=e.havingStyle(n.sub()),u=ne.wrapFragment(at(t.below,r,e),e),u.classes.push(s+"-arrow-pad"));var d=ti.svgSpan(t,e),f=-e.fontMetrics().axisHeight+.5*d.height,h=-e.fontMetrics().axisHeight-.5*d.height-.111;(o.depth>.25||t.label==="\\xleftequilibrium")&&(h-=o.depth);var g;if(u){var y=-e.fontMetrics().axisHeight+u.height+.5*d.height+.111;g=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:h},{type:"elem",elem:d,shift:f},{type:"elem",elem:u,shift:y}]},e)}else g=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:h},{type:"elem",elem:d,shift:f}]},e);return g.children[0].children[0].children[1].classes.push("svg-align"),ne.makeSpan(["mrel","x-arrow"],[g],e)},mathmlBuilder(t,e){var n=ti.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var o=h0(xt(t.body,e));if(t.below){var s=h0(xt(t.below,e));r=new ve.MathNode("munderover",[n,s,o])}else r=new ve.MathNode("mover",[n,o])}else if(t.below){var u=h0(xt(t.below,e));r=new ve.MathNode("munder",[n,u])}else r=h0(),r=new ve.MathNode("mover",[n,r]);return r}});var rb=ne.makeSpan;function U2(t,e){var n=Zt(t.body,e,!0);return rb([t.mclass],n,e)}function O2(t,e){var n,r=Mn(t.body,e);return t.mclass==="minner"?n=new ve.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new ve.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new ve.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}_e({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,o=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Ot(o),isCharacterBox:Oe.isCharacterBox(o)}},htmlBuilder:U2,mathmlBuilder:O2});var ou=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};_e({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:ou(e[0]),body:Ot(e[1]),isCharacterBox:Oe.isCharacterBox(e[1])}}});_e({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,o=e[1],s=e[0],u;r!=="\\stackrel"?u=ou(o):u="mrel";var d={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ot(o)},f={type:"supsub",mode:s.mode,base:d,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:u,body:[f],isCharacterBox:Oe.isCharacterBox(f)}},htmlBuilder:U2,mathmlBuilder:O2});_e({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:ou(e[0]),body:Ot(e[0])}},htmlBuilder(t,e){var n=Zt(t.body,e,!0),r=ne.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Mn(t.body,e),r=new ve.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var ib={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},fv=()=>({type:"styling",body:[],mode:"math",style:"display"}),hv=t=>t.type==="textord"&&t.text==="@",ab=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function ob(t,e,n){var r=ib[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var o=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},u=n.callFunction("\\Big",[s],[]),d=n.callFunction("\\\\cdright",[e[1]],[]),f={type:"ordgroup",mode:"math",body:[o,u,d]};return n.callFunction("\\\\cdparent",[f],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function sb(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ye("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],o=[r],s=0;s<e.length;s++){for(var u=e[s],d=fv(),f=0;f<u.length;f++)if(!hv(u[f]))d.body.push(u[f]);else{r.push(d),f+=1;var h=ch(u[f]).text,g=new Array(2);if(g[0]={type:"ordgroup",mode:"math",body:[]},g[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var y=0;y<2;y++){for(var b=!0,w=f+1;w<u.length;w++){if(ab(u[w],h)){b=!1,f=w;break}if(hv(u[w]))throw new ye("Missing a "+h+" character to complete a CD arrow.",u[w]);g[y].body.push(u[w])}if(b)throw new ye("Missing a "+h+" character to complete a CD arrow.",u[f])}else throw new ye('Expected one of "<>AV=|." after @',u[f]);var k=ob(h,g,t),E={type:"styling",body:[k],mode:"math",style:"display"};r.push(E),d=fv()}s%2===0?r.push(d):r.shift(),r=[],o.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var z=new Array(o[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:o,arraystretch:1,addJot:!0,rowGaps:[null],cols:z,colSeparationType:"CD",hLinesBeforeRow:new Array(o.length+1).fill([])}}_e({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=ne.wrapFragment(at(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Se(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new ve.MathNode("mrow",[xt(t.label,e)]);return n=new ve.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ve.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});_e({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ne.wrapFragment(at(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new ve.MathNode("mrow",[xt(t.fragment,e)])}});_e({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ke(e[0],"ordgroup"),o=r.body,s="",u=0;u<o.length;u++){var d=Ke(o[u],"textord");s+=d.text}var f=parseInt(s),h;if(isNaN(f))throw new ye("\\@char has non-numeric argument "+s);if(f<0||f>=1114111)throw new ye("\\@char with invalid code point "+s);return f<=65535?h=String.fromCharCode(f):(f-=65536,h=String.fromCharCode((f>>10)+55296,(f&1023)+56320)),{type:"textord",mode:n.mode,text:h}}});var B2=(t,e)=>{var n=Zt(t.body,e.withColor(t.color),!1);return ne.makeFragment(n)},P2=(t,e)=>{var n=Mn(t.body,e.withColor(t.color)),r=new ve.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};_e({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ke(e[0],"color-token").color,o=e[1];return{type:"color",mode:n.mode,color:r,body:Ot(o)}},htmlBuilder:B2,mathmlBuilder:P2});_e({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,o=Ke(e[0],"color-token").color;n.gullet.macros.set("\\current@color",o);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:o,body:s}},htmlBuilder:B2,mathmlBuilder:P2});_e({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,o=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:o&&Ke(o,"size").value}},htmlBuilder(t,e){var n=ne.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Se(kt(t.size,e)))),n},mathmlBuilder(t,e){var n=new ve.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Se(kt(t.size,e)))),n}});var Ef={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},q2=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ye("Expected a control sequence",t);return e},lb=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},H2=(t,e,n,r)=>{var o=t.gullet.macros.get(n.text);o==null&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,o,r)};_e({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(Ef[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Ef[r.text]),Ke(e.parseFunction(),"internal");throw new ye("Invalid token after macro prefix",r)}});_e({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),o=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new ye("Expected a control sequence",r);for(var s=0,u,d=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){u=e.gullet.future(),d[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ye('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new ye('Argument number "'+r.text+'" out of order');s++,d.push([])}else{if(r.text==="EOF")throw new ye("Expected a macro definition");d[s].push(r.text)}var{tokens:f}=e.gullet.consumeArg();return u&&f.unshift(u),(n==="\\edef"||n==="\\xdef")&&(f=e.gullet.expandTokens(f),f.reverse()),e.gullet.macros.set(o,{tokens:f,numArgs:s,delimiters:d},n===Ef[n]),{type:"internal",mode:e.mode}}});_e({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=q2(e.gullet.popToken());e.gullet.consumeSpaces();var o=lb(e);return H2(e,r,o,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});_e({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=q2(e.gullet.popToken()),o=e.gullet.popToken(),s=e.gullet.popToken();return H2(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(o),{type:"internal",mode:e.mode}}});var Ms=function(e,n,r){var o=bt.math[e]&&bt.math[e].replace,s=ah(o||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},fh=function(e,n,r,o){var s=r.havingBaseStyle(n),u=ne.makeSpan(o.concat(s.sizingClasses(r)),[e],r),d=s.sizeMultiplier/r.sizeMultiplier;return u.height*=d,u.depth*=d,u.maxFontSize=s.sizeMultiplier,u},G2=function(e,n,r){var o=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/o.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Se(s),e.height-=s,e.depth+=s},ub=function(e,n,r,o,s,u){var d=ne.makeSymbol(e,"Main-Regular",s,o),f=fh(d,n,o,u);return r&&G2(f,o,n),f},cb=function(e,n,r,o){return ne.makeSymbol(e,"Size"+n+"-Regular",r,o)},V2=function(e,n,r,o,s,u){var d=cb(e,n,s,o),f=fh(ne.makeSpan(["delimsizing","size"+n],[d],o),qe.TEXT,o,u);return r&&G2(f,o,qe.TEXT),f},Qd=function(e,n,r){var o;n==="Size1-Regular"?o="delim-size1":o="delim-size4";var s=ne.makeSpan(["delimsizinginner",o],[ne.makeSpan([],[ne.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},jd=function(e,n,r){var o=_r["Size4-Regular"][e.charCodeAt(0)]?_r["Size4-Regular"][e.charCodeAt(0)][4]:_r["Size1-Regular"][e.charCodeAt(0)][4],s=new qi("inner",gx(e,Math.round(1e3*n))),u=new jr([s],{width:Se(o),height:Se(n),style:"width:"+Se(o),viewBox:"0 0 "+1e3*o+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),d=ne.makeSvgSpan([],[u],r);return d.height=n,d.style.height=Se(n),d.style.width=Se(o),{type:"elem",elem:d}},Cf=.008,m0={type:"kern",size:-1*Cf},db=["|","\\lvert","\\rvert","\\vert"],fb=["\\|","\\lVert","\\rVert","\\Vert"],F2=function(e,n,r,o,s,u){var d,f,h,g,y="",b=0;d=h=g=e,f=null;var w="Size1-Regular";e==="\\uparrow"?h=g="":e==="\\Uparrow"?h=g="":e==="\\downarrow"?d=h="":e==="\\Downarrow"?d=h="":e==="\\updownarrow"?(d="\\uparrow",h="",g="\\downarrow"):e==="\\Updownarrow"?(d="\\Uparrow",h="",g="\\Downarrow"):Oe.contains(db,e)?(h="",y="vert",b=333):Oe.contains(fb,e)?(h="",y="doublevert",b=556):e==="["||e==="\\lbrack"?(d="",h="",g="",w="Size4-Regular",y="lbrack",b=667):e==="]"||e==="\\rbrack"?(d="",h="",g="",w="Size4-Regular",y="rbrack",b=667):e==="\\lfloor"||e===""?(h=d="",g="",w="Size4-Regular",y="lfloor",b=667):e==="\\lceil"||e===""?(d="",h=g="",w="Size4-Regular",y="lceil",b=667):e==="\\rfloor"||e===""?(h=d="",g="",w="Size4-Regular",y="rfloor",b=667):e==="\\rceil"||e===""?(d="",h=g="",w="Size4-Regular",y="rceil",b=667):e==="("||e==="\\lparen"?(d="",h="",g="",w="Size4-Regular",y="lparen",b=875):e===")"||e==="\\rparen"?(d="",h="",g="",w="Size4-Regular",y="rparen",b=875):e==="\\{"||e==="\\lbrace"?(d="",f="",g="",h="",w="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(d="",f="",g="",h="",w="Size4-Regular"):e==="\\lgroup"||e===""?(d="",g="",h="",w="Size4-Regular"):e==="\\rgroup"||e===""?(d="",g="",h="",w="Size4-Regular"):e==="\\lmoustache"||e===""?(d="",g="",h="",w="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(d="",g="",h="",w="Size4-Regular");var k=Ms(d,w,s),E=k.height+k.depth,z=Ms(h,w,s),I=z.height+z.depth,U=Ms(g,w,s),q=U.height+U.depth,D=0,O=1;if(f!==null){var G=Ms(f,w,s);D=G.height+G.depth,O=2}var R=E+q+D,L=Math.max(0,Math.ceil((n-R)/(O*I))),V=R+L*O*I,Q=o.fontMetrics().axisHeight;r&&(Q*=o.sizeMultiplier);var X=V/2-Q,K=[];if(y.length>0){var Z=V-E-q,j=Math.round(V*1e3),ae=vx(y,Math.round(Z*1e3)),$=new qi(y,ae),ue=(b/1e3).toFixed(3)+"em",re=(j/1e3).toFixed(3)+"em",Re=new jr([$],{width:ue,height:re,viewBox:"0 0 "+b+" "+j}),Le=ne.makeSvgSpan([],[Re],o);Le.height=j/1e3,Le.style.width=ue,Le.style.height=re,K.push({type:"elem",elem:Le})}else{if(K.push(Qd(g,w,s)),K.push(m0),f===null){var B=V-E-q+2*Cf;K.push(jd(h,B,o))}else{var oe=(V-E-q-D)/2+2*Cf;K.push(jd(h,oe,o)),K.push(m0),K.push(Qd(f,w,s)),K.push(m0),K.push(jd(h,oe,o))}K.push(m0),K.push(Qd(d,w,s))}var W=o.havingBaseStyle(qe.TEXT),le=ne.makeVList({positionType:"bottom",positionData:X,children:K},W);return fh(ne.makeSpan(["delimsizing","mult"],[le],W),qe.TEXT,o,u)},ef=80,tf=.08,nf=function(e,n,r,o,s){var u=px(e,o,r),d=new qi(e,u),f=new jr([d],{width:"400em",height:Se(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ne.makeSvgSpan(["hide-tail"],[f],s)},hb=function(e,n){var r=n.havingBaseSizing(),o=X2("\\surd",e*r.sizeMultiplier,J2,r),s=r.sizeMultiplier,u=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),d,f=0,h=0,g=0,y;return o.type==="small"?(g=1e3+1e3*u+ef,e<1?s=1:e<1.4&&(s=.7),f=(1+u+tf)/s,h=(1+u)/s,d=nf("sqrtMain",f,g,u,n),d.style.minWidth="0.853em",y=.833/s):o.type==="large"?(g=(1e3+ef)*Ds[o.size],h=(Ds[o.size]+u)/s,f=(Ds[o.size]+u+tf)/s,d=nf("sqrtSize"+o.size,f,g,u,n),d.style.minWidth="1.02em",y=1/s):(f=e+u+tf,h=e+u,g=Math.floor(1e3*e+u)+ef,d=nf("sqrtTall",f,g,u,n),d.style.minWidth="0.742em",y=1.056),d.height=h,d.style.height=Se(f),{span:d,advanceWidth:y,ruleWidth:(n.fontMetrics().sqrtRuleThickness+u)*s}},$2=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],mb=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Y2=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ds=[0,1.2,1.8,2.4,3],pb=function(e,n,r,o,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Oe.contains($2,e)||Oe.contains(Y2,e))return V2(e,n,!1,r,o,s);if(Oe.contains(mb,e))return F2(e,Ds[n],!1,r,o,s);throw new ye("Illegal delimiter: '"+e+"'")},gb=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],vb=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"stack"}],J2=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],yb=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},X2=function(e,n,r,o){for(var s=Math.min(2,3-o.style.size),u=s;u<r.length&&r[u].type!=="stack";u++){var d=Ms(e,yb(r[u]),"math"),f=d.height+d.depth;if(r[u].type==="small"){var h=o.havingBaseStyle(r[u].style);f*=h.sizeMultiplier}if(f>n)return r[u]}return r[r.length-1]},K2=function(e,n,r,o,s,u){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var d;Oe.contains(Y2,e)?d=gb:Oe.contains($2,e)?d=J2:d=vb;var f=X2(e,n,d,o);return f.type==="small"?ub(e,f.style,r,o,s,u):f.type==="large"?V2(e,f.size,r,o,s,u):F2(e,n,r,o,s,u)},xb=function(e,n,r,o,s,u){var d=o.fontMetrics().axisHeight*o.sizeMultiplier,f=901,h=5/o.fontMetrics().ptPerEm,g=Math.max(n-d,r+d),y=Math.max(g/500*f,2*g-h);return K2(e,y,!0,o,s,u)},Qr={sqrtImage:hb,sizedDelim:pb,sizeToMaxHeight:Ds,customSizedDelim:K2,leftRightDelim:xb},mv={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},bb=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function su(t,e){var n=au(t);if(n&&Oe.contains(bb,n.text))return n;throw n?new ye("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new ye("Invalid delimiter type '"+t.type+"'",t)}_e({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=su(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:mv[t.funcName].size,mclass:mv[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?ne.makeSpan([t.mclass]):Qr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(sr(t.delim,t.mode));var n=new ve.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Se(Qr.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function pv(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}_e({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ye("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:su(e[0],t).text,color:n}}});_e({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=su(e[0],t),r=t.parser;++r.leftrightDepth;var o=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ke(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:o,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{pv(t);for(var n=Zt(t.body,e,!0,["mopen","mclose"]),r=0,o=0,s=!1,u=0;u<n.length;u++)n[u].isMiddle?s=!0:(r=Math.max(n[u].height,r),o=Math.max(n[u].depth,o));r*=e.sizeMultiplier,o*=e.sizeMultiplier;var d;if(t.left==="."?d=Us(e,["mopen"]):d=Qr.leftRightDelim(t.left,r,o,e,t.mode,["mopen"]),n.unshift(d),s)for(var f=1;f<n.length;f++){var h=n[f],g=h.isMiddle;g&&(n[f]=Qr.leftRightDelim(g.delim,r,o,g.options,t.mode,[]))}var y;if(t.right===".")y=Us(e,["mclose"]);else{var b=t.rightColor?e.withColor(t.rightColor):e;y=Qr.leftRightDelim(t.right,r,o,b,t.mode,["mclose"])}return n.push(y),ne.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{pv(t);var n=Mn(t.body,e);if(t.left!=="."){var r=new ve.MathNode("mo",[sr(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var o=new ve.MathNode("mo",[sr(t.right,t.mode)]);o.setAttribute("fence","true"),t.rightColor&&o.setAttribute("mathcolor",t.rightColor),n.push(o)}return lh(n)}});_e({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=su(e[0],t);if(!t.parser.leftrightDepth)throw new ye("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Us(e,[]);else{n=Qr.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?sr("|","text"):sr(t.delim,t.mode),r=new ve.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var hh=(t,e)=>{var n=ne.wrapFragment(at(t.body,e),e),r=t.label.slice(1),o=e.sizeMultiplier,s,u=0,d=Oe.isCharacterBox(t.body);if(r==="sout")s=ne.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/o,u=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var f=kt({number:.6,unit:"pt"},e),h=kt({number:.35,unit:"ex"},e),g=e.havingBaseSizing();o=o/g.sizeMultiplier;var y=n.height+n.depth+f+h;n.style.paddingLeft=Se(y/2+f);var b=Math.floor(1e3*y*o),w=hx(b),k=new jr([new qi("phase",w)],{width:"400em",height:Se(b/1e3),viewBox:"0 0 400000 "+b,preserveAspectRatio:"xMinYMin slice"});s=ne.makeSvgSpan(["hide-tail"],[k],e),s.style.height=Se(y),u=n.depth+f+h}else{/cancel/.test(r)?d||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var E=0,z=0,I=0;/box/.test(r)?(I=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),E=e.fontMetrics().fboxsep+(r==="colorbox"?0:I),z=E):r==="angl"?(I=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),E=4*I,z=Math.max(0,.25-n.depth)):(E=d?.2:0,z=E),s=ti.encloseSpan(n,r,E,z,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Se(I)):r==="angl"&&I!==.049&&(s.style.borderTopWidth=Se(I),s.style.borderRightWidth=Se(I)),u=n.depth+z,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var U;if(t.backgroundColor)U=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:u},{type:"elem",elem:n,shift:0}]},e);else{var q=/cancel|phase/.test(r)?["svg-align"]:[];U=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:u,wrapperClasses:q}]},e)}return/cancel/.test(r)&&(U.height=n.height,U.depth=n.depth),/cancel/.test(r)&&!d?ne.makeSpan(["mord","cancel-lap"],[U],e):ne.makeSpan(["mord"],[U],e)},mh=(t,e)=>{var n=0,r=new ve.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[xt(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var o=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+o+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};_e({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:o}=t,s=Ke(e[0],"color-token").color,u=e[1];return{type:"enclose",mode:r.mode,label:o,backgroundColor:s,body:u}},htmlBuilder:hh,mathmlBuilder:mh});_e({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:o}=t,s=Ke(e[0],"color-token").color,u=Ke(e[1],"color-token").color,d=e[2];return{type:"enclose",mode:r.mode,label:o,backgroundColor:u,borderColor:s,body:d}},htmlBuilder:hh,mathmlBuilder:mh});_e({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});_e({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,o=e[0];return{type:"enclose",mode:n.mode,label:r,body:o}},htmlBuilder:hh,mathmlBuilder:mh});_e({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var Z2={};function Er(t){for(var{type:e,names:n,props:r,handler:o,htmlBuilder:s,mathmlBuilder:u}=t,d={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:o},f=0;f<n.length;++f)Z2[n[f]]=d;s&&(O0[e]=s),u&&(B0[e]=u)}var W2={};function N(t,e){W2[t]=e}function gv(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var lu=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ye("{"+t.envName+"} can be used only in display mode.")};function ph(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Gi(t,e,n){var{hskipBeforeAndAfter:r,addJot:o,cols:s,arraystretch:u,colSeparationType:d,autoTag:f,singleRow:h,emptySingleRow:g,maxNumCols:y,leqno:b}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!u){var w=t.gullet.expandMacroAsText("\\arraystretch");if(w==null)u=1;else if(u=parseFloat(w),!u||u<0)throw new ye("Invalid \\arraystretch: "+w)}t.gullet.beginGroup();var k=[],E=[k],z=[],I=[],U=f!=null?[]:void 0;function q(){f&&t.gullet.macros.set("\\@eqnsw","1",!0)}function D(){U&&(t.gullet.macros.get("\\df@tag")?(U.push(t.subparse([new ir("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):U.push(!!f&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(q(),I.push(gv(t));;){var O=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),O={type:"ordgroup",mode:t.mode,body:O},n&&(O={type:"styling",mode:t.mode,style:n,body:[O]}),k.push(O);var G=t.fetch().text;if(G==="&"){if(y&&k.length===y){if(h||d)throw new ye("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(G==="\\end"){D(),k.length===1&&O.type==="styling"&&O.body[0].body.length===0&&(E.length>1||!g)&&E.pop(),I.length<E.length+1&&I.push([]);break}else if(G==="\\\\"){t.consume();var R=void 0;t.gullet.future().text!==" "&&(R=t.parseSizeGroup(!0)),z.push(R?R.value:null),D(),I.push(gv(t)),k=[],E.push(k),q()}else throw new ye("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:o,arraystretch:u,body:E,cols:s,rowGaps:z,hskipBeforeAndAfter:r,hLinesBeforeRow:I,colSeparationType:d,tags:U,leqno:b}}function gh(t){return t.slice(0,1)==="d"?"display":"text"}var Cr=function(e,n){var r,o,s=e.body.length,u=e.hLinesBeforeRow,d=0,f=new Array(s),h=[],g=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),y=1/n.fontMetrics().ptPerEm,b=5*y;if(e.colSeparationType&&e.colSeparationType==="small"){var w=n.havingStyle(qe.SCRIPT).sizeMultiplier;b=.2778*(w/n.sizeMultiplier)}var k=e.colSeparationType==="CD"?kt({number:3,unit:"ex"},n):12*y,E=3*y,z=e.arraystretch*k,I=.7*z,U=.3*z,q=0;function D(fn){for(var cr=0;cr<fn.length;++cr)cr>0&&(q+=.25),h.push({pos:q,isDashed:fn[cr]})}for(D(u[0]),r=0;r<e.body.length;++r){var O=e.body[r],G=I,R=U;d<O.length&&(d=O.length);var L=new Array(O.length);for(o=0;o<O.length;++o){var V=at(O[o],n);R<V.depth&&(R=V.depth),G<V.height&&(G=V.height),L[o]=V}var Q=e.rowGaps[r],X=0;Q&&(X=kt(Q,n),X>0&&(X+=U,R<X&&(R=X),X=0)),e.addJot&&(R+=E),L.height=G,L.depth=R,q+=G,L.pos=q,q+=R+X,f[r]=L,D(u[r+1])}var K=q/2+n.fontMetrics().axisHeight,Z=e.cols||[],j=[],ae,$,ue=[];if(e.tags&&e.tags.some(fn=>fn))for(r=0;r<s;++r){var re=f[r],Re=re.pos-K,Le=e.tags[r],B=void 0;Le===!0?B=ne.makeSpan(["eqn-num"],[],n):Le===!1?B=ne.makeSpan([],[],n):B=ne.makeSpan([],Zt(Le,n,!0),n),B.depth=re.depth,B.height=re.height,ue.push({type:"elem",elem:B,shift:Re})}for(o=0,$=0;o<d||$<Z.length;++o,++$){for(var oe=Z[$]||{},W=!0;oe.type==="separator";){if(W||(ae=ne.makeSpan(["arraycolsep"],[]),ae.style.width=Se(n.fontMetrics().doubleRuleSep),j.push(ae)),oe.separator==="|"||oe.separator===":"){var le=oe.separator==="|"?"solid":"dashed",xe=ne.makeSpan(["vertical-separator"],[],n);xe.style.height=Se(q),xe.style.borderRightWidth=Se(g),xe.style.borderRightStyle=le,xe.style.margin="0 "+Se(-g/2);var Te=q-K;Te&&(xe.style.verticalAlign=Se(-Te)),j.push(xe)}else throw new ye("Invalid separator type: "+oe.separator);$++,oe=Z[$]||{},W=!1}if(!(o>=d)){var ce=void 0;(o>0||e.hskipBeforeAndAfter)&&(ce=Oe.deflt(oe.pregap,b),ce!==0&&(ae=ne.makeSpan(["arraycolsep"],[]),ae.style.width=Se(ce),j.push(ae)));var Ce=[];for(r=0;r<s;++r){var Ie=f[r],$e=Ie[o];if($e){var We=Ie.pos-K;$e.depth=Ie.depth,$e.height=Ie.height,Ce.push({type:"elem",elem:$e,shift:We})}}Ce=ne.makeVList({positionType:"individualShift",children:Ce},n),Ce=ne.makeSpan(["col-align-"+(oe.align||"c")],[Ce]),j.push(Ce),(o<d-1||e.hskipBeforeAndAfter)&&(ce=Oe.deflt(oe.postgap,b),ce!==0&&(ae=ne.makeSpan(["arraycolsep"],[]),ae.style.width=Se(ce),j.push(ae)))}}if(f=ne.makeSpan(["mtable"],j),h.length>0){for(var Qe=ne.makeLineSpan("hline",n,g),St=ne.makeLineSpan("hdashline",n,g),ht=[{type:"elem",elem:f,shift:0}];h.length>0;){var Bt=h.pop(),sn=Bt.pos-K;Bt.isDashed?ht.push({type:"elem",elem:St,shift:sn}):ht.push({type:"elem",elem:Qe,shift:sn})}f=ne.makeVList({positionType:"individualShift",children:ht},n)}if(ue.length===0)return ne.makeSpan(["mord"],[f],n);var It=ne.makeVList({positionType:"individualShift",children:ue},n);return It=ne.makeSpan(["tag"],[It],n),ne.makeFragment([f,It])},Sb={c:"center ",l:"left ",r:"right "},kr=function(e,n){for(var r=[],o=new ve.MathNode("mtd",[],["mtr-glue"]),s=new ve.MathNode("mtd",[],["mml-eqn-num"]),u=0;u<e.body.length;u++){for(var d=e.body[u],f=[],h=0;h<d.length;h++)f.push(new ve.MathNode("mtd",[xt(d[h],n)]));e.tags&&e.tags[u]&&(f.unshift(o),f.push(o),e.leqno?f.unshift(s):f.push(s)),r.push(new ve.MathNode("mtr",f))}var g=new ve.MathNode("mtable",r),y=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);g.setAttribute("rowspacing",Se(y));var b="",w="";if(e.cols&&e.cols.length>0){var k=e.cols,E="",z=!1,I=0,U=k.length;k[0].type==="separator"&&(b+="top ",I=1),k[k.length-1].type==="separator"&&(b+="bottom ",U-=1);for(var q=I;q<U;q++)k[q].type==="align"?(w+=Sb[k[q].align],z&&(E+="none "),z=!0):k[q].type==="separator"&&z&&(E+=k[q].separator==="|"?"solid ":"dashed ",z=!1);g.setAttribute("columnalign",w.trim()),/[sd]/.test(E)&&g.setAttribute("columnlines",E.trim())}if(e.colSeparationType==="align"){for(var D=e.cols||[],O="",G=1;G<D.length;G++)O+=G%2?"0em ":"1em ";g.setAttribute("columnspacing",O.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?g.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?g.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?g.setAttribute("columnspacing","0.5em"):g.setAttribute("columnspacing","1em");var R="",L=e.hLinesBeforeRow;b+=L[0].length>0?"left ":"",b+=L[L.length-1].length>0?"right ":"";for(var V=1;V<L.length-1;V++)R+=L[V].length===0?"none ":L[V][0]?"dashed ":"solid ";return/[sd]/.test(R)&&g.setAttribute("rowlines",R.trim()),b!==""&&(g=new ve.MathNode("menclose",[g]),g.setAttribute("notation",b.trim())),e.arraystretch&&e.arraystretch<1&&(g=new ve.MathNode("mstyle",[g]),g.setAttribute("scriptlevel","1")),g},Q2=function(e,n){e.envName.indexOf("ed")===-1&&lu(e);var r=[],o=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",u=Gi(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:ph(e.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),d,f=0,h={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var g="",y=0;y<n[0].body.length;y++){var b=Ke(n[0].body[y],"textord");g+=b.text}d=Number(g),f=d*2}var w=!f;u.body.forEach(function(I){for(var U=1;U<I.length;U+=2){var q=Ke(I[U],"styling"),D=Ke(q.body[0],"ordgroup");D.body.unshift(h)}if(w)f<I.length&&(f=I.length);else{var O=I.length/2;if(d<O)throw new ye("Too many math in a row: "+("expected "+d+", but got "+O),I[0])}});for(var k=0;k<f;++k){var E="r",z=0;k%2===1?E="l":k>0&&w&&(z=1),r[k]={type:"align",align:E,pregap:z,postgap:0}}return u.colSeparationType=w?"align":"alignat",u};Er({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=au(e[0]),r=n?[e[0]]:Ke(e[0],"ordgroup").body,o=r.map(function(u){var d=ch(u),f=d.text;if("lcr".indexOf(f)!==-1)return{type:"align",align:f};if(f==="|")return{type:"separator",separator:"|"};if(f===":")return{type:"separator",separator:":"};throw new ye("Unknown column alignment: "+f,u)}),s={cols:o,hskipBeforeAndAfter:!0,maxNumCols:o.length};return Gi(t.parser,s,gh(t.envName))},htmlBuilder:Cr,mathmlBuilder:kr});Er({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var o=t.parser;if(o.consumeSpaces(),o.fetch().text==="["){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,"lcr".indexOf(n)===-1)throw new ye("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),r.cols=[{type:"align",align:n}]}}var s=Gi(t.parser,r,gh(t.envName)),u=Math.max(0,...s.body.map(d=>d.length));return s.cols=new Array(u).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Cr,mathmlBuilder:kr});Er({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Gi(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Cr,mathmlBuilder:kr});Er({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=au(e[0]),r=n?[e[0]]:Ke(e[0],"ordgroup").body,o=r.map(function(u){var d=ch(u),f=d.text;if("lc".indexOf(f)!==-1)return{type:"align",align:f};throw new ye("Unknown column alignment: "+f,u)});if(o.length>1)throw new ye("{subarray} can contain only one column");var s={cols:o,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Gi(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new ye("{subarray} can contain only one column");return s},htmlBuilder:Cr,mathmlBuilder:kr});Er({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Gi(t.parser,e,gh(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Cr,mathmlBuilder:kr});Er({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Q2,htmlBuilder:Cr,mathmlBuilder:kr});Er({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Oe.contains(["gather","gather*"],t.envName)&&lu(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:ph(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Gi(t.parser,e,"display")},htmlBuilder:Cr,mathmlBuilder:kr});Er({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Q2,htmlBuilder:Cr,mathmlBuilder:kr});Er({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){lu(t);var e={autoTag:ph(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Gi(t.parser,e,"display")},htmlBuilder:Cr,mathmlBuilder:kr});Er({type:"array",names:["CD"],props:{numArgs:0},handler(t){return lu(t),sb(t.parser)},htmlBuilder:Cr,mathmlBuilder:kr});N("\\nonumber","\\gdef\\@eqnsw{0}");N("\\notag","\\nonumber");_e({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ye(t.funcName+" valid only within array environment")}});var vv=Z2;_e({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,o=e[0];if(o.type!=="ordgroup")throw new ye("Invalid environment name",o);for(var s="",u=0;u<o.body.length;++u)s+=Ke(o.body[u],"textord").text;if(r==="\\begin"){if(!vv.hasOwnProperty(s))throw new ye("No such environment: "+s,o);var d=vv[s],{args:f,optArgs:h}=n.parseArguments("\\begin{"+s+"}",d),g={mode:n.mode,envName:s,parser:n},y=d.handler(g,f,h);n.expect("\\end",!1);var b=n.nextToken,w=Ke(n.parseFunction(),"environment");if(w.name!==s)throw new ye("Mismatch: \\begin{"+s+"} matched by \\end{"+w.name+"}",b);return y}return{type:"environment",mode:n.mode,name:s,nameGroup:o}}});var j2=(t,e)=>{var n=t.font,r=e.withFont(n);return at(t.body,r)},e3=(t,e)=>{var n=t.font,r=e.withFont(n);return xt(t.body,r)},yv={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};_e({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=P0(e[0]),s=r;return s in yv&&(s=yv[s]),{type:"font",mode:n.mode,font:s.slice(1),body:o}},htmlBuilder:j2,mathmlBuilder:e3});_e({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],o=Oe.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:ou(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:o}}});_e({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:o}=t,{mode:s}=n,u=n.parseExpression(!0,o),d="math"+r.slice(1);return{type:"font",mode:s,font:d,body:{type:"ordgroup",mode:n.mode,body:u}}},htmlBuilder:j2,mathmlBuilder:e3});var t3=(t,e)=>{var n=e;return t==="display"?n=n.id>=qe.SCRIPT.id?n.text():qe.DISPLAY:t==="text"&&n.size===qe.DISPLAY.size?n=qe.TEXT:t==="script"?n=qe.SCRIPT:t==="scriptscript"&&(n=qe.SCRIPTSCRIPT),n},vh=(t,e)=>{var n=t3(t.size,e.style),r=n.fracNum(),o=n.fracDen(),s;s=e.havingStyle(r);var u=at(t.numer,s,e);if(t.continued){var d=8.5/e.fontMetrics().ptPerEm,f=3.5/e.fontMetrics().ptPerEm;u.height=u.height<d?d:u.height,u.depth=u.depth<f?f:u.depth}s=e.havingStyle(o);var h=at(t.denom,s,e),g,y,b;t.hasBarLine?(t.barSize?(y=kt(t.barSize,e),g=ne.makeLineSpan("frac-line",e,y)):g=ne.makeLineSpan("frac-line",e),y=g.height,b=g.height):(g=null,y=0,b=e.fontMetrics().defaultRuleThickness);var w,k,E;n.size===qe.DISPLAY.size||t.size==="display"?(w=e.fontMetrics().num1,y>0?k=3*b:k=7*b,E=e.fontMetrics().denom1):(y>0?(w=e.fontMetrics().num2,k=b):(w=e.fontMetrics().num3,k=3*b),E=e.fontMetrics().denom2);var z;if(g){var U=e.fontMetrics().axisHeight;w-u.depth-(U+.5*y)<k&&(w+=k-(w-u.depth-(U+.5*y))),U-.5*y-(h.height-E)<k&&(E+=k-(U-.5*y-(h.height-E)));var q=-(U-.5*y);z=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:E},{type:"elem",elem:g,shift:q},{type:"elem",elem:u,shift:-w}]},e)}else{var I=w-u.depth-(h.height-E);I<k&&(w+=.5*(k-I),E+=.5*(k-I)),z=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:E},{type:"elem",elem:u,shift:-w}]},e)}s=e.havingStyle(n),z.height*=s.sizeMultiplier/e.sizeMultiplier,z.depth*=s.sizeMultiplier/e.sizeMultiplier;var D;n.size===qe.DISPLAY.size?D=e.fontMetrics().delim1:n.size===qe.SCRIPTSCRIPT.size?D=e.havingStyle(qe.SCRIPT).fontMetrics().delim2:D=e.fontMetrics().delim2;var O,G;return t.leftDelim==null?O=Us(e,["mopen"]):O=Qr.customSizedDelim(t.leftDelim,D,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?G=ne.makeSpan([]):t.rightDelim==null?G=Us(e,["mclose"]):G=Qr.customSizedDelim(t.rightDelim,D,!0,e.havingStyle(n),t.mode,["mclose"]),ne.makeSpan(["mord"].concat(s.sizingClasses(e)),[O,ne.makeSpan(["mfrac"],[z]),G],e)},yh=(t,e)=>{var n=new ve.MathNode("mfrac",[xt(t.numer,e),xt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=kt(t.barSize,e);n.setAttribute("linethickness",Se(r))}var o=t3(t.size,e.style);if(o.size!==e.style.size){n=new ve.MathNode("mstyle",[n]);var s=o.size===qe.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var u=[];if(t.leftDelim!=null){var d=new ve.MathNode("mo",[new ve.TextNode(t.leftDelim.replace("\\",""))]);d.setAttribute("fence","true"),u.push(d)}if(u.push(n),t.rightDelim!=null){var f=new ve.MathNode("mo",[new ve.TextNode(t.rightDelim.replace("\\",""))]);f.setAttribute("fence","true"),u.push(f)}return lh(u)}return n};_e({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0],s=e[1],u,d=null,f=null,h="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":u=!0;break;case"\\\\atopfrac":u=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":u=!1,d="(",f=")";break;case"\\\\bracefrac":u=!1,d="\\{",f="\\}";break;case"\\\\brackfrac":u=!1,d="[",f="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:o,denom:s,hasBarLine:u,leftDelim:d,rightDelim:f,size:h,barSize:null}},htmlBuilder:vh,mathmlBuilder:yh});_e({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:o,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});_e({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,o;switch(n){case"\\over":o="\\frac";break;case"\\choose":o="\\binom";break;case"\\atop":o="\\\\atopfrac";break;case"\\brace":o="\\\\bracefrac";break;case"\\brack":o="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:o,token:r}}});var xv=["display","text","script","scriptscript"],bv=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};_e({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],o=e[5],s=P0(e[0]),u=s.type==="atom"&&s.family==="open"?bv(s.text):null,d=P0(e[1]),f=d.type==="atom"&&d.family==="close"?bv(d.text):null,h=Ke(e[2],"size"),g,y=null;h.isBlank?g=!0:(y=h.value,g=y.number>0);var b="auto",w=e[3];if(w.type==="ordgroup"){if(w.body.length>0){var k=Ke(w.body[0],"textord");b=xv[Number(k.text)]}}else w=Ke(w,"textord"),b=xv[Number(w.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:o,continued:!1,hasBarLine:g,barSize:y,leftDelim:u,rightDelim:f,size:b}},htmlBuilder:vh,mathmlBuilder:yh});_e({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:o}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ke(e[0],"size").value,token:o}}});_e({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0],s=Q8(Ke(e[1],"infix").size),u=e[2],d=s.number>0;return{type:"genfrac",mode:n.mode,numer:o,denom:u,continued:!1,hasBarLine:d,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:vh,mathmlBuilder:yh});var n3=(t,e)=>{var n=e.style,r,o;t.type==="supsub"?(r=t.sup?at(t.sup,e.havingStyle(n.sup()),e):at(t.sub,e.havingStyle(n.sub()),e),o=Ke(t.base,"horizBrace")):o=Ke(t,"horizBrace");var s=at(o.base,e.havingBaseStyle(qe.DISPLAY)),u=ti.svgSpan(o,e),d;if(o.isOver?(d=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:u}]},e),d.children[0].children[0].children[1].classes.push("svg-align")):(d=ne.makeVList({positionType:"bottom",positionData:s.depth+.1+u.height,children:[{type:"elem",elem:u},{type:"kern",size:.1},{type:"elem",elem:s}]},e),d.children[0].children[0].children[0].classes.push("svg-align")),r){var f=ne.makeSpan(["mord",o.isOver?"mover":"munder"],[d],e);o.isOver?d=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f},{type:"kern",size:.2},{type:"elem",elem:r}]},e):d=ne.makeVList({positionType:"bottom",positionData:f.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:f}]},e)}return ne.makeSpan(["mord",o.isOver?"mover":"munder"],[d],e)},wb=(t,e)=>{var n=ti.mathMLnode(t.label);return new ve.MathNode(t.isOver?"mover":"munder",[xt(t.base,e),n])};_e({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:n3,mathmlBuilder:wb});_e({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],o=Ke(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:o})?{type:"href",mode:n.mode,href:o,body:Ot(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Zt(t.body,e,!1);return ne.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Hi(t.body,e);return n instanceof $n||(n=new $n("mrow",[n])),n.setAttribute("href",t.href),n}});_e({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ke(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var o=[],s=0;s<r.length;s++){var u=r[s];u==="~"&&(u="\\textasciitilde"),o.push({type:"textord",mode:"text",text:u})}var d={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:r,body:Ot(d)}}});_e({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Ot(e[0])}},htmlBuilder(t,e){var n=Zt(t.body,e,!1);return ne.makeFragment(n)},mathmlBuilder(t,e){return new ve.MathNode("mrow",Mn(t.body,e))}});_e({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:o}=t,s=Ke(e[0],"raw").string,u=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var d,f={};switch(r){case"\\htmlClass":f.class=s,d={command:"\\htmlClass",class:s};break;case"\\htmlId":f.id=s,d={command:"\\htmlId",id:s};break;case"\\htmlStyle":f.style=s,d={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var h=s.split(","),g=0;g<h.length;g++){var y=h[g].split("=");if(y.length!==2)throw new ye("Error parsing key-value for \\htmlData");f["data-"+y[0].trim()]=y[1].trim()}d={command:"\\htmlData",attributes:f};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(d)?{type:"html",mode:n.mode,attributes:f,body:Ot(u)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Zt(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var o=ne.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&o.setAttribute(s,t.attributes[s]);return o},mathmlBuilder:(t,e)=>Hi(t.body,e)});_e({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Ot(e[0]),mathml:Ot(e[1])}},htmlBuilder:(t,e)=>{var n=Zt(t.html,e,!1);return ne.makeFragment(n)},mathmlBuilder:(t,e)=>Hi(t.mathml,e)});var rf=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new ye("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!S2(r))throw new ye("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};_e({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,o={number:0,unit:"em"},s={number:.9,unit:"em"},u={number:0,unit:"em"},d="";if(n[0])for(var f=Ke(n[0],"raw").string,h=f.split(","),g=0;g<h.length;g++){var y=h[g].split("=");if(y.length===2){var b=y[1].trim();switch(y[0].trim()){case"alt":d=b;break;case"width":o=rf(b);break;case"height":s=rf(b);break;case"totalheight":u=rf(b);break;default:throw new ye("Invalid key: '"+y[0]+"' in \\includegraphics.")}}}var w=Ke(e[0],"url").url;return d===""&&(d=w,d=d.replace(/^.*[\\/]/,""),d=d.substring(0,d.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:w})?{type:"includegraphics",mode:r.mode,alt:d,width:o,height:s,totalheight:u,src:w}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=kt(t.height,e),r=0;t.totalheight.number>0&&(r=kt(t.totalheight,e)-n);var o=0;t.width.number>0&&(o=kt(t.width,e));var s={height:Se(n+r)};o>0&&(s.width=Se(o)),r>0&&(s.verticalAlign=Se(-r));var u=new wx(t.src,t.alt,s);return u.height=n,u.depth=r,u},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=kt(t.height,e),o=0;if(t.totalheight.number>0&&(o=kt(t.totalheight,e)-r,n.setAttribute("valign",Se(-o))),n.setAttribute("height",Se(r+o)),t.width.number>0){var s=kt(t.width,e);n.setAttribute("width",Se(s))}return n.setAttribute("src",t.src),n}});_e({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,o=Ke(e[0],"size");if(n.settings.strict){var s=r[1]==="m",u=o.value.unit==="mu";s?(u||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+o.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):u&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder(t,e){return ne.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=kt(t.dimension,e);return new ve.SpaceNode(n)}});_e({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:o}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=ne.makeSpan([],[at(t.body,e)]),n=ne.makeSpan(["inner"],[n],e)):n=ne.makeSpan(["inner"],[at(t.body,e)]);var r=ne.makeSpan(["fix"],[]),o=ne.makeSpan([t.alignment],[n,r],e),s=ne.makeSpan(["strut"]);return s.style.height=Se(o.height+o.depth),o.depth&&(s.style.verticalAlign=Se(-o.depth)),o.children.unshift(s),o=ne.makeSpan(["thinbox"],[o],e),ne.makeSpan(["mord","vbox"],[o],e)},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mpadded",[xt(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});_e({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,o=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",u=r.parseExpression(!1,s);return r.expect(s),r.switchMode(o),{type:"styling",mode:r.mode,style:"text",body:u}}});_e({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ye("Mismatched "+t.funcName)}});var Sv=(t,e)=>{switch(e.style.size){case qe.DISPLAY.size:return t.display;case qe.TEXT.size:return t.text;case qe.SCRIPT.size:return t.script;case qe.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};_e({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Ot(e[0]),text:Ot(e[1]),script:Ot(e[2]),scriptscript:Ot(e[3])}},htmlBuilder:(t,e)=>{var n=Sv(t,e),r=Zt(n,e,!1);return ne.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=Sv(t,e);return Hi(n,e)}});var r3=(t,e,n,r,o,s,u)=>{t=ne.makeSpan([],[t]);var d=n&&Oe.isCharacterBox(n),f,h;if(e){var g=at(e,r.havingStyle(o.sup()),r);h={elem:g,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-g.depth)}}if(n){var y=at(n,r.havingStyle(o.sub()),r);f={elem:y,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-y.height)}}var b;if(h&&f){var w=r.fontMetrics().bigOpSpacing5+f.elem.height+f.elem.depth+f.kern+t.depth+u;b=ne.makeVList({positionType:"bottom",positionData:w,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:f.elem,marginLeft:Se(-s)},{type:"kern",size:f.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Se(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(f){var k=t.height-u;b=ne.makeVList({positionType:"top",positionData:k,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:f.elem,marginLeft:Se(-s)},{type:"kern",size:f.kern},{type:"elem",elem:t}]},r)}else if(h){var E=t.depth+u;b=ne.makeVList({positionType:"bottom",positionData:E,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Se(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var z=[b];if(f&&s!==0&&!d){var I=ne.makeSpan(["mspace"],[],r);I.style.marginRight=Se(s),z.unshift(I)}return ne.makeSpan(["mop","op-limits"],z,r)},i3=["\\smallint"],To=(t,e)=>{var n,r,o=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ke(t.base,"op"),o=!0):s=Ke(t,"op");var u=e.style,d=!1;u.size===qe.DISPLAY.size&&s.symbol&&!Oe.contains(i3,s.name)&&(d=!0);var f;if(s.symbol){var h=d?"Size2-Regular":"Size1-Regular",g="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(g=s.name.slice(1),s.name=g==="oiint"?"\\iint":"\\iiint"),f=ne.makeSymbol(s.name,h,"math",e,["mop","op-symbol",d?"large-op":"small-op"]),g.length>0){var y=f.italic,b=ne.staticSvg(g+"Size"+(d?"2":"1"),e);f=ne.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:0},{type:"elem",elem:b,shift:d?.08:0}]},e),s.name="\\"+g,f.classes.unshift("mop"),f.italic=y}}else if(s.body){var w=Zt(s.body,e,!0);w.length===1&&w[0]instanceof or?(f=w[0],f.classes[0]="mop"):f=ne.makeSpan(["mop"],w,e)}else{for(var k=[],E=1;E<s.name.length;E++)k.push(ne.mathsym(s.name[E],s.mode,e));f=ne.makeSpan(["mop"],k,e)}var z=0,I=0;return(f instanceof or||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(z=(f.height-f.depth)/2-e.fontMetrics().axisHeight,I=f.italic),o?r3(f,n,r,e,u,I,z):(z&&(f.style.position="relative",f.style.top=Se(z)),f)},Gs=(t,e)=>{var n;if(t.symbol)n=new $n("mo",[sr(t.name,t.mode)]),Oe.contains(i3,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new $n("mo",Mn(t.body,e));else{n=new $n("mi",[new Ar(t.name.slice(1))]);var r=new $n("mo",[sr("","text")]);t.parentIsSupSub?n=new $n("mrow",[n,r]):n=R2([n,r])}return n},Tb={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};_e({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=r;return o.length===1&&(o=Tb[o]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:To,mathmlBuilder:Gs});_e({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ot(r)}},htmlBuilder:To,mathmlBuilder:Gs});var _b={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};_e({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:To,mathmlBuilder:Gs});_e({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:To,mathmlBuilder:Gs});_e({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=_b[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:To,mathmlBuilder:Gs});var a3=(t,e)=>{var n,r,o=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ke(t.base,"operatorname"),o=!0):s=Ke(t,"operatorname");var u;if(s.body.length>0){for(var d=s.body.map(y=>{var b=y.text;return typeof b=="string"?{type:"textord",mode:y.mode,text:b}:y}),f=Zt(d,e.withFont("mathrm"),!0),h=0;h<f.length;h++){var g=f[h];g instanceof or&&(g.text=g.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}u=ne.makeSpan(["mop"],f,e)}else u=ne.makeSpan(["mop"],[],e);return o?r3(u,n,r,e,e.style,0,0):u},Ab=(t,e)=>{for(var n=Mn(t.body,e.withFont("mathrm")),r=!0,o=0;o<n.length;o++){var s=n[o];if(!(s instanceof ve.SpaceNode))if(s instanceof ve.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var u=s.children[0];s.children.length===1&&u instanceof ve.TextNode?u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var d=n.map(g=>g.toText()).join("");n=[new ve.TextNode(d)]}var f=new ve.MathNode("mi",n);f.setAttribute("mathvariant","normal");var h=new ve.MathNode("mo",[sr("","text")]);return t.parentIsSupSub?new ve.MathNode("mrow",[f,h]):ve.newDocumentFragment([f,h])};_e({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0];return{type:"operatorname",mode:n.mode,body:Ot(o),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:a3,mathmlBuilder:Ab});N("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");xa({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ne.makeFragment(Zt(t.body,e,!1)):ne.makeSpan(["mord"],Zt(t.body,e,!0),e)},mathmlBuilder(t,e){return Hi(t.body,e,!0)}});_e({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=at(t.body,e.havingCrampedStyle()),r=ne.makeLineSpan("overline-line",e),o=e.fontMetrics().defaultRuleThickness,s=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:r},{type:"kern",size:o}]},e);return ne.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[new ve.TextNode("")]);n.setAttribute("stretchy","true");var r=new ve.MathNode("mover",[xt(t.body,e),n]);return r.setAttribute("accent","true"),r}});_e({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Ot(r)}},htmlBuilder:(t,e)=>{var n=Zt(t.body,e.withPhantom(),!1);return ne.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Mn(t.body,e);return new ve.MathNode("mphantom",n)}});_e({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ne.makeSpan([],[at(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ne.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Mn(Ot(t.body),e),r=new ve.MathNode("mphantom",n),o=new ve.MathNode("mpadded",[r]);return o.setAttribute("height","0px"),o.setAttribute("depth","0px"),o}});_e({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ne.makeSpan(["inner"],[at(t.body,e.withPhantom())]),r=ne.makeSpan(["fix"],[]);return ne.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Mn(Ot(t.body),e),r=new ve.MathNode("mphantom",n),o=new ve.MathNode("mpadded",[r]);return o.setAttribute("width","0px"),o}});_e({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ke(e[0],"size").value,o=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:o}},htmlBuilder(t,e){var n=at(t.body,e),r=kt(t.dy,e);return ne.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new ve.MathNode("mpadded",[xt(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});_e({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});_e({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,o=n[0],s=Ke(e[0],"size"),u=Ke(e[1],"size");return{type:"rule",mode:r.mode,shift:o&&Ke(o,"size").value,width:s.value,height:u.value}},htmlBuilder(t,e){var n=ne.makeSpan(["mord","rule"],[],e),r=kt(t.width,e),o=kt(t.height,e),s=t.shift?kt(t.shift,e):0;return n.style.borderRightWidth=Se(r),n.style.borderTopWidth=Se(o),n.style.bottom=Se(s),n.width=r,n.height=o+s,n.depth=-s,n.maxFontSize=o*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=kt(t.width,e),r=kt(t.height,e),o=t.shift?kt(t.shift,e):0,s=e.color&&e.getColor()||"black",u=new ve.MathNode("mspace");u.setAttribute("mathbackground",s),u.setAttribute("width",Se(n)),u.setAttribute("height",Se(r));var d=new ve.MathNode("mpadded",[u]);return o>=0?d.setAttribute("height",Se(o)):(d.setAttribute("height",Se(o)),d.setAttribute("depth",Se(-o))),d.setAttribute("voffset",Se(o)),d}});function o3(t,e,n){for(var r=Zt(t,e,!1),o=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var u=r[s].classes.indexOf("sizing");u<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[u+1]==="reset-size"+e.size&&(r[s].classes[u+1]="reset-size"+n.size),r[s].height*=o,r[s].depth*=o}return ne.makeFragment(r)}var wv=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Eb=(t,e)=>{var n=e.havingSize(t.size);return o3(t.body,n,e)};_e({type:"sizing",names:wv,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:o}=t,s=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:wv.indexOf(r)+1,body:s}},htmlBuilder:Eb,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Mn(t.body,n),o=new ve.MathNode("mstyle",r);return o.setAttribute("mathsize",Se(n.sizeMultiplier)),o}});_e({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,o=!1,s=!1,u=n[0]&&Ke(n[0],"ordgroup");if(u)for(var d="",f=0;f<u.body.length;++f){var h=u.body[f];if(d=h.text,d==="t")o=!0;else if(d==="b")s=!0;else{o=!1,s=!1;break}}else o=!0,s=!0;var g=e[0];return{type:"smash",mode:r.mode,body:g,smashHeight:o,smashDepth:s}},htmlBuilder:(t,e)=>{var n=ne.makeSpan([],[at(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var s=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ne.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mpadded",[xt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});_e({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,o=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:o}},htmlBuilder(t,e){var n=at(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=ne.wrapFragment(n,e);var r=e.fontMetrics(),o=r.defaultRuleThickness,s=o;e.style.id<qe.TEXT.id&&(s=e.fontMetrics().xHeight);var u=o+s/4,d=n.height+n.depth+u+o,{span:f,ruleWidth:h,advanceWidth:g}=Qr.sqrtImage(d,e),y=f.height-h;y>n.height+n.depth+u&&(u=(u+y-n.height-n.depth)/2);var b=f.height-n.height-u-h;n.style.paddingLeft=Se(g);var w=ne.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+b)},{type:"elem",elem:f},{type:"kern",size:h}]},e);if(t.index){var k=e.havingStyle(qe.SCRIPTSCRIPT),E=at(t.index,k,e),z=.6*(w.height-w.depth),I=ne.makeVList({positionType:"shift",positionData:-z,children:[{type:"elem",elem:E}]},e),U=ne.makeSpan(["root"],[I]);return ne.makeSpan(["mord","sqrt"],[U,w],e)}else return ne.makeSpan(["mord","sqrt"],[w],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new ve.MathNode("mroot",[xt(n,e),xt(r,e)]):new ve.MathNode("msqrt",[xt(n,e)])}});var Tv={display:qe.DISPLAY,text:qe.TEXT,script:qe.SCRIPT,scriptscript:qe.SCRIPTSCRIPT};_e({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:o}=t,s=o.parseExpression(!0,n),u=r.slice(1,r.length-5);return{type:"styling",mode:o.mode,style:u,body:s}},htmlBuilder(t,e){var n=Tv[t.style],r=e.havingStyle(n).withFont("");return o3(t.body,r,e)},mathmlBuilder(t,e){var n=Tv[t.style],r=e.havingStyle(n),o=Mn(t.body,r),s=new ve.MathNode("mstyle",o),u={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},d=u[t.style];return s.setAttribute("scriptlevel",d[0]),s.setAttribute("displaystyle",d[1]),s}});var Cb=function(e,n){var r=e.base;if(r)if(r.type==="op"){var o=r.limits&&(n.style.size===qe.DISPLAY.size||r.alwaysHandleSupSub);return o?To:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===qe.DISPLAY.size||r.limits);return s?a3:null}else{if(r.type==="accent")return Oe.isCharacterBox(r.base)?dh:null;if(r.type==="horizBrace"){var u=!e.sub;return u===r.isOver?n3:null}else return null}else return null};xa({type:"supsub",htmlBuilder(t,e){var n=Cb(t,e);if(n)return n(t,e);var{base:r,sup:o,sub:s}=t,u=at(r,e),d,f,h=e.fontMetrics(),g=0,y=0,b=r&&Oe.isCharacterBox(r);if(o){var w=e.havingStyle(e.style.sup());d=at(o,w,e),b||(g=u.height-w.fontMetrics().supDrop*w.sizeMultiplier/e.sizeMultiplier)}if(s){var k=e.havingStyle(e.style.sub());f=at(s,k,e),b||(y=u.depth+k.fontMetrics().subDrop*k.sizeMultiplier/e.sizeMultiplier)}var E;e.style===qe.DISPLAY?E=h.sup1:e.style.cramped?E=h.sup3:E=h.sup2;var z=e.sizeMultiplier,I=Se(.5/h.ptPerEm/z),U=null;if(f){var q=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(u instanceof or||q)&&(U=Se(-u.italic))}var D;if(d&&f){g=Math.max(g,E,d.depth+.25*h.xHeight),y=Math.max(y,h.sub2);var O=h.defaultRuleThickness,G=4*O;if(g-d.depth-(f.height-y)<G){y=G-(g-d.depth)+f.height;var R=.8*h.xHeight-(g-d.depth);R>0&&(g+=R,y-=R)}var L=[{type:"elem",elem:f,shift:y,marginRight:I,marginLeft:U},{type:"elem",elem:d,shift:-g,marginRight:I}];D=ne.makeVList({positionType:"individualShift",children:L},e)}else if(f){y=Math.max(y,h.sub1,f.height-.8*h.xHeight);var V=[{type:"elem",elem:f,marginLeft:U,marginRight:I}];D=ne.makeVList({positionType:"shift",positionData:y,children:V},e)}else if(d)g=Math.max(g,E,d.depth+.25*h.xHeight),D=ne.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:d,marginRight:I}]},e);else throw new Error("supsub must have either sup or sub.");var Q=_f(u,"right")||"mord";return ne.makeSpan([Q],[u,ne.makeSpan(["msupsub"],[D])],e)},mathmlBuilder(t,e){var n=!1,r,o;t.base&&t.base.type==="horizBrace"&&(o=!!t.sup,o===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[xt(t.base,e)];t.sub&&s.push(xt(t.sub,e)),t.sup&&s.push(xt(t.sup,e));var u;if(n)u=r?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===qe.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===qe.DISPLAY||h.limits)?u="munderover":u="msubsup"}else{var f=t.base;f&&f.type==="op"&&f.limits&&(e.style===qe.DISPLAY||f.alwaysHandleSupSub)||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(f.limits||e.style===qe.DISPLAY)?u="munder":u="msub"}else{var d=t.base;d&&d.type==="op"&&d.limits&&(e.style===qe.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||e.style===qe.DISPLAY)?u="mover":u="msup"}return new ve.MathNode(u,s)}});xa({type:"atom",htmlBuilder(t,e){return ne.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[sr(t.text,t.mode)]);if(t.family==="bin"){var r=uh(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var s3={mi:"italic",mn:"normal",mtext:"normal"};xa({type:"mathord",htmlBuilder(t,e){return ne.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new ve.MathNode("mi",[sr(t.text,t.mode,e)]),r=uh(t,e)||"italic";return r!==s3[n.type]&&n.setAttribute("mathvariant",r),n}});xa({type:"textord",htmlBuilder(t,e){return ne.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=sr(t.text,t.mode,e),r=uh(t,e)||"normal",o;return t.mode==="text"?o=new ve.MathNode("mtext",[n]):/[0-9]/.test(t.text)?o=new ve.MathNode("mn",[n]):t.text==="\\prime"?o=new ve.MathNode("mo",[n]):o=new ve.MathNode("mi",[n]),r!==s3[o.type]&&o.setAttribute("mathvariant",r),o}});var af={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},of={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};xa({type:"spacing",htmlBuilder(t,e){if(of.hasOwnProperty(t.text)){var n=of[t.text].className||"";if(t.mode==="text"){var r=ne.makeOrd(t,e,"textord");return r.classes.push(n),r}else return ne.makeSpan(["mspace",n],[ne.mathsym(t.text,t.mode,e)],e)}else{if(af.hasOwnProperty(t.text))return ne.makeSpan(["mspace",af[t.text]],[],e);throw new ye('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(of.hasOwnProperty(t.text))n=new ve.MathNode("mtext",[new ve.TextNode("")]);else{if(af.hasOwnProperty(t.text))return new ve.MathNode("mspace");throw new ye('Unknown type of space "'+t.text+'"')}return n}});var _v=()=>{var t=new ve.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};xa({type:"tag",mathmlBuilder(t,e){var n=new ve.MathNode("mtable",[new ve.MathNode("mtr",[_v(),new ve.MathNode("mtd",[Hi(t.body,e)]),_v(),new ve.MathNode("mtd",[Hi(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var Av={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Ev={"\\textbf":"textbf","\\textmd":"textmd"},kb={"\\textit":"textit","\\textup":"textup"},Cv=(t,e)=>{var n=t.font;if(n){if(Av[n])return e.withTextFontFamily(Av[n]);if(Ev[n])return e.withTextFontWeight(Ev[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(kb[n])};_e({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,o=e[0];return{type:"text",mode:n.mode,body:Ot(o),font:r}},htmlBuilder(t,e){var n=Cv(t,e),r=Zt(t.body,n,!0);return ne.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=Cv(t,e);return Hi(t.body,n)}});_e({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=at(t.body,e),r=ne.makeLineSpan("underline-line",e),o=e.fontMetrics().defaultRuleThickness,s=ne.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:o},{type:"elem",elem:r},{type:"kern",size:3*o},{type:"elem",elem:n}]},e);return ne.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[new ve.TextNode("")]);n.setAttribute("stretchy","true");var r=new ve.MathNode("munder",[xt(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});_e({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=at(t.body,e),r=e.fontMetrics().axisHeight,o=.5*(n.height-r-(n.depth+r));return ne.makeVList({positionType:"shift",positionData:o,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new ve.MathNode("mpadded",[xt(t.body,e)],["vcenter"])}});_e({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new ye("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=kv(t),r=[],o=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var u=n[s];u==="~"&&(u="\\textasciitilde"),r.push(ne.makeSymbol(u,"Typewriter-Regular",t.mode,o,["mord","texttt"]))}return ne.makeSpan(["mord","text"].concat(o.sizingClasses(e)),ne.tryCombineChars(r),o)},mathmlBuilder(t,e){var n=new ve.TextNode(kv(t)),r=new ve.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var kv=t=>t.body.replace(/ /g,t.star?"":""),Ui=M2,l3=`[ \r
	]`,zb="\\\\[a-zA-Z@]+",Mb="\\\\[^\uD800-\uDFFF]",Nb="("+zb+")"+l3+"*",Rb=`\\\\(
|[ \r	]+
?)[ \r	]*`,kf="[-]",Ib=new RegExp(kf+"+$"),Db="("+l3+"+)|"+(Rb+"|")+"([!-\\[\\]---]"+(kf+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(kf+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Nb)+("|"+Mb+")");class zv{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(Db,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new ir("EOF",new Gn(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new ye("Unexpected character: '"+e[n]+"'",new ir(e[n],new Gn(this,n,n+1)));var o=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[o]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new ir(o,new Gn(this,n,this.tokenRegex.lastIndex))}}class Lb{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ye("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var o=0;o<this.undefStack.length;o++)delete this.undefStack[o][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var Ub=W2;N("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});N("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});N("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});N("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});N("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});N("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");N("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Mv={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};N("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ye("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=Mv[e.text],r==null||r>=n)throw new ye("Invalid base-"+n+" digit "+e.text);for(var o;(o=Mv[t.future().text])!=null&&o<n;)r*=n,r+=o,t.popToken()}return"\\@char{"+r+"}"});var xh=(t,e,n,r)=>{var o=t.consumeArg().tokens;if(o.length!==1)throw new ye("\\newcommand's first argument must be a macro name");var s=o[0].text,u=t.isDefined(s);if(u&&!e)throw new ye("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!u&&!n)throw new ye("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var d=0;if(o=t.consumeArg().tokens,o.length===1&&o[0].text==="["){for(var f="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)f+=h.text,h=t.expandNextToken();if(!f.match(/^\s*[0-9]+\s*$/))throw new ye("Invalid number of arguments: "+f);d=parseInt(f),o=t.consumeArg().tokens}return u&&r||t.macros.set(s,{tokens:o,numArgs:d}),""};N("\\newcommand",t=>xh(t,!1,!0,!1));N("\\renewcommand",t=>xh(t,!0,!1,!1));N("\\providecommand",t=>xh(t,!0,!0,!0));N("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});N("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});N("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Ui[n],bt.math[n],bt.text[n]),""});N("\\bgroup","{");N("\\egroup","}");N("~","\\nobreakspace");N("\\lq","`");N("\\rq","'");N("\\aa","\\r a");N("\\AA","\\r A");N("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");N("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");N("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");N("","\\mathscr{B}");N("","\\mathscr{E}");N("","\\mathscr{F}");N("","\\mathscr{H}");N("","\\mathscr{I}");N("","\\mathscr{L}");N("","\\mathscr{M}");N("","\\mathscr{R}");N("","\\mathfrak{C}");N("","\\mathfrak{H}");N("","\\mathfrak{Z}");N("\\Bbbk","\\Bbb{k}");N("","\\cdotp");N("\\llap","\\mathllap{\\textrm{#1}}");N("\\rlap","\\mathrlap{\\textrm{#1}}");N("\\clap","\\mathclap{\\textrm{#1}}");N("\\mathstrut","\\vphantom{(}");N("\\underbar","\\underline{\\text{#1}}");N("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');N("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");N("\\ne","\\neq");N("","\\neq");N("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");N("","\\notin");N("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");N("","\\perp");N("","\\mathclose{!\\mkern-0.8mu!}");N("","\\notni");N("","\\ulcorner");N("","\\urcorner");N("","\\llcorner");N("","\\lrcorner");N("","\\copyright");N("","\\textregistered");N("","\\textregistered");N("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');N("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');N("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');N("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');N("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");N("","\\vdots");N("\\varGamma","\\mathit{\\Gamma}");N("\\varDelta","\\mathit{\\Delta}");N("\\varTheta","\\mathit{\\Theta}");N("\\varLambda","\\mathit{\\Lambda}");N("\\varXi","\\mathit{\\Xi}");N("\\varPi","\\mathit{\\Pi}");N("\\varSigma","\\mathit{\\Sigma}");N("\\varUpsilon","\\mathit{\\Upsilon}");N("\\varPhi","\\mathit{\\Phi}");N("\\varPsi","\\mathit{\\Psi}");N("\\varOmega","\\mathit{\\Omega}");N("\\substack","\\begin{subarray}{c}#1\\end{subarray}");N("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");N("\\boxed","\\fbox{$\\displaystyle{#1}$}");N("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");N("\\implies","\\DOTSB\\;\\Longrightarrow\\;");N("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");N("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");N("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Nv={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};N("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in Nv?e=Nv[n]:(n.slice(0,4)==="\\not"||n in bt.math&&Oe.contains(["bin","rel"],bt.math[n].group))&&(e="\\dotsb"),e});var bh={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};N("\\dotso",function(t){var e=t.future().text;return e in bh?"\\ldots\\,":"\\ldots"});N("\\dotsc",function(t){var e=t.future().text;return e in bh&&e!==","?"\\ldots\\,":"\\ldots"});N("\\cdots",function(t){var e=t.future().text;return e in bh?"\\@cdots\\,":"\\@cdots"});N("\\dotsb","\\cdots");N("\\dotsm","\\cdots");N("\\dotsi","\\!\\cdots");N("\\dotsx","\\ldots\\,");N("\\DOTSI","\\relax");N("\\DOTSB","\\relax");N("\\DOTSX","\\relax");N("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");N("\\,","\\tmspace+{3mu}{.1667em}");N("\\thinspace","\\,");N("\\>","\\mskip{4mu}");N("\\:","\\tmspace+{4mu}{.2222em}");N("\\medspace","\\:");N("\\;","\\tmspace+{5mu}{.2777em}");N("\\thickspace","\\;");N("\\!","\\tmspace-{3mu}{.1667em}");N("\\negthinspace","\\!");N("\\negmedspace","\\tmspace-{4mu}{.2222em}");N("\\negthickspace","\\tmspace-{5mu}{.277em}");N("\\enspace","\\kern.5em ");N("\\enskip","\\hskip.5em\\relax");N("\\quad","\\hskip1em\\relax");N("\\qquad","\\hskip2em\\relax");N("\\tag","\\@ifstar\\tag@literal\\tag@paren");N("\\tag@paren","\\tag@literal{({#1})}");N("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ye("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});N("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");N("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");N("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");N("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");N("\\newline","\\\\\\relax");N("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var u3=Se(_r["Main-Regular"][84][1]-.7*_r["Main-Regular"][65][1]);N("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+u3+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");N("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+u3+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");N("\\hspace","\\@ifstar\\@hspacer\\@hspace");N("\\@hspace","\\hskip #1\\relax");N("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");N("\\ordinarycolon",":");N("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");N("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');N("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');N("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');N("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');N("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');N("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');N("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');N("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');N("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');N("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');N("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');N("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');N("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');N("","\\dblcolon");N("","\\eqcolon");N("","\\coloneqq");N("","\\eqqcolon");N("","\\Coloneqq");N("\\ratio","\\vcentcolon");N("\\coloncolon","\\dblcolon");N("\\colonequals","\\coloneqq");N("\\coloncolonequals","\\Coloneqq");N("\\equalscolon","\\eqqcolon");N("\\equalscoloncolon","\\Eqqcolon");N("\\colonminus","\\coloneq");N("\\coloncolonminus","\\Coloneq");N("\\minuscolon","\\eqcolon");N("\\minuscoloncolon","\\Eqcolon");N("\\coloncolonapprox","\\Colonapprox");N("\\coloncolonsim","\\Colonsim");N("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");N("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");N("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");N("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");N("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");N("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");N("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");N("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");N("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");N("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");N("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");N("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");N("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");N("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");N("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");N("\\ngeqq","\\html@mathml{\\@ngeqq}{}");N("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");N("\\nleqq","\\html@mathml{\\@nleqq}{}");N("\\nleqslant","\\html@mathml{\\@nleqslant}{}");N("\\nshortmid","\\html@mathml{\\@nshortmid}{}");N("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");N("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");N("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");N("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");N("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");N("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");N("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");N("\\imath","\\html@mathml{\\@imath}{}");N("\\jmath","\\html@mathml{\\@jmath}{}");N("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");N("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");N("","\\llbracket");N("","\\rrbracket");N("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");N("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");N("","\\lBrace");N("","\\rBrace");N("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");N("","\\minuso");N("\\darr","\\downarrow");N("\\dArr","\\Downarrow");N("\\Darr","\\Downarrow");N("\\lang","\\langle");N("\\rang","\\rangle");N("\\uarr","\\uparrow");N("\\uArr","\\Uparrow");N("\\Uarr","\\Uparrow");N("\\N","\\mathbb{N}");N("\\R","\\mathbb{R}");N("\\Z","\\mathbb{Z}");N("\\alef","\\aleph");N("\\alefsym","\\aleph");N("\\Alpha","\\mathrm{A}");N("\\Beta","\\mathrm{B}");N("\\bull","\\bullet");N("\\Chi","\\mathrm{X}");N("\\clubs","\\clubsuit");N("\\cnums","\\mathbb{C}");N("\\Complex","\\mathbb{C}");N("\\Dagger","\\ddagger");N("\\diamonds","\\diamondsuit");N("\\empty","\\emptyset");N("\\Epsilon","\\mathrm{E}");N("\\Eta","\\mathrm{H}");N("\\exist","\\exists");N("\\harr","\\leftrightarrow");N("\\hArr","\\Leftrightarrow");N("\\Harr","\\Leftrightarrow");N("\\hearts","\\heartsuit");N("\\image","\\Im");N("\\infin","\\infty");N("\\Iota","\\mathrm{I}");N("\\isin","\\in");N("\\Kappa","\\mathrm{K}");N("\\larr","\\leftarrow");N("\\lArr","\\Leftarrow");N("\\Larr","\\Leftarrow");N("\\lrarr","\\leftrightarrow");N("\\lrArr","\\Leftrightarrow");N("\\Lrarr","\\Leftrightarrow");N("\\Mu","\\mathrm{M}");N("\\natnums","\\mathbb{N}");N("\\Nu","\\mathrm{N}");N("\\Omicron","\\mathrm{O}");N("\\plusmn","\\pm");N("\\rarr","\\rightarrow");N("\\rArr","\\Rightarrow");N("\\Rarr","\\Rightarrow");N("\\real","\\Re");N("\\reals","\\mathbb{R}");N("\\Reals","\\mathbb{R}");N("\\Rho","\\mathrm{P}");N("\\sdot","\\cdot");N("\\sect","\\S");N("\\spades","\\spadesuit");N("\\sub","\\subset");N("\\sube","\\subseteq");N("\\supe","\\supseteq");N("\\Tau","\\mathrm{T}");N("\\thetasym","\\vartheta");N("\\weierp","\\wp");N("\\Zeta","\\mathrm{Z}");N("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");N("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");N("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");N("\\bra","\\mathinner{\\langle{#1}|}");N("\\ket","\\mathinner{|{#1}\\rangle}");N("\\braket","\\mathinner{\\langle{#1}\\rangle}");N("\\Bra","\\left\\langle#1\\right|");N("\\Ket","\\left|#1\\right\\rangle");var c3=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,o=e.consumeArg().tokens,s=e.consumeArg().tokens,u=e.macros.get("|"),d=e.macros.get("\\|");e.macros.beginGroup();var f=y=>b=>{t&&(b.macros.set("|",u),o.length&&b.macros.set("\\|",d));var w=y;if(!y&&o.length){var k=b.future();k.text==="|"&&(b.popToken(),w=!0)}return{tokens:w?o:r,numArgs:0}};e.macros.set("|",f(!1)),o.length&&e.macros.set("\\|",f(!0));var h=e.consumeArg().tokens,g=e.expandTokens([...s,...h,...n]);return e.macros.endGroup(),{tokens:g.reverse(),numArgs:0}};N("\\bra@ket",c3(!1));N("\\bra@set",c3(!0));N("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");N("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");N("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");N("\\angln","{\\angl n}");N("\\blue","\\textcolor{##6495ed}{#1}");N("\\orange","\\textcolor{##ffa500}{#1}");N("\\pink","\\textcolor{##ff00af}{#1}");N("\\red","\\textcolor{##df0030}{#1}");N("\\green","\\textcolor{##28ae7b}{#1}");N("\\gray","\\textcolor{gray}{#1}");N("\\purple","\\textcolor{##9d38bd}{#1}");N("\\blueA","\\textcolor{##ccfaff}{#1}");N("\\blueB","\\textcolor{##80f6ff}{#1}");N("\\blueC","\\textcolor{##63d9ea}{#1}");N("\\blueD","\\textcolor{##11accd}{#1}");N("\\blueE","\\textcolor{##0c7f99}{#1}");N("\\tealA","\\textcolor{##94fff5}{#1}");N("\\tealB","\\textcolor{##26edd5}{#1}");N("\\tealC","\\textcolor{##01d1c1}{#1}");N("\\tealD","\\textcolor{##01a995}{#1}");N("\\tealE","\\textcolor{##208170}{#1}");N("\\greenA","\\textcolor{##b6ffb0}{#1}");N("\\greenB","\\textcolor{##8af281}{#1}");N("\\greenC","\\textcolor{##74cf70}{#1}");N("\\greenD","\\textcolor{##1fab54}{#1}");N("\\greenE","\\textcolor{##0d923f}{#1}");N("\\goldA","\\textcolor{##ffd0a9}{#1}");N("\\goldB","\\textcolor{##ffbb71}{#1}");N("\\goldC","\\textcolor{##ff9c39}{#1}");N("\\goldD","\\textcolor{##e07d10}{#1}");N("\\goldE","\\textcolor{##a75a05}{#1}");N("\\redA","\\textcolor{##fca9a9}{#1}");N("\\redB","\\textcolor{##ff8482}{#1}");N("\\redC","\\textcolor{##f9685d}{#1}");N("\\redD","\\textcolor{##e84d39}{#1}");N("\\redE","\\textcolor{##bc2612}{#1}");N("\\maroonA","\\textcolor{##ffbde0}{#1}");N("\\maroonB","\\textcolor{##ff92c6}{#1}");N("\\maroonC","\\textcolor{##ed5fa6}{#1}");N("\\maroonD","\\textcolor{##ca337c}{#1}");N("\\maroonE","\\textcolor{##9e034e}{#1}");N("\\purpleA","\\textcolor{##ddd7ff}{#1}");N("\\purpleB","\\textcolor{##c6b9fc}{#1}");N("\\purpleC","\\textcolor{##aa87ff}{#1}");N("\\purpleD","\\textcolor{##7854ab}{#1}");N("\\purpleE","\\textcolor{##543b78}{#1}");N("\\mintA","\\textcolor{##f5f9e8}{#1}");N("\\mintB","\\textcolor{##edf2df}{#1}");N("\\mintC","\\textcolor{##e0e5cc}{#1}");N("\\grayA","\\textcolor{##f6f7f7}{#1}");N("\\grayB","\\textcolor{##f0f1f2}{#1}");N("\\grayC","\\textcolor{##e3e5e6}{#1}");N("\\grayD","\\textcolor{##d6d8da}{#1}");N("\\grayE","\\textcolor{##babec2}{#1}");N("\\grayF","\\textcolor{##888d93}{#1}");N("\\grayG","\\textcolor{##626569}{#1}");N("\\grayH","\\textcolor{##3b3e40}{#1}");N("\\grayI","\\textcolor{##21242c}{#1}");N("\\kaBlue","\\textcolor{##314453}{#1}");N("\\kaGreen","\\textcolor{##71B307}{#1}");var d3={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Ob{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new Lb(Ub,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new zv(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,o;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:o,end:r}=this.consumeArg(["]"])}else({tokens:o,start:n,end:r}=this.consumeArg());return this.pushToken(new ir("EOF",r.loc)),this.pushTokens(o),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var o=this.future(),s,u=0,d=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++u;else if(s.text==="}"){if(--u,u===-1)throw new ye("Extra }",s)}else if(s.text==="EOF")throw new ye("Unexpected end of input in a macro argument, expected '"+(e&&r?e[d]:"}")+"'",s);if(e&&r)if((u===0||u===1&&e[d]==="{")&&s.text===e[d]){if(++d,d===e.length){n.splice(-d,d);break}}else d=0}while(u!==0||r);return o.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:o,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new ye("The length of delimiters doesn't match the number of args!");for(var r=n[0],o=0;o<r.length;o++){var s=this.popToken();if(r[o]!==s.text)throw new ye("Use of the macro doesn't match its definition",s)}}for(var u=[],d=0;d<e;d++)u.push(this.consumeArg(n&&n[d+1]).tokens);return u}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ye("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,o=n.noexpand?null:this._getExpansion(r);if(o==null||e&&o.unexpandable){if(e&&o==null&&r[0]==="\\"&&!this.isDefined(r))throw new ye("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=o.tokens,u=this.consumeArgs(o.numArgs,o.delimiters);if(o.numArgs){s=s.slice();for(var d=s.length-1;d>=0;--d){var f=s[d];if(f.text==="#"){if(d===0)throw new ye("Incomplete placeholder at end of macro body",f);if(f=s[--d],f.text==="#")s.splice(d+1,1);else if(/^[1-9]$/.test(f.text))s.splice(d,2,...u[+f.text-1]);else throw new ye("Not a valid argument number",f)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new ir(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var o=this.stack.pop();o.treatAsRelax&&(o.noexpand=!1,o.treatAsRelax=!1),n.push(o)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var o=typeof n=="function"?n(this):n;if(typeof o=="string"){var s=0;if(o.indexOf("#")!==-1)for(var u=o.replace(/##/g,"");u.indexOf("#"+(s+1))!==-1;)++s;for(var d=new zv(o,this.settings),f=[],h=d.lex();h.text!=="EOF";)f.push(h),h=d.lex();f.reverse();var g={tokens:f,numArgs:s};return g}return o}isDefined(e){return this.macros.has(e)||Ui.hasOwnProperty(e)||bt.math.hasOwnProperty(e)||bt.text.hasOwnProperty(e)||d3.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Ui.hasOwnProperty(e)&&!Ui[e].primitive}}var Rv=/^[]/,p0=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),sf={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Iv={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class uu{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Ob(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new ye("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new ir("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var o=this.fetch();if(uu.endOfExpression.indexOf(o.text)!==-1||n&&o.text===n||e&&Ui[o.text]&&Ui[o.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,o=0;o<e.length;o++)if(e[o].type==="infix"){if(n!==-1)throw new ye("only one infix operator per group",e[o].token);n=o,r=e[o].replaceWith}if(n!==-1&&r){var s,u,d=e.slice(0,n),f=e.slice(n+1);d.length===1&&d[0].type==="ordgroup"?s=d[0]:s={type:"ordgroup",mode:this.mode,body:d},f.length===1&&f[0].type==="ordgroup"?u=f[0]:u={type:"ordgroup",mode:this.mode,body:f};var h;return r==="\\\\abovefrac"?h=this.callFunction(r,[s,e[n],u],[]):h=this.callFunction(r,[s,u],[]),[h]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var o;do{var s;o=this.parseGroup(e)}while(((s=o)==null?void 0:s.type)==="internal");if(!o)throw new ye("Expected group after '"+r+"'",n);return o}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var o={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[o]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,o;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var u=s.text==="\\limits";n.limits=u,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new ye("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new ye("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(o)throw new ye("Double subscript",s);o=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new ye("Double superscript",s);var d={type:"textord",mode:this.mode,text:"\\prime"},f=[d];for(this.consume();this.fetch().text==="'";)f.push(d),this.consume();this.fetch().text==="^"&&f.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:f}}else if(p0[s.text]){var h=Rv.test(s.text),g=[];for(g.push(new ir(p0[s.text])),this.consume();;){var y=this.fetch().text;if(!p0[y]||Rv.test(y)!==h)break;g.unshift(new ir(p0[y])),this.consume()}var b=this.subparse(g);h?o={type:"ordgroup",mode:"math",body:b}:r={type:"ordgroup",mode:"math",body:b}}else break}return r||o?{type:"supsub",mode:this.mode,base:n,sup:r,sub:o}:n}parseFunction(e,n){var r=this.fetch(),o=r.text,s=Ui[o];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new ye("Got function '"+o+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new ye("Can't use function '"+o+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new ye("Can't use function '"+o+"' in math mode",r);var{args:u,optArgs:d}=this.parseArguments(o,s);return this.callFunction(o,u,d,r,e)}callFunction(e,n,r,o,s){var u={funcName:e,parser:this,token:o,breakOnTokenText:s},d=Ui[e];if(d&&d.handler)return d.handler(u,n,r);throw new ye("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var o=[],s=[],u=0;u<r;u++){var d=n.argTypes&&n.argTypes[u],f=u<n.numOptionalArgs;(n.primitive&&d==null||n.type==="sqrt"&&u===1&&s[0]==null)&&(d="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",d,f);if(f)s.push(h);else if(h!=null)o.push(h);else throw new ye("Null argument, please report this as a bug")}return{args:o,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var o=this.parseArgumentGroup(r,"text");return o!=null?{type:"styling",mode:o.mode,body:[o],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new ye("A primitive argument cannot be optional");var u=this.parseGroup(e);if(u==null)throw new ye("Expected group as "+e,this.fetch());return u}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ye("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var o="",s;(s=this.fetch()).text!=="EOF";)o+=s.text,this.consume();return this.consume(),r.text=o,r}parseRegexGroup(e,n){for(var r=this.fetch(),o=r,s="",u;(u=this.fetch()).text!=="EOF"&&e.test(s+u.text);)o=u,s+=o.text,this.consume();if(s==="")throw new ye("Invalid "+n+": '"+r.text+"'",r);return r.range(o,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ye("Invalid color: '"+n.text+"'",n);var o=r[0];return/^[0-9a-f]{6}$/i.test(o)&&(o="#"+o),{type:"color-token",mode:this.mode,color:o}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!o)throw new ye("Invalid size: '"+n.text+"'",n);var s={number:+(o[1]+o[2]),unit:o[3]};if(!S2(s))throw new ye("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var o=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var u={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(o),u}parseGroup(e,n){var r=this.fetch(),o=r.text,s;if(o==="{"||o==="\\begingroup"){this.consume();var u=o==="{"?"}":"\\endgroup";this.gullet.beginGroup();var d=this.parseExpression(!1,u),f=this.fetch();this.expect(u),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Gn.range(r,f),body:d,semisimple:o==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&o[0]==="\\"&&!d3.hasOwnProperty(o)){if(this.settings.throwOnError)throw new ye("Undefined control sequence: "+o,r);s=this.formatUnsupportedCmd(o),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var o=e[r],s=o.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Gn.range(o,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Gn.range(o,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Gn.range(o,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),o=r.charAt(0)==="*";if(o&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ye(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:o}}Iv.hasOwnProperty(n[0])&&!bt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=Iv[n[0]]+n.slice(1));var s=Ib.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var u;if(bt[this.mode][n]){this.settings.strict&&this.mode==="math"&&Tf.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var d=bt[this.mode][n].group,f=Gn.range(e),h;if(Ax.hasOwnProperty(d)){var g=d;h={type:"atom",mode:this.mode,family:g,loc:f,text:n}}else h={type:d,mode:this.mode,loc:f,text:n};u=h}else if(n.charCodeAt(0)>=128)this.settings.strict&&(x2(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),u={type:"textord",mode:"text",loc:Gn.range(e),text:n};else return null;if(this.consume(),s)for(var y=0;y<s[0].length;y++){var b=s[0][y];if(!sf[b])throw new ye("Unknown accent ' "+b+"'",e);var w=sf[b][this.mode]||sf[b].text;if(!w)throw new ye("Accent "+b+" unsupported in "+this.mode+" mode",e);u={type:"accent",mode:this.mode,loc:Gn.range(e),label:w,isStretchy:!1,isShifty:!0,base:u}}return u}}uu.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Sh=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new uu(e,n);delete r.gullet.macros.current["\\df@tag"];var o=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ye("\\tag works only in display equations");o=[{type:"tag",mode:"text",body:o,tag:r.subparse([new ir("\\df@tag")])}]}return o},wh=function(e,n,r){n.textContent="";var o=cu(e,r).toNode();n.appendChild(o)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),wh=function(){throw new ye("KaTeX doesn't work in quirks mode.")});var f3=function(e,n){var r=cu(e,n).toMarkup();return r},h3=function(e,n){var r=new rh(n);return Sh(e,r)},m3=function(e,n,r){if(r.throwOnError||!(e instanceof ye))throw e;var o=ne.makeSpan(["katex-error"],[new or(n)]);return o.setAttribute("title",e.toString()),o.setAttribute("style","color:"+r.errorColor),o},cu=function(e,n){var r=new rh(n);try{var o=Sh(e,r);return Xx(o,e,r)}catch(s){return m3(s,e,r)}},p3=function(e,n){var r=new rh(n);try{var o=Sh(e,r);return Kx(o,e,r)}catch(s){return m3(s,e,r)}},g3="0.16.22",v3={Span:Hs,Anchor:oh,SymbolNode:or,SvgNode:jr,PathNode:qi,LineNode:wf},y3={version:g3,render:wh,renderToString:f3,ParseError:ye,SETTINGS_SCHEMA:Is,__parse:h3,__renderToDomTree:cu,__renderToHTMLTree:p3,__setFontMetrics:b2,__defineSymbol:S,__defineFunction:_e,__defineMacro:N,__domTree:v3};const x3=Object.freeze(Object.defineProperty({__proto__:null,ParseError:ye,SETTINGS_SCHEMA:Is,__defineFunction:_e,__defineMacro:N,__defineSymbol:S,__domTree:v3,__parse:h3,__renderToDomTree:cu,__renderToHTMLTree:p3,__setFontMetrics:b2,default:y3,get render(){return wh},renderToString:f3,version:g3},Symbol.toStringTag,{value:"Module"}));var Bb=Object.defineProperty,Pb=(t,e,n)=>e in t?Bb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ve=(t,e,n)=>Pb(t,typeof e!="symbol"?e+"":e,n);function pe(t,e,n){function r(d,f){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:f,constr:u,traits:new Set},enumerable:!1}),d._zod.traits.has(t))return;d._zod.traits.add(t),e(d,f);const h=u.prototype,g=Object.keys(h);for(let y=0;y<g.length;y++){const b=g[y];b in d||(d[b]=h[b].bind(d))}}const o=(n==null?void 0:n.Parent)??Object;class s extends o{}Object.defineProperty(s,"name",{value:t});function u(d){var f;const h=n!=null&&n.Parent?new s:this;r(h,d),(f=h._zod).deferred??(f.deferred=[]);for(const g of h._zod.deferred)g();return h}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>{var f,h;return n!=null&&n.Parent&&d instanceof n.Parent?!0:(h=(f=d==null?void 0:d._zod)==null?void 0:f.traits)==null?void 0:h.has(t)}}),Object.defineProperty(u,"name",{value:t}),u}class yo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class b3 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const S3={};function va(t){return S3}function w3(t){const e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,r])=>e.indexOf(+n)===-1).map(([n,r])=>r)}function zf(t,e){return typeof e=="bigint"?e.toString():e}function Th(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function _h(t){return t==null}function Ah(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function qb(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(o=Number.parseInt(f[1]))}const s=n>o?n:o,u=Number.parseInt(t.toFixed(s).replace(".","")),d=Number.parseInt(e.toFixed(s).replace(".",""));return u%d/10**s}const Dv=Symbol("evaluating");function ft(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==Dv)return r===void 0&&(r=Dv,r=n()),r},set(o){Object.defineProperty(t,e,{value:o})},configurable:!0})}function ba(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Vi(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function Lv(t){return JSON.stringify(t)}function Hb(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const T3="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function q0(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Gb=Th(()=>{var t;if(typeof navigator<"u"&&(t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Os(t){if(q0(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(q0(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function _3(t){return Os(t)?{...t}:Array.isArray(t)?[...t]:t}const Vb=new Set(["string","number","symbol"]);function du(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fi(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Be(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Fb(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const $b={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Yb(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=Vi(t._zod.def,{get shape(){const s={};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&(s[u]=n.shape[u])}return ba(this,"shape",s),s},checks:[]});return Fi(t,o)}function Jb(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=Vi(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&delete s[u]}return ba(this,"shape",s),s},checks:[]});return Fi(t,o)}function Xb(t,e){if(!Os(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const s in e)if(Object.getOwnPropertyDescriptor(o,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=Vi(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return ba(this,"shape",o),o}});return Fi(t,r)}function Kb(t,e){if(!Os(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Vi(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return ba(this,"shape",r),r}});return Fi(t,n)}function Zb(t,e){const n=Vi(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return ba(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Fi(t,n)}function Wb(t,e,n){const r=e._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=Vi(e._zod.def,{get shape(){const s=e._zod.def.shape,u={...s};if(n)for(const d in n){if(!(d in s))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(u[d]=t?new t({type:"optional",innerType:s[d]}):s[d])}else for(const d in s)u[d]=t?new t({type:"optional",innerType:s[d]}):s[d];return ba(this,"shape",u),u},checks:[]});return Fi(e,o)}function Qb(t,e,n){const r=Vi(e._zod.def,{get shape(){const o=e._zod.def.shape,s={...o};if(n)for(const u in n){if(!(u in s))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(s[u]=new t({type:"nonoptional",innerType:o[u]}))}else for(const u in o)s[u]=new t({type:"nonoptional",innerType:o[u]});return ba(this,"shape",s),s}});return Fi(e,r)}function mo(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function A3(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function g0(t){return typeof t=="string"?t:t==null?void 0:t.message}function ya(t,e,n){var r,o,s,u,d,f;const h={...t,path:t.path??[]};if(!t.message){const g=g0((s=(o=(r=t.inst)==null?void 0:r._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,t))??g0((u=e==null?void 0:e.error)==null?void 0:u.call(e,t))??g0((d=n.customError)==null?void 0:d.call(n,t))??g0((f=n.localeError)==null?void 0:f.call(n,t))??"Invalid input";h.message=g}return delete h.inst,delete h.continue,e!=null&&e.reportInput||delete h.input,h}function Eh(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Bs(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const E3=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,zf,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},C3=pe("$ZodError",E3),k3=pe("$ZodError",E3,{Parent:Error});function jb(t,e=n=>n.message){const n={},r=[];for(const o of t.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}function e9(t,e=n=>n.message){const n={_errors:[]},r=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(u=>r({issues:u}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let u=n,d=0;for(;d<s.path.length;){const f=s.path[d];d===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(e(s))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return r(t),n}const Ch=t=>(e,n,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},s);if(u instanceof Promise)throw new yo;if(u.issues.length){const d=new((o==null?void 0:o.Err)??t)(u.issues.map(f=>ya(f,s,va())));throw T3(d,o==null?void 0:o.callee),d}return u.value},kh=t=>async(e,n,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},s);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new((o==null?void 0:o.Err)??t)(u.issues.map(f=>ya(f,s,va())));throw T3(d,o==null?void 0:o.callee),d}return u.value},fu=t=>(e,n,r)=>{const o=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new yo;return s.issues.length?{success:!1,error:new(t??C3)(s.issues.map(u=>ya(u,o,va())))}:{success:!0,data:s.value}},t9=fu(k3),hu=t=>async(e,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(u=>ya(u,o,va())))}:{success:!0,data:s.value}},n9=hu(k3),r9=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ch(t)(e,n,o)},i9=t=>(e,n,r)=>Ch(t)(e,n,r),a9=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kh(t)(e,n,o)},o9=t=>async(e,n,r)=>kh(t)(e,n,r),s9=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fu(t)(e,n,o)},l9=t=>(e,n,r)=>fu(t)(e,n,r),u9=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return hu(t)(e,n,o)},c9=t=>async(e,n,r)=>hu(t)(e,n,r),d9=/^[cC][^\s-]{8,}$/,f9=/^[0-9a-z]+$/,h9=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,m9=/^[0-9a-vA-V]{20}$/,p9=/^[A-Za-z0-9]{27}$/,g9=/^[a-zA-Z0-9_-]{21}$/,v9=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,y9=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Uv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,x9=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,b9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function S9(){return new RegExp(b9,"u")}const w9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T9=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,_9=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,A9=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E9=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,z3=/^[A-Za-z0-9_-]*$/,C9=/^\+[1-9]\d{6,14}$/,M3="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",k9=new RegExp(`^${M3}$`);function N3(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function z9(t){return new RegExp(`^${N3(t)}$`)}function M9(t){const e=N3({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${M3}T(?:${r})$`)}const N9=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},R9=/^-?\d+$/,I9=/^-?\d+(?:\.\d+)?$/,D9=/^[^A-Z]*$/,L9=/^[^a-z]*$/,Nn=pe("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),R3={number:"number",bigint:"bigint",object:"date"},I3=pe("$ZodCheckLessThan",(t,e)=>{Nn.init(t,e);const n=R3[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,s=(e.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?o.maximum=e.value:o.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),D3=pe("$ZodCheckGreaterThan",(t,e)=>{Nn.init(t,e);const n=R3[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,s=(e.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?o.minimum=e.value:o.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),U9=pe("$ZodCheckMultipleOf",(t,e)=>{Nn.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):qb(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),O9=pe("$ZodCheckNumberFormat",(t,e)=>{var n;Nn.init(t,e),e.format=e.format||"float64";const r=(n=e.format)==null?void 0:n.includes("int"),o=r?"int":"number",[s,u]=$b[e.format];t._zod.onattach.push(d=>{const f=d._zod.bag;f.format=e.format,f.minimum=s,f.maximum=u,r&&(f.pattern=R9)}),t._zod.check=d=>{const f=d.value;if(r){if(!Number.isInteger(f)){d.issues.push({expected:o,format:e.format,code:"invalid_type",continue:!1,input:f,inst:t});return}if(!Number.isSafeInteger(f)){f>0?d.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!e.abort}):d.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!e.abort});return}}f<s&&d.issues.push({origin:"number",input:f,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),f>u&&d.issues.push({origin:"number",input:f,code:"too_big",maximum:u,inclusive:!0,inst:t,continue:!e.abort})}}),B9=pe("$ZodCheckMaxLength",(t,e)=>{var n;Nn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!_h(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const o=r.value;if(o.length<=e.maximum)return;const s=Eh(o);r.issues.push({origin:s,code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),P9=pe("$ZodCheckMinLength",(t,e)=>{var n;Nn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!_h(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const o=r.value;if(o.length>=e.minimum)return;const s=Eh(o);r.issues.push({origin:s,code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),q9=pe("$ZodCheckLengthEquals",(t,e)=>{var n;Nn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!_h(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=e.length,o.maximum=e.length,o.length=e.length}),t._zod.check=r=>{const o=r.value,s=o.length;if(s===e.length)return;const u=Eh(o),d=s>e.length;r.issues.push({origin:u,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),mu=pe("$ZodCheckStringFormat",(t,e)=>{var n,r;Nn.init(t,e),t._zod.onattach.push(o=>{const s=o._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=o=>{e.pattern.lastIndex=0,!e.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:e.format,input:o.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),H9=pe("$ZodCheckRegex",(t,e)=>{mu.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),G9=pe("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=D9),mu.init(t,e)}),V9=pe("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=L9),mu.init(t,e)}),F9=pe("$ZodCheckIncludes",(t,e)=>{Nn.init(t,e);const n=du(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=o=>{o.value.includes(e.includes,e.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:o.value,inst:t,continue:!e.abort})}}),$9=pe("$ZodCheckStartsWith",(t,e)=>{Nn.init(t,e);const n=new RegExp(`^${du(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),Y9=pe("$ZodCheckEndsWith",(t,e)=>{Nn.init(t,e);const n=new RegExp(`.*${du(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),J9=pe("$ZodCheckOverwrite",(t,e)=>{Nn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class X9{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(s=>s),r=Math.min(...n.map(s=>s.length-s.trimStart().length)),o=n.map(s=>s.slice(r)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const e=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new e(...n,r.join(`
`))}}const K9={major:4,minor:3,patch:5},Ft=pe("$ZodType",(t,e)=>{var n,r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=K9;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const s of o)for(const u of s._zod.onattach)u(t);if(o.length===0)(r=t._zod).deferred??(r.deferred=[]),(n=t._zod.deferred)==null||n.push(()=>{t._zod.run=t._zod.parse});else{const s=(d,f,h)=>{let g=mo(d),y;for(const b of f){if(b._zod.def.when){if(!b._zod.def.when(d))continue}else if(g)continue;const w=d.issues.length,k=b._zod.check(d);if(k instanceof Promise&&(h==null?void 0:h.async)===!1)throw new yo;if(y||k instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await k,d.issues.length!==w&&(g||(g=mo(d,w)))});else{if(d.issues.length===w)continue;g||(g=mo(d,w))}}return y?y.then(()=>d):d},u=(d,f,h)=>{if(mo(d))return d.aborted=!0,d;const g=s(f,o,h);if(g instanceof Promise){if(h.async===!1)throw new yo;return g.then(y=>t._zod.parse(y,h))}return t._zod.parse(g,h)};t._zod.run=(d,f)=>{if(f.skipChecks)return t._zod.parse(d,f);if(f.direction==="backward"){const g=t._zod.parse({value:d.value,issues:[]},{...f,skipChecks:!0});return g instanceof Promise?g.then(y=>u(y,d,f)):u(g,d,f)}const h=t._zod.parse(d,f);if(h instanceof Promise){if(f.async===!1)throw new yo;return h.then(g=>s(g,o,f))}return s(h,o,f)}}ft(t,"~standard",()=>({validate:s=>{var u;try{const d=t9(t,s);return d.success?{value:d.data}:{issues:(u=d.error)==null?void 0:u.issues}}catch{return n9(t,s).then(d=>{var f;return d.success?{value:d.data}:{issues:(f=d.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}))}),zh=pe("$ZodString",(t,e)=>{var n;Ft.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??N9(t._zod.bag),t._zod.parse=(r,o)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Et=pe("$ZodStringFormat",(t,e)=>{mu.init(t,e),zh.init(t,e)}),Z9=pe("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=y9),Et.init(t,e)}),W9=pe("$ZodUUID",(t,e)=>{if(e.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Uv(n))}else e.pattern??(e.pattern=Uv());Et.init(t,e)}),Q9=pe("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=x9),Et.init(t,e)}),j9=pe("$ZodURL",(t,e)=>{Et.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),eS=pe("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=S9()),Et.init(t,e)}),tS=pe("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=g9),Et.init(t,e)}),nS=pe("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=d9),Et.init(t,e)}),rS=pe("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=f9),Et.init(t,e)}),iS=pe("$ZodULID",(t,e)=>{e.pattern??(e.pattern=h9),Et.init(t,e)}),aS=pe("$ZodXID",(t,e)=>{e.pattern??(e.pattern=m9),Et.init(t,e)}),oS=pe("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=p9),Et.init(t,e)}),sS=pe("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=M9(e)),Et.init(t,e)}),lS=pe("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=k9),Et.init(t,e)}),uS=pe("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=z9(e)),Et.init(t,e)}),cS=pe("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=v9),Et.init(t,e)}),dS=pe("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=w9),Et.init(t,e),t._zod.bag.format="ipv4"}),fS=pe("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=T9),Et.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),hS=pe("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=_9),Et.init(t,e)}),mS=pe("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=A9),Et.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,s]=r;if(!s)throw new Error;const u=Number(s);if(`${u}`!==s)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function L3(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const pS=pe("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=E9),Et.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{L3(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function gS(t){if(!z3.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return L3(n)}const vS=pe("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=z3),Et.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{gS(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),yS=pe("$ZodE164",(t,e)=>{e.pattern??(e.pattern=C9),Et.init(t,e)});function xS(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}}const bS=pe("$ZodJWT",(t,e)=>{Et.init(t,e),t._zod.check=n=>{xS(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),U3=pe("$ZodNumber",(t,e)=>{Ft.init(t,e),t._zod.pattern=t._zod.bag.pattern??I9,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const s=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...s?{received:s}:{}}),n}}),SS=pe("$ZodNumberFormat",(t,e)=>{O9.init(t,e),U3.init(t,e)}),wS=pe("$ZodUnknown",(t,e)=>{Ft.init(t,e),t._zod.parse=n=>n}),TS=pe("$ZodNever",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function Ov(t,e,n){t.issues.length&&e.issues.push(...A3(n,t.issues)),e.value[n]=t.value}const _S=pe("$ZodArray",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),n;n.value=Array(o.length);const s=[];for(let u=0;u<o.length;u++){const d=o[u],f=e.element._zod.run({value:d,issues:[]},r);f instanceof Promise?s.push(f.then(h=>Ov(h,n,u))):Ov(f,n,u)}return s.length?Promise.all(s).then(()=>n):n}});function H0(t,e,n,r,o){if(t.issues.length){if(o&&!(n in r))return;e.issues.push(...A3(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function O3(t){var e,n,r,o;const s=Object.keys(t.shape);for(const d of s)if(!((o=(r=(n=(e=t.shape)==null?void 0:e[d])==null?void 0:n._zod)==null?void 0:r.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const u=Fb(t.shape);return{...t,keys:s,keySet:new Set(s),numKeys:s.length,optionalKeys:new Set(u)}}function B3(t,e,n,r,o,s){const u=[],d=o.keySet,f=o.catchall._zod,h=f.def.type,g=f.optout==="optional";for(const y in e){if(d.has(y))continue;if(h==="never"){u.push(y);continue}const b=f.run({value:e[y],issues:[]},r);b instanceof Promise?t.push(b.then(w=>H0(w,n,y,e,g))):H0(b,n,y,e,g)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const AS=pe("$ZodObject",(t,e)=>{Ft.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...d};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=Th(()=>O3(e));ft(t._zod,"propValues",()=>{const d=e.shape,f={};for(const h in d){const g=d[h]._zod;if(g.values){f[h]??(f[h]=new Set);for(const y of g.values)f[h].add(y)}}return f});const o=q0,s=e.catchall;let u;t._zod.parse=(d,f)=>{u??(u=r.value);const h=d.value;if(!o(h))return d.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),d;d.value={};const g=[],y=u.shape;for(const b of u.keys){const w=y[b],k=w._zod.optout==="optional",E=w._zod.run({value:h[b],issues:[]},f);E instanceof Promise?g.push(E.then(z=>H0(z,d,b,h,k))):H0(E,d,b,h,k)}return s?B3(g,h,d,f,r.value,t):g.length?Promise.all(g).then(()=>d):d}}),ES=pe("$ZodObjectJIT",(t,e)=>{AS.init(t,e);const n=t._zod.parse,r=Th(()=>O3(e)),o=y=>{var b;const w=new X9(["shape","payload","ctx"]),k=r.value,E=q=>{const D=Lv(q);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};w.write("const input = payload.value;");const z=Object.create(null);let I=0;for(const q of k.keys)z[q]=`key_${I++}`;w.write("const newResult = {};");for(const q of k.keys){const D=z[q],O=Lv(q),G=y[q],R=((b=G==null?void 0:G._zod)==null?void 0:b.optout)==="optional";w.write(`const ${D} = ${E(q)};`),R?w.write(`
        if (${D}.issues.length) {
          if (${O} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${O}, ...iss.path] : [${O}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${D}.value;
        }
        
      `):w.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${D}.value;
        }
        
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const U=w.compile();return(q,D)=>U(y,q,D)};let s;const u=q0,d=!S3.jitless,f=d&&Gb.value,h=e.catchall;let g;t._zod.parse=(y,b)=>{g??(g=r.value);const w=y.value;return u(w)?d&&f&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(s||(s=o(e.shape)),y=s(y,b),h?B3([],w,y,b,g,t):y):n(y,b):(y.issues.push({expected:"object",code:"invalid_type",input:w,inst:t}),y)}});function Bv(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const o=t.filter(s=>!mo(s));return o.length===1?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(u=>ya(u,r,va())))}),e)}const CS=pe("$ZodUnion",(t,e)=>{Ft.init(t,e),ft(t._zod,"optin",()=>e.options.some(o=>o._zod.optin==="optional")?"optional":void 0),ft(t._zod,"optout",()=>e.options.some(o=>o._zod.optout==="optional")?"optional":void 0),ft(t._zod,"values",()=>{if(e.options.every(o=>o._zod.values))return new Set(e.options.flatMap(o=>Array.from(o._zod.values)))}),ft(t._zod,"pattern",()=>{if(e.options.every(o=>o._zod.pattern)){const o=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>Ah(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(o,s)=>{if(n)return r(o,s);let u=!1;const d=[];for(const f of e.options){const h=f._zod.run({value:o.value,issues:[]},s);if(h instanceof Promise)d.push(h),u=!0;else{if(h.issues.length===0)return h;d.push(h)}}return u?Promise.all(d).then(f=>Bv(f,o,t,s)):Bv(d,o,t,s)}}),kS=pe("$ZodIntersection",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const o=n.value,s=e.left._zod.run({value:o,issues:[]},r),u=e.right._zod.run({value:o,issues:[]},r);return s instanceof Promise||u instanceof Promise?Promise.all([s,u]).then(([d,f])=>Pv(n,d,f)):Pv(n,s,u)}});function Mf(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Os(t)&&Os(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),o={...t,...e};for(const s of r){const u=Mf(t[s],e[s]);if(!u.valid)return{valid:!1,mergeErrorPath:[s,...u.mergeErrorPath]};o[s]=u.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const o=t[r],s=e[r],u=Mf(o,s);if(!u.valid)return{valid:!1,mergeErrorPath:[r,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Pv(t,e,n){const r=new Map;let o;for(const d of e.issues)if(d.code==="unrecognized_keys"){o??(o=d);for(const f of d.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else t.issues.push(d);for(const d of n.issues)if(d.code==="unrecognized_keys")for(const f of d.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else t.issues.push(d);const s=[...r].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(s.length&&o&&t.issues.push({...o,keys:s}),mo(t))return t;const u=Mf(e.value,n.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return t.value=u.data,t}const zS=pe("$ZodEnum",(t,e)=>{Ft.init(t,e);const n=w3(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(o=>Vb.has(typeof o)).map(o=>typeof o=="string"?du(o):o.toString()).join("|")})$`),t._zod.parse=(o,s)=>{const u=o.value;return r.has(u)||o.issues.push({code:"invalid_value",values:n,input:u,inst:t}),o}}),MS=pe("$ZodTransform",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new b3(t.constructor.name);const o=e.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(n.value=s,n));if(o instanceof Promise)throw new yo;return n.value=o,n}});function qv(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const P3=pe("$ZodOptional",(t,e)=>{Ft.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ft(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ft(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ah(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>qv(s,n.value)):qv(o,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),NS=pe("$ZodExactOptional",(t,e)=>{P3.init(t,e),ft(t._zod,"values",()=>e.innerType._zod.values),ft(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),RS=pe("$ZodNullable",(t,e)=>{Ft.init(t,e),ft(t._zod,"optin",()=>e.innerType._zod.optin),ft(t._zod,"optout",()=>e.innerType._zod.optout),ft(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ah(n.source)}|null)$`):void 0}),ft(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),IS=pe("$ZodDefault",(t,e)=>{Ft.init(t,e),t._zod.optin="optional",ft(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Hv(s,e)):Hv(o,e)}});function Hv(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const DS=pe("$ZodPrefault",(t,e)=>{Ft.init(t,e),t._zod.optin="optional",ft(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),LS=pe("$ZodNonOptional",(t,e)=>{Ft.init(t,e),ft(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Gv(s,t)):Gv(o,t)}});function Gv(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const US=pe("$ZodCatch",(t,e)=>{Ft.init(t,e),ft(t._zod,"optin",()=>e.innerType._zod.optin),ft(t._zod,"optout",()=>e.innerType._zod.optout),ft(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(u=>ya(u,r,va()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(s=>ya(s,r,va()))},input:n.value}),n.issues=[]),n)}}),OS=pe("$ZodPipe",(t,e)=>{Ft.init(t,e),ft(t._zod,"values",()=>e.in._zod.values),ft(t._zod,"optin",()=>e.in._zod.optin),ft(t._zod,"optout",()=>e.out._zod.optout),ft(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(u=>v0(u,e.in,r)):v0(s,e.in,r)}const o=e.in._zod.run(n,r);return o instanceof Promise?o.then(s=>v0(s,e.out,r)):v0(o,e.out,r)}});function v0(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const BS=pe("$ZodReadonly",(t,e)=>{Ft.init(t,e),ft(t._zod,"propValues",()=>e.innerType._zod.propValues),ft(t._zod,"values",()=>e.innerType._zod.values),ft(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),ft(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(Vv):Vv(o)}});function Vv(t){return t.value=Object.freeze(t.value),t}const PS=pe("$ZodCustom",(t,e)=>{Nn.init(t,e),Ft.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,o=e.fn(r);if(o instanceof Promise)return o.then(s=>Fv(s,n,r,t));Fv(o,n,r,t)}});function Fv(t,e,n,r){if(!t){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),e.issues.push(Bs(o))}}var $v;class qS{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(e)};return Object.keys(o).length?o:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function HS(){return new qS}($v=globalThis).__zod_globalRegistry??($v.__zod_globalRegistry=HS());const Ns=globalThis.__zod_globalRegistry;function GS(t,e){return new t({type:"string",...Be(e)})}function VS(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Be(e)})}function Yv(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Be(e)})}function FS(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Be(e)})}function $S(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Be(e)})}function YS(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Be(e)})}function JS(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Be(e)})}function XS(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Be(e)})}function KS(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Be(e)})}function ZS(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Be(e)})}function WS(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Be(e)})}function QS(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Be(e)})}function jS(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Be(e)})}function ew(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Be(e)})}function tw(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Be(e)})}function nw(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Be(e)})}function rw(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Be(e)})}function iw(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Be(e)})}function aw(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Be(e)})}function ow(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Be(e)})}function sw(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Be(e)})}function lw(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Be(e)})}function uw(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Be(e)})}function cw(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Be(e)})}function dw(t,e){return new t({type:"string",format:"date",check:"string_format",...Be(e)})}function fw(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Be(e)})}function hw(t,e){return new t({type:"string",format:"duration",check:"string_format",...Be(e)})}function mw(t,e){return new t({type:"number",checks:[],...Be(e)})}function pw(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Be(e)})}function gw(t){return new t({type:"unknown"})}function vw(t,e){return new t({type:"never",...Be(e)})}function Jv(t,e){return new I3({check:"less_than",...Be(e),value:t,inclusive:!1})}function lf(t,e){return new I3({check:"less_than",...Be(e),value:t,inclusive:!0})}function Xv(t,e){return new D3({check:"greater_than",...Be(e),value:t,inclusive:!1})}function uf(t,e){return new D3({check:"greater_than",...Be(e),value:t,inclusive:!0})}function Kv(t,e){return new U9({check:"multiple_of",...Be(e),value:t})}function q3(t,e){return new B9({check:"max_length",...Be(e),maximum:t})}function G0(t,e){return new P9({check:"min_length",...Be(e),minimum:t})}function H3(t,e){return new q9({check:"length_equals",...Be(e),length:t})}function yw(t,e){return new H9({check:"string_format",format:"regex",...Be(e),pattern:t})}function xw(t){return new G9({check:"string_format",format:"lowercase",...Be(t)})}function bw(t){return new V9({check:"string_format",format:"uppercase",...Be(t)})}function Sw(t,e){return new F9({check:"string_format",format:"includes",...Be(e),includes:t})}function ww(t,e){return new $9({check:"string_format",format:"starts_with",...Be(e),prefix:t})}function Tw(t,e){return new Y9({check:"string_format",format:"ends_with",...Be(e),suffix:t})}function _o(t){return new J9({check:"overwrite",tx:t})}function _w(t){return _o(e=>e.normalize(t))}function Aw(){return _o(t=>t.trim())}function Ew(){return _o(t=>t.toLowerCase())}function Cw(){return _o(t=>t.toUpperCase())}function kw(){return _o(t=>Hb(t))}function zw(t,e,n){return new t({type:"array",element:e,...Be(n)})}function Mw(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Be(n)})}function Nw(t){const e=Rw(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Bs(r,n.value,e._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!e._zod.def.abort),n.issues.push(Bs(o))}},t(n.value,n)));return e}function Rw(t,e){const n=new Nn({check:"custom",...Be(e)});return n._zod.check=t,n}function G3(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??Ns,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function on(t,e,n={path:[],schemaPath:[]}){var r,o,s;const u=t._zod.def,d=e.seen.get(t);if(d)return d.count++,n.schemaPath.includes(t)&&(d.cycle=n.path),d.schema;const f={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,f);const h=(o=(r=t._zod).toJSONSchema)==null?void 0:o.call(r);if(h)f.schema=h;else{const y={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,f.schema,y);else{const w=f.schema,k=e.processors[u.type];if(!k)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${u.type}`);k(t,e,w,y)}const b=t._zod.parent;b&&(f.ref||(f.ref=b),on(b,e,y),e.seen.get(b).isParent=!0)}const g=e.metadataRegistry.get(t);return g&&Object.assign(f.schema,g),e.io==="input"&&gn(t)&&(delete f.schema.examples,delete f.schema.default),e.io==="input"&&f.schema._prefault&&((s=f.schema).default??(s.default=f.schema._prefault)),delete f.schema._prefault,e.seen.get(t).schema}function V3(t,e){var n,r,o,s;const u=t.seen.get(e);if(!u)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=new Map;for(const g of t.seen.entries()){const y=(n=t.metadataRegistry.get(g[0]))==null?void 0:n.id;if(y){const b=d.get(y);if(b&&b!==g[0])throw new Error(`Duplicate schema id "${y}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);d.set(y,g[0])}}const f=g=>{var y;const b=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const E=(y=t.external.registry.get(g[0]))==null?void 0:y.id,z=t.external.uri??(U=>U);if(E)return{ref:z(E)};const I=g[1].defId??g[1].schema.id??`schema${t.counter++}`;return g[1].defId=I,{defId:I,ref:`${z("__shared")}#/${b}/${I}`}}if(g[1]===u)return{ref:"#"};const w=`#/${b}/`,k=g[1].schema.id??`__schema${t.counter++}`;return{defId:k,ref:w+k}},h=g=>{if(g[1].schema.$ref)return;const y=g[1],{ref:b,defId:w}=f(g);y.def={...y.schema},w&&(y.defId=w);const k=y.schema;for(const E in k)delete k[E];k.$ref=b};if(t.cycles==="throw")for(const g of t.seen.entries()){const y=g[1];if(y.cycle)throw new Error(`Cycle detected: #/${(r=y.cycle)==null?void 0:r.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const g of t.seen.entries()){const y=g[1];if(e===g[0]){h(g);continue}if(t.external){const b=(o=t.external.registry.get(g[0]))==null?void 0:o.id;if(e!==g[0]&&b){h(g);continue}}if((s=t.metadataRegistry.get(g[0]))!=null&&s.id){h(g);continue}if(y.cycle){h(g);continue}if(y.count>1&&t.reused==="ref"){h(g);continue}}}function F3(t,e){var n,r,o;const s=t.seen.get(e);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const u=h=>{const g=t.seen.get(h);if(g.ref===null)return;const y=g.def??g.schema,b={...y},w=g.ref;if(g.ref=null,w){u(w);const E=t.seen.get(w),z=E.schema;if(z.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(z)):Object.assign(y,z),Object.assign(y,b),h._zod.parent===w)for(const I in y)I==="$ref"||I==="allOf"||I in b||delete y[I];if(z.$ref)for(const I in y)I==="$ref"||I==="allOf"||I in E.def&&JSON.stringify(y[I])===JSON.stringify(E.def[I])&&delete y[I]}const k=h._zod.parent;if(k&&k!==w){u(k);const E=t.seen.get(k);if(E!=null&&E.schema.$ref&&(y.$ref=E.schema.$ref,E.def))for(const z in y)z==="$ref"||z==="allOf"||z in E.def&&JSON.stringify(y[z])===JSON.stringify(E.def[z])&&delete y[z]}t.override({zodSchema:h,jsonSchema:y,path:g.path??[]})};for(const h of[...t.seen.entries()].reverse())u(h[0]);const d={};if(t.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":t.target,(n=t.external)!=null&&n.uri){const h=(r=t.external.registry.get(e))==null?void 0:r.id;if(!h)throw new Error("Schema is missing an `id` property");d.$id=t.external.uri(h)}Object.assign(d,s.def??s.schema);const f=((o=t.external)==null?void 0:o.defs)??{};for(const h of t.seen.entries()){const g=h[1];g.def&&g.defId&&(f[g.defId]=g.def)}t.external||Object.keys(f).length>0&&(t.target==="draft-2020-12"?d.$defs=f:d.definitions=f);try{const h=JSON.parse(JSON.stringify(d));return Object.defineProperty(h,"~standard",{value:{...e["~standard"],jsonSchema:{input:V0(e,"input",t.processors),output:V0(e,"output",t.processors)}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function gn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return gn(r.element,n);if(r.type==="set")return gn(r.valueType,n);if(r.type==="lazy")return gn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return gn(r.innerType,n);if(r.type==="intersection")return gn(r.left,n)||gn(r.right,n);if(r.type==="record"||r.type==="map")return gn(r.keyType,n)||gn(r.valueType,n);if(r.type==="pipe")return gn(r.in,n)||gn(r.out,n);if(r.type==="object"){for(const o in r.shape)if(gn(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(gn(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(gn(o,n))return!0;return!!(r.rest&&gn(r.rest,n))}return!1}const Iw=(t,e={})=>n=>{const r=G3({...n,processors:e});return on(t,r),V3(r,t),F3(r,t)},V0=(t,e,n={})=>r=>{const{libraryOptions:o,target:s}=r??{},u=G3({...o??{},target:s,io:e,processors:n});return on(t,u),V3(u,t),F3(u,t)},Dw={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Lw=(t,e,n,r)=>{const o=n;o.type="string";const{minimum:s,maximum:u,format:d,patterns:f,contentEncoding:h}=t._zod.bag;if(typeof s=="number"&&(o.minLength=s),typeof u=="number"&&(o.maxLength=u),d&&(o.format=Dw[d]??d,o.format===""&&delete o.format,d==="time"&&delete o.format),h&&(o.contentEncoding=h),f&&f.size>0){const g=[...f];g.length===1?o.pattern=g[0].source:g.length>1&&(o.allOf=[...g.map(y=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:y.source}))])}},Uw=(t,e,n,r)=>{const o=n,{minimum:s,maximum:u,format:d,multipleOf:f,exclusiveMaximum:h,exclusiveMinimum:g}=t._zod.bag;typeof d=="string"&&d.includes("int")?o.type="integer":o.type="number",typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.minimum=g,o.exclusiveMinimum=!0):o.exclusiveMinimum=g),typeof s=="number"&&(o.minimum=s,typeof g=="number"&&e.target!=="draft-04"&&(g>=s?delete o.minimum:delete o.exclusiveMinimum)),typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.maximum=h,o.exclusiveMaximum=!0):o.exclusiveMaximum=h),typeof u=="number"&&(o.maximum=u,typeof h=="number"&&e.target!=="draft-04"&&(h<=u?delete o.maximum:delete o.exclusiveMaximum)),typeof f=="number"&&(o.multipleOf=f)},Ow=(t,e,n,r)=>{n.not={}},Bw=(t,e,n,r)=>{},Pw=(t,e,n,r)=>{const o=t._zod.def,s=w3(o.entries);s.every(u=>typeof u=="number")&&(n.type="number"),s.every(u=>typeof u=="string")&&(n.type="string"),n.enum=s},qw=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Hw=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Gw=(t,e,n,r)=>{const o=n,s=t._zod.def,{minimum:u,maximum:d}=t._zod.bag;typeof u=="number"&&(o.minItems=u),typeof d=="number"&&(o.maxItems=d),o.type="array",o.items=on(s.element,e,{...r,path:[...r.path,"items"]})},Vw=(t,e,n,r)=>{var o;const s=n,u=t._zod.def;s.type="object",s.properties={};const d=u.shape;for(const g in d)s.properties[g]=on(d[g],e,{...r,path:[...r.path,"properties",g]});const f=new Set(Object.keys(d)),h=new Set([...f].filter(g=>{const y=u.shape[g]._zod;return e.io==="input"?y.optin===void 0:y.optout===void 0}));h.size>0&&(s.required=Array.from(h)),((o=u.catchall)==null?void 0:o._zod.def.type)==="never"?s.additionalProperties=!1:u.catchall?u.catchall&&(s.additionalProperties=on(u.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(s.additionalProperties=!1)},Fw=(t,e,n,r)=>{const o=t._zod.def,s=o.inclusive===!1,u=o.options.map((d,f)=>on(d,e,{...r,path:[...r.path,s?"oneOf":"anyOf",f]}));s?n.oneOf=u:n.anyOf=u},$w=(t,e,n,r)=>{const o=t._zod.def,s=on(o.left,e,{...r,path:[...r.path,"allOf",0]}),u=on(o.right,e,{...r,path:[...r.path,"allOf",1]}),d=h=>"allOf"in h&&Object.keys(h).length===1,f=[...d(s)?s.allOf:[s],...d(u)?u.allOf:[u]];n.allOf=f},Yw=(t,e,n,r)=>{const o=t._zod.def,s=on(o.innerType,e,r),u=e.seen.get(t);e.target==="openapi-3.0"?(u.ref=o.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},Jw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType},Xw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},Kw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},Zw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType;let u;try{u=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=u},Ww=(t,e,n,r)=>{const o=t._zod.def,s=e.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;on(s,e,r);const u=e.seen.get(t);u.ref=s},Qw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType,n.readOnly=!0},$3=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType},jw=pe("ZodISODateTime",(t,e)=>{sS.init(t,e),zt.init(t,e)});function eT(t){return cw(jw,t)}const tT=pe("ZodISODate",(t,e)=>{lS.init(t,e),zt.init(t,e)});function nT(t){return dw(tT,t)}const rT=pe("ZodISOTime",(t,e)=>{uS.init(t,e),zt.init(t,e)});function iT(t){return fw(rT,t)}const aT=pe("ZodISODuration",(t,e)=>{cS.init(t,e),zt.init(t,e)});function oT(t){return hw(aT,t)}const sT=(t,e)=>{C3.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>e9(t,n)},flatten:{value:n=>jb(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,zf,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,zf,2)}},isEmpty:{get(){return t.issues.length===0}}})},ur=pe("ZodError",sT,{Parent:Error}),lT=Ch(ur),uT=kh(ur),cT=fu(ur),dT=hu(ur),fT=r9(ur),hT=i9(ur),mT=a9(ur),pT=o9(ur),gT=s9(ur),vT=l9(ur),yT=u9(ur),xT=c9(ur),$t=pe("ZodType",(t,e)=>(Ft.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:V0(t,"input"),output:V0(t,"output")}}),t.toJSONSchema=Iw(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Vi(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>Fi(t,n,r),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t),t.parse=(n,r)=>lT(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>cT(t,n,r),t.parseAsync=async(n,r)=>uT(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>dT(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>fT(t,n,r),t.decode=(n,r)=>hT(t,n,r),t.encodeAsync=async(n,r)=>mT(t,n,r),t.decodeAsync=async(n,r)=>pT(t,n,r),t.safeEncode=(n,r)=>gT(t,n,r),t.safeDecode=(n,r)=>vT(t,n,r),t.safeEncodeAsync=async(n,r)=>yT(t,n,r),t.safeDecodeAsync=async(n,r)=>xT(t,n,r),t.refine=(n,r)=>t.check(c_(n,r)),t.superRefine=n=>t.check(d_(n)),t.overwrite=n=>t.check(_o(n)),t.optional=()=>jv(t),t.exactOptional=()=>WT(t),t.nullable=()=>e4(t),t.nullish=()=>jv(e4(t)),t.nonoptional=n=>r_(t,n),t.array=()=>Nf(t),t.or=n=>$T([t,n]),t.and=n=>JT(t,n),t.transform=n=>t4(t,KT(n)),t.default=n=>e_(t,n),t.prefault=n=>n_(t,n),t.catch=n=>a_(t,n),t.pipe=n=>t4(t,n),t.readonly=()=>l_(t),t.describe=n=>{const r=t.clone();return Ns.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=Ns.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ns.get(t);const r=t.clone();return Ns.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),Y3=pe("_ZodString",(t,e)=>{zh.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(r,o,s)=>Lw(t,r,o);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(yw(...r)),t.includes=(...r)=>t.check(Sw(...r)),t.startsWith=(...r)=>t.check(ww(...r)),t.endsWith=(...r)=>t.check(Tw(...r)),t.min=(...r)=>t.check(G0(...r)),t.max=(...r)=>t.check(q3(...r)),t.length=(...r)=>t.check(H3(...r)),t.nonempty=(...r)=>t.check(G0(1,...r)),t.lowercase=r=>t.check(xw(r)),t.uppercase=r=>t.check(bw(r)),t.trim=()=>t.check(Aw()),t.normalize=(...r)=>t.check(_w(...r)),t.toLowerCase=()=>t.check(Ew()),t.toUpperCase=()=>t.check(Cw()),t.slugify=()=>t.check(kw())}),bT=pe("ZodString",(t,e)=>{zh.init(t,e),Y3.init(t,e),t.email=n=>t.check(VS(ST,n)),t.url=n=>t.check(XS(wT,n)),t.jwt=n=>t.check(uw(OT,n)),t.emoji=n=>t.check(KS(TT,n)),t.guid=n=>t.check(Yv(Zv,n)),t.uuid=n=>t.check(FS(y0,n)),t.uuidv4=n=>t.check($S(y0,n)),t.uuidv6=n=>t.check(YS(y0,n)),t.uuidv7=n=>t.check(JS(y0,n)),t.nanoid=n=>t.check(ZS(_T,n)),t.guid=n=>t.check(Yv(Zv,n)),t.cuid=n=>t.check(WS(AT,n)),t.cuid2=n=>t.check(QS(ET,n)),t.ulid=n=>t.check(jS(CT,n)),t.base64=n=>t.check(ow(DT,n)),t.base64url=n=>t.check(sw(LT,n)),t.xid=n=>t.check(ew(kT,n)),t.ksuid=n=>t.check(tw(zT,n)),t.ipv4=n=>t.check(nw(MT,n)),t.ipv6=n=>t.check(rw(NT,n)),t.cidrv4=n=>t.check(iw(RT,n)),t.cidrv6=n=>t.check(aw(IT,n)),t.e164=n=>t.check(lw(UT,n)),t.datetime=n=>t.check(eT(n)),t.date=n=>t.check(nT(n)),t.time=n=>t.check(iT(n)),t.duration=n=>t.check(oT(n))});function Zr(t){return GS(bT,t)}const zt=pe("ZodStringFormat",(t,e)=>{Et.init(t,e),Y3.init(t,e)}),ST=pe("ZodEmail",(t,e)=>{Q9.init(t,e),zt.init(t,e)}),Zv=pe("ZodGUID",(t,e)=>{Z9.init(t,e),zt.init(t,e)}),y0=pe("ZodUUID",(t,e)=>{W9.init(t,e),zt.init(t,e)}),wT=pe("ZodURL",(t,e)=>{j9.init(t,e),zt.init(t,e)}),TT=pe("ZodEmoji",(t,e)=>{eS.init(t,e),zt.init(t,e)}),_T=pe("ZodNanoID",(t,e)=>{tS.init(t,e),zt.init(t,e)}),AT=pe("ZodCUID",(t,e)=>{nS.init(t,e),zt.init(t,e)}),ET=pe("ZodCUID2",(t,e)=>{rS.init(t,e),zt.init(t,e)}),CT=pe("ZodULID",(t,e)=>{iS.init(t,e),zt.init(t,e)}),kT=pe("ZodXID",(t,e)=>{aS.init(t,e),zt.init(t,e)}),zT=pe("ZodKSUID",(t,e)=>{oS.init(t,e),zt.init(t,e)}),MT=pe("ZodIPv4",(t,e)=>{dS.init(t,e),zt.init(t,e)}),NT=pe("ZodIPv6",(t,e)=>{fS.init(t,e),zt.init(t,e)}),RT=pe("ZodCIDRv4",(t,e)=>{hS.init(t,e),zt.init(t,e)}),IT=pe("ZodCIDRv6",(t,e)=>{mS.init(t,e),zt.init(t,e)}),DT=pe("ZodBase64",(t,e)=>{pS.init(t,e),zt.init(t,e)}),LT=pe("ZodBase64URL",(t,e)=>{vS.init(t,e),zt.init(t,e)}),UT=pe("ZodE164",(t,e)=>{yS.init(t,e),zt.init(t,e)}),OT=pe("ZodJWT",(t,e)=>{bS.init(t,e),zt.init(t,e)}),J3=pe("ZodNumber",(t,e)=>{U3.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(r,o,s)=>Uw(t,r,o),t.gt=(r,o)=>t.check(Xv(r,o)),t.gte=(r,o)=>t.check(uf(r,o)),t.min=(r,o)=>t.check(uf(r,o)),t.lt=(r,o)=>t.check(Jv(r,o)),t.lte=(r,o)=>t.check(lf(r,o)),t.max=(r,o)=>t.check(lf(r,o)),t.int=r=>t.check(Wv(r)),t.safe=r=>t.check(Wv(r)),t.positive=r=>t.check(Xv(0,r)),t.nonnegative=r=>t.check(uf(0,r)),t.negative=r=>t.check(Jv(0,r)),t.nonpositive=r=>t.check(lf(0,r)),t.multipleOf=(r,o)=>t.check(Kv(r,o)),t.step=(r,o)=>t.check(Kv(r,o)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Tr(t){return mw(J3,t)}const BT=pe("ZodNumberFormat",(t,e)=>{SS.init(t,e),J3.init(t,e)});function Wv(t){return pw(BT,t)}const PT=pe("ZodUnknown",(t,e)=>{wS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Bw()});function Qv(){return gw(PT)}const qT=pe("ZodNever",(t,e)=>{TS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Ow(t,n,r)});function HT(t){return vw(qT,t)}const GT=pe("ZodArray",(t,e)=>{_S.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Gw(t,n,r,o),t.element=e.element,t.min=(n,r)=>t.check(G0(n,r)),t.nonempty=n=>t.check(G0(1,n)),t.max=(n,r)=>t.check(q3(n,r)),t.length=(n,r)=>t.check(H3(n,r)),t.unwrap=()=>t.element});function Nf(t,e){return zw(GT,t,e)}const VT=pe("ZodObject",(t,e)=>{ES.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Vw(t,n,r,o),ft(t,"shape",()=>e.shape),t.keyof=()=>Li(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Qv()}),t.loose=()=>t.clone({...t._zod.def,catchall:Qv()}),t.strict=()=>t.clone({...t._zod.def,catchall:HT()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Xb(t,n),t.safeExtend=n=>Kb(t,n),t.merge=n=>Zb(t,n),t.pick=n=>Yb(t,n),t.omit=n=>Jb(t,n),t.partial=(...n)=>Wb(X3,t,n[0]),t.required=(...n)=>Qb(K3,t,n[0])});function Oi(t,e){const n={type:"object",shape:t??{},...Be(e)};return new VT(n)}const FT=pe("ZodUnion",(t,e)=>{CS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Fw(t,n,r,o),t.options=e.options});function $T(t,e){return new FT({type:"union",options:t,...Be(e)})}const YT=pe("ZodIntersection",(t,e)=>{kS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$w(t,n,r,o)});function JT(t,e){return new YT({type:"intersection",left:t,right:e})}const Rf=pe("ZodEnum",(t,e)=>{zS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(r,o,s)=>Pw(t,r,o),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,o)=>{const s={};for(const u of r)if(n.has(u))s[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new Rf({...e,checks:[],...Be(o),entries:s})},t.exclude=(r,o)=>{const s={...e.entries};for(const u of r)if(n.has(u))delete s[u];else throw new Error(`Key ${u} not found in enum`);return new Rf({...e,checks:[],...Be(o),entries:s})}});function Li(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Rf({type:"enum",entries:n,...Be(e)})}const XT=pe("ZodTransform",(t,e)=>{MS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Hw(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new b3(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Bs(s,n.value,e));else{const u=s;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(Bs(u))}};const o=e.transform(n.value,n);return o instanceof Promise?o.then(s=>(n.value=s,n)):(n.value=o,n)}});function KT(t){return new XT({type:"transform",transform:t})}const X3=pe("ZodOptional",(t,e)=>{P3.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function jv(t){return new X3({type:"optional",innerType:t})}const ZT=pe("ZodExactOptional",(t,e)=>{NS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function WT(t){return new ZT({type:"optional",innerType:t})}const QT=pe("ZodNullable",(t,e)=>{RS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Yw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function e4(t){return new QT({type:"nullable",innerType:t})}const jT=pe("ZodDefault",(t,e)=>{IS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Xw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function e_(t,e){return new jT({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():_3(e)}})}const t_=pe("ZodPrefault",(t,e)=>{DS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Kw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function n_(t,e){return new t_({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():_3(e)}})}const K3=pe("ZodNonOptional",(t,e)=>{LS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Jw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function r_(t,e){return new K3({type:"nonoptional",innerType:t,...Be(e)})}const i_=pe("ZodCatch",(t,e)=>{US.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Zw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function a_(t,e){return new i_({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const o_=pe("ZodPipe",(t,e)=>{OS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Ww(t,n,r,o),t.in=e.in,t.out=e.out});function t4(t,e){return new o_({type:"pipe",in:t,out:e})}const s_=pe("ZodReadonly",(t,e)=>{BS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Qw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function l_(t){return new s_({type:"readonly",innerType:t})}const u_=pe("ZodCustom",(t,e)=>{PS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>qw(t,n)});function c_(t,e={}){return Mw(u_,t,e)}function d_(t){return Nw(t)}const f_=Oi({name:Zr(),label:Zr().optional(),color:Zr().optional(),left:Tr(),top:Tr()}),h_=Oi({mode:Li(["arrow","adjunction","corner","corner_inverse"]).optional(),head:Oi({name:Li(["normal","none","epi","hook","maps_to","harpoon"]).optional(),side:Li(["top","bottom"]).optional()}).optional(),tail:Oi({name:Li(["normal","none","mono","hook","maps_to"]).optional(),side:Li(["top","bottom"]).optional()}).optional(),body:Oi({name:Li(["solid","dashed","dotted","squiggly","wavy","barred","double_barred","bullet_solid","bullet_hollow","none"]).optional()}).optional(),level:Tr().int().optional()}),m_=Oi({from:Zr(),to:Zr(),name:Zr().optional(),label:Zr().optional(),color:Zr().optional(),label_color:Zr().optional(),curve:Tr().optional(),shift:Tr().optional(),radius:Tr().optional(),angle:Tr().optional(),label_alignment:Li(["over","left","right"]).optional(),shorten:Oi({source:Tr().optional(),target:Tr().optional()}).optional(),style:h_.optional()}),p_=Oi({version:Tr().int().optional(),nodes:Nf(f_),arrows:Nf(m_).optional()});class x0{constructor(e,...n){for(const r of n)this[r]=Symbol(`${e}::${r}`)}}class ze{constructor(e,n){Ve(this,"x"),Ve(this,"y"),this.x=e,this.y=n}static zero(){return new ze(0,0)}static lendir(e,n){return new ze(Math.cos(n)*e,Math.sin(n)*e)}static diag(e){return new ze(e,e)}toString(){return`${this.x} ${this.y}`}toArray(){return[this.x,this.y]}px(e=!0){return`${this.x}px${e?",":""} ${this.y}px`}eq(e){return this.x===e.x&&this.y===e.y}add(e){return new ze(this.x+e.x,this.y+e.y)}sub(e){return new ze(this.x-e.x,this.y-e.y)}neg(){return new ze(-this.x,-this.y)}scale(e,n){return new ze(this.x*e,this.y*n)}inv_scale(e,n){return new ze(this.x/e,this.y/n)}mul(e){return this.scale(e,e)}div(e){return this.inv_scale(e,e)}max(e){return new ze(Math.max(this.x,e.x),Math.max(this.y,e.y))}min(e){return new ze(Math.min(this.x,e.x),Math.min(this.y,e.y))}rotate(e){return new ze(this.x*Math.cos(e)-this.y*Math.sin(e),this.y*Math.cos(e)+this.x*Math.sin(e))}length(){return Math.hypot(this.y,this.x)}angle(){return Math.atan2(this.y,this.x)}lerp(e,n){return this.add(e.sub(this).mul(n))}is_zero(){return this.x===0&&this.y===0}map(e){return new ze(e(this.x),e(this.y))}}class g_ extends ze{}class M0 extends g_{get width(){return this.x}get height(){return this.y}}function v_(t){return t*180/Math.PI}class b0{constructor(){Ve(this,"commands"),this.commands=[]}toString(){return this.commands.join(`
`)}move_to(e){return this.commands.push(`M ${e.x} ${e.y}`),this}move_by(e){return this.commands.push(`m ${e.x} ${e.y}`),this}line_to(e){return e.x===0?this.commands.push(`V ${e.y}`):e.y===0?this.commands.push(`H ${e.x}`):this.commands.push(`L ${e.x} ${e.y}`),this}line_by(e){return e.x===0?this.commands.push(`v ${e.y}`):e.y===0?this.commands.push(`h ${e.x}`):this.commands.push(`l ${e.x} ${e.y}`),this}curve_by(e,n){return this.commands.push(`q ${e.x} ${e.y} ${n.x} ${n.y}`),this}arc_by(e,n,r,o,s){return this.commands.push(`a ${Math.abs(e.x)} ${Math.abs(e.y)}
      ${v_(n)} ${r?1:0} ${o?1:0}
      ${s.x} ${s.y}`),this}}function N0(t,e){return(t%e+e)%e}const Vn=10**-6,n4=1/Vn;function F0(t){return Math.round(t*n4)/n4}class Hn{static point_inside_polygon(e,n){const r=(o,s)=>{const u=o[0],d=o[1].sub(u),f=s.sub(u);return d.x*f.y-d.y*f.x};return n.map((o,s)=>{if(n[s].y<=e.y!=n[(s+1)%4].y<=e.y){const u=r([n[s],n[(s+1)%4]],e);if(u>0)return 1;if(u<0)return-1}return 0}).reduce((o,s)=>o+s,0)!==0}static add_intersection(e,n){for(const r of e)if(Math.abs(r.x-n.x)<Vn&&Math.abs(r.y-n.y)<Vn)return;e.add(new ze(F0(n.x),F0(n.y)))}static check_for_containment(e,n,r){const o=new $0(n.centre,n.size,0);if(Hn.point_inside_polygon(e,o.points())){if(r)return[new pu(n.centre,0,0)];throw new Error("Curve was entirely contained by rounded rectangle.")}return[]}}class If extends Hn{constructor(e,n,r,o){super(),Ve(this,"origin"),Ve(this,"w"),Ve(this,"h"),Ve(this,"angle"),Ve(this,"end"),Ve(this,"control"),this.origin=e,this.w=n,this.h=r,this.angle=o,this.end=this.origin.add(new ze(this.w,0).rotate(this.angle)),this.control=this.origin.add(new ze(this.w/2,this.h).rotate(this.angle))}point(e){return this.origin.lerp(this.control,e).lerp(this.control.lerp(this.end,e),e)}tangent(e){return this.control.lerp(this.end,e).sub(this.origin.lerp(this.control,e)).angle()}delineate(e){const n=[[0,this.point(0)],[e,this.point(e)]];let r,o=0;do{r=o,o=0;for(let s=0;s<n.length-1;++s)o+=n[s+1][1].sub(n[s][1]).length()}while(o-r>.25&&(()=>{for(let s=0;s<n.length-1;++s){const u=(n[s][0]+n[s+1][0])/2;n.splice(++s,0,[u,this.point(u)])}return!0})());return{points:n,length:o}}arc_length(e){const{length:n}=this.delineate(e);return n}t_after_length(e=!1){const{points:n}=this.delineate(1);return r=>{if(r===0)return 0;if(r<0){if(e)return 0;throw new Error("Length was less than 0.")}let o=0;for(let s=0;s<n.length-1;++s){const u=n[s+1][1].sub(n[s][1]).length();if(o+u>=r)return n[s][0]+(n[s+1][0]-n[s][0])*(r-o)/u;o+=u}if(e)return 1;throw new Error("Length was greater than the arc length.")}}get height(){return this.h/2}get width(){return this.w}intersections_with_rounded_rectangle(e,n){const r=this.h||1,o=e.points().map(d=>(d=d.sub(this.origin),d=d.rotate(-this.angle),d=d.inv_scale(this.w,r),d)),s=new Set,u=d=>{const f=(d[1].y-d[0].y)/(d[1].x-d[0].x);return{m:f,c:d[0].y-f*d[0].x}};if(this.h===0)for(let d=0;d<o.length;++d){const f=[o[d],o[(d+1)%o.length]];if(Math.abs(f[0].x-f[1].x)<=Vn)f[0].x>=0&&f[0].x<=1&&Math.min(f[0].y,f[1].y)<=0&&Math.max(f[0].y,f[1].y)>=0&&Hn.add_intersection(s,new ze(f[0].x,0));else{const{m:h,c:g}=u(f);if(Math.abs(h)>Vn){const y=-g/h;y>=0&&y<=1&&y>=Math.min(f[0].x,f[1].x)-Vn&&y<=Math.max(f[0].x,f[1].x)+Vn&&Hn.add_intersection(s,new ze(y,0))}else if(Math.abs(f[0].y)<=Vn){const y=Math.min(f[0].x,f[1].x),b=Math.max(f[0].x,f[1].x);y<=1&&b>=0&&(Hn.add_intersection(s,new ze(Math.max(y,0),0)),Hn.add_intersection(s,new ze(Math.min(b,1),0)))}}}else for(let d=0;d<o.length;++d){const f=[o[d],o[(d+1)%o.length]];if(Math.abs(f[0].x-f[1].x)<=Vn){const h=r4.y_intersection_with_vertical_line(f[0].x);h>=0&&h>=Math.min(f[0].y,f[1].y)&&h<=Math.max(f[0].y,f[1].y)&&Hn.add_intersection(s,new ze(f[0].x,h))}else{const{m:h,c:g}=u(f);r4.x_intersections_with_nonvertical_line(h,g).filter(y=>y>=0&&y<=1&&y>=Math.min(f[0].x,f[1].x)&&y<=Math.max(f[0].x,f[1].x)).map(y=>new ze(y,h*y+g)).forEach(y=>Hn.add_intersection(s,y))}}return s.size===0?Hn.check_for_containment(this.origin,e,n):Array.from(s).map(d=>new pu(d.scale(this.w,r),d.x,Math.atan2((2-4*d.x)*r,this.w)))}render(e){return e.curve_by(new ze(this.w/2,this.h).rotate(this.angle),new ze(this.w,0).rotate(this.angle))}}class pu extends ze{constructor(e,n,r){super(e.x,e.y),Ve(this,"t"),Ve(this,"tangentAngle"),this.t=n,this.tangentAngle=r}}class r4{static x_intersections_with_nonvertical_line(e,n){const r=e**2-4*e+4-8*n;return r>0?[(2-e+r**.5)/4,(2-e-r**.5)/4]:r===0?[(2-e+r**.5)/4]:[]}static y_intersection_with_vertical_line(e){return 2*e*(1-e)}}class $0{constructor(e,n,r){Ve(this,"centre"),Ve(this,"size"),Ve(this,"r"),this.centre=e,this.size=n,this.r=r}points(e=5){const n=[],r=this.r!==0?Math.PI/Math.atan(e/(2*this.r)):0,o=Math.ceil(r),s=this.r/Math.cos(Math.PI/o),u=(f,h,g)=>{n.push(this.centre.add(this.size.div(2).sub(ze.diag(this.r)).scale(f,h)).add(ze.lendir(this.r,g)));for(let y=0;y<o/4;++y){const b=(y+.5)/o*2*Math.PI+g;n.push(this.centre.add(this.size.div(2).sub(ze.diag(this.r)).scale(f,h)).add(ze.lendir(s,b)))}return g+=Math.PI/2,n.push(this.centre.add(this.size.div(2).sub(ze.diag(this.r)).scale(f,h)).add(ze.lendir(this.r,g))),g};let d=0;d=u(1,1,d),d=u(-1,1,d),d=u(-1,-1,d),d=u(1,-1,d);for(let f=n.length-2;f>=0;--f)Math.abs(n[f].x-n[f+1].x)<=Vn&&Math.abs(n[f].y-n[f+1].y)<=Vn&&n.splice(f+1,1);return n}}class i4 extends Hn{constructor(e,n,r,o,s){super(),Ve(this,"origin"),Ve(this,"chord"),Ve(this,"major"),Ve(this,"radius"),Ve(this,"angle"),Ve(this,"sagitta"),Ve(this,"centre_normalised"),Ve(this,"sweep_angle"),Ve(this,"centre"),Ve(this,"start_angle"),this.origin=e,this.chord=n,this.major=r,this.radius=o,this.angle=s,this.sagitta=this.radius-Math.sign(this.radius)*(this.radius**2-this.chord**2/4)**.5,this.centre_normalised=new ze(this.chord/2,(this.radius-this.sagitta)*(this.major?-1:1));const u=N0(this.centre_normalised.neg().angle(),2*Math.PI);this.sweep_angle=Math.PI+(2*Math.PI-2*u)*this.clockwise,this.centre=this.origin.add(this.centre_normalised.rotate(this.angle)),this.start_angle=N0(u+this.angle,2*Math.PI)}get clockwise(){return this.radius>=0?1:-1}point(e){return this.centre.add(new ze(Math.abs(this.radius),0).rotate(this.start_angle+e*this.sweep_angle*this.clockwise))}tangent(e){return this.start_angle+(e*this.sweep_angle+Math.PI/2)*this.clockwise}arc_length(e){return e*this.sweep_angle*Math.abs(this.radius)}t_after_length(e=!1){return n=>{if(n<0){if(e)return 0;throw new Error("Length was less than 0.")}if(n>this.arc_length(1)){if(e)return 1;throw new Error("Length was greater than the arc length.")}return n/(this.sweep_angle*Math.abs(this.radius))}}get height(){return Math.abs(this.major?this.radius*2-this.sagitta:this.sagitta)}get width(){return this.major?Math.abs(this.radius)*2:this.chord}angle_in_arc(e){const n=s=>{for(;s<-Math.PI;)s+=2*Math.PI;for(;s>Math.PI;)s-=2*Math.PI;return s},r=n(this.start_angle-e),o=n(this.start_angle+this.sweep_angle*this.clockwise-e);return(r*o<0&&Math.abs(r-o)<Math.PI)!==this.major}intersections_with_rounded_rectangle(e,n){if(!this.major&&Math.abs(this.sagitta)<=1)return new If(this.origin,this.chord,0,this.angle).intersections_with_rounded_rectangle(e,n);const r=e.points().map(s=>(s=s.sub(this.centre).map(F0),s));this.radius<0&&r.reverse();const o=new Set;for(let s=0;s<r.length;++s){const u=[r[s],r[(s+1)%r.length]],d=u[1].sub(u[0]),f=u[0].x*u[1].y-u[1].x*u[0].y,h=d.length()**2,g=this.radius**2*h-f**2;if(!(Math.sign(g)<0))for(const y of Math.abs(g)<=Vn?[0]:[1,-1]){const[b,w]=[(f*d.y+y*d.x*g**.5*(d.y<0?-1:1))/h,(-f*d.x+y*g**.5*Math.abs(d.y))/h].map(F0);b>=Math.min(u[0].x,u[1].x)&&b<=Math.max(u[0].x,u[1].x)&&w>=Math.min(u[0].y,u[1].y)&&w<=Math.max(u[0].y,u[1].y)&&this.angle_in_arc(Math.atan2(w,b))&&Hn.add_intersection(o,new ze(b,w))}}return o.size===0?Hn.check_for_containment(this.origin,e,n):Array.from(o).map(s=>{const u=N0((Math.atan2(s.y,s.x)-this.start_angle)*this.clockwise,2*Math.PI)/this.sweep_angle;return new pu(s.add(this.centre).sub(this.origin).rotate(-this.angle),u,this.tangent(u))})}render(e){return!this.major&&Math.abs(this.sagitta)<=1?e.line_by(new ze(this.chord,0).rotate(this.angle)):e.arc_by(ze.diag(Math.abs(this.radius)),0,this.major,this.radius>=0,new ze(this.chord,0).rotate(this.angle))}}const be={LINE_SPACING:4.5,STROKE_WIDTH:1.5,BACKGROUND_PADDING:16,BACKGROUND_OPACITY:.2,MASK_PADDING:4,HEAD_SPACING:2,SQUIGGLY_PADDING:4,SQUIGGLY_TRIANGLE_HEIGHT:2,ADJUNCTION_LINE_LENGTH:16,CORNER_LINE_LENGTH:12,HANDLE_RADIUS:14,ARC:{OUTER_DIS:96,INNER_DIS:64},ARROW_SHAPE:new x0("ARROW_SHAPE","BEZIER","ARC"),ARROW_BODY_STYLE:new x0("ARROW_BODY_STYLE","NONE","LINE","SQUIGGLY","ADJUNCTION","PROARROW","DOUBLE_PROARROW","BULLET_SOLID","BULLET_HOLLOW"),ARROW_DASH_STYLE:new x0("ARROW_DASH_STYLE","SOLID","DASHED","DOTTED"),ARROW_HEAD_STYLE:{NONE:[],NORMAL:["epi"],EPI:["epi","epi"],MONO:["mono"],MAPS_TO:["maps to"],HARPOON_TOP:["harpoon-top"],HARPOON_BOTTOM:["harpoon-bottom"],HOOK_TOP:["hook-top"],HOOK_BOTTOM:["hook-bottom"],CORNER:["corner"],CORNER_INVERSE:["corner-inverse"]},LABEL_ALIGNMENT:new x0("LABEL_ALIGNMENT","CENTRE","OVER","LEFT","RIGHT")};class Z3{constructor(){Ve(this,"level",1),Ve(this,"label_position",.5),Ve(this,"curve",0),Ve(this,"angle",0),Ve(this,"shift",0),Ve(this,"shorten",{tail:0,head:0}),Ve(this,"shape",be.ARROW_SHAPE.BEZIER),Ve(this,"body_style",be.ARROW_BODY_STYLE.LINE),Ve(this,"dash_style",be.ARROW_DASH_STYLE.SOLID),Ve(this,"heads",be.ARROW_HEAD_STYLE.NORMAL),Ve(this,"tails",be.ARROW_HEAD_STYLE.NONE),Ve(this,"colour","black")}}class y_{constructor(e){Ve(this,"origin"),Ve(this,"size"),Ve(this,"radius"),this.origin=e,this.size=new M0(0,0),this.radius=0}}class a4{constructor(e,n,r){Ve(this,"origin"),Ve(this,"size"),Ve(this,"radius"),this.origin=e,this.size=n,this.radius=r}}class x_{constructor(e,n,r=new Z3,o=null,s="arrow"){Ve(this,"source"),Ve(this,"target"),Ve(this,"style"),Ve(this,"label"),Ve(this,"id"),this.source=e,this.target=n,this.style=r,this.label=o,this.id=s}origin(){const e=this.target.origin.sub(this.source.origin);if(this.style.shape===be.ARROW_SHAPE.BEZIER||e.length()>0)return{source:this.source.origin,target:this.target.origin};{const n=e.angle()+this.style.angle+Math.PI/2,r=ze.lendir(.01/2,n);return{source:this.source.origin.sub(r),target:this.target.origin.add(r)}}}vector(){const e=this.origin();return e.target.sub(e.source)}angle(){return this.vector().angle()}length(){return this.vector().length()}curve(e=this.origin().source,n=this.angle()){const r=this.length();switch(this.style.shape){case be.ARROW_SHAPE.BEZIER:return new If(e,r,-this.style.curve,n);case be.ARROW_SHAPE.ARC:return r<.1?new i4(e,r,!0,-this.style.curve,n):this.arc_for_chord(e,r,-this.style.curve,n);default:return new If(e,r,-this.style.curve,n)}}arc_for_chord(e,n,r,o){const s=be.ARC.OUTER_DIS,u=be.ARC.INNER_DIS,d=u/2,f=s-u,h=n>=s?Vn:d*((s-n)/f),g=h/2+n**2/(8*h),y=n<=u?d+(u-n)/u*(r-d):g;return new i4(e,n,n<=u,y,o)}find_endpoints(){const e=this.origin(),n=(s,u,d)=>{const f=this.curve();if(s instanceof y_||s.size.is_zero()){const g=d?0:1;return new pu(u.sub(e.source).rotate(-f.angle),g,f.tangent(g))}const h=f.intersections_with_rounded_rectangle(new $0(u,s.size,s.radius),!1);if(h.length===0)throw new Error("No intersections found.");return h.sort((g,y)=>g.t-y.t),this.style.shape,be.ARROW_SHAPE.BEZIER,h[d?0:h.length-1]},r=n(this.source,e.source,!0),o=n(this.target,e.target,!1);return[r,o]}compute(){var e,n,r,o,s,u,d,f,h;const g=this.style.level*be.STROKE_WIDTH+(this.style.level-1)*be.LINE_SPACING,y=this.style.body_style===be.ARROW_BODY_STYLE.SQUIGGLY?this.style.level*be.SQUIGGLY_TRIANGLE_HEIGHT*2+be.STROKE_WIDTH+(this.style.level-1)*be.LINE_SPACING:g,b=be.LINE_SPACING+be.STROKE_WIDTH+(this.style.level-1)*2,w=y+(be.LINE_SPACING+be.STROKE_WIDTH)*2,k=this.length(),E=this.curve(ze.zero(),0),z=E.t_after_length(!0),I=2*Math.abs(E.height),U=this.angle(),q=new ze(0,this.style.shift).rotate(U),D=this.curve(this.origin().source.add(q),U),O=D.arc_length(1),G=new b0;G.move_to(D.origin),D.render(G);const R=G.toString();let L,V;try{[L,V]=this.find_endpoints()}catch{return null}const Q={start:this.style.tails.length>0&&this.style.tails[0].startsWith("hook")?b:0,end:this.style.heads.length>0&&this.style.heads[0].startsWith("hook")?b:0},X=(We,Qe,St)=>{if(We.length>0&&We[0]==="mono"){const ht=D.tangent(z(D.arc_length(Qe.t)+b*(St?1:-1))),Bt=D.tangent(Qe.t)-ht;return Math.abs(y*Math.sin(Bt)/2)}return 0},K={start:X(this.style.tails,L,!0),end:X(this.style.heads,V,!1)},Z={curve:D,start:L,end:V,length:k,height:I,stroke_width:g,edge_width:y,head_width:b,head_height:w,shorten:Q,t_after_length:z,dash_padding:K,offset:ze.zero(),total_width_of_tails:0,total_width_of_heads:0},j=this.determine_label_position(Z);let ae=0;if(((e=this.label)==null?void 0:e.alignment)===be.LABEL_ALIGNMENT.OVER){const We=L.t+(V.t-L.t)*this.style.label_position;ae=D.tangent(We)*180/Math.PI}const $=((r=(n=this.label)==null?void 0:n.size)==null?void 0:r.width)||0,ue=((s=(o=this.label)==null?void 0:o.size)==null?void 0:s.height)||0,re={x:j.x-$/2,y:j.y-ue/2,width:$,height:ue},Re=[],Le=[],B=[];if(this.style.body_style===be.ARROW_BODY_STYLE.PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.DOUBLE_PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_SOLID||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_HOLLOW){const We=D.arc_length(L.t)+(this.style.shorten.tail+Q.start)-K.start,Qe=D.arc_length(V.t)-(this.style.shorten.head+Q.end)+K.end,St=Math.max(L.t,z(We)),ht=Math.min(V.t,z(Qe)),Bt=(St+ht)/2;if(this.style.body_style===be.ARROW_BODY_STYLE.PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.DOUBLE_PROARROW){const sn=this.style.body_style===be.ARROW_BODY_STYLE.DOUBLE_PROARROW?[-2.5,2.5]:[0],It=D.arc_length(Bt),fn=D.tangent(Bt)+Math.PI/2,cr=new ze(w,0),No=cr.div(2),Yi=new b0;for(const Eu of sn){let Ji=It+Eu;Ji<We&&(Ji=We),Ji>Qe&&(Ji=Qe);const hn=z(Ji),Cu=D.point(hn);Yi.move_to(Cu.sub(No.rotate(fn))),Yi.line_by(cr.rotate(fn))}Re.push({props:{d:Yi.toString(),fill:"none",stroke:this.style.colour,strokeWidth:be.STROKE_WIDTH,strokeLinecap:"round"}})}else if(this.style.body_style===be.ARROW_BODY_STYLE.BULLET_SOLID||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_HOLLOW){const sn=D.point(Bt),It=w/2,fn=`M ${sn.x} ${sn.y} m ${It}, 0 a ${It},${It} 0 1,0 -${It*2},0 a ${It},${It} 0 1,0 ${It*2},0`;Re.push({props:{d:fn,fill:this.style.body_style===be.ARROW_BODY_STYLE.BULLET_SOLID?this.style.colour:"none",stroke:this.style.body_style===be.ARROW_BODY_STYLE.BULLET_HOLLOW?this.style.colour:"none",strokeWidth:be.STROKE_WIDTH,strokeLinecap:"round"}})}}const oe=(We,Qe,St,ht)=>{const{pathD:Bt,total_width:sn}=this.redraw_heads(Z,We,Qe,St,ht);if(Bt!==null)if(ht)B.push({d:Bt,fill:"black",stroke:"none"});else{const It={props:{d:Bt,fill:"none",stroke:this.style.colour,strokeWidth:be.STROKE_WIDTH,strokeLinecap:"round"}};St?Le.push(It):Re.push(It)}return sn};Z.total_width_of_tails=oe(this.style.tails,L,!0,!1),Z.total_width_of_heads=oe(this.style.heads,V,!1,!1);const{path:W,dash_array:le}=this.edge_path(Z),xe=[],Te=[];if(this.style.level>1||(u=this.label)!=null&&u.text&&this.label.text.trim()!==""){const We=`${this.id}-mask`;if(B.push({d:"M -10000 -10000 h 20000 v 20000 h -20000 z",fill:"white",stroke:"none",strokeWidth:0}),oe(this.style.tails,L,!0,!0),oe(this.style.heads,V,!1,!0),this.style.level>1)for(let Qe=this.style.level-1,St=!0;Qe>0;--Qe,St=!St){const ht=(Qe-(St?1:0))*be.STROKE_WIDTH+(Qe-(St?0:1))*be.LINE_SPACING;B.push({d:W.toString(),stroke:St?"black":"white",strokeWidth:ht,fill:"none"})}if((d=this.label)!=null&&d.text&&re.width>0){const Qe={x:re.x+re.width/2,y:re.y+re.height/2},St=`M ${re.x} ${re.y} h ${re.width} v ${re.height} h -${re.width} z`;B.push({d:St,fill:"black",stroke:"none",transform:ae?`rotate(${ae}, ${Qe.x}, ${Qe.y})`:void 0})}Te.push({id:We,paths:B}),xe.push({d:W.toString(),fill:"none",stroke:this.style.colour,strokeWidth:g,strokeDasharray:le||void 0,mask:`url(#${We})`})}else xe.push({d:W.toString(),fill:"none",stroke:this.style.colour,strokeWidth:be.STROKE_WIDTH,strokeDasharray:le||void 0});const ce=Z.start.t+(Z.end.t-Z.start.t)*this.style.label_position,Ce=Z.curve.point(ce),Ie=L.rotate(U).add(D.origin),$e=V.rotate(U).add(D.origin);return{arrow:{key:this.id,spec:{},paths:xe,heads:Re,tail:Le,label:{text:(f=this.label)==null?void 0:f.text,color:(h=this.label)==null?void 0:h.color,props:{x:j.x,y:j.y,textAnchor:"middle",dominantBaseline:"middle",fontSize:16},bbox:re,rotation:ae},midpoint:{x:Ce.x,y:Ce.y},sourcePoint:{x:Ie.x,y:Ie.y},targetPoint:{x:$e.x,y:$e.y},arcLength:O,interactionPath:R},masks:Te}}edge_path(e){const{curve:n,start:r,end:o,shorten:s,dash_padding:u,t_after_length:d,total_width_of_tails:f,total_width_of_heads:h}=e;let g=n.arc_length(r.t)+(this.style.shorten.tail+s.start)-u.start,y=n.arc_length(o.t)-(this.style.shorten.head+s.end)+u.end,b=n.arc_length(1);const w=new b0;if(this.style.body_style===be.ARROW_BODY_STYLE.LINE||this.style.body_style===be.ARROW_BODY_STYLE.PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.DOUBLE_PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_SOLID||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_HOLLOW)w.move_to(n.origin),n.render(w);else if(this.style.body_style===be.ARROW_BODY_STYLE.ADJUNCTION){const E=n.point(.5),z=n.tangent(.5),I=z+Math.PI/2,U=new ze(be.ADJUNCTION_LINE_LENGTH,0),q=U.div(2);w.move_to(E.sub(q.rotate(z))),w.line_by(U.rotate(z));const D=E.add(q.rotate(z)).sub(q.rotate(I));w.move_to(D),w.line_by(U.rotate(I))}else if(this.style.body_style===be.ARROW_BODY_STYLE.SQUIGGLY){const E=be.SQUIGGLY_TRIANGLE_HEIGHT*2,z=g+f+be.SQUIGGLY_PADDING,I=y-(h+be.SQUIGGLY_PADDING),U=n.point(d(z)),q=n.point(d(g)),D=n.point(d(y));w.move_to(q),w.line_to(U);for(let O=z,G=-1,R=1;O+R*E/2<I;G=[G,-G][R],R=1-R){O+=E/2;const L=d(O),V=n.tangent(L)+Math.PI/2*G,Q=n.point(L).add(ze.lendir(be.SQUIGGLY_TRIANGLE_HEIGHT*R,V));w.line_to(Q)}w.line_to(D),g=0}let k=null;if(this.style.body_style!==be.ARROW_BODY_STYLE.ADJUNCTION)if(this.style.dash_style!==be.ARROW_DASH_STYLE.SOLID){let E=y-g,z=[];this.style.dash_style===be.ARROW_DASH_STYLE.DASHED?z=[6,6]:this.style.dash_style===be.ARROW_DASH_STYLE.DOTTED&&(z=[2,4]);const I=z.reduce((O,G)=>O+G,0),U=Math.floor(E/I),q=Array(U).fill(z).flat(),D=E-U*I;D>0&&q.push(D),k=`0 ${g} ${q.join(" ")} ${b-y}`}else k=`0 ${g} ${y-g} ${b-y}`;return{path:w,dash_array:k}}redraw_heads(e,n,r,o,s=!1){const{curve:u,head_width:d,head_height:f,t_after_length:h,shorten:g,dash_padding:y,stroke_width:b}=e;if(n.length===0)return{pathD:null,total_width:0};const w=o?1:-1,k=o?0:1;let E=0;const z=u.arc_length(r.t)+(o?g.start+this.style.shorten.tail:g.end+this.style.shorten.head)*w,I=new b0,U=[];let q=0;for(let D=0,O=0;D<n.length;++D){let G=0,R=d,L=0;if(n[D]==="mono"&&(R=d,L=d),n[D]==="maps to"&&(G=d/2,R=d/2),D===0)O+=L;else{const V=n[D]===n[D-1]?2:1;O+=(q+R)/V+be.HEAD_SPACING}q=G,U.push(O),E=O+G}for(let D=n.length-1;D>=0;--D){if(s&&D!==0)continue;const O=n[D],G=z+U[D]*w,R=h(G),L=u.point(R);let V=u.tangent(R);if(O==="mono"&&(V+=Math.PI),O==="epi"||O==="mono"||O==="arrowhead"){const Q=[[-1,k],[1,1-k]];for(const[X,K]of Q)if(I.move_to(L),I.arc_by(new ze(w*d,f/2),V,!1,K===1,new ze(w*d,X*f/2).rotate(V)),s){let Z=0;if(O==="epi"||O==="arrowhead")Z=-w*(d+be.MASK_PADDING);else if(O==="mono"){const j=(o?y.start:y.end)*2;Z=w*(be.MASK_PADDING+j)}I.line_by(ze.lendir(Z,V)),I.line_by(new ze(0,-X*f/2).rotate(V))}}else if(O==="maps to"){const Q=ze.lendir(f/2,V+Math.PI/2),X=ze.lendir(f/2,V-Math.PI/2);I.move_to(L.add(Q)),I.line_to(L.add(X))}else if(O.startsWith("harpoon")){const Q=O.endsWith("top")?1:-1,X=L,K=X.add(ze.lendir(d*w,V)),Z=ze.lendir(f/2*Q,V+Math.PI/2);I.move_to(X),I.line_to(K.add(Z))}else if(O.startsWith("hook")){const Q=O.endsWith("top")?-1:1,X=.5;for(let K=0;K<this.style.level;++K){const Z=L.add(new ze(X,Q*b/2-Q*be.STROKE_WIDTH/2-Q*(be.LINE_SPACING+be.STROKE_WIDTH)*K).rotate(V));I.move_to(Z),I.arc_by(new ze(w*d,d),V,!1,Q===1?k===1:k!==1,new ze(0,Q*d*2).rotate(V))}}else if(O==="corner"||O==="corner-inverse"){const Q=O.endsWith("-inverse"),X=be.CORNER_LINE_LENGTH,K=X/2**.5,Z=u.point(h(G+(Q?0:K*w)));for(const j of[-1,1]){I.move_to(Z);const ae=Math.PI/4,$=this.angle(),ue=(Q?0:Math.PI)+ae*Math.round(4*$/Math.PI)-$;I.line_by(ze.lendir(X,ue+Math.PI*k+j*Math.PI/4))}}}return{pathD:I.toString(),total_width:E}}determine_label_position(e){var n;const{start:r,end:o}=e,s=e.curve,u=r.t+(o.t-r.t)*this.style.label_position;let d=s.point(u);const f=(n=this.label)==null?void 0:n.alignment;if(f===be.LABEL_ALIGNMENT.LEFT||f===be.LABEL_ALIGNMENT.RIGHT){const h=s.tangent(u)-Math.PI/2,g=f===be.LABEL_ALIGNMENT.LEFT?1:-1,y=ze.lendir(15*g,h);d=d.add(y)}return d}}const ma=25;function Y0(t){const e=N0(t,360);return e>180?e-360:e}function b_(t,e){var n,r,o,s,u,d,f,h,g,y,b;const w=new Z3;if(w.level=((n=t.style)==null?void 0:n.level)??1,w.curve=t.radius??t.curve??0,w.shift=t.shift??0,w.angle=(t.angle??0)*Math.PI/180,w.label_position=.5,t.color&&(w.colour=t.color),t.shorten&&(w.shorten.tail=t.shorten.source??0,w.shorten.head=t.shorten.target??0),w.shape=e?be.ARROW_SHAPE.ARC:be.ARROW_SHAPE.BEZIER,(r=t.style)!=null&&r.mode&&(t.style.mode==="adjunction"?(w.body_style=be.ARROW_BODY_STYLE.ADJUNCTION,w.heads=be.ARROW_HEAD_STYLE.NONE):t.style.mode==="corner"?(w.body_style=be.ARROW_BODY_STYLE.NONE,w.heads=be.ARROW_HEAD_STYLE.NONE,w.tails=be.ARROW_HEAD_STYLE.CORNER):t.style.mode==="corner_inverse"&&(w.body_style=be.ARROW_BODY_STYLE.NONE,w.heads=be.ARROW_HEAD_STYLE.NONE,w.tails=be.ARROW_HEAD_STYLE.CORNER_INVERSE)),(s=(o=t.style)==null?void 0:o.body)!=null&&s.name){const k=t.style.body.name.toUpperCase();k==="DASHED"&&(w.dash_style=be.ARROW_DASH_STYLE.DASHED),k==="DOTTED"&&(w.dash_style=be.ARROW_DASH_STYLE.DOTTED),k==="NONE"&&(w.body_style=be.ARROW_BODY_STYLE.NONE),(k==="SQUIGGLY"||k==="WAVY")&&(w.body_style=be.ARROW_BODY_STYLE.SQUIGGLY),k==="BARRED"&&(w.body_style=be.ARROW_BODY_STYLE.PROARROW),k==="DOUBLE_BARRED"&&(w.body_style=be.ARROW_BODY_STYLE.DOUBLE_PROARROW),k==="BULLET_SOLID"&&(w.body_style=be.ARROW_BODY_STYLE.BULLET_SOLID),k==="BULLET_HOLLOW"&&(w.body_style=be.ARROW_BODY_STYLE.BULLET_HOLLOW)}if((d=(u=t.style)==null?void 0:u.head)!=null&&d.name){let k=t.style.head.name.toUpperCase();k==="MAPS_TO"&&(k="MAPS_TO"),t.style.head.side&&(k+=`_${t.style.head.side.toUpperCase()}`);let E=k;k==="HOOK"&&(E=`HOOK_${((f=t.style.head.side)==null?void 0:f.toUpperCase())||"TOP"}`),k==="HARPOON"&&(E=`HARPOON_${((h=t.style.head.side)==null?void 0:h.toUpperCase())||"TOP"}`),w.heads=be.ARROW_HEAD_STYLE[E]||be.ARROW_HEAD_STYLE.NORMAL}if((y=(g=t.style)==null?void 0:g.tail)!=null&&y.name){let k=t.style.tail.name.toUpperCase(),E=k;k==="HOOK"&&(E=`HOOK_${((b=t.style.tail.side)==null?void 0:b.toUpperCase())||"TOP"}`),w.tails=be.ARROW_HEAD_STYLE[E]||be.ARROW_HEAD_STYLE.NONE}return w}function Ps(t){try{const e=typeof t=="string"?JSON.parse(t):t,n=p_.parse({...e,version:e.version||1});if(!n.nodes||n.nodes.length===0)return{nodes:[],arrows:[],masks:[],viewBox:"0 0 100 100",error:null};const r=new Map(n.nodes.map(U=>[U.name,{pos:new ze(U.left,U.top),shape:new $0(new ze(U.left,U.top),new M0(ma*2,ma*2),ma),isNode:!0,level:0}])),o=(n.arrows||[]).map((U,q)=>({...U,uniqueId:U.name||`_arrow_${q}`})),s=[],u=[],d=new Set(o);let f=!0;const h=o.length+1;let g=0;for(;d.size>0&&f;){if(g++>h)throw new Error("Dependency cycle detected");f=!1;const U=[...d];for(const q of U){const D=r.get(q.from),O=r.get(q.to);if(D&&O){const G=q.uniqueId,R=new a4(D.pos,D.shape.size,D.shape.r),L=new a4(O.pos,O.shape.size,O.shape.r),V=b_(q,q.from===q.to),Q=q.label_alignment&&be.LABEL_ALIGNMENT[q.label_alignment.toUpperCase()]||be.LABEL_ALIGNMENT.CENTRE,X=(q.label||"").length,K=X>0?Math.max(30,X*10+20):0,Z=X>0?24:0,j=new x_(R,L,V,{text:q.label||"",color:q.label_color,alignment:Q,size:new M0(K,Z)},G).compute();if(j){const{arrow:ae,masks:$}=j;ae.spec=q,s.push(ae),u.push(...$),r.set(G,{pos:new ze(ae.midpoint.x,ae.midpoint.y),shape:new $0(new ze(ae.midpoint.x,ae.midpoint.y),new M0(Math.max(30,K),Math.max(30,Z)),2),isNode:!1,level:Math.max(D.level,O.level)+1})}d.delete(q),f=!0}}}let y=1/0,b=1/0,w=-1/0,k=-1/0;const E=(U,q)=>{y=Math.min(y,U),b=Math.min(b,q),w=Math.max(w,U),k=Math.max(k,q)};n.nodes.forEach(U=>{E(U.left-ma,U.top-ma),E(U.left+ma,U.top+ma)}),s.forEach(U=>{E(U.midpoint.x,U.midpoint.y)});const z=40,I=`${y-z} ${b-z} ${w-y+2*z} ${k-b+2*z}`;return{nodes:n.nodes,arrows:s,masks:u,viewBox:I,error:null}}catch(e){return console.error("Error computing diagram:",e),{nodes:[],arrows:[],masks:[],viewBox:"0 0 100 100",error:e.message}}}function S_(t){return t.from===t.to?{...t,radius:-(t.radius??40),angle:Y0((t.angle??0)+180),label_alignment:t.label_alignment==="left"?"right":t.label_alignment==="right"?"left":t.label_alignment}:{...t,from:t.to,to:t.from}}function w_(t){return t.from===t.to?{...t,angle:Y0((t.angle??0)+180),label_alignment:t.label_alignment==="left"?"right":t.label_alignment==="right"?"left":t.label_alignment}:{...t,curve:t.curve?-t.curve:void 0,shift:t.shift?-t.shift:void 0,angle:t.angle?Y0(-t.angle):void 0,label_alignment:t.label_alignment==="left"?"right":t.label_alignment==="right"?"left":t.label_alignment}}function T_(t=[],e){const n=new Set(e),r=[...e],o=new Set(e);for(;r.length>0;){const s=r.pop();t.forEach(u=>{const d=u.name||u.uniqueId;if(d&&(u.from===s||u.to===s)){o.has(d)||(o.add(d),n.add(d),r.push(d));const f=u.from===s?u.to:u.from;o.has(f)||(o.add(f),n.add(f),r.push(f))}})}return n}function __(t,e,n){const r=t.filter(g=>e.has(g.name));if(r.length===0)return t;const o=Math.min(...r.map(g=>g.left)),s=Math.max(...r.map(g=>g.left)),u=Math.min(...r.map(g=>g.top)),d=Math.max(...r.map(g=>g.top)),f=new ze((o+s)/2,(u+d)/2),h=n*Math.PI/180;return t.map(g=>{if(!e.has(g.name))return g;const y=new ze(g.left,g.top).sub(f).rotate(h).add(f);return{...g,left:Math.round(y.x),top:Math.round(y.y)}})}function o4(t,e,n){const r=t.filter(h=>e.has(h.name));if(r.length===0)return t;const o=Math.min(...r.map(h=>h.left)),s=Math.max(...r.map(h=>h.left)),u=Math.min(...r.map(h=>h.top)),d=Math.max(...r.map(h=>h.top)),f=new ze((o+s)/2,(u+d)/2);return t.map(h=>{if(!e.has(h.name))return h;let g=h.left,y=h.top;return n==="horizontal"?g=f.x-(h.left-f.x):y=f.y-(h.top-f.y),{...h,left:Math.round(g),top:Math.round(y)}})}var s4={exports:{}},Es={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4;function A_(){if(l4)return Es;l4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,s){var u=null;if(s!==void 0&&(u=""+s),o.key!==void 0&&(u=""+o.key),"key"in o){s={};for(var d in o)d!=="key"&&(s[d]=o[d])}else s=o;return o=s.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:s}}return Es.Fragment=e,Es.jsx=n,Es.jsxs=n,Es}var u4;function E_(){return u4||(u4=1,s4.exports=A_()),s4.exports}var un=E_();const c4=16,d4="#333333";function f4({label:t,color:e,textProps:n,isNodeLabel:r=!1}){if(typeof t!="string"||t.trim()==="")return null;const o=t.includes("$"),s={...n,fontWeight:r?"bold":"normal",fontSize:c4,fill:e||d4};if(!o)return un.jsx("text",{...s,children:t});const u=t.replace(/\$/g,""),d=y3.renderToString(u,{throwOnError:!1,displayMode:!1}),f=150,h=50,g=(typeof s.x=="number"?s.x:0)-f/2,y=(typeof s.y=="number"?s.y:0)-h/2;return un.jsx("foreignObject",{x:g,y,width:f,height:h,style:{overflow:"visible"},children:un.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:`${c4}px`,fontWeight:r?"bold":"normal",color:e||d4,textAlign:"center"},children:[un.jsx("style",{children:".katex{line-height:1.2;}.katex-mathml{display:none;}"}),un.jsx("div",{dangerouslySetInnerHTML:{__html:d}})]})})}function W3({diagram:t}){return t?un.jsxs("g",{children:[un.jsx("defs",{children:t.masks&&t.masks.map(e=>un.jsx("mask",{id:e.id,maskUnits:"userSpaceOnUse",x:"-10000",y:"-10000",width:"20000",height:"20000",children:e.paths.map((n,r)=>un.jsx("path",{...n},r))},e.id))}),t.arrows.map(e=>un.jsxs("g",{className:"arrow-visual",children:[e.paths.map((n,r)=>un.jsx("path",{...n},r)),e.label.text&&un.jsx(f4,{label:e.label.text,color:e.label.color,textProps:e.label.props}),e.heads.map((n,r)=>un.jsx("path",{...n.props},`h-${r}`)),e.tail.map((n,r)=>un.jsx("path",{...n.props},`t-${r}`))]},e.key)),t.nodes.map(e=>un.jsx("g",{transform:`translate(${e.left}, ${e.top})`,children:un.jsx(f4,{label:e.label,color:e.color,textProps:{x:0,y:0,textAnchor:"middle",dominantBaseline:"middle"},isNodeLabel:!0})},e.name))]}):null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),h4=t=>{const e=k_(t);return e.charAt(0).toUpperCase()+e.slice(1)},Q3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),z_=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=we.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:u,...d},f)=>we.createElement("svg",{ref:f,...M_,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Q3("lucide",o),...!s&&!z_(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,g])=>we.createElement(h,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const n=we.forwardRef(({className:r,...o},s)=>we.createElement(N_,{ref:s,iconNode:e,className:Q3(`lucide-${C_(h4(t))}`,`lucide-${t}`,r),...o}));return n.displayName=h4(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],I_=it("arrow-right",R_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],L_=it("book-open",D_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Df=it("bot",U_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J0=it("check",O_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P_=it("chevron-down",B_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],m4=it("chevron-left",q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],G_=it("circle-alert",H_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],F_=it("circle-check-big",V_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mh=it("copy",$_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],J_=it("download",Y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],K_=it("eye-off",X_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W_=it("eye",Z_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],j_=it("file-code",Q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cf=it("file-text",eA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],nA=it("folder-open",tA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],iA=it("grid-3x3",rA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],oA=it("image",aA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lA=it("info",sA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],cA=it("link",uA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],fA=it("mouse-pointer-2",dA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],p4=it("panel-left",hA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],X0=it("panel-right",mA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gA=it("pen",pA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],j3=it("plus",vA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],xA=it("printer",yA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],SA=it("redo",bA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nh=it("save",wA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_A=it("send",TA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EA=it("settings",AA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],g4=it("share-2",CA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zA=it("sparkles",kA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],e5=it("trash-2",MA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],RA=it("undo",NA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],DA=it("user",IA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sa=it("x",LA);function Lf(t){const e=["name","label","from","to","left","top","curve","shift","label_alignment","level","style","body","head","tail"],n=Object.entries(t).filter(([,o])=>o!==void 0);return n.sort(([o],[s])=>{const u=e.indexOf(o),d=e.indexOf(s);return u===-1&&d===-1?o.localeCompare(s):u===-1?1:d===-1?-1:u-d}),`{ ${n.map(([o,s])=>typeof s=="object"&&s!==null&&!Array.isArray(s)?`"${o}": ${Lf(s)}`:`"${o}": ${JSON.stringify(s)}`).join(", ")} }`}function Fn(t){if(!t)return"{}";const e=t.version||1;if((!t.nodes||t.nodes.length===0)&&(!t.arrows||t.arrows.length===0))return JSON.stringify({...t,version:e},null,2);const n=(t.nodes||[]).map(s=>`    ${Lf(s)}`).join(`,
`),r=(t.arrows||[]).map(s=>`    ${Lf(s)}`).join(`,
`),o=[];return o.push(`  "version": ${e}`),t.nodes&&t.nodes.length>0&&o.push(`  "nodes": [
${n}
  ]`),t.arrows&&t.arrows.length>0&&o.push(`  "arrows": [
${r}
  ]`),`{
${o.join(`,
`)}
}`}const v4=t=>{let e;const n=new Set,r=(h,g)=>{const y=typeof h=="function"?h(e):h;if(!Object.is(y,e)){const b=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(w=>w(e,b))}},o=()=>e,d={setState:r,getState:o,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=e=t(r,o,d);return d},t5=t=>t?v4(t):v4,UA=t=>t;function n5(t,e=UA){const n=ho.useSyncExternalStore(t.subscribe,ho.useCallback(()=>e(t.getState()),[t,e]),ho.useCallback(()=>e(t.getInitialState()),[t,e]));return ho.useDebugValue(n),n}const OA=t=>{const e=t5(t),n=r=>n5(e,r);return Object.assign(n,e),n},r5=t=>OA;var y4=(t,e,n)=>(o,s)=>({pastStates:(n==null?void 0:n.pastStates)||[],futureStates:(n==null?void 0:n.futureStates)||[],undo:(u=1)=>{var d,f;if(s().pastStates.length){const h=((d=n==null?void 0:n.partialize)==null?void 0:d.call(n,e()))||e(),g=s().pastStates.splice(-u,u),y=g.shift();t(y),o({pastStates:s().pastStates,futureStates:s().futureStates.concat(((f=n==null?void 0:n.diff)==null?void 0:f.call(n,h,y))||h,g.reverse())})}},redo:(u=1)=>{var d,f;if(s().futureStates.length){const h=((d=n==null?void 0:n.partialize)==null?void 0:d.call(n,e()))||e(),g=s().futureStates.splice(-u,u),y=g.shift();t(y),o({pastStates:s().pastStates.concat(((f=n==null?void 0:n.diff)==null?void 0:f.call(n,h,y))||h,g.reverse()),futureStates:s().futureStates})}},clear:()=>o({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>o({isTracking:!1}),resume:()=>o({isTracking:!0}),setOnSave:u=>o({_onSave:u}),_onSave:n==null?void 0:n.onSave,_handleSet:(u,d,f,h)=>{var g,y;n!=null&&n.limit&&s().pastStates.length>=(n==null?void 0:n.limit)&&s().pastStates.shift(),(y=(g=s())._onSave)==null||y.call(g,u,f),o({pastStates:s().pastStates.concat(h||u),futureStates:[]})}}),BA=(t,e)=>(r,o,s)=>{var h,g;s.temporal=t5(((h=e==null?void 0:e.wrapTemporal)==null?void 0:h.call(e,y4(r,o,e)))||y4(r,o,e));const u=((g=e==null?void 0:e.handleSet)==null?void 0:g.call(e,s.temporal.getState()._handleSet))||s.temporal.getState()._handleSet,d=y=>{var k,E,z;if(!s.temporal.getState().isTracking)return;const b=((k=e==null?void 0:e.partialize)==null?void 0:k.call(e,o()))||o(),w=(E=e==null?void 0:e.diff)==null?void 0:E.call(e,y,b);w===null||(z=e==null?void 0:e.equality)!=null&&z.call(e,y,b)||u(y,void 0,b,w)},f=s.setState;return s.setState=(...y)=>{var w;const b=((w=e==null?void 0:e.partialize)==null?void 0:w.call(e,o()))||o();f(...y),d(b)},t((...y)=>{var w;const b=((w=e==null?void 0:e.partialize)==null?void 0:w.call(e,o()))||o();r(...y),d(b)},o,s)};const PA=JSON.stringify({version:1,nodes:[{name:"A",left:150,top:150,label:"A"},{name:"B",left:450,top:150,label:"B"}],arrows:[{name:"f",from:"A",to:"B",label:"f"}]},null,2),vt=r5()(BA((t,e)=>({spec:PA,filename:"Untitled Diagram",selectedIds:new Set,setSpec:n=>t({spec:n}),setFilename:n=>t({filename:n}),setSelection:n=>t({selectedIds:n}),toggleSelection:n=>{const{selectedIds:r}=e(),o=new Set(r);o.has(n)?o.delete(n):o.add(n),t({selectedIds:o})},deleteSelection:()=>{const{selectedIds:n,spec:r}=e();if(n.size!==0)try{const o=JSON.parse(r),s=(o.nodes||[]).filter(d=>!n.has(d.name)),u=(o.arrows||[]).filter(d=>!(d.name&&n.has(d.name)||n.has(d.from)||n.has(d.to)));t({spec:Fn({nodes:s,arrows:u}),selectedIds:new Set})}catch(o){console.error("Failed to delete items:",o)}},reset:()=>t({spec:JSON.stringify({version:1,nodes:[],arrows:[]},null,2),filename:"Untitled Diagram",selectedIds:new Set}),createNew:()=>{t({spec:JSON.stringify({version:1,nodes:[],arrows:[]},null,2),filename:"Untitled Diagram",selectedIds:new Set}),vt.temporal.getState().clear()}}),{limit:100,partialize:t=>({spec:t.spec})})),Xt=40,Ii=25,x4=6;function qA(t,e,n,r,o,s,u){const[d,f]=we.useState({mode:"idle"}),h=vt(D=>D.selectedIds),g=vt(D=>D.setSelection),y=vt(D=>D.toggleSelection),b=vt(D=>D.deleteSelection);we.useEffect(()=>{const D=O=>{const G=document.activeElement,R=G==null?void 0:G.tagName.toLowerCase();if(!(R==="input"||R==="textarea"||G!=null&&G.isContentEditable)){if((O.key==="Delete"||O.key==="Backspace")&&b(),(O.ctrlKey||O.metaKey)&&O.key==="z"&&(O.shiftKey?vt.temporal.getState().redo():vt.temporal.getState().undo(),O.preventDefault()),(O.ctrlKey||O.metaKey)&&O.key==="y"&&(vt.temporal.getState().redo(),O.preventDefault()),(O.ctrlKey||O.metaKey)&&O.key==="a"){O.preventDefault();const V=new Set([...r.map(Q=>Q.name),...o.map(Q=>Q.key)]);g(V)}(O.ctrlKey||O.metaKey)&&O.key==="s"&&(O.preventDefault(),window.dispatchEvent(new CustomEvent("arrowgram:save")))}};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[b,r,o,g]);const w=we.useCallback(D=>{const O=t.current;if(!O)return{x:0,y:0};const G=O.createSVGPoint();G.x=D.clientX,G.y=D.clientY;const R=O.getScreenCTM();return R?G.matrixTransform(R.inverse()):G},[]),k=D=>Math.round(D/Xt)*Xt,E=(D,O)=>{let G=1;for(;O.has(`${D}${G}`);)G++;return`${D}${G}`};return{interaction:d,selectedIds:h,handlers:{onPointerDown:D=>{D.preventDefault();const G=D.target.closest("[data-type]"),R=w(D);if(!G){!D.shiftKey&&!D.metaKey&&!D.ctrlKey&&g(new Set),f({mode:"panning",startPoint:{x:D.clientX,y:D.clientY},initialViewBox:[...e]});return}D.stopPropagation();const L=G,V=L.getAttribute("data-type"),Q=L.getAttribute("data-id");if(V==="handle"){const X=L.getAttribute("data-arrow-id"),K=L.getAttribute("data-end-type");X&&K&&f({mode:"reattaching",source:X,endType:K,endPoint:R});return}if(Q&&(V==="node"||V==="arrow")){if(D.shiftKey||D.metaKey||D.ctrlKey?y(Q):h.has(Q)||g(new Set([Q])),V==="node"){const X=r.find(K=>K.name===Q);X&&(D.shiftKey?f({mode:"connecting",source:Q,endPoint:R}):f({mode:"moving",source:Q,startPoint:R,initialPos:{left:X.left,top:X.top}}))}else if(V==="arrow"){const X=u.arrows.find(K=>K.key===Q);if(X&&D.shiftKey){const K=X.spec.name;K&&f({mode:"connecting",source:K,endPoint:R})}}}},onPointerMove:D=>{if(d.mode==="idle")return;const O=w(D);if(d.mode==="panning"&&d.startPoint&&d.initialViewBox&&t.current){const G=(D.clientX-d.startPoint.x)*(e[2]/t.current.clientWidth),R=(D.clientY-d.startPoint.y)*(e[3]/t.current.clientHeight);n([d.initialViewBox[0]-G,d.initialViewBox[1]-R,d.initialViewBox[2],d.initialViewBox[3]])}else if(d.mode==="moving"&&d.source&&d.initialPos&&d.startPoint){const G=O.x-d.startPoint.x,R=O.y-d.startPoint.y,L=r.find(ae=>ae.name===d.source);if(!L||!d.initialPos)return;const V=k(d.initialPos.left+G),Q=k(d.initialPos.top+R),X=V-L.left,K=Q-L.top;if(X===0&&K===0)return;const Z=r.map(ae=>h.has(ae.name)?{...ae,left:ae.left+X,top:ae.top+K}:ae),j=o.map(ae=>ae.spec);s(Fn({nodes:Z,arrows:j}))}else if(d.mode==="connecting"||d.mode==="reattaching"){const G=document.elementFromPoint(D.clientX,D.clientY),R=G==null?void 0:G.closest("[data-type]");let L;if(R){const V=R.getAttribute("data-type"),Q=R.getAttribute("data-id");(V==="node"||V==="arrow")&&Q&&(L={type:V,id:Q})}f(V=>({...V,endPoint:O,hoveredTarget:L}))}},onPointerUp:D=>{if(d.mode==="connecting"&&d.source||d.mode==="reattaching"&&d.source){const O=D.target.closest("[data-type]");let G;if(O){const R=O.getAttribute("data-type"),L=O.getAttribute("data-id");if(R==="node")G=L||void 0;else if(R==="arrow"){const V=u.arrows.find(Q=>Q.key===L);G=V==null?void 0:V.spec.name}}if(d.mode==="connecting"){const R=new Set([...r.map(L=>L.name),...o.map(L=>L.spec.name).filter(Boolean)]);if(G){const L=G===d.source,V={name:E("arrow",R),from:d.source,to:G,label:"",radius:L?40:void 0,angle:L?-90:void 0},Q=o.map(X=>X.spec);s(Fn({nodes:r,arrows:[...Q,V]}))}else if(!G){const L=E("N",R),V=d.endPoint||{x:0,y:0},Q={name:L,label:L,left:k(V.x),top:k(V.y)},X={name:E("arrow",R),from:d.source,to:L,label:""},K=o.map(Z=>Z.spec);s(Fn({nodes:[...r,Q],arrows:[...K,X]})),g(new Set([L]))}}else if(d.mode==="reattaching"){let R=G;if(R){const L=o.map(V=>(V.spec.name||V.key)===d.source?{...V.spec,[d.endType]:R}:V.spec);s(Fn({nodes:r,arrows:L}))}else{const L=new Set([...r.map(Z=>Z.name),...o.map(Z=>Z.spec.name).filter(Boolean)]),V=E("N",L),Q=d.endPoint||{x:0,y:0},X={name:V,label:V,left:k(Q.x),top:k(Q.y)};R=V;const K=o.map(Z=>(Z.spec.name||Z.key)===d.source?{...Z.spec,[d.endType]:R}:Z.spec);s(Fn({nodes:[...r,X],arrows:K})),g(new Set([V]))}}}f({mode:"idle"})},onDoubleClick:D=>{if(D.target.closest("[data-type]"))return;const G=w(D),R=new Set([...r.map(X=>X.name),...o.map(X=>X.spec.name).filter(Boolean)]),L=E("N",R),V={name:L,label:L,left:k(G.x),top:k(G.y)},Q=o.map(X=>X.spec);s(Fn({nodes:[...r,V],arrows:Q})),g(new Set([L]))}}}}function i5(){const t=vt(R=>R.spec),e=vt(R=>R.setSpec),n=vt(R=>R.selectedIds),r=vt(R=>R.setSelection),o=we.useRef(null),[s,u]=we.useState([0,0,1e3,600]),[d,f]=we.useState(!0),h=we.useCallback(R=>e(R),[e]),{nodes:g,arrows:y,diagram:b}=we.useMemo(()=>{try{const R=Ps(t);return{nodes:R.nodes,arrows:R.arrows,diagram:R}}catch{return{nodes:[],arrows:[],diagram:{arrows:[],nodes:[],viewBox:"0 0 100 100",error:null}}}},[t]),{interaction:w,handlers:k}=qA(o,s,u,g,y,h,b),E=w.mode==="panning"?"grabbing":w.mode==="connecting"||w.mode==="reattaching"?"crosshair":"default",I=(()=>{if(!w.source)return null;if(w.mode==="connecting"){const R=g.find(V=>V.name===w.source);if(R)return{x:R.left,y:R.top};const L=b.arrows.find(V=>V.spec.name===w.source);if(L)return L.midpoint}else if(w.mode==="reattaching"){const R=b.arrows.find(L=>L.key===w.source);if(R)return w.endType==="from"?R.targetPoint:R.sourcePoint}return null})(),U=we.useCallback((R,L)=>{const[V,Q,X,K]=s,Z=X*R,j=K*R;if(Z<10||Z>2e4)return;const ae=L||{x:V+X/2,y:Q+K/2},$=ae.x-(ae.x-V)*R,ue=ae.y-(ae.y-Q)*R;u([$,ue,Z,j])},[s]),q=we.useCallback(R=>{if(R.ctrlKey||R.metaKey){R.preventDefault();const L=R.deltaY>0?1.1:.9,V=o.current;if(!V)return;const Q=V.createSVGPoint();Q.x=R.clientX,Q.y=R.clientY;const X=V.getScreenCTM();if(X){const K=Q.matrixTransform(X.inverse());U(L,K)}}},[U]),D=we.useCallback(()=>{if(b.viewBox){const R=b.viewBox.split(" ").map(Number);R.length===4&&u(R)}},[b.viewBox]),O=we.useCallback(()=>{if(o.current){const{clientWidth:R,clientHeight:L}=o.current,[V,Q]=[s[0]+s[2]/2,s[1]+s[3]/2];u([V-R/2,Q-L/2,R,L])}},[s]),G=we.useCallback(R=>{if(n.size===0)return;if(R==="selectConnected"){const X=T_(y.map(K=>K.spec),n);r(X);return}let L=g,V=y.map(X=>X.spec),Q=!1;R==="reverse"?V=V.map(X=>n.has(X.name||"")||X.uniqueId&&n.has(X.uniqueId)?(Q=!0,S_(X)):X):R==="flip"?V=V.map(X=>n.has(X.name||"")||X.uniqueId&&n.has(X.uniqueId)?(Q=!0,w_(X)):X):["rotate","flipH","flipV"].includes(R)&&(R==="rotate"?L=__(g,n,90):R==="flipH"?L=o4(g,n,"horizontal"):R==="flipV"&&(L=o4(g,n,"vertical")),Q=!0),Q&&h(Fn({nodes:L,arrows:V}))},[n,g,y,h,r]);return we.useEffect(()=>{const R=L=>{const V=document.activeElement;(V==null?void 0:V.tagName.toLowerCase())!=="input"&&(L.key==="r"&&G("reverse"),L.key==="e"&&G("flip"),L.key==="g"&&D(),L.key==="0"&&O(),L.key==="h"&&(L.shiftKey?G("flipH"):f(Q=>!Q)),L.key==="v"&&G("flipV"),L.key==="t"&&G("rotate"),L.shiftKey&&L.key==="A"&&G("selectConnected"))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[G,D,O]),A.jsx("div",{className:"flex bg-gray-50 h-full w-full relative group select-none",style:{cursor:"auto"},children:A.jsxs("div",{className:"flex-1 relative overflow-hidden h-full",children:[A.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 bg-white/90 backdrop-blur rounded-lg border shadow-sm p-1 z-10",children:[A.jsx("button",{onClick:()=>G("reverse"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Reverse Arrow (R)",children:"Rev"}),A.jsx("button",{onClick:()=>G("flip"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Flip Arrow (E)",children:"Flip"}),A.jsx("div",{className:"w-px bg-gray-200 mx-1"}),A.jsx("button",{onClick:()=>G("flipH"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Flip Horizontally (Shift+H)",children:""}),A.jsx("button",{onClick:()=>G("flipV"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Flip Vertically (V)",children:""}),A.jsx("button",{onClick:()=>G("rotate"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Rotate 90 (T)",children:""}),A.jsx("div",{className:"w-px bg-gray-200 mx-1"}),A.jsx("button",{onClick:()=>G("selectConnected"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Select Connected (Shift+A)",children:"Conn"})]}),A.jsxs("svg",{id:"arrowgram-canvas",ref:o,width:"100%",height:"100%",viewBox:s.join(" "),style:{cursor:E,touchAction:"none"},onWheel:q,...k,children:[A.jsx("defs",{children:A.jsx("pattern",{id:"grid",width:Xt,height:Xt,patternUnits:"userSpaceOnUse",children:A.jsx("path",{d:`M ${Xt} 0 L 0 0 0 ${Xt}`,fill:"none",stroke:"rgba(0,0,0,0.05)",strokeWidth:"1"})})}),d&&A.jsx("rect",{x:s[0],y:s[1],width:s[2],height:s[3],fill:"url(#grid)"}),A.jsx(W3,{diagram:b}),(w.mode==="connecting"||w.mode==="reattaching")&&w.endPoint&&(!w.hoveredTarget||w.hoveredTarget.type==="node")&&(()=>{const R=Math.round(w.endPoint.x/Xt)*Xt,L=Math.round(w.endPoint.y/Xt)*Xt,V=g.find(Q=>Math.abs(Q.left-R)<1&&Math.abs(Q.top-L)<1);return A.jsx("g",{style:{pointerEvents:"none"},children:V?A.jsx("rect",{x:V.left-Ii-8,y:V.top-Ii-8,width:(Ii+8)*2,height:(Ii+8)*2,fill:"rgba(0, 0, 0, 0.1)",rx:"12"}):A.jsxs("g",{children:[A.jsx("rect",{x:R-Xt/1.5,y:L-Xt/1.5,width:Xt*1.33,height:Xt*1.33,fill:"rgba(0, 0, 0, 0.05)",rx:"8"}),A.jsx("text",{x:R,y:L,textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fontWeight:"500",fill:"rgba(0,0,0,0.4)",style:{userSelect:"none"},children:"Add Node"})]})})})(),g.map(R=>A.jsx("rect",{x:R.left-Ii-5,y:R.top-Ii-5,width:(Ii+5)*2,height:(Ii+5)*2,fill:"transparent",stroke:n.has(R.name)?"#9333ea":"transparent",strokeWidth:"2","data-type":"node","data-id":R.name,style:{cursor:"move"}},R.name)),b.arrows.map(R=>{var X;const L=n.has(R.key),V=((X=w.hoveredTarget)==null?void 0:X.type)==="arrow"&&w.hoveredTarget.id===R.key,Q=w.mode==="connecting"&&w.source===R.spec.name;return A.jsxs("g",{"data-type":"arrow","data-id":R.key,style:{cursor:"pointer"},children:[(L||Q||V)&&(R.interactionPath?A.jsx("path",{d:R.interactionPath,fill:"none",stroke:"rgba(0,0,0,0.1)",strokeWidth:"20",strokeLinecap:"round"}):R.paths.map((K,Z)=>A.jsx("path",{d:K.d,fill:"none",stroke:"rgba(0,0,0,0.1)",strokeWidth:"20",strokeLinecap:"round"},`halo-${Z}`))),R.interactionPath?A.jsx("path",{d:R.interactionPath,fill:"none",stroke:"transparent",strokeWidth:"15"}):R.paths.map((K,Z)=>A.jsx("path",{d:K.d,fill:"none",stroke:"transparent",strokeWidth:"15"},Z)),L&&(R.interactionPath?A.jsx("path",{d:R.interactionPath,fill:"none",stroke:"#9333ea",strokeWidth:"1",strokeDasharray:"4 2"}):R.paths.map((K,Z)=>A.jsx("path",{d:K.d,fill:"none",stroke:"#9333ea",strokeWidth:"1",strokeDasharray:"4 2"},`select-${Z}`))),L&&R.sourcePoint&&A.jsx("circle",{cx:R.sourcePoint.x,cy:R.sourcePoint.y,r:x4,fill:"white",stroke:"#9333ea",strokeWidth:"2","data-type":"handle","data-arrow-id":R.key,"data-end-type":"from",style:{cursor:"crosshair"}}),L&&R.targetPoint&&A.jsx("circle",{cx:R.targetPoint.x,cy:R.targetPoint.y,r:x4,fill:"white",stroke:"#9333ea",strokeWidth:"2","data-type":"handle","data-arrow-id":R.key,"data-end-type":"to",style:{cursor:"crosshair"}})]},R.key)}),(w.mode==="connecting"||w.mode==="reattaching")&&I&&w.endPoint&&(()=>{var Z;let R=!1,L={x:w.endPoint.x,y:w.endPoint.y};if(((Z=w.hoveredTarget)==null?void 0:Z.type)==="node"){const j=g.find(ae=>ae.name===w.hoveredTarget.id);if(j&&(L={x:j.left,y:j.top}),w.mode==="connecting")R=w.source===w.hoveredTarget.id;else if(w.mode==="reattaching"){const ae=b.arrows.find($=>$.key===w.source);ae&&(R=(w.endType==="to"?ae.spec.from:ae.spec.to)===w.hoveredTarget.id)}}else w.hoveredTarget||(L={x:Math.round(L.x/Xt)*Xt,y:Math.round(L.y/Xt)*Xt},Math.sqrt(Math.pow(L.x-I.x,2)+Math.pow(L.y-I.y,2))<Xt&&(R=!0,L=I));const V=[{name:"A",label:"",left:I.x,top:I.y},{name:"B",label:"",left:L.x,top:L.y}],K=Ps({nodes:V,arrows:[{from:"A",to:R?"A":"B",label:"",radius:R?40:void 0,angle:R?-90:void 0}]}).arrows[0];return K?A.jsxs("g",{style:{pointerEvents:"none",opacity:.6},children:[K.paths.map((j,ae)=>A.jsx("path",{d:j.d,fill:"none",stroke:"#9333ea",strokeWidth:"2",strokeDasharray:"5 5"},ae)),K.heads.map((j,ae)=>A.jsx("path",{d:j.props.d,fill:"none",stroke:"#9333ea",strokeWidth:"2"},`h-${ae}`))]}):null})()]}),A.jsx("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur px-3 py-2 rounded-lg border shadow-sm text-xs text-gray-500 pointer-events-none select-none",children:"Double-click: Add Node  Drag: Move  Shift+Drag: Connect  Ctrl+Scroll: Zoom  H: Grid  R: Reverse  E: Flip"}),A.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 bg-white/90 backdrop-blur rounded-lg border shadow-sm p-1",children:[A.jsx("button",{onClick:()=>U(.9),className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 font-bold w-8 h-8 flex items-center justify-center",title:"Zoom In",children:"+"}),A.jsx("button",{onClick:()=>U(1.1),className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 font-bold w-8 h-8 flex items-center justify-center",title:"Zoom Out",children:"-"}),A.jsx("div",{className:"h-px bg-gray-200 mx-1"}),A.jsx("button",{onClick:()=>f(!d),className:`p-1.5 hover:bg-gray-100 rounded text-gray-600 w-8 h-8 flex items-center justify-center ${d?"":"bg-gray-100 text-gray-900"}`,title:"Toggle Grid (H)",children:A.jsx(iA,{size:16})}),A.jsx("button",{onClick:D,className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 text-xs font-medium w-8 h-8 flex items-center justify-center",title:"Fit View (G)",children:"Fit"}),A.jsx("button",{onClick:O,className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 text-xs font-medium w-8 h-8 flex items-center justify-center",title:"Reset Zoom (0)",children:"1:1"})]})]})})}const HA="modulepreload",GA=function(t){return"/arrowgram/"+t},b4={},zn=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=u(n.map(h=>{if(h=GA(h),h in b4)return;b4[h]=!0;const g=h.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":HA,g||(b.as="script"),b.crossOrigin="",b.href=h,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((w,k)=>{b.addEventListener("load",w),b.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};function Uf({spec:t,className:e,onEdit:n}){const{diagram:r,error:o}=we.useMemo(()=>{try{return{diagram:Ps(t),error:null}}catch(s){return{diagram:null,error:s.message||"Unknown error"}}},[t]);return o?A.jsxs("div",{className:`p-4 border border-red-200 bg-red-50 text-red-600 rounded text-sm font-mono whitespace-pre-wrap ${e}`,children:["Failed to render diagram: ",o]}):r?A.jsxs("div",{className:`relative group inline-block ${e}`,children:[A.jsx("div",{className:"arrowgram-container",children:A.jsx("svg",{viewBox:r.viewBox,className:"w-full h-auto max-w-full",style:{minWidth:"200px",minHeight:"100px"},children:A.jsx(W3,{diagram:r})})}),n&&A.jsx("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:A.jsxs("button",{onClick:s=>{s.stopPropagation(),console.log("Edit button clicked"),n()},className:"pointer-events-auto bg-white/90 hover:bg-white text-gray-800 shadow-lg border border-gray-200 px-4 py-2 rounded-full font-medium text-sm flex items-center gap-2 transform translate-y-2 group-hover:translate-y-0 transition-all",children:[A.jsx(gA,{size:16}),"Edit Visual"]})})]}):null}const VA=t=>{const e={"header-left":"@top-left","header-center":"@top-center","header-right":"@top-right","footer-left":"@bottom-left","footer-center":"@bottom-center","footer-right":"@bottom-right"},n=o=>{const s={"[pageNumber]":"counter(page)","[totalPages]":"counter(pages)","[title]":`"${t.title||""}"`,"[authors]":`"${t.authors||""}"`},u=o.split(/(\[pageNumber\]|\[totalPages\]|\[title\]|\[authors\])/g).filter(d=>d);return u.length===0?'""':u.map(d=>s[d]||`"${d.replace(/"/g,'\\"')}"`).join(" ")};let r="";for(const[o,s]of Object.entries(e))if(t[o]){const u=n(t[o]);r+=`${s} { content: ${u}; } `}return r?`@page { ${r} }`:""},FA=({markdown:t,isTwoColumn:e,onEditDiagram:n})=>{const r=we.useRef(null),o=we.useRef(null);return we.useEffect(()=>{let s=!0;const u=Date.now();r.current._latestRenderId=u;const d=[];return(async()=>{var xe,Te;if(!r.current)return;const[h,g,y,b,w,k,E]=await Promise.all([zn(()=>import("./server.browser-CWezBjgC.js").then(ce=>ce.s),[]),zn(()=>import("./showdown-BXKuQuJ2.js").then(ce=>ce.s),[]),zn(()=>import("./mermaid.core-BekE5kpw.js").then(ce=>ce.b7),__vite__mapDeps([0,1])),zn(()=>Promise.resolve().then(()=>x3),void 0),zn(()=>import("./vega.module-DlPeonZJ.js"),__vite__mapDeps([2,3,1,4,5,6,7,8,9,10,11])),zn(()=>import("./index-ByJ9Ii8b.js"),__vite__mapDeps([12,2,3,1,4,5,6,7,8,9,10,11])),zn(()=>import("./index-5T8z_IRU.js"),[])]),z=g.default??g,I=y.default??y,U=b.default??b,q=E.Previewer??((xe=E.default)==null?void 0:xe.Previewer);let D=t;const O=/<div class="vega-lite"([^>]*)>([\s\S]*?)<\/div>/g,G=Array.from(D.matchAll(O)),R=await Promise.all(G.map(async ce=>{if(!s)return{original:"",replacement:""};try{const Ce=JSON.parse(ce[2].trim()),Ie=k.compile(Ce).spec,We=await new w.View(w.parse(Ie),{renderer:"svg"}).toSVG();return{original:ce[0],replacement:`<div class="vega-container"${ce[1]}>${We}</div>`}}catch(Ce){return{original:ce[0],replacement:`<div class="vega-error">Chart Error: ${Ce.message}</div>`}}}));if(!s||r.current._latestRenderId!==u)return;for(const ce of R)ce.original&&(D=D.replace(ce.original,ce.replacement));I.initialize({startOnLoad:!1,theme:"base"});const L=/<div class="mermaid"([^>]*)>([\s\S]*?)<\/div>/g,V=Array.from(D.matchAll(L)),Q=await Promise.all(V.map(async(ce,Ce)=>{if(!s)return{original:"",replacement:""};try{const{svg:Ie}=await I.render(`mermaid-svg-${Date.now()}-${Ce}`,ce[2].trim());return{original:ce[0],replacement:`<div class="mermaid-container"${ce[1]}>${Ie}</div>`}}catch{return{original:ce[0],replacement:'<div class="mermaid-error">Diagram Error</div>'}}}));if(!s||r.current._latestRenderId!==u)return;for(const ce of Q)ce.original&&(D=D.replace(ce.original,ce.replacement));const X=/<div class="arrowgram"([^>]*)>([\s\S]*?)<\/div>/g,K=[];let Z=0;D=D.replace(X,(ce,Ce,Ie)=>{const $e=`arrowgram-hydrate-${Date.now()}-${Z++}`,We=Ie.trim();K.push({id:$e,spec:We});try{const Qe=h.renderToStaticMarkup(A.jsx(Uf,{spec:We}));return`<div id="${$e}" class="arrowgram-hydrate-target">${Qe}</div>`}catch(Qe){return console.error("Static Render Error:",Qe),`<div id="${$e}" class="arrowgram-hydrate-target" style="min-height: 100px; border: 1px solid red;">Error rendering diagram</div>`}});const j=new Map;let ae=0;const $=ce=>{const Ce=`AGPROTMATH${ae++}AGPROT`;return j.set(Ce,ce),Ce};D=D.replace(/\$\$[\s\S]+?\$\$/g,$),D=D.replace(/\$(?!\$)(?:\\.|[^$\\\n])+\$/g,$);const ue=new z.Converter({metadata:!0,noHeaderId:!0,literalMidWordUnderscores:!0});let re=ue.makeHtml(D);const Re=ue.getMetadata(),Le=VA(Re);for(const[ce,Ce]of j.entries())re=re.split(ce).join(Ce);const B=new Map;re=re.replace(/<(pre|code)[^>]*>[\s\S]*?<\/\1>/g,ce=>{const Ce=`%%PROTECTED_BLOCK_${B.size}%%`;return B.set(Ce,ce),Ce}),re=re.replace(/\$\$([\s\S]+?)\$\$/g,(ce,Ce)=>{const Ie=Ce.trim().replace(/\\\\([A-Za-z_])/g,"\\$1").replace(/\\\\([,;:.!])/g,"\\$1");try{return`<span class="katex-display">${U.renderToString(Ie,{displayMode:!0,throwOnError:!1})}</span>`}catch($e){return`<span class="katex-error">${$e.message}</span>`}}),re=re.replace(/\$([^$]+?)\$/g,(ce,Ce)=>{const Ie=Ce.trim().replace(/\\\\([A-Za-z_])/g,"\\$1").replace(/\\\\([,;:.!])/g,"\\$1");try{return U.renderToString(Ie,{displayMode:!1,throwOnError:!1})}catch($e){return`<span class="katex-error">${$e.message}</span>`}});for(const[ce,Ce]of B.entries())re=re.replace(ce,Ce);const oe=`<div class="title-block">${Re.title?`<div class="title">${Re.title}</div>`:""}${Re.authors?`<div class="authors">${Re.authors}</div>`:""}</div>`,le=`<div class="${e?"layout-two-column":"layout-single-column"}">${oe}<div class="paper-body">${re}</div></div>`;if(r.current){if(!s||r.current._latestRenderId!==u)return;r.current.innerHTML="";const ce=[];if(Le){const We=`data:text/css;base64,${btoa(unescape(encodeURIComponent(Le)))}`;ce.push(We)}const Ce=((Te=document.querySelector('link[href*="katex"]'))==null?void 0:Te.getAttribute("href"))||"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css";ce.push(Ce);const Ie=new q;o.current=Ie,Ie.preview(le,ce,r.current).then(()=>{!s||r.current._latestRenderId!==u||K.forEach(({id:$e,spec:We})=>{var St;const Qe=(St=r.current)==null?void 0:St.querySelector(`#${$e}`);if(Qe){const ht=v2.createRoot(Qe);d.push(ht),ht.render(A.jsx(Uf,{spec:We,onEdit:()=>n($e,We)}))}})})}})(),()=>{s=!1,d.forEach(h=>h.unmount())}},[t,e,n]),A.jsx("div",{ref:r,className:"preview-content-area"})},a5=we.createContext(void 0);function wa(){const t=we.useContext(a5);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function $A({children:t}){const[e,n]=we.useState([]),r=we.useCallback((s,u="info",d=3e3)=>{const f=Date.now().toString();n(h=>[...h,{id:f,message:s,type:u,duration:d}]),d>0&&setTimeout(()=>{o(f)},d)},[]),o=we.useCallback(s=>{n(u=>u.filter(d=>d.id!==s))},[]);return A.jsxs(a5.Provider,{value:{addToast:r,removeToast:o},children:[t,A.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(s=>A.jsxs("div",{className:`
              pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border text-sm font-medium transition-all animate-in slide-in-from-bottom-5 fade-in
              ${s.type==="success"?"bg-white border-green-200 text-green-800":""}
              ${s.type==="error"?"bg-white border-red-200 text-red-800":""}
              ${s.type==="info"?"bg-gray-900 text-white border-transparent":""}
            `,children:[s.type==="success"&&A.jsx(F_,{size:18,className:"text-green-500"}),s.type==="error"&&A.jsx(G_,{size:18,className:"text-red-500"}),s.type==="info"&&A.jsx(lA,{size:18,className:"text-gray-400"}),A.jsx("span",{children:s.message}),A.jsx("button",{onClick:()=>o(s.id),className:`ml-2 p-1 rounded-md hover:bg-black/5 transition-colors ${s.type==="info"?"hover:bg-white/20":""}`,children:A.jsx(Sa,{size:14,className:"opacity-70"})})]},s.id))})]})}function o5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=o5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function s5(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=o5(t))&&(r&&(r+=" "),r+=e);return r}const YA=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},JA=(t,e)=>({classGroupId:t,validator:e}),l5=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),K0="-",S4=[],XA="arbitrary..",KA=t=>{const e=WA(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return ZA(u);const d=u.split(K0),f=d[0]===""&&d.length>1?1:0;return u5(d,f,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=r[u],h=n[u];return f?h?YA(h,f):f:h||S4}return n[u]||S4}}},u5=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const o=t[e],s=n.nextPart.get(o);if(s){const h=u5(t,e+1,s);if(h)return h}const u=n.validators;if(u===null)return;const d=e===0?t.join(K0):t.slice(e).join(K0),f=u.length;for(let h=0;h<f;h++){const g=u[h];if(g.validator(d))return g.classGroupId}},ZA=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?XA+r:void 0})(),WA=t=>{const{theme:e,classGroups:n}=t;return QA(n,e)},QA=(t,e)=>{const n=l5();for(const r in t){const o=t[r];Rh(o,n,r,e)}return n},Rh=(t,e,n,r)=>{const o=t.length;for(let s=0;s<o;s++){const u=t[s];jA(u,e,n,r)}},jA=(t,e,n,r)=>{if(typeof t=="string"){eE(t,e,n);return}if(typeof t=="function"){tE(t,e,n,r);return}nE(t,e,n,r)},eE=(t,e,n)=>{const r=t===""?e:c5(e,t);r.classGroupId=n},tE=(t,e,n,r)=>{if(rE(t)){Rh(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(JA(n,t))},nE=(t,e,n,r)=>{const o=Object.entries(t),s=o.length;for(let u=0;u<s;u++){const[d,f]=o[u];Rh(f,c5(e,d),n,r)}},c5=(t,e)=>{let n=t;const r=e.split(K0),o=r.length;for(let s=0;s<o;s++){const u=r[s];let d=n.nextPart.get(u);d||(d=l5(),n.nextPart.set(u,d)),n=d}return n},rE=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,iE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const o=(s,u)=>{n[s]=u,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let u=n[s];if(u!==void 0)return u;if((u=r[s])!==void 0)return o(s,u),u},set(s,u){s in n?n[s]=u:o(s,u)}}},Of="!",w4=":",aE=[],T4=(t,e,n,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),oE=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const s=[];let u=0,d=0,f=0,h;const g=o.length;for(let E=0;E<g;E++){const z=o[E];if(u===0&&d===0){if(z===w4){s.push(o.slice(f,E)),f=E+1;continue}if(z==="/"){h=E;continue}}z==="["?u++:z==="]"?u--:z==="("?d++:z===")"&&d--}const y=s.length===0?o:o.slice(f);let b=y,w=!1;y.endsWith(Of)?(b=y.slice(0,-1),w=!0):y.startsWith(Of)&&(b=y.slice(1),w=!0);const k=h&&h>f?h-f:void 0;return T4(s,w,b,k)};if(e){const o=e+w4,s=r;r=u=>u.startsWith(o)?s(u.slice(o.length)):T4(aE,!1,u,void 0,!0)}if(n){const o=r;r=s=>n({className:s,parseClassName:o})}return r},sE=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let s=0;s<n.length;s++){const u=n[s],d=u[0]==="[",f=e.has(u);d||f?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(u)):o.push(u)}return o.length>0&&(o.sort(),r.push(...o)),r}},lE=t=>({cache:iE(t.cacheSize),parseClassName:oE(t),sortModifiers:sE(t),...KA(t)}),uE=/\s+/,cE=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=e,u=[],d=t.trim().split(uE);let f="";for(let h=d.length-1;h>=0;h-=1){const g=d[h],{isExternal:y,modifiers:b,hasImportantModifier:w,baseClassName:k,maybePostfixModifierPosition:E}=n(g);if(y){f=g+(f.length>0?" "+f:f);continue}let z=!!E,I=r(z?k.substring(0,E):k);if(!I){if(!z){f=g+(f.length>0?" "+f:f);continue}if(I=r(k),!I){f=g+(f.length>0?" "+f:f);continue}z=!1}const U=b.length===0?"":b.length===1?b[0]:s(b).join(":"),q=w?U+Of:U,D=q+I;if(u.indexOf(D)>-1)continue;u.push(D);const O=o(I,z);for(let G=0;G<O.length;++G){const R=O[G];u.push(q+R)}f=g+(f.length>0?" "+f:f)}return f},dE=(...t)=>{let e=0,n,r,o="";for(;e<t.length;)(n=t[e++])&&(r=d5(n))&&(o&&(o+=" "),o+=r);return o},d5=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=d5(t[r]))&&(n&&(n+=" "),n+=e);return n},fE=(t,...e)=>{let n,r,o,s;const u=f=>{const h=e.reduce((g,y)=>y(g),t());return n=lE(h),r=n.cache.get,o=n.cache.set,s=d,d(f)},d=f=>{const h=r(f);if(h)return h;const g=cE(f,n);return o(f,g),g};return s=u,(...f)=>s(dE(...f))},hE=[],Jt=t=>{const e=n=>n[t]||hE;return e.isThemeGetter=!0,e},f5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,h5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mE=/^\d+\/\d+$/,pE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uo=t=>mE.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),Di=t=>!!t&&Number.isInteger(Number(t)),df=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),Xr=t=>pE.test(t),bE=()=>!0,SE=t=>gE.test(t)&&!vE.test(t),m5=()=>!1,wE=t=>yE.test(t),TE=t=>xE.test(t),_E=t=>!Me(t)&&!Ne(t),AE=t=>Ao(t,v5,m5),Me=t=>f5.test(t),pa=t=>Ao(t,y5,SE),ff=t=>Ao(t,ME,Ze),_4=t=>Ao(t,p5,m5),EE=t=>Ao(t,g5,TE),S0=t=>Ao(t,x5,wE),Ne=t=>h5.test(t),Cs=t=>Eo(t,y5),CE=t=>Eo(t,NE),A4=t=>Eo(t,p5),kE=t=>Eo(t,v5),zE=t=>Eo(t,g5),w0=t=>Eo(t,x5,!0),Ao=(t,e,n)=>{const r=f5.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Eo=(t,e,n=!1)=>{const r=h5.exec(t);return r?r[1]?e(r[1]):n:!1},p5=t=>t==="position"||t==="percentage",g5=t=>t==="image"||t==="url",v5=t=>t==="length"||t==="size"||t==="bg-size",y5=t=>t==="length",ME=t=>t==="number",NE=t=>t==="family-name",x5=t=>t==="shadow",RE=()=>{const t=Jt("color"),e=Jt("font"),n=Jt("text"),r=Jt("font-weight"),o=Jt("tracking"),s=Jt("leading"),u=Jt("breakpoint"),d=Jt("container"),f=Jt("spacing"),h=Jt("radius"),g=Jt("shadow"),y=Jt("inset-shadow"),b=Jt("text-shadow"),w=Jt("drop-shadow"),k=Jt("blur"),E=Jt("perspective"),z=Jt("aspect"),I=Jt("ease"),U=Jt("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...D(),Ne,Me],G=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],L=()=>[Ne,Me,f],V=()=>[uo,"full","auto",...L()],Q=()=>[Di,"none","subgrid",Ne,Me],X=()=>["auto",{span:["full",Di,Ne,Me]},Di,Ne,Me],K=()=>[Di,"auto",Ne,Me],Z=()=>["auto","min","max","fr",Ne,Me],j=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...L()],ue=()=>[uo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],re=()=>[t,Ne,Me],Re=()=>[...D(),A4,_4,{position:[Ne,Me]}],Le=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",kE,AE,{size:[Ne,Me]}],oe=()=>[df,Cs,pa],W=()=>["","none","full",h,Ne,Me],le=()=>["",Ze,Cs,pa],xe=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Ze,df,A4,_4],Ce=()=>["","none",k,Ne,Me],Ie=()=>["none",Ze,Ne,Me],$e=()=>["none",Ze,Ne,Me],We=()=>[Ze,Ne,Me],Qe=()=>[uo,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xr],breakpoint:[Xr],color:[bE],container:[Xr],"drop-shadow":[Xr],ease:["in","out","in-out"],font:[_E],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xr],shadow:[Xr],spacing:["px",Ze],text:[Xr],"text-shadow":[Xr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",uo,Me,Ne,z]}],container:["container"],columns:[{columns:[Ze,Me,Ne,d]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Di,"auto",Ne,Me]}],basis:[{basis:[uo,"full","auto",d,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,uo,"auto","initial","none",Me]}],grow:[{grow:["",Ze,Ne,Me]}],shrink:[{shrink:["",Ze,Ne,Me]}],order:[{order:[Di,"first","last","none",Ne,Me]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[d,"screen",...ue()]}],"min-w":[{"min-w":[d,"screen","none",...ue()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",n,Cs,pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,ff]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",df,Me]}],"font-family":[{font:[CE,Me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ne,Me]}],"line-clamp":[{"line-clamp":[Ze,"none",Ne,ff]}],leading:[{leading:[s,...L()]}],"list-image":[{"list-image":["none",Ne,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Ne,pa]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[Ze,"auto",Ne,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Re()}],"bg-repeat":[{bg:Le()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Di,Ne,Me],radial:["",Ne,Me],conic:[Di,Ne,Me]},zE,EE]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Ne,Me]}],"outline-w":[{outline:["",Ze,Cs,pa]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",g,w0,S0]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",y,w0,S0]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[Ze,pa]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",b,w0,S0]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[Ze,Ne,Me]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[Ne,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Re()}],"mask-repeat":[{mask:Le()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,Me]}],filter:[{filter:["","none",Ne,Me]}],blur:[{blur:Ce()}],brightness:[{brightness:[Ze,Ne,Me]}],contrast:[{contrast:[Ze,Ne,Me]}],"drop-shadow":[{"drop-shadow":["","none",w,w0,S0]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",Ze,Ne,Me]}],"hue-rotate":[{"hue-rotate":[Ze,Ne,Me]}],invert:[{invert:["",Ze,Ne,Me]}],saturate:[{saturate:[Ze,Ne,Me]}],sepia:[{sepia:["",Ze,Ne,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,Me]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Ne,Me]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Ne,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Ne,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Ne,Me]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Ne,Me]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Ne,Me]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Ne,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Ne,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Ne,Me]}],ease:[{ease:["linear","initial",I,Ne,Me]}],delay:[{delay:[Ze,Ne,Me]}],animate:[{animate:["none",U,Ne,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Ne,Me]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:$e()}],"scale-x":[{"scale-x":$e()}],"scale-y":[{"scale-y":$e()}],"scale-z":[{"scale-z":$e()}],"scale-3d":["scale-3d"],skew:[{skew:We()}],"skew-x":[{"skew-x":We()}],"skew-y":[{"skew-y":We()}],transform:[{transform:[Ne,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,Me]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[Ze,Cs,pa,ff]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},IE=fE(RE);function gu(...t){return IE(s5(t))}const Kt=we.forwardRef(({className:t,type:e,...n},r)=>A.jsx("input",{type:e,className:gu("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Kt.displayName="Input";const co=we.forwardRef(({className:t,children:e,...n},r)=>A.jsxs("div",{className:"relative",children:[A.jsx("select",{className:gu("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none",t),ref:r,...n,children:e}),A.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:A.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:A.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}));co.displayName="Select";const E4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,C4=s5,b5=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return C4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=e,u=Object.keys(o).map(h=>{const g=n==null?void 0:n[h],y=s==null?void 0:s[h];if(g===null)return null;const b=E4(g)||E4(y);return o[h][b]}),d=n&&Object.entries(n).reduce((h,g)=>{let[y,b]=g;return b===void 0||(h[y]=b),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:y,className:b,...w}=g;return Object.entries(w).every(k=>{let[E,z]=k;return Array.isArray(z)?z.includes({...s,...d}[E]):{...s,...d}[E]===z})?[...h,y,b]:h},[]);return C4(t,u,f,n==null?void 0:n.class,n==null?void 0:n.className)},DE=b5("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ut=we.forwardRef(({className:t,...e},n)=>A.jsx("label",{ref:n,className:gu(DE(),t),...e}));Ut.displayName="Label";const LE=b5("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),cn=we.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},s)=>A.jsx("button",{className:gu(LE({variant:e,size:n,className:t})),ref:s,...o}));cn.displayName="Button";function UE({node:t,nodes:e,arrows:n,onSpecChange:r}){const o=s=>{const{name:u,value:d}=s.target,f=e.map(h=>h.name===t.name?{...h,[u]:d}:h);r(Fn({nodes:f,arrows:n}))};return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Label"}),A.jsx(Kt,{type:"text",name:"label",value:t.label||"",onChange:o})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Color"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Kt,{type:"color",name:"color",value:t.color||"#000000",onChange:o,className:"w-12 h-10 p-1"}),A.jsx(Kt,{type:"text",name:"color",value:t.color||"",onChange:o,placeholder:"#000000"})]})]})]})}function OE({arrow:t,nodes:e,arrows:n,onSpecChange:r}){var d,f,h,g,y,b,w,k,E,z,I;const o=U=>{const{name:q,value:D,type:O}=U.target;let G=O==="number"?Number(D):D;q==="angle"&&typeof G=="number"&&!isNaN(G)&&(G=Y0(G));const R=n.map((L,V)=>(L.name||`_arrow_${V}`)===t.key?{...L,[q]:G}:L);r(Fn({nodes:e,arrows:R}))},s=(U,q)=>{const D=n.map((O,G)=>{if((O.name||`_arrow_${G}`)===t.key){const L=O.shorten||{};return{...O,shorten:{...L,[U]:q}}}return O});r(Fn({nodes:e,arrows:D}))},u=(U,q,D)=>{const O=n.map((G,R)=>{if((G.name||`_arrow_${R}`)===t.key){const V={...G.style};if(U==="level")V.level=D;else if(U==="mode")V.mode=D;else if(D!==void 0){const Q=V[U]||{};V[U]={...Q,[q]:D}}else V[U]=q;return{...G,style:V}}return G});r(Fn({nodes:e,arrows:O}))};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Content"}),A.jsx(Kt,{type:"text",name:"label",value:t.label||"",onChange:o,placeholder:"Label text"})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Colors"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx(Ut,{className:"text-xs",children:"Arrow"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Kt,{type:"color",name:"color",value:t.color||"#000000",onChange:o,className:"w-8 h-8 p-0"}),A.jsx(Kt,{type:"text",name:"color",value:t.color||"",onChange:o,placeholder:"Arrow Color"})]})]}),A.jsxs("div",{children:[A.jsx(Ut,{className:"text-xs",children:"Label"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Kt,{type:"color",name:"label_color",value:t.label_color||"#000000",onChange:o,className:"w-8 h-8 p-0"}),A.jsx(Kt,{type:"text",name:"label_color",value:t.label_color||"",onChange:o,placeholder:"Label Color"})]})]})]})]}),A.jsxs("div",{children:[A.jsx("div",{className:"pb-2 border-b border-gray-100 mb-3 font-semibold text-gray-700 text-sm",children:"Label Placement"}),A.jsx("div",{className:"space-y-3",children:A.jsxs("div",{children:[A.jsx(Ut,{children:"Alignment"}),A.jsxs(co,{name:"label_alignment",value:t.label_alignment||"over",onChange:o,children:[A.jsx("option",{value:"over",children:"Over"}),A.jsx("option",{value:"left",children:"Left"}),A.jsx("option",{value:"right",children:"Right"})]})]})})]}),A.jsxs("div",{children:[A.jsx("div",{className:"pb-2 border-b border-gray-100 mb-3 font-semibold text-gray-700 text-sm",children:"Geometry"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.from===t.to?A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Radius"}),A.jsx(Kt,{type:"number",name:"radius",value:t.radius||0,onChange:o})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Angle"}),A.jsx(Kt,{type:"number",name:"angle",value:t.angle||0,min:-180,max:180,onChange:o})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Curve"}),A.jsx(Kt,{type:"number",name:"curve",value:t.curve||0,onChange:o})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Shift"}),A.jsx(Kt,{type:"number",name:"shift",value:t.shift||0,onChange:o})]})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Shorten Start"}),A.jsx(Kt,{type:"number",value:((d=t.shorten)==null?void 0:d.source)||0,onChange:U=>s("source",U.target.valueAsNumber)})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Shorten End"}),A.jsx(Kt,{type:"number",value:((f=t.shorten)==null?void 0:f.target)||0,onChange:U=>s("target",U.target.valueAsNumber)})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx(Ut,{children:"Level (Parallel)"}),A.jsx(Kt,{type:"number",name:"level",value:((h=t.style)==null?void 0:h.level)||1,min:1,onChange:U=>u("level","level",U.target.valueAsNumber)})]})]})]}),A.jsxs("div",{children:[A.jsx("div",{className:"pb-2 border-b border-gray-100 mb-3 font-semibold text-gray-700 text-sm",children:"Styling"}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Type"}),A.jsxs(co,{value:((g=t.style)==null?void 0:g.mode)||"arrow",onChange:U=>u("mode","arrow",U.target.value),children:[A.jsx("option",{value:"arrow",children:"Arrow"}),A.jsx("option",{value:"adjunction",children:"Adjunction ()"}),A.jsx("option",{value:"corner",children:"Pullback ()"}),A.jsx("option",{value:"corner_inverse",children:"Pushout ()"})]})]}),(!((y=t.style)!=null&&y.mode)||t.style.mode==="arrow")&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Body Style"}),A.jsxs(co,{value:((w=(b=t.style)==null?void 0:b.body)==null?void 0:w.name)||"solid",onChange:U=>u("body","name",U.target.value),children:[A.jsx("option",{value:"solid",children:"Solid"}),A.jsx("option",{value:"dashed",children:"Dashed"}),A.jsx("option",{value:"dotted",children:"Dotted"}),A.jsx("option",{value:"none",children:"None"}),A.jsx("option",{value:"squiggly",children:"Squiggly"}),A.jsx("option",{value:"barred",children:"Barred"}),A.jsx("option",{value:"double_barred",children:"Double Barred"}),A.jsx("option",{value:"bullet_solid",children:"Bullet (Solid)"}),A.jsx("option",{value:"bullet_hollow",children:"Bullet (Hollow)"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Head"}),A.jsxs(co,{value:((E=(k=t.style)==null?void 0:k.head)==null?void 0:E.name)||"normal",onChange:U=>u("head","name",U.target.value),children:[A.jsx("option",{value:"normal",children:"Normal"}),A.jsx("option",{value:"epi",children:"Epi ()"}),A.jsx("option",{value:"none",children:"None"}),A.jsx("option",{value:"maps_to",children:"Bar (|)"}),A.jsx("option",{value:"hook",children:"Hook ()"}),A.jsx("option",{value:"harpoon",children:"Harpoon ()"})]})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Tail"}),A.jsxs(co,{value:((I=(z=t.style)==null?void 0:z.tail)==null?void 0:I.name)||"none",onChange:U=>u("tail","name",U.target.value),children:[A.jsx("option",{value:"none",children:"None"}),A.jsx("option",{value:"mono",children:"Mono ()"}),A.jsx("option",{value:"maps_to",children:"Maps to (|)"}),A.jsx("option",{value:"hook",children:"Hook ()"})]})]})]})]})]})]})]})}function S5({selection:t,spec:e,onSpecChange:n}){const r=vt(f=>f.deleteSelection),{nodes:o,arrows:s}=we.useMemo(()=>{try{const f=JSON.parse(e);return{nodes:f.nodes||[],arrows:f.arrows||[]}}catch{return{nodes:[],arrows:[]}}},[e]),u=we.useMemo(()=>{if(!(t!=null&&t.key))return null;const{key:f}=t,h=o.find(y=>y.name===f);if(h)return{type:"node",data:h};const g=s.find((y,b)=>(y.name||`_arrow_${b}`)===f);return g?{type:"arrow",data:{...g,key:f}}:null},[t,o,s]);if(!u)return A.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[A.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4 text-gray-300",children:A.jsx(fA,{size:32})}),A.jsx("p",{className:"text-sm font-medium",children:"No item selected"}),A.jsx("p",{className:"text-xs mt-1",children:"Select a node or arrow on the canvas to edit its properties."})]});const d=u.type==="node"?u.data.name:u.data.name||u.data.key;return A.jsxs("div",{children:[A.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[A.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[A.jsx("span",{className:"capitalize",children:u.type}),A.jsx("span",{className:"text-sm font-normal text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full max-w-[150px] truncate",children:d})]}),A.jsx(cn,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:r,title:"Delete",children:A.jsx(e5,{size:18})})]}),u.type==="node"&&A.jsx(UE,{node:u.data,nodes:o,arrows:s,onSpecChange:n}),u.type==="arrow"&&A.jsx(OE,{arrow:u.data,nodes:o,arrows:s,onSpecChange:n})]})}function BE({initialMarkdown:t,filename:e,onPersist:n,onChange:r,onPrint:o,showSaveButton:s=!0,showPrintButton:u=!0}){const[d,f]=we.useState(t),[h,g]=we.useState(!1),[y,b]=we.useState("split"),[w,k]=we.useState(null),{addToast:E}=wa();ho.useEffect(()=>{f(t)},[t]);const z=async()=>{if(!n){E("Save is not configured in this host app.","error");return}try{await n(d),E("Paper saved successfully!","success")}catch(D){console.error(D),E("Failed to save paper.","error")}},I=()=>{if(o){o(d,{isTwoColumn:h});return}localStorage.setItem("print_content",d),localStorage.setItem("print_layout",String(h));const D=new URL("/arrowgram/",window.location.origin),O=new URL("print-preview",D).toString();window.open(O,"_blank")},U=(D,O)=>{k({id:D,spec:O})},q=D=>{if(!w)return;const O=w.spec;if(d.includes(O)){const G=d.replace(O,D);f(G),E("Diagram updated in document","success")}else E("Could not find the original diagram code to replace.","error");k(null)};return A.jsxs("div",{className:"paper-editor-root flex flex-col h-full bg-gray-50 overflow-hidden",children:[A.jsxs("div",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 shrink-0 z-20 print:hidden",children:[A.jsx("div",{className:"flex items-center gap-4",children:A.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[A.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded flex items-center justify-center text-white text-xs font-bold",children:"P"}),e]})}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg mr-4",children:[A.jsx("button",{onClick:()=>b("code"),className:`p-1.5 rounded ${y==="code"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Editor Only",children:A.jsx(p4,{size:16})}),A.jsx("button",{onClick:()=>b("split"),className:`p-1.5 rounded ${y==="split"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Split View",children:A.jsxs("div",{className:"flex",children:[A.jsx(p4,{size:16,className:"-mr-1"}),A.jsx(X0,{size:16,className:"-ml-1"})]})}),A.jsx("button",{onClick:()=>b("preview"),className:`p-1.5 rounded ${y==="preview"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Preview Only",children:A.jsx(X0,{size:16})})]}),A.jsx("button",{onClick:()=>g(!h),className:`text-sm px-3 py-1.5 rounded border transition-colors ${h?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:h?"Two Column":"Single Column"}),A.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-1.5 text-gray-600 hover:bg-gray-100 rounded-md text-sm font-medium transition-colors",style:{display:u?void 0:"none"},children:[A.jsx(xA,{size:16}),"Print PDF"]}),A.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md text-sm font-medium transition-colors shadow-sm",style:{display:s?void 0:"none"},children:[A.jsx(Nh,{size:16}),"Save"]})]})]}),A.jsxs("div",{className:"flex-1 flex overflow-hidden paper-editor-main",children:[A.jsxs("div",{className:`${y==="preview"?"hidden":y==="code"?"w-full":"w-1/2"} flex flex-col border-r border-gray-200 transition-all duration-300 print:hidden`,children:[A.jsx("div",{className:"bg-gray-50 px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Markdown Source"}),A.jsx("textarea",{className:"flex-1 w-full h-full p-6 resize-none outline-none font-mono text-sm bg-white text-gray-800 leading-relaxed",value:d,onChange:D=>{const O=D.target.value;f(O),r==null||r(O)},placeholder:"# Start writing your paper...",spellCheck:!1})]}),A.jsxs("div",{className:`${y==="code"?"hidden":y==="preview"?"w-full":"w-1/2"} bg-gray-100 flex flex-col relative overflow-hidden transition-all duration-300 paper-preview-pane`,children:[A.jsxs("div",{className:"bg-gray-100 px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200 flex justify-between print:hidden",children:[A.jsx("span",{children:"Live Preview"}),A.jsx("span",{className:"text-[10px] text-gray-400",children:"Paged.js Rendering"})]}),A.jsx("div",{className:"flex-1 overflow-auto p-8 relative paper-scroll-container",children:A.jsx("div",{className:"mx-auto w-fit paper-content-wrapper",children:A.jsx(FA,{markdown:d,isTwoColumn:h,onEditDiagram:U})})})]})]}),w&&A.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-8",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl h-[80vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"h-14 border-b border-gray-200 flex items-center justify-between px-6 bg-gray-50",children:[A.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[A.jsx(oA,{size:20,className:"text-indigo-600"}),"Edit Diagram"]}),A.jsx("button",{onClick:()=>k(null),className:"p-2 hover:bg-gray-200 rounded-full text-gray-500 transition-colors",children:A.jsx(Sa,{size:20})})]}),A.jsx("div",{className:"flex-1 overflow-hidden relative",children:A.jsx(PE,{initialSpec:w.spec,onSave:D=>q(D)})})]})})]})}function PE({initialSpec:t,onSave:e}){const n=vt(s=>s.setSpec),r=vt(s=>s.spec),o=vt(s=>s.selection);return ho.useEffect(()=>{n(t)},[]),A.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[A.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[A.jsx("div",{className:"flex-1 relative",children:A.jsx(i5,{})}),A.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[A.jsx("div",{className:"p-4 border-b border-gray-100 font-semibold text-gray-700 bg-gray-50/50",children:"Properties"}),A.jsx("div",{className:"p-4",children:A.jsx(S5,{selection:o,spec:r,onSpecChange:n})})]})]}),A.jsx("div",{className:"h-16 border-t border-gray-200 flex items-center justify-end px-6 gap-3 bg-white z-10",children:A.jsx("button",{onClick:()=>e(r),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-sm transition-colors",children:"Apply Changes"})})]})}function Co(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function qE(t,e){let n;const r=()=>{if(n)return n;const o=indexedDB.open(t);return o.onupgradeneeded=()=>o.result.createObjectStore(e),n=Co(o),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(o,s)=>r().then(u=>s(u.transaction(e,o).objectStore(e)))}let hf;function vu(){return hf||(hf=qE("keyval-store","keyval")),hf}function HE(t,e=vu()){return e("readonly",n=>Co(n.get(t)))}function GE(t,e,n=vu()){return n("readwrite",r=>(r.put(e,t),Co(r.transaction)))}function VE(t,e=vu()){return e("readwrite",n=>(n.delete(t),Co(n.transaction)))}function FE(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Co(t.transaction)}function $E(t=vu()){return t("readonly",e=>{if(e.getAllKeys)return Co(e.getAllKeys());const n=[];return FE(e,r=>n.push(r.key)).then(()=>n)})}const Ih="arrowgram_project_";async function Bf(t,e,n="diagram"){const r={name:t,updatedAt:new Date().toISOString(),type:n,spec:e};return await GE(Ih+t,r),r}async function YE(t){await VE(Ih+t)}async function w5(){const e=(await $E()).filter(r=>r.toString().startsWith(Ih));return(await Promise.all(e.map(r=>HE(r)))).sort((r,o)=>new Date(o.updatedAt).getTime()-new Date(r.updatedAt).getTime())}var yu=g2();function JE(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var s;const u=f=>f===null?null:JSON.parse(f,void 0),d=(s=n.getItem(o))!=null?s:null;return d instanceof Promise?d.then(u):u(d)},setItem:(o,s)=>n.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>n.removeItem(o)}}const Pf=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Pf(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Pf(r)(n)}}}},XE=(t,e)=>(n,r,o)=>{let s={storage:JE(()=>localStorage),partialize:E=>E,version:0,merge:(E,z)=>({...z,...E}),...e},u=!1;const d=new Set,f=new Set;let h=s.storage;if(!h)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...E)},r,o);const g=()=>{const E=s.partialize({...r()});return h.setItem(s.name,{state:E,version:s.version})},y=o.setState;o.setState=(E,z)=>(y(E,z),g());const b=t((...E)=>(n(...E),g()),r,o);o.getInitialState=()=>b;let w;const k=()=>{var E,z;if(!h)return;u=!1,d.forEach(U=>{var q;return U((q=r())!=null?q:b)});const I=((z=s.onRehydrateStorage)==null?void 0:z.call(s,(E=r())!=null?E:b))||void 0;return Pf(h.getItem.bind(h))(s.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==s.version){if(s.migrate){const q=s.migrate(U.state,U.version);return q instanceof Promise?q.then(D=>[!0,D]):[!0,q]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var q;const[D,O]=U;if(w=s.merge(O,(q=r())!=null?q:b),n(w,!0),D)return g()}).then(()=>{I==null||I(w,void 0),w=r(),u=!0,f.forEach(U=>U(w))}).catch(U=>{I==null||I(void 0,U)})};return o.persist={setOptions:E=>{s={...s,...E},E.storage&&(h=E.storage)},clearStorage:()=>{h==null||h.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:E=>(d.add(E),()=>{d.delete(E)}),onFinishHydration:E=>(f.add(E),()=>{f.delete(E)})},s.skipHydration||k(),w||b},KE=XE,Dh=r5()(KE(t=>({apiKey:"",setApiKey:e=>t({apiKey:e}),apiProvider:"gemini",setApiProvider:e=>t({apiProvider:e}),customEndpoint:"",setCustomEndpoint:e=>t({customEndpoint:e})}),{name:"arrowgram-settings"}));function ZE({isOpen:t,onClose:e}){const{apiKey:n,setApiKey:r,apiProvider:o}=Dh(),[s,u]=we.useState(!1);return t?yu.createPortal(A.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-96 ring-1 ring-black/5 animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Settings"}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:A.jsx(Sa,{size:24})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx(Ut,{className:"mb-2 block",children:"AI Provider"}),A.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[A.jsx("button",{className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${o==="gemini"?"bg-white shadow text-purple-700":"text-gray-500 hover:text-gray-700"}`,children:"Google Gemini"}),A.jsx("button",{className:"flex-1 py-1.5 text-sm font-medium rounded-md text-gray-400 cursor-not-allowed",disabled:!0,children:"Custom (Soon)"})]})]}),A.jsxs("div",{children:[A.jsx(Ut,{className:"mb-2 block",children:"Gemini API Key"}),A.jsxs("div",{className:"relative",children:[A.jsx(Kt,{type:s?"text":"password",value:n,onChange:d=>r(d.target.value),placeholder:"AIzaSy...",className:"pr-10"}),A.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>u(!s),children:s?A.jsx(K_,{size:16}):A.jsx(W_,{size:16})})]}),A.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Your API key is stored locally in your browser.",A.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:underline ml-1",children:"Get an API key"})]})]})]}),A.jsx("div",{className:"mt-8 flex justify-end",children:A.jsx(cn,{onClick:e,children:"Done"})})]})}),document.body):null}const WE=`
{
  "nodes": [
    { "name": "T", "left": 100, "top": 100, "label": "T" },
    { "name": "P", "left": 300, "top": 300, "label": "$A \\times_C B$" },
    { "name": "A", "left": 300, "top": 600, "label": "A" },
    { "name": "B", "left": 600, "top": 300, "label": "B" },
    { "name": "C", "left": 600, "top": 600, "label": "C" }
  ],
  "arrows": [
    { "from": "P", "to": "A", "label": "p", "style": { "tail": { "name": "mono" } } },
    { "from": "P", "to": "B", "label": "p" },
    { "from": "A", "to": "C", "label": "f", "label_alignment": "left", "style": { "head": { "name": "epi" } } },
    { "from": "B", "to": "C", "label": "g", "label_alignment": "right", "style": { "tail": { "name": "mono" } } },
    { "from": "T", "to": "A", "label": "t", "curve": -80 },
    { "from": "T", "to": "B", "label": "t", "curve": 80 },
    { "from": "T", "to": "P", "label": "! u", "style": { "body": { "name": "dashed" } } }
  ]
}
`,QE=`
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "A" },
    { "name": "B", "left": 400, "top": 100, "label": "B" }
  ],
  "arrows": [
    { "name": "f", "from": "A", "to": "B", "label": "F(f)", "curve": -90 },
    { "name": "g", "from": "A", "to": "B", "label": "G(f)", "curve": 90 },
    { "name": "eta", "from": "f", "to": "g", "label": "", "style": { "head": { "name": "epi" } } }
  ]
}
`,jE=`
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "A" },
    { "name": "B", "left": 500, "top": 100, "label": "B" },
    { "name": "C", "left": 100, "top": 400, "label": "C" },
    { "name": "D", "left": 500, "top": 400, "label": "D" }
  ],
  "arrows": [
    { "name": "top_arrow", "from": "A", "to": "B", "label": "f", "curve": 90 },
    { "name": "bottom_arrow", "from": "C", "to": "D", "label": "g" },
    { "name": "left_arrow", "from": "A", "to": "C", "label": "" },
    { "name": "right_arrow", "from": "B", "to": "D", "label": "" },
    { "name": "diag1", "from": "top_arrow", "to": "right_arrow", "label": "", "curve": 40, "label_alignment": "left",
      "style": { "level": 2,  "head": { "name": "epi" },  "tail": { "name": "mono" }  } },
    { "name": "diag2", "from": "left_arrow", "to": "bottom_arrow", "label": "", "curve": -40, "label_alignment": "right" }
  ]
}
`,eC=`
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "A" },
    { "name": "B", "left": 600, "top": 100, "label": "B" },
    { "name": "C", "left": 100, "top": 400, "label": "C" },
    { "name": "D", "left": 600, "top": 400, "label": "D" }
  ],
  "arrows": [
    { "name": "f1", "from": "A", "to": "B", "label": "f", "curve": -90 },
    { "name": "f2", "from": "A", "to": "B", "label": "f", "curve": 90 },
    { "name": "g1", "from": "C", "to": "D", "label": "g", "curve": -60 },
    { "name": "g2", "from": "C", "to": "D", "label": "g", "curve": 60 },
    { "name": "h1", "from": "f1", "to": "f2", "label": "h", "curve": -90,
      "style": { "level": 2 }  },
    { "name": "h2", "from": "g1", "to": "g2", "label": "h", "curve": 90  },
    { "name": "h3", "from": "h1", "to": "h2", "label": "h", "curve": -50,
      "style": { "level": 3 } }
  ]
}
`,k4={Pullback:WE.trim(),"Natural Transformation":QE.trim(),"Higher Order Square":jE.trim(),"Higher Orderception":eC.trim()};function tC({isOpen:t,onClose:e}){const n=vt(I=>I.spec),r=vt(I=>I.setSpec),[o,s]=we.useState(n),[u,d]=we.useState(null),{addToast:f}=wa(),[h,g]=we.useState(!1),[y,b]=we.useState(!1);we.useEffect(()=>{s(n),d(null)},[n,t]);const w=I=>{s(I.target.value),d(null)},k=()=>{try{JSON.parse(o),r(o),f("Specification updated","success"),e()}catch(I){d(I.message)}},E=()=>{navigator.clipboard.writeText(o),g(!0),setTimeout(()=>g(!1),2e3),f("Copied to clipboard","info")},z=I=>{s(k4[I]),b(!1),f(`Loaded example: ${I}`,"info")};return t?yu.createPortal(A.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-[800px] h-[80vh] flex flex-col ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 relative",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:["JSON Specification",u&&A.jsx("span",{className:"text-xs font-normal text-red-500 bg-red-50 px-2 py-1 rounded",children:"Invalid JSON"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>b(!y),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2",title:"Load Example",children:A.jsx(L_,{size:20})}),y&&A.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden z-50",children:[A.jsx("div",{className:"p-2 text-xs font-semibold text-gray-400 bg-gray-50 border-b border-gray-100",children:"Load Example"}),Object.keys(k4).map(I=>A.jsx("button",{onClick:()=>z(I),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-700 transition-colors",children:I},I))]})]}),A.jsx("button",{onClick:E,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy to Clipboard",children:h?A.jsx(J0,{size:20,className:"text-green-500"}):A.jsx(Mh,{size:20})}),A.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:A.jsx(Sa,{size:20})})]})]}),A.jsx("div",{className:"flex-1 p-0 relative",children:A.jsx("textarea",{value:o,onChange:w,className:"w-full h-full p-4 font-mono text-sm resize-none focus:outline-none text-gray-700 bg-gray-50",spellCheck:!1})}),A.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50 rounded-b-2xl flex justify-between items-center",children:[A.jsx("div",{className:"text-xs text-gray-500",children:"Edit the raw JSON to modify the diagram directly."}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(cn,{variant:"secondary",onClick:e,children:"Cancel"}),A.jsx(cn,{onClick:k,disabled:!!u,children:"Apply Changes"})]})]})]})}),document.body):null}const Z0=40,T5=-25,qf=10,Hf=-90,z4={left:0,centre:1,right:2,over:3},nC={0:"left",1:"over",2:"right",3:"over"},rC={none:[],normal:["epi"],epi:["epi","epi"],mono:["mono"],maps_to:["maps to"],hook:["hook"],harpoon:["harpoon"],corner:["corner"],corner_inverse:["corner-inverse"]},iC={none:[],normal:[],mono:["mono"],maps_to:["maps to"],hook:["hook"]},aC={solid:"cell",dashed:"dashed",dotted:"dotted",squiggly:"squiggly",wavy:"squiggly",barred:"barred",double_barred:"double barred",bullet_solid:"bullet solid",bullet_hollow:"bullet hollow",none:"none"};function oC(t){if(typeof t>"u")return{name:"normal"};if(t.length===0)return{name:"none"};const e=JSON.stringify(t);if(e==='["epi"]')return{name:"normal"};if(e==='["epi","epi"]')return{name:"epi"};if(e==='["mono"]')return{name:"mono"};if(e==='["maps to"]')return{name:"maps_to"};if(e==='["corner"]')return{name:"corner"};const n=t[0];return n.startsWith("harpoon")?{name:"harpoon",side:n.endsWith("top")?"top":"bottom"}:n.startsWith("hook")?{name:"hook",side:n.endsWith("top")?"top":"bottom"}:{name:"normal"}}function sC(t){if(!t||t.length===0)return{name:"none"};const e=JSON.stringify(t);if(e==='["mono"]')return{name:"mono"};if(e==='["maps to"]')return{name:"maps_to"};const n=t[0];return n.startsWith("hook")?{name:"hook",side:n.endsWith("top")?"top":"bottom"}:{name:"none"}}const lC={cell:"solid",dashed:"dashed",dotted:"dotted",squiggly:"squiggly",barred:"barred","double barred":"double_barred","bullet solid":"bullet_solid","bullet hollow":"bullet_hollow",none:"none"};function mf(t){const e=t[0],n=t[1],r=t[2],o=t[3]!==void 0?t[3]:1;return`hsla(${e}, ${n}%, ${r}%, ${o})`}function pf(t){if(!t)return[0,0,0,1];const e=t.trim().toLowerCase();if(e==="black")return[0,0,0,1];if(e==="white")return[0,0,100,1];if(e==="red")return[0,100,50,1];if(e==="blue")return[240,100,50,1];if(e==="green")return[120,100,50,1];if(e==="transparent")return[0,0,0,0];if(e.startsWith("#")){let n=e.substring(1);n.length===3&&(n=n.split("").map(u=>u+u).join(""));const r=parseInt(n.substring(0,2),16)/255,o=parseInt(n.substring(2,4),16)/255,s=parseInt(n.substring(4,6),16)/255;return M4(r,o,s)}if(e.startsWith("rgb")){const n=e.match(/[\d.]+/g);if(n&&n.length>=3){const r=parseFloat(n[0])/255,o=parseFloat(n[1])/255,s=parseFloat(n[2])/255,u=n.length>3?parseFloat(n[3]):1,[d,f,h]=M4(r,o,s);return[d,f,h,u]}}if(e.startsWith("hsl")){const n=e.match(/[\d.]+/g);if(n&&n.length>=3){const r=parseFloat(n[0]),o=parseFloat(n[1]),s=parseFloat(n[2]),u=n.length>3?parseFloat(n[3]):1;return[r,o,s,u]}}return[0,0,0,1]}function M4(t,e,n){const r=Math.max(t,e,n),o=Math.min(t,e,n);let s=0,u=0,d=(r+o)/2;if(r!==o){const f=r-o;switch(u=d>.5?f/(2-r-o):f/(r+o),r){case t:s=(e-n)/f+(e<n?6:0);break;case e:s=(n-t)/f+2;break;case n:s=(t-e)/f+4;break}s*=60}return[Math.round(s),Math.round(u*100),Math.round(d*100),1]}function uC(t){var e,n,r;try{const s=(t.includes("#")?t.substring(t.indexOf("#")+1):t).split("&").find(z=>z.startsWith("q="));if(!s)throw new Error("No 'q' parameter found in URL fragment.");const u=s.substring(2),d=atob(u),f=new Uint8Array(d.length);for(let z=0;z<d.length;z++)f[z]=d.charCodeAt(z);const h=new TextDecoder().decode(f),g=JSON.parse(h),[y,b,...w]=g,k={version:1,nodes:[],arrows:[]},E=[];for(let z=0;z<b;z++){const I=w[z],[U,q,D="",O]=I,G=`v${z}`,R={name:G,left:U*Z0,top:q*Z0,label:D?`$${D}$`:""};O&&Array.isArray(O)&&O.length>=3&&(O[0]===0&&O[2]===0||(R.color=mf(O))),k.nodes.push(R),E[z]={name:G,type:"node"}}for(let z=b;z<w.length;z++){const I=w[z],U=I[0],q=I[1],D=(e=E[U])==null?void 0:e.name,O=(n=E[q])==null?void 0:n.name;if(D&&O){const G=`e${z-b}`,R={name:G,from:D,to:O,label:"",label_alignment:"over"};let L=2;if(L<I.length&&typeof I[L]=="string"){const ae=I[L];ae&&(R.label=`$${ae}$`),L++}let V=0;L<I.length&&typeof I[L]=="number"&&(V=I[L],L++),R.label_alignment=nC[V]||"over";let Q={};if(L<I.length&&typeof I[L]=="object"&&!Array.isArray(I[L])&&(Q=I[L],L++),typeof Q.curve=="number"&&(R.curve=Q.curve*T5),typeof Q.offset=="number"&&(R.shift=Q.offset),Q.shorten)R.shorten={source:Q.shorten.source,target:Q.shorten.target};else if(typeof Q.length=="number"){const ae=(100-Q.length)/2;R.shorten={source:ae,target:ae}}if(U===q){const ae=typeof Q.radius=="number"?Q.radius:3,$=typeof Q.angle=="number"?Q.angle:0;R.radius=-1*ae*qf,R.angle=$+Hf}else typeof Q.radius=="number"&&(R.radius=Q.radius*qf),typeof Q.angle=="number"&&(R.angle=Q.angle+Hf);R.style={level:Q.level||1};const X=Q.style||{};X.name==="adjunction"?R.style.mode="adjunction":X.name==="corner"?R.style.mode="corner":X.name==="corner-inverse"&&(R.style.mode="corner_inverse");const K=oC(X.heads);K.name!=="normal"&&(R.style.head=K);const Z=sC(X.tails);Z.name!=="none"&&(R.style.tail=Z);const j=(r=X.body)!=null&&r.name?lC[X.body.name]:null;if(j&&j!=="solid"?R.style.body={name:j}:X.dash_style&&(X.dash_style==="dashed"&&(R.style.body={name:"dashed"}),X.dash_style==="dotted"&&(R.style.body={name:"dotted"})),typeof Q.colour<"u"){const ae=Q.colour;Array.isArray(ae)&&(R.color=mf(ae))}L<I.length&&Array.isArray(I[L])&&(R.label_color=mf(I[L])),k.arrows?k.arrows.push(R):k.arrows=[R],E[z]={name:G,type:"arrow"}}}return k}catch(o){throw console.error("Failed to decode Quiver URL:",o),new Error("Failed to decode URL. Please check the format.")}}function cC(t){try{const e=[],n=[],r=new Map;t.nodes.forEach((g,y)=>{const b=[Math.round(g.left/Z0),Math.round(g.top/Z0)];if(g.label){let w=g.label;w.startsWith("$")&&w.endsWith("$")&&(w=w.slice(1,-1)),b.push(w)}g.color&&g.label&&b.push(pf(g.color)),e.push(b),r.set(g.name,y)});const o=Ps(t);let s=e.length;o.arrows.forEach((g,y)=>{r.set(g.spec.name||g.key,s+y)}),o.arrows.forEach(g=>{var K,Z,j,ae;const y=g.spec,b=r.get(y.from),w=r.get(y.to);if(b===void 0||w===void 0)return;const k=[b,w],E={},z={};if(y.curve&&(E.curve=Math.round(y.curve/T5)),y.shift&&(E.offset=y.shift),(K=y.style)!=null&&K.level&&y.style.level>1&&(E.level=y.style.level),y.shorten&&g.arcLength>0){const $=(y.shorten.source||0)/g.arcLength*100,ue=(y.shorten.target||0)/g.arcLength*100;($>0||ue>0)&&(E.shorten={source:Math.round($),target:Math.round(ue)})}const I=b===w;if(y.radius){const $=y.radius/qf,ue=I?-1*$:$;(!I||ue!==3)&&(E.radius=ue)}if(typeof y.angle=="number"){const $=y.angle-Hf;(!I||$!==0)&&(E.angle=$)}y.color&&(E.colour=pf(y.color));const U=y.style||{};if(U.mode==="adjunction"?z.name="adjunction":U.mode==="corner"?z.name="corner":U.mode==="corner_inverse"?z.name="corner-inverse":z.name="arrow",(Z=U.head)!=null&&Z.name&&U.head.name!=="normal"){const $=rC[U.head.name];$&&(z.heads=[...$],U.head.side&&(U.head.name==="harpoon"||U.head.name==="hook")&&(z.heads[0]+=U.head.side==="top"?"-top":"-bottom"))}if((j=U.tail)!=null&&j.name&&U.tail.name!=="none"){const $=iC[U.tail.name];$&&(z.tails=[...$],U.tail.side&&U.tail.name==="hook"&&(z.tails[0]+=U.tail.side==="top"?"-top":"-bottom"))}(ae=U.body)!=null&&ae.name&&U.body.name!=="solid"&&(z.body={name:aC[U.body.name]||"cell"}),Object.keys(z).length>0&&(z.name==="arrow"&&Object.keys(z).length===1||(E.style=z));let q="";y.label&&(q=y.label,q.startsWith("$")&&q.endsWith("$")&&(q=q.slice(1,-1)));const D=z4[y.label_alignment||"over"],O=Object.keys(E).length>0,G=D!==z4.over,R=y.label_color?pf(y.label_color):null,L=q!==""||G||O||R,V=G||O||R,Q=O||R,X=!!R;L&&k.push(q),V&&k.push(D),Q&&k.push(E),X&&k.push(R),n.push(k)});const u=[0,e.length,...e,...n],d=JSON.stringify(u),f=new TextEncoder().encode(d),h=String.fromCharCode.apply(null,Array.from(f));return btoa(h)}catch(e){throw console.error("Failed to encode Arrowgram spec:",e),new Error("Failed to encode spec.")}}function dC({isOpen:t,onClose:e}){const{spec:n,setSpec:r}=vt(),[o,s]=we.useState(""),[u,d]=we.useState(""),{addToast:f}=wa(),[h,g]=we.useState(!1),y=()=>{try{const k=uC(o);r(Fn(k)),f("Quiver diagram imported successfully!","success"),e()}catch(k){f(k.message||"Failed to decode Quiver URL","error")}},b=()=>{try{const k=JSON.parse(n),z=`https://q.uiver.app/#q=${cC(k)}`;d(z)}catch{f("Failed to encode diagram","error")}},w=()=>{navigator.clipboard.writeText(u),g(!0),setTimeout(()=>g(!1),2e3),f("Quiver URL copied!","success")};return t?yu.createPortal(A.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-[500px] ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[A.jsx(cA,{size:18})," Quiver Integration"]}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:A.jsx(Sa,{size:20})})]}),A.jsxs("div",{className:"p-6 space-y-8",children:[A.jsxs("div",{className:"space-y-3",children:[A.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Import from Quiver"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Kt,{value:o,onChange:k=>s(k.target.value),placeholder:"Paste https://q.uiver.app/... URL here",className:"flex-1"}),A.jsx(cn,{onClick:y,disabled:!o,children:"Import"})]}),A.jsx("p",{className:"text-xs text-gray-500",children:"Paste a URL from q.uiver.app to load the diagram here."})]}),A.jsx("div",{className:"h-px bg-gray-100"}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Export to Quiver"}),A.jsx("div",{className:"flex gap-2 items-start",children:A.jsxs(cn,{onClick:b,variant:"outline",className:"w-full justify-center",children:["Generate Quiver URL ",A.jsx(I_,{size:16,className:"ml-2"})]})}),u&&A.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex items-center gap-2 mt-2",children:[A.jsx("div",{className:"flex-1 text-xs text-gray-600 font-mono break-all line-clamp-2",children:u}),A.jsx("button",{onClick:w,className:"p-1.5 text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"Copy",children:h?A.jsx(J0,{size:16}):A.jsx(Mh,{size:16})})]}),A.jsx("p",{className:"text-xs text-gray-500",children:"Generate a URL to open this diagram in q.uiver.app."})]})]})]})}),document.body):null}function fC({onExport:t,onShare:e,onToggleChat:n,isChatOpen:r}){const{spec:o,setSpec:s,filename:u,setFilename:d,reset:f}=vt(),{undo:h,redo:g,pastStates:y,futureStates:b}=n5(vt.temporal),{addToast:w}=wa(),[k,E]=we.useState(!1),[z,I]=we.useState(!1),[U,q]=we.useState(!1),[D,O]=we.useState(!1),[G,R]=we.useState([]),[L,V]=we.useState(!1),[Q,X]=we.useState(u),[K,Z]=we.useState(!1),[j,ae]=we.useState({fitView:!0,showGrid:!0}),$=y.length>0,ue=b.length>0,re=async()=>{const W=await w5();R(W)},Re=async()=>{try{await Bf(Q,o),d(Q),V(!1),w(`Project "${Q}" saved successfully`,"success")}catch(W){w("Failed to save project","error"),console.error(W)}},Le=W=>{s(W.spec),d(W.name),E(!1),w(`Project "${W.name}" loaded`,"info")};we.useEffect(()=>{k&&re()},[k]);const B="p-2 rounded-lg text-gray-600 hover:bg-gray-100/80 hover:text-gray-900 transition-all disabled:opacity-40 disabled:cursor-not-allowed active:scale-95",oe=A.jsx("div",{className:"h-5 w-px bg-gray-200 mx-1"});return A.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white/90 backdrop-blur-md border border-gray-200/50 shadow-lg rounded-xl ring-1 ring-black/5",children:[A.jsx("button",{className:B,onClick:()=>{f(),d("Untitled"),w("New project created","info")},title:"New Project",children:A.jsx(j3,{size:18})}),A.jsx("button",{className:B,onClick:()=>E(!0),title:"Open Project",children:A.jsx(nA,{size:18})}),A.jsx("button",{className:B,onClick:()=>{X(u),V(!0)},title:"Save Project",children:A.jsx(Nh,{size:18})}),oe,A.jsx("button",{className:B,onClick:()=>h(),disabled:!$,title:"Undo",children:A.jsx(RA,{size:18})}),A.jsx("button",{className:B,onClick:()=>g(),disabled:!ue,title:"Redo",children:A.jsx(SA,{size:18})}),oe,A.jsx("button",{className:`${B} ${r?"bg-purple-100 text-purple-700 hover:bg-purple-200":""}`,onClick:n,title:"AI Assistant",children:A.jsx(Df,{size:18})}),A.jsx("button",{className:B,onClick:()=>I(!0),title:"Settings",children:A.jsx(EA,{size:18})}),A.jsx("button",{className:B,onClick:()=>q(!0),title:"Edit JSON Spec",children:A.jsx(j_,{size:18})}),A.jsxs("button",{className:B,onClick:()=>O(!0),title:"Quiver Integration",children:[A.jsx(g4,{size:18,className:"rotate-90"})," "]}),oe,A.jsxs("div",{className:"relative flex items-center",children:[A.jsx("button",{className:`${B} rounded-r-none border-r border-gray-200/50 pr-1`,onClick:()=>t("svg",j),title:"Export SVG",children:A.jsx(J_,{size:18})}),A.jsx("button",{className:`${B} rounded-l-none px-1`,onClick:()=>Z(!K),title:"Export Options",children:A.jsx(P_,{size:14})}),K&&A.jsxs("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 p-2 z-50 animate-in fade-in zoom-in-95",children:[A.jsx("div",{className:"text-xs font-semibold text-gray-500 px-2 py-1 uppercase tracking-wider",children:"Export Settings"}),A.jsxs("button",{className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors",onClick:()=>ae(W=>({...W,fitView:!W.fitView})),children:[A.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${j.fitView?"bg-purple-600 border-purple-600 text-white":"border-gray-300"}`,children:j.fitView&&A.jsx(J0,{size:10})}),"Fit View to Content"]}),A.jsxs("button",{className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors",onClick:()=>ae(W=>({...W,showGrid:!W.showGrid})),children:[A.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${j.showGrid?"bg-purple-600 border-purple-600 text-white":"border-gray-300"}`,children:j.showGrid&&A.jsx(J0,{size:10})}),"Include Grid"]}),A.jsx("div",{className:"h-px bg-gray-100 my-2"}),A.jsx("button",{className:"w-full text-left px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 font-medium transition-colors",onClick:()=>{t("svg",j),Z(!1)},children:"Export SVG"}),A.jsx("button",{className:"w-full text-left px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 font-medium transition-colors",onClick:()=>{t("png",j),Z(!1)},children:"Export PNG"})]})]}),A.jsx("button",{className:B,onClick:()=>t("tikz"),title:"Export TikZ",children:A.jsx("span",{className:"font-mono font-bold text-xs",children:"TeX"})}),A.jsx("button",{className:B,onClick:e,title:"Share Link",children:A.jsx(g4,{size:18})}),oe,A.jsx("div",{className:"px-3 py-1 font-medium text-sm text-gray-500 max-w-[150px] truncate select-none",title:u,children:u}),A.jsx(ZE,{isOpen:z,onClose:()=>I(!1)}),A.jsx(tC,{isOpen:U,onClose:()=>q(!1)}),A.jsx(dC,{isOpen:D,onClose:()=>O(!1)}),k&&A.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-96 max-h-[80vh] overflow-y-auto ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your Projects"}),A.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:A.jsx(Sa,{size:20})})]}),A.jsxs("div",{className:"space-y-2",children:[G.length===0&&A.jsx("p",{className:"text-gray-400 text-center py-8",children:"No saved projects."}),G.map(W=>A.jsxs("div",{onClick:()=>Le(W),className:"p-3 border border-gray-100 rounded-xl hover:bg-purple-50 hover:border-purple-100 cursor-pointer flex justify-between items-center group transition-colors",children:[A.jsx("div",{className:"font-medium text-gray-700 group-hover:text-purple-700",children:W.name}),A.jsx("div",{className:"text-xs text-gray-400",children:new Date(W.updatedAt).toLocaleDateString()})]},W.name))]})]})}),L&&A.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-80 ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Save Project"}),A.jsx(Kt,{className:"mb-4",value:Q,onChange:W=>X(W.target.value),placeholder:"Project Name",autoFocus:!0}),A.jsxs("div",{className:"flex justify-end gap-2",children:[A.jsx(cn,{variant:"secondary",onClick:()=>V(!1),children:"Cancel"}),A.jsx(cn,{onClick:Re,children:"Save"})]})]})})]})}function hC({tikzCode:t,onClose:e,isOpen:n}){const{addToast:r}=wa();if(!n)return null;const o=()=>{navigator.clipboard.writeText(t),r("TikZ code copied to clipboard","success")};return yu.createPortal(A.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-3/4 max-w-2xl ring-1 ring-black/5 animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Export to TikZ-CD"}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:A.jsx(Sa,{size:24})})]}),A.jsxs("div",{className:"relative mb-6",children:[A.jsx("textarea",{readOnly:!0,value:t||"",className:"w-full h-64 p-4 font-mono text-sm border border-gray-200 rounded-xl bg-gray-50 text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-500/50 resize-none"}),A.jsx("div",{className:"absolute top-2 right-2",children:A.jsxs(cn,{size:"sm",variant:"secondary",onClick:o,title:"Copy",children:[A.jsx(Mh,{size:14,className:"mr-1.5"})," Copy"]})})]}),A.jsxs("div",{className:"flex justify-end gap-2",children:[A.jsx(cn,{variant:"ghost",onClick:e,children:"Close"}),A.jsx(cn,{onClick:o,children:"Copy to Clipboard"})]})]})}),document.body)}function N4(t,e){return(t%e+e)%e}const T0=40;function R4(t){const e=(t||"").replace(/^\$|\$$/g,"").trim();return e?e.includes("\\\\")?`\\begin{array}{c} ${e} \\end{array}`:`{${e}}`:""}function gf(t){const e=t.replace("#",""),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16);return`{rgb,255:red,${n};green,${r};blue,${o}}`}function mC(t){try{const e=JSON.parse(t);if(!e.nodes||e.nodes.length===0)return"";const n=.75,r=.4,o=1.3;let s=1/0,u=-1/0,d=1/0,f=-1/0;const h=new Map,g=new Map;e.nodes.forEach(E=>{const z=Math.round(E.left/T0),I=Math.round(E.top/T0);s=Math.min(s,z),u=Math.max(u,z),d=Math.min(d,I),f=Math.max(f,I),h.set(E.name,{r:I,c:z,label:E.label||"",color:E.color})}),e.arrows&&e.arrows.forEach((E,z)=>{const I=`${z}`;E.name&&g.set(E.name,I)});const y=f-d+1,b=u-s+1,w=Array(y).fill(null).map(()=>Array(b).fill(""));h.forEach((E,z)=>{const I=E.r-d,U=E.c-s;let q=R4(E.label);E.color&&E.color!=="#000000"&&(q=`\\textcolor${gf(E.color)}{${q}}`),w[I][U]=q,h.set(z,{r:I+1,c:U+1,label:E.label})});const k=[];k.push("\\[\\begin{tikzcd}");for(let E=0;E<y;E++){const z=w[E].join(" & ");k.push(`	${z}${E<y-1?" \\\\":""}`)}return e.arrows&&e.arrows.forEach((E,z)=>{var X,K,Z,j,ae,$,ue,re,Re,Le,B,oe;const I=h.get(E.from),U=h.get(E.to),q=I?null:g.get(E.from),D=U?null:g.get(E.to);if(!I&&!q||!U&&!D)return;const O=[],G=[],R=`${z}`;if(G.push(`""{name=${R}, anchor=center, inner sep=0}`),E.label){const W=(E.label||"").replace(/^$|"$/g,"");let le=`"${R4(W)}"`;const xe=[];E.label_alignment==="left"&&(le+="'"),E.label_color&&E.label_color!=="#000000"&&xe.push(`text=${gf(E.label_color)}`),E.label_alignment==="over"&&xe.push("description"),xe.length>0&&(le+=`{${xe.join(", ")}}`),G.push(le)}E.color&&E.color!=="#000000"&&O.push(`draw=${gf(E.color)}`);const L=E.style||{};((X=L.head)==null?void 0:X.name)==="epi"&&O.push("two heads"),((K=L.head)==null?void 0:K.name)==="none"&&O.push("no head"),((Z=L.head)==null?void 0:Z.name)==="maps_to"&&O.push("maps to"),((j=L.head)==null?void 0:j.name)==="harpoon"&&O.push((L.head.side==="bottom","harpoon")),((ae=L.head)==null?void 0:ae.name)==="hook"&&O.push((L.head.side==="bottom","hook")),(($=L.tail)==null?void 0:$.name)==="mono"&&O.push("tail"),((ue=L.tail)==null?void 0:ue.name)==="maps_to"&&O.push("maps to"),((re=L.tail)==null?void 0:re.name)==="hook"&&O.push((L.tail.side==="bottom","hook")),((Re=L.body)==null?void 0:Re.name)==="dashed"&&O.push("dashed"),((Le=L.body)==null?void 0:Le.name)==="dotted"&&O.push("dotted"),((B=L.body)==null?void 0:B.name)==="squiggly"&&O.push("squiggly"),((oe=L.body)==null?void 0:oe.name)==="barred"&&O.push("slashed"),L.level===2?O.push("Rightarrow"):L.level===3&&O.push("Rrightarrow"),I?O.push(`from=${I.r}-${I.c}`):O.push(`from=${q}`),U?O.push(`to=${U.r}-${U.c}`):O.push(`to=${D}`);let V=!1;if(I&&U&&I.r===U.r&&I.c===U.c){V=!0,O.push("loop");const le=(E.radius??40)/10,xe=E.angle??-90,Te=le>=0?1:-1,ce=180-90*Te-xe,Ce=35,Ie=N4(ce-Ce*Te,360),$e=N4(ce+Ce*Te,360);O.push(`in=${Math.round(Ie)}`),O.push(`out=${Math.round($e)}`),O.push(`distance=${Math.abs(le)*3}mm`)}else{if(E.curve){const W=E.curve*o;let le=W;if(I&&U){const xe=(U.r-I.r)*T0,Te=(U.c-I.c)*T0,ce=Math.sqrt(xe*xe+Te*Te);ce>0&&(le=2*Math.atan(2*W/ce)*(180/Math.PI))}O.push(`bend left=${Math.round(le)}`)}E.shift&&O.push(`shift left=${E.shift/20}em`)}if(E.shorten){let W=E.shorten.source||0,le=E.shorten.target||0;W*=n,le*=n,V&&(W*=r,le*=r);const xe=20;V&&(W=Math.min(W,xe),le=Math.min(le,xe)),W>0&&O.push(`shorten <=${Math.round(W)}pt`),le>0&&O.push(`shorten >=${Math.round(le)}pt`)}const Q=[...O,...G];k.push(`	\\arrow[${Q.join(", ")}]`)}),k.push("\\end{tikzcd}\\]"),k.join(`
`)}catch(e){return`% Failed to export to TikZ-CD: ${e.message}`}}var vf={},I4;function pC(){return I4||(I4=1,function(t){(function(){var e=t||!1||this||window;e.default=e;var n="http://www.w3.org/2000/xmlns/",r="http://www.w3.org/1999/xhtml",o="http://www.w3.org/2000/svg",s='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',u=/url\(["']?(.+?)["']?\)/,d={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},f=function(K){return K instanceof HTMLElement||K instanceof SVGElement},h=function(K){if(!f(K))throw new Error("an HTMLElement or SVGElement is required; got "+K)},g=function(K){return new Promise(function(Z,j){f(K)?Z(K):j(new Error("an HTMLElement or SVGElement is required; got "+K))})},y=function(K){return K&&K.lastIndexOf("http",0)===0&&K.lastIndexOf(window.location.host)===-1},b=function(K){var Z=Object.keys(d).filter(function(j){return K.indexOf("."+j)>0}).map(function(j){return d[j]});return Z?Z[0]:(console.error("Unknown font format for "+K+". Fonts may not be working correctly."),"application/octet-stream")},w=function(K){for(var Z="",j=new Uint8Array(K),ae=0;ae<j.byteLength;ae++)Z+=String.fromCharCode(j[ae]);return window.btoa(Z)},k=function(K,Z,j){var ae=K.viewBox&&K.viewBox.baseVal&&K.viewBox.baseVal[j]||Z.getAttribute(j)!==null&&!Z.getAttribute(j).match(/%$/)&&parseInt(Z.getAttribute(j))||K.getBoundingClientRect()[j]||parseInt(Z.style[j])||parseInt(window.getComputedStyle(K).getPropertyValue(j));return typeof ae>"u"||ae===null||isNaN(parseFloat(ae))?0:ae},E=function(K,Z,j,ae){if(K.tagName==="svg")return{width:j||k(K,Z,"width"),height:ae||k(K,Z,"height")};if(K.getBBox){var $=K.getBBox(),ue=$.x,re=$.y,Re=$.width,Le=$.height;return{width:ue+Re,height:re+Le}}},z=function(K){return decodeURIComponent(encodeURIComponent(K).replace(/%([0-9A-F]{2})/g,function(Z,j){var ae=String.fromCharCode("0x"+j);return ae==="%"?"%25":ae}))},I=function(K){for(var Z=window.atob(K.split(",")[1]),j=K.split(",")[0].split(":")[1].split(";")[0],ae=new ArrayBuffer(Z.length),$=new Uint8Array(ae),ue=0;ue<Z.length;ue++)$[ue]=Z.charCodeAt(ue);return new Blob([ae],{type:j})},U=function(K,Z){if(Z)try{return K.querySelector(Z)||K.parentNode&&K.parentNode.querySelector(Z)}catch(j){console.warn('Invalid CSS selector "'+Z+'"',j)}},q=function(K,Z){var j=K.cssText.match(u),ae=j&&j[1]||"";if(!(!ae||ae.match(/^data:/)||ae==="about:blank")){var $=ae.startsWith("../")?Z+"/../"+ae:ae.startsWith("./")?Z+"/."+ae:ae;return{text:K.cssText,format:b($),url:$}}},D=function(K){return Promise.all(Array.from(K.querySelectorAll("image")).map(function(Z){var j=Z.getAttributeNS("http://www.w3.org/1999/xlink","href")||Z.getAttribute("href");return j?(y(j)&&(j+=(j.indexOf("?")===-1?"?":"&")+"t="+new Date().valueOf()),new Promise(function(ae,$){var ue=document.createElement("canvas"),re=new Image;re.crossOrigin="anonymous",re.src=j,re.onerror=function(){return $(new Error("Could not load "+j))},re.onload=function(){ue.width=re.width,ue.height=re.height,ue.getContext("2d").drawImage(re,0,0),Z.setAttributeNS("http://www.w3.org/1999/xlink","href",ue.toDataURL("image/png")),ae(!0)}})):Promise.resolve(null)}))},O={},G=function(K){return Promise.all(K.map(function(Z){return new Promise(function(j,ae){if(O[Z.url])return j(O[Z.url]);var $=new XMLHttpRequest;$.addEventListener("load",function(){var ue=w($.response),re=Z.text.replace(u,'url("data:'+Z.format+";base64,"+ue+'")')+`
`;O[Z.url]=re,j(re)}),$.addEventListener("error",function(ue){console.warn("Failed to load font from: "+Z.url,ue),O[Z.url]=null,j(null)}),$.addEventListener("abort",function(ue){console.warn("Aborted loading font from: "+Z.url,ue),j(null)}),$.open("GET",Z.url),$.responseType="arraybuffer",$.send()})})).then(function(Z){return Z.filter(function(j){return j}).join("")})},R=null,L=function(){return R||(R=Array.from(document.styleSheets).map(function(K){try{return{rules:K.cssRules,href:K.href}}catch(Z){return console.warn("Stylesheet could not be loaded: "+K.href,Z),{}}}))},V=function(K,Z){var j=Z||{},ae=j.selectorRemap,$=j.modifyStyle,ue=j.modifyCss,re=j.fonts,Re=j.excludeUnusedCss,Le=ue||function(le,xe){var Te=ae?ae(le):le,ce=$?$(xe):xe;return Te+"{"+ce+`}
`},B=[],oe=typeof re>"u",W=re||[];return L().forEach(function(le){var xe=le.rules,Te=le.href;xe&&Array.from(xe).forEach(function(ce){if(typeof ce.style<"u")if(U(K,ce.selectorText))B.push(Le(ce.selectorText,ce.style.cssText));else if(oe&&ce.cssText.match(/^@font-face/)){var Ce=q(ce,Te);Ce&&W.push(Ce)}else Re||B.push(ce.cssText)})}),G(W).then(function(le){return B.join(`
`)+le})},Q=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};e.prepareSvg=function(X,K,Z){h(X);var j=K||{},ae=j.left,$=ae===void 0?0:ae,ue=j.top,re=ue===void 0?0:ue,Re=j.width,Le=j.height,B=j.scale,oe=B===void 0?1:B,W=j.responsive,le=W===void 0?!1:W,xe=j.excludeCss,Te=xe===void 0?!1:xe;return D(X).then(function(){var ce=X.cloneNode(!0);ce.style.backgroundColor=(K||{}).backgroundColor||X.style.backgroundColor;var Ce=E(X,ce,Re,Le),Ie=Ce.width,$e=Ce.height;if(X.tagName!=="svg")if(X.getBBox){ce.getAttribute("transform")!=null&&ce.setAttribute("transform",ce.getAttribute("transform").replace(/translate\(.*?\)/,""));var We=document.createElementNS("http://www.w3.org/2000/svg","svg");We.appendChild(ce),ce=We}else{console.error("Attempted to render non-SVG element",X);return}if(ce.setAttribute("version","1.1"),ce.setAttribute("viewBox",[$,re,Ie,$e].join(" ")),ce.getAttribute("xmlns")||ce.setAttributeNS(n,"xmlns",o),ce.getAttribute("xmlns:xlink")||ce.setAttributeNS(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),le?(ce.removeAttribute("width"),ce.removeAttribute("height"),ce.setAttribute("preserveAspectRatio","xMinYMin meet")):(ce.setAttribute("width",Ie*oe),ce.setAttribute("height",$e*oe)),Array.from(ce.querySelectorAll("foreignObject > *")).forEach(function(ht){ht.setAttributeNS(n,"xmlns",ht.tagName==="svg"?o:r)}),Te){var Qe=document.createElement("div");Qe.appendChild(ce);var St=Qe.innerHTML;if(typeof Z=="function")Z(St,Ie,$e);else return{src:St,width:Ie,height:$e}}else return V(X,K).then(function(ht){var Bt=document.createElement("style");Bt.setAttribute("type","text/css"),Bt.innerHTML=`<![CDATA[
`+ht+`
]]>`;var sn=document.createElement("defs");sn.appendChild(Bt),ce.insertBefore(sn,ce.firstChild);var It=document.createElement("div");It.appendChild(ce);var fn=It.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof Z=="function")Z(fn,Ie,$e);else return{src:fn,width:Ie,height:$e}})})},e.svgAsDataUri=function(X,K,Z){return h(X),e.prepareSvg(X,K).then(function(j){var ae=j.src,$=j.width,ue=j.height,re="data:image/svg+xml;base64,"+window.btoa(z(s+ae));return typeof Z=="function"&&Z(re,$,ue),re})},e.svgAsPngUri=function(X,K,Z){h(X);var j=K||{},ae=j.encoderType,$=ae===void 0?"image/png":ae,ue=j.encoderOptions,re=ue===void 0?.8:ue,Re=j.canvg,Le=function(oe){var W=oe.src,le=oe.width,xe=oe.height,Te=document.createElement("canvas"),ce=Te.getContext("2d"),Ce=window.devicePixelRatio||1;Te.width=le*Ce,Te.height=xe*Ce,Te.style.width=Te.width+"px",Te.style.height=Te.height+"px",ce.setTransform(Ce,0,0,Ce,0,0),Re?Re(Te,W):ce.drawImage(W,0,0);var Ie=void 0;try{Ie=Te.toDataURL($,re)}catch($e){if(typeof SecurityError<"u"&&$e instanceof SecurityError||$e.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw $e}return typeof Z=="function"&&Z(Ie,Te.width,Te.height),Promise.resolve(Ie)};return Re?e.prepareSvg(X,K).then(Le):e.svgAsDataUri(X,K).then(function(B){return new Promise(function(oe,W){var le=new Image;le.onload=function(){return oe(Le({src:le,width:le.width,height:le.height}))},le.onerror=function(){W(`There was an error loading the data URI as an image on the following SVG
`+window.atob(B.slice(26))+`Open the following link to see browser's diagnosis
`+B)},le.src=B})})},e.download=function(X,K,Z){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(I(K),X);else{var j=document.createElement("a");if("download"in j){j.download=X,j.style.display="none",document.body.appendChild(j);try{var ae=I(K),$=URL.createObjectURL(ae);j.href=$,j.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL($)})}}catch(ue){console.error(ue),console.warn("Error while getting object URL. Falling back to string URL."),j.href=K}j.click(),document.body.removeChild(j)}else Z&&Z.popup&&(Z.popup.document.title=X,Z.popup.location.replace(K))}},e.saveSvg=function(X,K,Z){var j=Q();return g(X).then(function(ae){return e.svgAsDataUri(ae,Z||{})}).then(function(ae){return e.download(K,ae,j)})},e.saveSvgAsPng=function(X,K,Z){var j=Q();return g(X).then(function(ae){return e.svgAsPngUri(ae,Z||{})}).then(function(ae){return e.download(K,ae,j)})}})()}(vf)),vf}var gC=pC(),R0={exports:{}},vC=R0.exports,D4;function yC(){return D4||(D4=1,function(t,e){(function(n,r){r()})(vC,function(){function n(h,g){return typeof g>"u"?g={autoBom:!1}:typeof g!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function r(h,g,y){var b=new XMLHttpRequest;b.open("GET",h),b.responseType="blob",b.onload=function(){f(b.response,g,y)},b.onerror=function(){console.error("could not download file")},b.send()}function o(h){var g=new XMLHttpRequest;g.open("HEAD",h,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(g)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof o0=="object"&&o0.global===o0?o0:void 0,d=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(h,g,y){var b=u.URL||u.webkitURL,w=document.createElement("a");g=g||h.name||"download",w.download=g,w.rel="noopener",typeof h=="string"?(w.href=h,w.origin===location.origin?s(w):o(w.href)?r(h,g,y):s(w,w.target="_blank")):(w.href=b.createObjectURL(h),setTimeout(function(){b.revokeObjectURL(w.href)},4e4),setTimeout(function(){s(w)},0))}:"msSaveOrOpenBlob"in navigator?function(h,g,y){if(g=g||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(n(h,y),g);else if(o(h))r(h,g,y);else{var b=document.createElement("a");b.href=h,b.target="_blank",setTimeout(function(){s(b)})}}:function(h,g,y,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof h=="string")return r(h,g,y);var w=h.type==="application/octet-stream",k=/constructor/i.test(u.HTMLElement)||u.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||w&&k||d)&&typeof FileReader<"u"){var z=new FileReader;z.onloadend=function(){var q=z.result;q=E?q:q.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=q:location=q,b=null},z.readAsDataURL(h)}else{var I=u.URL||u.webkitURL,U=I.createObjectURL(h);b?b.location=U:location.href=U,b=null,setTimeout(function(){I.revokeObjectURL(U)},4e4)}});u.saveAs=f.saveAs=f,t.exports=f})}(R0)),R0.exports}var xC=yC(),bC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let SC,wC;function TC(){return{geminiUrl:SC,vertexUrl:wC}}function _C(t,e,n,r){var o,s;if(!(t!=null&&t.baseUrl)){const u=TC();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(s=u.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{}function Ae(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function p(t,e,n){for(let s=0;s<e.length-1;s++){const u=e[s];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const f=t[d];if(Array.isArray(n))for(let h=0;h<f.length;h++){const g=f[h];p(g,e.slice(s+1),n[h])}else for(const h of f)p(h,e.slice(s+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const f=t[d];p(f[0],e.slice(s+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const u=t[s];return Array.isArray(u)?u.map(d=>m(d,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function AC(t,e){for(const[n,r]of Object.entries(e)){const o=n.split("."),s=r.split("."),u=new Set;let d=-1;for(let f=0;f<o.length;f++)if(o[f]==="*"){d=f;break}if(d!==-1&&s.length>d)for(let f=d;f<s.length;f++){const h=s[f];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}Gf(t,o,s,0,u)}}function Gf(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const u=s.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const f of d[u])Gf(f,e,n,r+1,o)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(h=>!h.startsWith("_")&&!o.has(h)),f={};for(const h of d)f[h]=u[h];for(const[h,g]of Object.entries(f)){const y=[];for(const b of n.slice(r))b==="*"?y.push(h):y.push(b);p(u,y,g)}for(const h of d)delete u[h]}}else{const u=t;s in u&&Gf(u[s],e,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lh(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EC(t){const e={},n=m(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function CC(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],zC(u)),e}function kC(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],MC(u)),e}function zC(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>NC(u))),p(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function MC(t){const e={},n=m(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>RC(u))),p(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function NC(t){const e={},n=m(t,["video"]);return n!=null&&p(e,["video"],BC(n)),e}function RC(t){const e={},n=m(t,["_self"]);return n!=null&&p(e,["video"],PC(n)),e}function IC(t){const e={},n=m(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function DC(t){const e={},n=m(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function LC(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],UC(u)),e}function UC(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&p(e,["parent"],r);const o=m(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function _5(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],OC(u)),e}function OC(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&p(e,["parent"],r);const o=m(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function BC(t){const e={},n=m(t,["uri"]);n!=null&&p(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Lh(r));const o=m(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function PC(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Lh(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var L4;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(L4||(L4={}));var U4;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(U4||(U4={}));var O4;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(O4||(O4={}));var Bi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Bi||(Bi={}));var B4;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(B4||(B4={}));var P4;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(P4||(P4={}));var q4;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(q4||(q4={}));var H4;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(H4||(H4={}));var G4;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(G4||(G4={}));var V4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(V4||(V4={}));var F4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(F4||(F4={}));var $4;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})($4||($4={}));var Y4;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Y4||(Y4={}));var J4;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(J4||(J4={}));var X4;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(X4||(X4={}));var K4;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(K4||(K4={}));var Z4;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Z4||(Z4={}));var W4;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(W4||(W4={}));var Q4;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Q4||(Q4={}));var j4;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(j4||(j4={}));var ey;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ey||(ey={}));var W0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(W0||(W0={}));var ty;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ty||(ty={}));var ny;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ny||(ny={}));var ry;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ry||(ry={}));var Vf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vf||(Vf={}));var iy;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(iy||(iy={}));var ay;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ay||(ay={}));var oy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oy||(oy={}));var sy;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sy||(sy={}));var ly;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ly||(ly={}));var uy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(uy||(uy={}));var cy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(cy||(cy={}));var dy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dy||(dy={}));var fy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fy||(fy={}));var hy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hy||(hy={}));var my;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(my||(my={}));var py;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(py||(py={}));var gy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(gy||(gy={}));var vy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(vy||(vy={}));var yy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(yy||(yy={}));var xy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xy||(xy={}));var by;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(by||(by={}));var Sy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Sy||(Sy={}));var wy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(wy||(wy={}));var Ty;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ty||(Ty={}));var _y;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_y||(_y={}));var Ay;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ay||(Ay={}));var Ey;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ey||(Ey={}));var Cy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Cy||(Cy={}));var ky;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ky||(ky={}));var zy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zy||(zy={}));var My;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(My||(My={}));var Ny;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ny||(Ny={}));var po;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(po||(po={}));class Ff{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ks{get text(){var e,n,r,o,s,u,d,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",g=!1;const y=[];for(const b of(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&f!==void 0?f:[]){for(const[w,k]of Object.entries(b))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(k!==null||k!==void 0)&&y.push(w);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;g=!0,h+=b.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?h:void 0}get data(){var e,n,r,o,s,u,d,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const g=[];for(const y of(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&f!==void 0?f:[]){for(const[b,w]of Object.entries(y))b!=="inlineData"&&(w!==null||w!==void 0)&&g.push(b);y.inlineData&&typeof y.inlineData.data=="string"&&(h+=atob(y.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,r,o,s,u,d,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,r,o,s,u,d,f,h;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,r,o,s,u,d,f,h;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.output}}class Ry{}class Iy{}class qC{}class HC{}class GC{}class VC{}class Dy{}class Ly{}class Uy{}class FC{}class Q0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Q0;let o;const s=e;return n?o=kC(s):o=CC(s),Object.assign(r,o),r}}class Oy{}class By{}class Py{}class qy{}class $C{}class YC{}class JC{}class Uh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Uh,s=LC(e);return Object.assign(r,s),r}}class XC{}class KC{}class ZC{}class Hy{}class WC{get text(){var e,n,r;let o="",s=!1;const u=[];for(const d of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,h]of Object.entries(d))f!=="text"&&f!=="thought"&&h!==null&&u.push(f);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;s=!0,o+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,n,r;let o="";const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="inlineData"&&f!==null&&s.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class QC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Oh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Oh,s=_5(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function A5(t,e){const n=lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function E5(t){return Array.isArray(t)?t.map(e=>j0(e)):[j0(t)]}function j0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function C5(t){const e=j0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function k5(t){const e=j0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Gy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function z5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Gy(e)):[Gy(t)]}function $f(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Vy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Fy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function dn(t){if(t==null)throw new Error("ContentUnion is required");return $f(t)?t:{role:"user",parts:z5(t)}}function Bh(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=dn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=dn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>dn(n)):[dn(e)]}function ar(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vy(t)||Fy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dn(t)]}const e=[],n=[],r=$f(t[0]);for(const o of t){const s=$f(o);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(o);else{if(Vy(o)||Fy(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:z5(n)}),e}function jC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Bi).includes(n[0].toUpperCase())?n[0].toUpperCase():Bi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Bi).includes(r.toUpperCase())?r.toUpperCase():Bi.TYPE_UNSPECIFIED})}}function xo(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&jC(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Bi).includes(d.toUpperCase())?d.toUpperCase():Bi.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=xo(d);else if(r.includes(u)){const f=[];for(const h of d){if(h.type=="null"){e.nullable=!0;continue}f.push(xo(h))}e[u]=f}else if(o.includes(u)){const f={};for(const[h,g]of Object.entries(d))f[h]=xo(g);e[u]=f}else{if(u==="additionalProperties")continue;e[u]=d}return e}function Ph(t){return xo(t)}function qh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Hh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ko(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=xo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=xo(e.response));return t}function zo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function ek(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function ai(t,e){if(typeof e!="string")throw new Error("name must be a string");return ek(t,e,"cachedContents")}function M5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function $i(t){return Lh(t)}function tk(t){return t!=null&&typeof t=="object"&&"name"in t}function nk(t){return t!=null&&typeof t=="object"&&"video"in t}function rk(t){return t!=null&&typeof t=="object"&&"uri"in t}function N5(t){var e;let n;if(tk(t)&&(n=t.name),!(rk(t)&&(n=t.uri,n===void 0))&&!(nk(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function R5(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function I5(t){for(const e of["models","tunedModels","publisherModels"])if(ik(t,e))return t[e];return[]}function ik(t,e){return t!==null&&typeof t=="object"&&e in t}function ak(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ok(t,e={}){const n=[],r=new Set;for(const o of t){const s=o.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const u=ak(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function D5(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function sk(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function L5(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let s=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const f=u.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Mo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function U5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lk(t){const e={},n=m(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Gk(u))),p(e,["inlinedResponses"],s)}const o=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["inlinedEmbedContentResponses"],s)}return e}function uk(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const o=m(t,["bigqueryDestination","outputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function ck(t){const e={},n=m(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const o=m(t,["bigqueryUri"]);if(o!=null&&p(e,["bigqueryDestination","outputUri"],o),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function I0(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const o=m(t,["metadata","state"]);o!=null&&p(e,["state"],U5(o));const s=m(t,["metadata","createTime"]);s!=null&&p(e,["createTime"],s);const u=m(t,["metadata","endTime"]);u!=null&&p(e,["endTime"],u);const d=m(t,["metadata","updateTime"]);d!=null&&p(e,["updateTime"],d);const f=m(t,["metadata","model"]);f!=null&&p(e,["model"],f);const h=m(t,["metadata","output"]);return h!=null&&p(e,["dest"],lk(L5(h))),e}function Yf(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const o=m(t,["state"]);o!=null&&p(e,["state"],U5(o));const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["createTime"]);u!=null&&p(e,["createTime"],u);const d=m(t,["startTime"]);d!=null&&p(e,["startTime"],d);const f=m(t,["endTime"]);f!=null&&p(e,["endTime"],f);const h=m(t,["updateTime"]);h!=null&&p(e,["updateTime"],h);const g=m(t,["model"]);g!=null&&p(e,["model"],g);const y=m(t,["inputConfig"]);y!=null&&p(e,["src"],dk(y));const b=m(t,["outputConfig"]);b!=null&&p(e,["dest"],uk(L5(b)));const w=m(t,["completionStats"]);return w!=null&&p(e,["completionStats"],w),e}function dk(t){const e={},n=m(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const o=m(t,["bigquerySource","inputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function fk(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&p(n,["fileName"],r);const o=m(e,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Hk(t,u))),p(n,["requests","requests"],s)}return n}function hk(t){const e={},n=m(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const o=m(t,["bigqueryUri"]);if(o!=null&&p(e,["bigquerySource","inputUri"],o),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mk(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function pk(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function gk(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function vk(t){const e={},n=m(t,["content"]);n!=null&&p(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],yk(r));const o=m(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const s=m(t,["finishReason"]);s!=null&&p(e,["finishReason"],s);const u=m(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const d=m(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const f=m(t,["index"]);f!=null&&p(e,["index"],f);const h=m(t,["logprobsResult"]);h!=null&&p(e,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(w=>w)),p(e,["safetyRatings"],b)}const y=m(t,["urlContextMetadata"]);return y!=null&&p(e,["urlContextMetadata"],y),e}function yk(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),p(e,["citations"],r)}return e}function O5(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Kk(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function xk(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function bk(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const o=m(t,["dest"]);return e!==void 0&&o!=null&&p(e,["outputConfig"],ck(sk(o))),n}function $y(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["src"]);o!=null&&p(n,["batch","inputConfig"],fk(t,D5(t,o)));const s=m(e,["config"]);return s!=null&&xk(s,n),n}function Sk(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["model"],lt(t,r));const o=m(e,["src"]);o!=null&&p(n,["inputConfig"],hk(D5(t,o)));const s=m(e,["config"]);return s!=null&&bk(s,n),n}function wk(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function Tk(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["src"]);o!=null&&p(n,["batch","inputConfig"],Mk(t,o));const s=m(e,["config"]);return s!=null&&wk(s,n),n}function _k(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function Ak(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function Ek(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);return s!=null&&p(e,["error"],s),e}function Ck(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);return s!=null&&p(e,["error"],s),e}function kk(t,e){const n={},r=m(e,["contents"]);if(r!=null){let s=Bh(t,r);Array.isArray(s)&&(s=s.map(u=>u)),p(n,["requests[]","request","content"],s)}const o=m(e,["config"]);return o!=null&&(p(n,["_self"],zk(o,n)),AC(n,{"requests[].*":"requests[].request.*"})),n}function zk(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const o=m(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const s=m(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&p(e,["requests[]","outputDimensionality"],s),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Mk(t,e){const n={},r=m(e,["fileName"]);r!=null&&p(n,["file_name"],r);const o=m(e,["inlinedRequests"]);return o!=null&&p(n,["requests"],kk(t,o)),n}function Nk(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Rk(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ik(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&p(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dk(t,e,n){const r={},o=m(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],O5(dn(o)));const s=m(e,["temperature"]);s!=null&&p(r,["temperature"],s);const u=m(e,["topP"]);u!=null&&p(r,["topP"],u);const d=m(e,["topK"]);d!=null&&p(r,["topK"],d);const f=m(e,["candidateCount"]);f!=null&&p(r,["candidateCount"],f);const h=m(e,["maxOutputTokens"]);h!=null&&p(r,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const y=m(e,["responseLogprobs"]);y!=null&&p(r,["responseLogprobs"],y);const b=m(e,["logprobs"]);b!=null&&p(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const k=m(e,["frequencyPenalty"]);k!=null&&p(r,["frequencyPenalty"],k);const E=m(e,["seed"]);E!=null&&p(r,["seed"],E);const z=m(e,["responseMimeType"]);z!=null&&p(r,["responseMimeType"],z);const I=m(e,["responseSchema"]);I!=null&&p(r,["responseSchema"],Ph(I));const U=m(e,["responseJsonSchema"]);if(U!=null&&p(r,["responseJsonSchema"],U),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=m(e,["safetySettings"]);if(n!==void 0&&q!=null){let Z=q;Array.isArray(Z)&&(Z=Z.map(j=>Zk(j))),p(n,["safetySettings"],Z)}const D=m(e,["tools"]);if(n!==void 0&&D!=null){let Z=zo(D);Array.isArray(Z)&&(Z=Z.map(j=>Qk(ko(j)))),p(n,["tools"],Z)}const O=m(e,["toolConfig"]);if(n!==void 0&&O!=null&&p(n,["toolConfig"],Wk(O)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=m(e,["cachedContent"]);n!==void 0&&G!=null&&p(n,["cachedContent"],ai(t,G));const R=m(e,["responseModalities"]);R!=null&&p(r,["responseModalities"],R);const L=m(e,["mediaResolution"]);L!=null&&p(r,["mediaResolution"],L);const V=m(e,["speechConfig"]);if(V!=null&&p(r,["speechConfig"],qh(V)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=m(e,["thinkingConfig"]);Q!=null&&p(r,["thinkingConfig"],Q);const X=m(e,["imageConfig"]);X!=null&&p(r,["imageConfig"],qk(X));const K=m(e,["enableEnhancedCivicAnswers"]);return K!=null&&p(r,["enableEnhancedCivicAnswers"],K),r}function Lk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>vk(h))),p(e,["candidates"],f)}const o=m(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=m(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const u=m(t,["responseId"]);u!=null&&p(e,["responseId"],u);const d=m(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function Uk(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function Ok(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function Bk(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Pk(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function qk(t){const e={},n=m(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Hk(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["request","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let d=ar(o);Array.isArray(d)&&(d=d.map(f=>O5(f))),p(n,["request","contents"],d)}const s=m(e,["metadata"]);s!=null&&p(n,["metadata"],s);const u=m(e,["config"]);return u!=null&&p(n,["request","generationConfig"],Dk(t,u,m(n,["request"],{}))),n}function Gk(t){const e={},n=m(t,["response"]);n!=null&&p(e,["response"],Lk(n));const r=m(t,["error"]);return r!=null&&p(e,["error"],r),e}function Vk(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);if(e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Fk(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=m(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),n}function $k(t){const e={},n=m(t,["config"]);return n!=null&&Vk(n,e),e}function Yk(t){const e={},n=m(t,["config"]);return n!=null&&Fk(n,e),e}function Jk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>I0(u))),p(e,["batchJobs"],s)}return e}function Xk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Yf(u))),p(e,["batchJobs"],s)}return e}function Kk(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],Nk(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],Rk(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],mk(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const y=m(t,["thoughtSignature"]);y!=null&&p(e,["thoughtSignature"],y);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function Zk(t){const e={},n=m(t,["category"]);if(n!=null&&p(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function Wk(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],Ik(r)),e}function Qk(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],Bk(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],Pk(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ni;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ni||(ni={}));class Ta{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!r||Object.keys(r).length===0?u={config:{}}:typeof r=="object"?u=Object.assign({},r):u=r,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(s=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jk extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ta(ni.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=$y(this.apiClient,e),r=n._url,o=Ae("{model}:batchGenerateContent",r),d=n.batch.inputConfig.requests,f=d.requests,h=[];for(const g of f){const y=Object.assign({},g);if(y.systemInstruction){const b=y.systemInstruction;delete y.systemInstruction;const w=y.request;w.systemInstruction=b,y.request=w}h.push(y)}return d.requests=h,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const s=this.getGcsUri(e),u=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${o}`;else if(u)r.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Sk(this.apiClient,e);return d=Ae("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Yf(g))}else{const h=$y(this.apiClient,e);return d=Ae("{model}:batchGenerateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>I0(g))}}async createEmbeddingsInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Tk(this.apiClient,e);return s=Ae("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>I0(f))}}async get(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Ok(this.apiClient,e);return d=Ae("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Yf(g))}else{const h=Uk(this.apiClient,e);return d=Ae("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>I0(g))}}async cancel(e){var n,r,o,s;let u="",d={};if(this.apiClient.isVertexAI()){const f=gk(this.apiClient,e);u=Ae("batchPredictionJobs/{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=pk(this.apiClient,e);u=Ae("batches/{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Yk(e);return d=Ae("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=Xk(g),b=new Hy;return Object.assign(b,y),b})}else{const h=$k(e);return d=Ae("batches",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=Jk(g),b=new Hy;return Object.assign(b,y),b})}}async delete(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Ak(this.apiClient,e);return d=Ae("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>Ck(g))}else{const h=_k(this.apiClient,e);return d=Ae("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>Ek(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ez(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Yy(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Tz(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function tz(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const o=m(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const s=m(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const u=m(t,["contents"]);if(e!==void 0&&u!=null){let g=ar(u);Array.isArray(g)&&(g=g.map(y=>Yy(y))),p(e,["contents"],g)}const d=m(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],Yy(dn(d)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>Az(y))),p(e,["tools"],g)}const h=m(t,["toolConfig"]);if(e!==void 0&&h!=null&&p(e,["toolConfig"],_z(h)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function nz(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const o=m(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const s=m(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const u=m(t,["contents"]);if(e!==void 0&&u!=null){let y=ar(u);Array.isArray(y)&&(y=y.map(b=>b)),p(e,["contents"],y)}const d=m(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],dn(d));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(b=>Ez(b))),p(e,["tools"],y)}const h=m(t,["toolConfig"]);e!==void 0&&h!=null&&p(e,["toolConfig"],h);const g=m(t,["kmsKeyName"]);return e!==void 0&&g!=null&&p(e,["encryption_spec","kmsKeyName"],g),n}function rz(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["model"],A5(t,r));const o=m(e,["config"]);return o!=null&&tz(o,n),n}function iz(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["model"],A5(t,r));const o=m(e,["config"]);return o!=null&&nz(o,n),n}function az(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],ai(t,r)),n}function oz(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],ai(t,r)),n}function sz(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function lz(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function uz(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function cz(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dz(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&p(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fz(t){const e={},n=m(t,["description"]);n!=null&&p(e,["description"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=m(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const u=m(t,["response"]);u!=null&&p(e,["response"],u);const d=m(t,["responseJsonSchema"]);if(d!=null&&p(e,["responseJsonSchema"],d),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function hz(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],ai(t,r)),n}function mz(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],ai(t,r)),n}function pz(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function gz(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function vz(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function yz(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function xz(t){const e={},n=m(t,["config"]);return n!=null&&vz(n,e),e}function bz(t){const e={},n=m(t,["config"]);return n!=null&&yz(n,e),e}function Sz(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["cachedContents"],s)}return e}function wz(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["cachedContents"],s)}return e}function Tz(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],uz(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],cz(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],ez(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const y=m(t,["thoughtSignature"]);y!=null&&p(e,["thoughtSignature"],y);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function _z(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],dz(r)),e}function Az(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],pz(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],gz(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}function Ez(t){const e={},n=m(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(t,["codeExecution"]);o!=null&&p(e,["codeExecution"],o);const s=m(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const u=m(t,["functionDeclarations"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(b=>fz(b))),p(e,["functionDeclarations"],y)}const d=m(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],d);const f=m(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],f);const h=m(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&p(e,["urlContext"],g),e}function Cz(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const o=m(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function kz(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const o=m(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function zz(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],ai(t,r));const o=m(e,["config"]);return o!=null&&Cz(o,n),n}function Mz(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],ai(t,r));const o=m(e,["config"]);return o!=null&&kz(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nz extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ta(ni.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=iz(this.apiClient,e);return d=Ae("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=rz(this.apiClient,e);return d=Ae("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=mz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=hz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=oz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=lz(g),b=new Py;return Object.assign(b,y),b})}else{const h=az(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=sz(g),b=new Py;return Object.assign(b,y),b})}}async update(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Mz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=zz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=bz(e);return d=Ae("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=wz(g),b=new qy;return Object.assign(b,y),b})}else{const h=xz(e);return d=Ae("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=Sz(g),b=new qy;return Object.assign(b,y),b})}}}function eu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Jy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(t){return this instanceof Fe?(this.v=t,this):new Fe(t)}function pr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(w){return function(k){return Promise.resolve(k).then(w,y)}}function d(w,k){r[w]&&(o[w]=function(E){return new Promise(function(z,I){s.push([w,E,z,I])>1||f(w,E)})},k&&(o[w]=k(o[w])))}function f(w,k){try{h(r[w](k))}catch(E){b(s[0][3],E)}}function h(w){w.value instanceof Fe?Promise.resolve(w.value.v).then(g,y):b(s[0][2],w)}function g(w){f("next",w)}function y(w){f("throw",w)}function b(w,k){w(k),s.shift(),s.length&&f(s[0][0],s[0][1])}}function gr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Jy=="function"?Jy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(u){return new Promise(function(d,f){u=t[s](u),o(d,f,u.done,u.value)})}}function o(s,u,d,f){Promise.resolve(f).then(function(h){s({value:h,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rz(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:B5(n)}function B5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Iz(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Xy(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let s=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),s&&!B5(t[r])&&(s=!1),r++;s?e.push(...o):e.pop()}return e}class Dz{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Lz(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Lz{constructor(e,n,r,o={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),Iz(s)}async sendMessage(e){var n;await this.sendPromise;const r=dn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,u,d;const f=await o,h=(u=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content,g=f.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let b=[];g!=null&&(b=(d=g.slice(y))!==null&&d!==void 0?d:[]);const w=h?[h]:[];this.recordHistory(r,w,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=dn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?Xy(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return pr(this,arguments,function*(){var o,s,u,d,f,h;const g=[];try{for(var y=!0,b=gr(e),w;w=yield Fe(b.next()),o=w.done,!o;y=!0){d=w.value,y=!1;const k=d;if(Rz(k)){const E=(h=(f=k.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content;E!==void 0&&g.push(E)}yield yield Fe(k)}}catch(k){s={error:k}}finally{try{!y&&!o&&(u=b.return)&&(yield Fe(u.call(b)))}finally{if(s)throw s.error}}this.recordHistory(n,g)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Xy(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,xu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uz(t){const e={},n=m(t,["file"]);return n!=null&&p(e,["file"],n),e}function Oz(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Bz(t){const e={},n=m(t,["name"]);return n!=null&&p(e,["_url","file"],N5(n)),e}function Pz(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function qz(t){const e={},n=m(t,["name"]);return n!=null&&p(e,["_url","file"],N5(n)),e}function Hz(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function Gz(t){const e={},n=m(t,["config"]);return n!=null&&Hz(n,e),e}function Vz(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fz extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ta(ni.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Gz(e);return s=Ae("files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Vz(f),g=new XC;return Object.assign(g,h),g})}}async createInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Uz(e);return s=Ae("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Oz(f),g=new KC;return Object.assign(g,h),g})}}async get(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=qz(e);return s=Ae("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Bz(e);return s=Ae("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Pz(f),g=new ZC;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D0(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function $z(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>sM(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function Yz(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Jz(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xz(t){const e={},n=m(t,["description"]);n!=null&&p(e,["description"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=m(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const u=m(t,["response"]);u!=null&&p(e,["response"],u);const d=m(t,["responseJsonSchema"]);if(d!=null&&p(e,["responseJsonSchema"],d),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Kz(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const o=m(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const s=m(t,["candidateCount"]);s!=null&&p(e,["candidateCount"],s);const u=m(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const d=m(t,["frequencyPenalty"]);d!=null&&p(e,["frequencyPenalty"],d);const f=m(t,["logprobs"]);f!=null&&p(e,["logprobs"],f);const h=m(t,["maxOutputTokens"]);h!=null&&p(e,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&p(e,["mediaResolution"],g);const y=m(t,["presencePenalty"]);y!=null&&p(e,["presencePenalty"],y);const b=m(t,["responseLogprobs"]);b!=null&&p(e,["responseLogprobs"],b);const w=m(t,["responseMimeType"]);w!=null&&p(e,["responseMimeType"],w);const k=m(t,["responseModalities"]);k!=null&&p(e,["responseModalities"],k);const E=m(t,["responseSchema"]);E!=null&&p(e,["responseSchema"],E);const z=m(t,["routingConfig"]);z!=null&&p(e,["routingConfig"],z);const I=m(t,["seed"]);I!=null&&p(e,["seed"],I);const U=m(t,["speechConfig"]);U!=null&&p(e,["speechConfig"],U);const q=m(t,["stopSequences"]);q!=null&&p(e,["stopSequences"],q);const D=m(t,["temperature"]);D!=null&&p(e,["temperature"],D);const O=m(t,["thinkingConfig"]);O!=null&&p(e,["thinkingConfig"],O);const G=m(t,["topK"]);G!=null&&p(e,["topK"],G);const R=m(t,["topP"]);if(R!=null&&p(e,["topP"],R),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Zz(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Wz(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Qz(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const o=m(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const s=m(t,["temperature"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","temperature"],s);const u=m(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=m(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","maxOutputTokens"],f);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","mediaResolution"],h);const g=m(t,["seed"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","seed"],g);const y=m(t,["speechConfig"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","speechConfig"],Hh(y));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],w);const k=m(t,["systemInstruction"]);e!==void 0&&k!=null&&p(e,["setup","systemInstruction"],$z(dn(k)));const E=m(t,["tools"]);if(e!==void 0&&E!=null){let G=zo(E);Array.isArray(G)&&(G=G.map(R=>uM(ko(R)))),p(e,["setup","tools"],G)}const z=m(t,["sessionResumption"]);e!==void 0&&z!=null&&p(e,["setup","sessionResumption"],lM(z));const I=m(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&p(e,["setup","inputAudioTranscription"],I);const U=m(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&p(e,["setup","outputAudioTranscription"],U);const q=m(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&p(e,["setup","realtimeInputConfig"],q);const D=m(t,["contextWindowCompression"]);e!==void 0&&D!=null&&p(e,["setup","contextWindowCompression"],D);const O=m(t,["proactivity"]);if(e!==void 0&&O!=null&&p(e,["setup","proactivity"],O),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function jz(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],Kz(r));const o=m(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const s=m(t,["temperature"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","temperature"],s);const u=m(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=m(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","maxOutputTokens"],f);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","mediaResolution"],h);const g=m(t,["seed"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","seed"],g);const y=m(t,["speechConfig"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","speechConfig"],Hh(y));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],w);const k=m(t,["systemInstruction"]);e!==void 0&&k!=null&&p(e,["setup","systemInstruction"],dn(k));const E=m(t,["tools"]);if(e!==void 0&&E!=null){let R=zo(E);Array.isArray(R)&&(R=R.map(L=>cM(ko(L)))),p(e,["setup","tools"],R)}const z=m(t,["sessionResumption"]);e!==void 0&&z!=null&&p(e,["setup","sessionResumption"],z);const I=m(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&p(e,["setup","inputAudioTranscription"],I);const U=m(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&p(e,["setup","outputAudioTranscription"],U);const q=m(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&p(e,["setup","realtimeInputConfig"],q);const D=m(t,["contextWindowCompression"]);e!==void 0&&D!=null&&p(e,["setup","contextWindowCompression"],D);const O=m(t,["proactivity"]);e!==void 0&&O!=null&&p(e,["setup","proactivity"],O);const G=m(t,["explicitVadSignal"]);return e!==void 0&&G!=null&&p(e,["setup","explicitVadSignal"],G),n}function eM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["setup","model"],lt(t,r));const o=m(e,["config"]);return o!=null&&p(n,["config"],Qz(o,n)),n}function tM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["setup","model"],lt(t,r));const o=m(e,["config"]);return o!=null&&p(n,["config"],jz(o,n)),n}function nM(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function rM(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),p(e,["weightedPrompts"],r)}return e}function iM(t){const e={},n=m(t,["media"]);if(n!=null){let h=E5(n);Array.isArray(h)&&(h=h.map(g=>D0(g))),p(e,["mediaChunks"],h)}const r=m(t,["audio"]);r!=null&&p(e,["audio"],D0(k5(r)));const o=m(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const s=m(t,["video"]);s!=null&&p(e,["video"],D0(C5(s)));const u=m(t,["text"]);u!=null&&p(e,["text"],u);const d=m(t,["activityStart"]);d!=null&&p(e,["activityStart"],d);const f=m(t,["activityEnd"]);return f!=null&&p(e,["activityEnd"],f),e}function aM(t){const e={},n=m(t,["media"]);if(n!=null){let h=E5(n);Array.isArray(h)&&(h=h.map(g=>g)),p(e,["mediaChunks"],h)}const r=m(t,["audio"]);r!=null&&p(e,["audio"],k5(r));const o=m(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const s=m(t,["video"]);s!=null&&p(e,["video"],C5(s));const u=m(t,["text"]);u!=null&&p(e,["text"],u);const d=m(t,["activityStart"]);d!=null&&p(e,["activityStart"],d);const f=m(t,["activityEnd"]);return f!=null&&p(e,["activityEnd"],f),e}function oM(t){const e={},n=m(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const o=m(t,["toolCall"]);o!=null&&p(e,["toolCall"],o);const s=m(t,["toolCallCancellation"]);s!=null&&p(e,["toolCallCancellation"],s);const u=m(t,["usageMetadata"]);u!=null&&p(e,["usageMetadata"],dM(u));const d=m(t,["goAway"]);d!=null&&p(e,["goAway"],d);const f=m(t,["sessionResumptionUpdate"]);f!=null&&p(e,["sessionResumptionUpdate"],f);const h=m(t,["voiceActivityDetectionSignal"]);return h!=null&&p(e,["voiceActivityDetectionSignal"],h),e}function sM(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],Yz(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],Jz(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],D0(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const y=m(t,["thoughtSignature"]);y!=null&&p(e,["thoughtSignature"],y);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function lM(t){const e={},n=m(t,["handle"]);if(n!=null&&p(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uM(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],Zz(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],Wz(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}function cM(t){const e={},n=m(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(t,["codeExecution"]);o!=null&&p(e,["codeExecution"],o);const s=m(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const u=m(t,["functionDeclarations"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(b=>Xz(b))),p(e,["functionDeclarations"],y)}const d=m(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],d);const f=m(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],f);const h=m(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&p(e,["urlContext"],g),e}function dM(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const o=m(t,["candidatesTokenCount"]);o!=null&&p(e,["responseTokenCount"],o);const s=m(t,["toolUsePromptTokenCount"]);s!=null&&p(e,["toolUsePromptTokenCount"],s);const u=m(t,["thoughtsTokenCount"]);u!=null&&p(e,["thoughtsTokenCount"],u);const d=m(t,["totalTokenCount"]);d!=null&&p(e,["totalTokenCount"],d);const f=m(t,["promptTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(k=>k)),p(e,["promptTokensDetails"],w)}const h=m(t,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(k=>k)),p(e,["cacheTokensDetails"],w)}const g=m(t,["candidatesTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(k=>k)),p(e,["responseTokensDetails"],w)}const y=m(t,["toolUsePromptTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(k=>k)),p(e,["toolUsePromptTokensDetails"],w)}const b=m(t,["trafficType"]);return b!=null&&p(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fM(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function hM(t){const e={},n=m(t,["content"]);n!=null&&p(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],mM(r));const o=m(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const s=m(t,["finishReason"]);s!=null&&p(e,["finishReason"],s);const u=m(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const d=m(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const f=m(t,["index"]);f!=null&&p(e,["index"],f);const h=m(t,["logprobsResult"]);h!=null&&p(e,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(w=>w)),p(e,["safetyRatings"],b)}const y=m(t,["urlContextMetadata"]);return y!=null&&p(e,["urlContextMetadata"],y),e}function mM(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),p(e,["citations"],r)}return e}function pM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let s=ar(o);Array.isArray(s)&&(s=s.map(u=>u)),p(n,["contents"],s)}return n}function gM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["tokensInfo"],o)}return e}function vM(t){const e={},n=m(t,["values"]);n!=null&&p(e,["values"],n);const r=m(t,["statistics"]);return r!=null&&p(e,["statistics"],yM(r)),e}function yM(t){const e={},n=m(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=m(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function bu(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>CN(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function xM(t){const e={},n=m(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=m(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function bM(t){const e={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function SM(t,e){const n={},r=m(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],dn(r));const o=m(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>G5(d))),p(e,["tools"],u)}const s=m(t,["generationConfig"]);return e!==void 0&&s!=null&&p(e,["generationConfig"],fN(s)),n}function wM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=ar(o);Array.isArray(u)&&(u=u.map(d=>bu(d))),p(n,["contents"],u)}const s=m(e,["config"]);return s!=null&&bM(s),n}function TM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=ar(o);Array.isArray(u)&&(u=u.map(d=>d)),p(n,["contents"],u)}const s=m(e,["config"]);return s!=null&&SM(s,n),n}function _M(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const o=m(t,["cachedContentTokenCount"]);return o!=null&&p(e,["cachedContentTokenCount"],o),e}function AM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function EM(t,e){const n={},r=m(e,["model"]);return r!=null&&p(n,["_url","name"],lt(t,r)),n}function CM(t,e){const n={},r=m(e,["model"]);return r!=null&&p(n,["_url","name"],lt(t,r)),n}function kM(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function zM(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function MM(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const o=m(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const s=m(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const u=m(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=m(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const f=m(t,["seed"]);e!==void 0&&f!=null&&p(e,["parameters","seed"],f);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&p(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&p(e,["parameters","personGeneration"],g);const y=m(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&p(e,["parameters","includeSafetyAttributes"],y);const b=m(t,["includeRaiReason"]);e!==void 0&&b!=null&&p(e,["parameters","includeRaiReason"],b);const w=m(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const k=m(t,["outputMimeType"]);e!==void 0&&k!=null&&p(e,["parameters","outputOptions","mimeType"],k);const E=m(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","compressionQuality"],E);const z=m(t,["addWatermark"]);e!==void 0&&z!=null&&p(e,["parameters","addWatermark"],z);const I=m(t,["labels"]);e!==void 0&&I!=null&&p(e,["labels"],I);const U=m(t,["editMode"]);e!==void 0&&U!=null&&p(e,["parameters","editMode"],U);const q=m(t,["baseSteps"]);return e!==void 0&&q!=null&&p(e,["parameters","editConfig","baseSteps"],q),n}function NM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["referenceImages"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>IN(f))),p(n,["instances[0]","referenceImages"],d)}const u=m(e,["config"]);return u!=null&&MM(u,n),n}function RM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Su(s))),p(e,["generatedImages"],o)}return e}function IM(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const o=m(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const s=m(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&p(e,["requests[]","outputDimensionality"],s),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function DM(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const o=m(t,["title"]);e!==void 0&&o!=null&&p(e,["instances[]","title"],o);const s=m(t,["outputDimensionality"]);e!==void 0&&s!=null&&p(e,["parameters","outputDimensionality"],s);const u=m(t,["mimeType"]);e!==void 0&&u!=null&&p(e,["instances[]","mimeType"],u);const d=m(t,["autoTruncate"]);return e!==void 0&&d!=null&&p(e,["parameters","autoTruncate"],d),n}function LM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let d=Bh(t,o);Array.isArray(d)&&(d=d.map(f=>f)),p(n,["requests[]","content"],d)}const s=m(e,["config"]);s!=null&&IM(s,n);const u=m(e,["model"]);return u!==void 0&&p(n,["requests[]","model"],lt(t,u)),n}function UM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=Bh(t,o);Array.isArray(u)&&(u=u.map(d=>d)),p(n,["instances[]","content"],u)}const s=m(e,["config"]);return s!=null&&DM(s,n),n}function OM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["embeddings"],s)}const o=m(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function BM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>vM(u))),p(e,["embeddings"],s)}const o=m(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function PM(t){const e={},n=m(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=m(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function qM(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function HM(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function GM(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&p(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function VM(t){const e={},n=m(t,["description"]);n!=null&&p(e,["description"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=m(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const u=m(t,["response"]);u!=null&&p(e,["response"],u);const d=m(t,["responseJsonSchema"]);if(d!=null&&p(e,["responseJsonSchema"],d),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function FM(t,e,n){const r={},o=m(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],bu(dn(o)));const s=m(e,["temperature"]);s!=null&&p(r,["temperature"],s);const u=m(e,["topP"]);u!=null&&p(r,["topP"],u);const d=m(e,["topK"]);d!=null&&p(r,["topK"],d);const f=m(e,["candidateCount"]);f!=null&&p(r,["candidateCount"],f);const h=m(e,["maxOutputTokens"]);h!=null&&p(r,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const y=m(e,["responseLogprobs"]);y!=null&&p(r,["responseLogprobs"],y);const b=m(e,["logprobs"]);b!=null&&p(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const k=m(e,["frequencyPenalty"]);k!=null&&p(r,["frequencyPenalty"],k);const E=m(e,["seed"]);E!=null&&p(r,["seed"],E);const z=m(e,["responseMimeType"]);z!=null&&p(r,["responseMimeType"],z);const I=m(e,["responseSchema"]);I!=null&&p(r,["responseSchema"],Ph(I));const U=m(e,["responseJsonSchema"]);if(U!=null&&p(r,["responseJsonSchema"],U),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=m(e,["safetySettings"]);if(n!==void 0&&q!=null){let Z=q;Array.isArray(Z)&&(Z=Z.map(j=>DN(j))),p(n,["safetySettings"],Z)}const D=m(e,["tools"]);if(n!==void 0&&D!=null){let Z=zo(D);Array.isArray(Z)&&(Z=Z.map(j=>HN(ko(j)))),p(n,["tools"],Z)}const O=m(e,["toolConfig"]);if(n!==void 0&&O!=null&&p(n,["toolConfig"],qN(O)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=m(e,["cachedContent"]);n!==void 0&&G!=null&&p(n,["cachedContent"],ai(t,G));const R=m(e,["responseModalities"]);R!=null&&p(r,["responseModalities"],R);const L=m(e,["mediaResolution"]);L!=null&&p(r,["mediaResolution"],L);const V=m(e,["speechConfig"]);if(V!=null&&p(r,["speechConfig"],qh(V)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=m(e,["thinkingConfig"]);Q!=null&&p(r,["thinkingConfig"],Q);const X=m(e,["imageConfig"]);X!=null&&p(r,["imageConfig"],vN(X));const K=m(e,["enableEnhancedCivicAnswers"]);return K!=null&&p(r,["enableEnhancedCivicAnswers"],K),r}function $M(t,e,n){const r={},o=m(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],dn(o));const s=m(e,["temperature"]);s!=null&&p(r,["temperature"],s);const u=m(e,["topP"]);u!=null&&p(r,["topP"],u);const d=m(e,["topK"]);d!=null&&p(r,["topK"],d);const f=m(e,["candidateCount"]);f!=null&&p(r,["candidateCount"],f);const h=m(e,["maxOutputTokens"]);h!=null&&p(r,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const y=m(e,["responseLogprobs"]);y!=null&&p(r,["responseLogprobs"],y);const b=m(e,["logprobs"]);b!=null&&p(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const k=m(e,["frequencyPenalty"]);k!=null&&p(r,["frequencyPenalty"],k);const E=m(e,["seed"]);E!=null&&p(r,["seed"],E);const z=m(e,["responseMimeType"]);z!=null&&p(r,["responseMimeType"],z);const I=m(e,["responseSchema"]);I!=null&&p(r,["responseSchema"],Ph(I));const U=m(e,["responseJsonSchema"]);U!=null&&p(r,["responseJsonSchema"],U);const q=m(e,["routingConfig"]);q!=null&&p(r,["routingConfig"],q);const D=m(e,["modelSelectionConfig"]);D!=null&&p(r,["modelConfig"],D);const O=m(e,["safetySettings"]);if(n!==void 0&&O!=null){let $=O;Array.isArray($)&&($=$.map(ue=>ue)),p(n,["safetySettings"],$)}const G=m(e,["tools"]);if(n!==void 0&&G!=null){let $=zo(G);Array.isArray($)&&($=$.map(ue=>G5(ko(ue)))),p(n,["tools"],$)}const R=m(e,["toolConfig"]);n!==void 0&&R!=null&&p(n,["toolConfig"],R);const L=m(e,["labels"]);n!==void 0&&L!=null&&p(n,["labels"],L);const V=m(e,["cachedContent"]);n!==void 0&&V!=null&&p(n,["cachedContent"],ai(t,V));const Q=m(e,["responseModalities"]);Q!=null&&p(r,["responseModalities"],Q);const X=m(e,["mediaResolution"]);X!=null&&p(r,["mediaResolution"],X);const K=m(e,["speechConfig"]);K!=null&&p(r,["speechConfig"],qh(K));const Z=m(e,["audioTimestamp"]);Z!=null&&p(r,["audioTimestamp"],Z);const j=m(e,["thinkingConfig"]);j!=null&&p(r,["thinkingConfig"],j);const ae=m(e,["imageConfig"]);if(ae!=null&&p(r,["imageConfig"],yN(ae)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Ky(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=ar(o);Array.isArray(u)&&(u=u.map(d=>bu(d))),p(n,["contents"],u)}const s=m(e,["config"]);return s!=null&&p(n,["generationConfig"],FM(t,s,n)),n}function Zy(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=ar(o);Array.isArray(u)&&(u=u.map(d=>d)),p(n,["contents"],u)}const s=m(e,["config"]);return s!=null&&p(n,["generationConfig"],$M(t,s,n)),n}function Wy(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>hM(h))),p(e,["candidates"],f)}const o=m(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=m(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const u=m(t,["responseId"]);u!=null&&p(e,["responseId"],u);const d=m(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function Qy(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["candidates"],h)}const o=m(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=m(t,["modelVersion"]);s!=null&&p(e,["modelVersion"],s);const u=m(t,["promptFeedback"]);u!=null&&p(e,["promptFeedback"],u);const d=m(t,["responseId"]);d!=null&&p(e,["responseId"],d);const f=m(t,["usageMetadata"]);return f!=null&&p(e,["usageMetadata"],f),e}function YM(t,e){const n={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const o=m(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=m(t,["guidanceScale"]);if(e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=m(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d);const f=m(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=m(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=m(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const y=m(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const b=m(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&p(e,["parameters","outputOptions","compressionQuality"],b),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=m(t,["imageSize"]);if(e!==void 0&&w!=null&&p(e,["parameters","sampleImageSize"],w),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function JM(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const o=m(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const s=m(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const u=m(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=m(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const f=m(t,["seed"]);e!==void 0&&f!=null&&p(e,["parameters","seed"],f);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&p(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&p(e,["parameters","personGeneration"],g);const y=m(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&p(e,["parameters","includeSafetyAttributes"],y);const b=m(t,["includeRaiReason"]);e!==void 0&&b!=null&&p(e,["parameters","includeRaiReason"],b);const w=m(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const k=m(t,["outputMimeType"]);e!==void 0&&k!=null&&p(e,["parameters","outputOptions","mimeType"],k);const E=m(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","compressionQuality"],E);const z=m(t,["addWatermark"]);e!==void 0&&z!=null&&p(e,["parameters","addWatermark"],z);const I=m(t,["labels"]);e!==void 0&&I!=null&&p(e,["labels"],I);const U=m(t,["imageSize"]);e!==void 0&&U!=null&&p(e,["parameters","sampleImageSize"],U);const q=m(t,["enhancePrompt"]);return e!==void 0&&q!=null&&p(e,["parameters","enhancePrompt"],q),n}function XM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["config"]);return s!=null&&YM(s,n),n}function KM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["config"]);return s!=null&&JM(s,n),n}function ZM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>lN(u))),p(e,["generatedImages"],s)}const o=m(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],q5(o)),e}function WM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Su(u))),p(e,["generatedImages"],s)}const o=m(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],H5(o)),e}function QM(t,e){const n={},r=m(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=m(t,["durationSeconds"]);if(e!==void 0&&o!=null&&p(e,["parameters","durationSeconds"],o),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=m(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const u=m(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const d=m(t,["personGeneration"]);if(e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=m(t,["negativePrompt"]);e!==void 0&&f!=null&&p(e,["parameters","negativePrompt"],f);const h=m(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=m(t,["lastFrame"]);e!==void 0&&g!=null&&p(e,["instances[0]","lastFrame"],wu(g));const y=m(t,["referenceImages"]);if(e!==void 0&&y!=null){let b=y;Array.isArray(b)&&(b=b.map(w=>eR(w))),p(e,["instances[0]","referenceImages"],b)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function jM(t,e){const n={},r=m(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const s=m(t,["fps"]);e!==void 0&&s!=null&&p(e,["parameters","fps"],s);const u=m(t,["durationSeconds"]);e!==void 0&&u!=null&&p(e,["parameters","durationSeconds"],u);const d=m(t,["seed"]);e!==void 0&&d!=null&&p(e,["parameters","seed"],d);const f=m(t,["aspectRatio"]);e!==void 0&&f!=null&&p(e,["parameters","aspectRatio"],f);const h=m(t,["resolution"]);e!==void 0&&h!=null&&p(e,["parameters","resolution"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&p(e,["parameters","personGeneration"],g);const y=m(t,["pubsubTopic"]);e!==void 0&&y!=null&&p(e,["parameters","pubsubTopic"],y);const b=m(t,["negativePrompt"]);e!==void 0&&b!=null&&p(e,["parameters","negativePrompt"],b);const w=m(t,["enhancePrompt"]);e!==void 0&&w!=null&&p(e,["parameters","enhancePrompt"],w);const k=m(t,["generateAudio"]);e!==void 0&&k!=null&&p(e,["parameters","generateAudio"],k);const E=m(t,["lastFrame"]);e!==void 0&&E!=null&&p(e,["instances[0]","lastFrame"],vr(E));const z=m(t,["referenceImages"]);if(e!==void 0&&z!=null){let q=z;Array.isArray(q)&&(q=q.map(D=>tR(D))),p(e,["instances[0]","referenceImages"],q)}const I=m(t,["mask"]);e!==void 0&&I!=null&&p(e,["instances[0]","mask"],jN(I));const U=m(t,["compressionQuality"]);return e!==void 0&&U!=null&&p(e,["parameters","compressionQuality"],U),n}function eN(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],iN(u)),e}function tN(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],aN(u)),e}function nN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["image"]);s!=null&&p(n,["instances[0]","image"],wu(s));const u=m(e,["video"]);u!=null&&p(n,["instances[0]","video"],V5(u));const d=m(e,["source"]);d!=null&&oN(d,n);const f=m(e,["config"]);return f!=null&&QM(f,n),n}function rN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["image"]);s!=null&&p(n,["instances[0]","image"],vr(s));const u=m(e,["video"]);u!=null&&p(n,["instances[0]","video"],F5(u));const d=m(e,["source"]);d!=null&&sN(d,n);const f=m(e,["config"]);return f!=null&&jM(f,n),n}function iN(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>cN(u))),p(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function aN(t){const e={},n=m(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>dN(u))),p(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function oN(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const o=m(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],wu(o));const s=m(t,["video"]);return e!==void 0&&s!=null&&p(e,["instances[0]","video"],V5(s)),n}function sN(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const o=m(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],vr(o));const s=m(t,["video"]);return e!==void 0&&s!=null&&p(e,["instances[0]","video"],F5(s)),n}function lN(t){const e={},n=m(t,["_self"]);n!=null&&p(e,["image"],xN(n));const r=m(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const o=m(t,["_self"]);return o!=null&&p(e,["safetyAttributes"],q5(o)),e}function Su(t){const e={},n=m(t,["_self"]);n!=null&&p(e,["image"],P5(n));const r=m(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const o=m(t,["_self"]);o!=null&&p(e,["safetyAttributes"],H5(o));const s=m(t,["prompt"]);return s!=null&&p(e,["enhancedPrompt"],s),e}function uN(t){const e={},n=m(t,["_self"]);n!=null&&p(e,["mask"],P5(n));const r=m(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["labels"],o)}return e}function cN(t){const e={},n=m(t,["video"]);return n!=null&&p(e,["video"],WN(n)),e}function dN(t){const e={},n=m(t,["_self"]);return n!=null&&p(e,["video"],QN(n)),e}function fN(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const o=m(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const s=m(t,["candidateCount"]);s!=null&&p(e,["candidateCount"],s);const u=m(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const d=m(t,["frequencyPenalty"]);d!=null&&p(e,["frequencyPenalty"],d);const f=m(t,["logprobs"]);f!=null&&p(e,["logprobs"],f);const h=m(t,["maxOutputTokens"]);h!=null&&p(e,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&p(e,["mediaResolution"],g);const y=m(t,["presencePenalty"]);y!=null&&p(e,["presencePenalty"],y);const b=m(t,["responseLogprobs"]);b!=null&&p(e,["responseLogprobs"],b);const w=m(t,["responseMimeType"]);w!=null&&p(e,["responseMimeType"],w);const k=m(t,["responseModalities"]);k!=null&&p(e,["responseModalities"],k);const E=m(t,["responseSchema"]);E!=null&&p(e,["responseSchema"],E);const z=m(t,["routingConfig"]);z!=null&&p(e,["routingConfig"],z);const I=m(t,["seed"]);I!=null&&p(e,["seed"],I);const U=m(t,["speechConfig"]);U!=null&&p(e,["speechConfig"],U);const q=m(t,["stopSequences"]);q!=null&&p(e,["stopSequences"],q);const D=m(t,["temperature"]);D!=null&&p(e,["temperature"],D);const O=m(t,["thinkingConfig"]);O!=null&&p(e,["thinkingConfig"],O);const G=m(t,["topK"]);G!=null&&p(e,["topK"],G);const R=m(t,["topP"]);if(R!=null&&p(e,["topP"],R),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function hN(t,e){const n={},r=m(e,["model"]);return r!=null&&p(n,["_url","name"],lt(t,r)),n}function mN(t,e){const n={},r=m(e,["model"]);return r!=null&&p(n,["_url","name"],lt(t,r)),n}function pN(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function gN(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function vN(t){const e={},n=m(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function yN(t){const e={},n=m(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=m(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const o=m(t,["personGeneration"]);o!=null&&p(e,["personGeneration"],o);const s=m(t,["outputMimeType"]);s!=null&&p(e,["imageOutputOptions","mimeType"],s);const u=m(t,["outputCompressionQuality"]);return u!=null&&p(e,["imageOutputOptions","compressionQuality"],u),e}function xN(t){const e={},n=m(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],$i(n));const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function P5(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],$i(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function wu(t){const e={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],$i(n));const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vr(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=m(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],$i(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function bN(t,e,n){const r={},o=m(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const s=m(e,["pageToken"]);n!==void 0&&s!=null&&p(n,["_query","pageToken"],s);const u=m(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const d=m(e,["queryBase"]);return n!==void 0&&d!=null&&p(n,["_url","models_url"],R5(t,d)),r}function SN(t,e,n){const r={},o=m(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const s=m(e,["pageToken"]);n!==void 0&&s!=null&&p(n,["_query","pageToken"],s);const u=m(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const d=m(e,["queryBase"]);return n!==void 0&&d!=null&&p(n,["_url","models_url"],R5(t,d)),r}function wN(t,e){const n={},r=m(e,["config"]);return r!=null&&bN(t,r,n),n}function TN(t,e){const n={},r=m(e,["config"]);return r!=null&&SN(t,r,n),n}function _N(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["_self"]);if(o!=null){let s=I5(o);Array.isArray(s)&&(s=s.map(u=>Jf(u))),p(e,["models"],s)}return e}function AN(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["_self"]);if(o!=null){let s=I5(o);Array.isArray(s)&&(s=s.map(u=>Xf(u))),p(e,["models"],s)}return e}function EN(t){const e={},n=m(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=m(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const o=m(t,["maskDilation"]);return o!=null&&p(e,["dilation"],o),e}function Jf(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const o=m(t,["description"]);o!=null&&p(e,["description"],o);const s=m(t,["version"]);s!=null&&p(e,["version"],s);const u=m(t,["_self"]);u!=null&&p(e,["tunedModelInfo"],GN(u));const d=m(t,["inputTokenLimit"]);d!=null&&p(e,["inputTokenLimit"],d);const f=m(t,["outputTokenLimit"]);f!=null&&p(e,["outputTokenLimit"],f);const h=m(t,["supportedGenerationMethods"]);h!=null&&p(e,["supportedActions"],h);const g=m(t,["temperature"]);g!=null&&p(e,["temperature"],g);const y=m(t,["maxTemperature"]);y!=null&&p(e,["maxTemperature"],y);const b=m(t,["topP"]);b!=null&&p(e,["topP"],b);const w=m(t,["topK"]);w!=null&&p(e,["topK"],w);const k=m(t,["thinking"]);return k!=null&&p(e,["thinking"],k),e}function Xf(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const o=m(t,["description"]);o!=null&&p(e,["description"],o);const s=m(t,["versionId"]);s!=null&&p(e,["version"],s);const u=m(t,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(b=>PM(b))),p(e,["endpoints"],y)}const d=m(t,["labels"]);d!=null&&p(e,["labels"],d);const f=m(t,["_self"]);f!=null&&p(e,["tunedModelInfo"],VN(f));const h=m(t,["defaultCheckpointId"]);h!=null&&p(e,["defaultCheckpointId"],h);const g=m(t,["checkpoints"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(b=>b)),p(e,["checkpoints"],y)}return e}function CN(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],qM(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],HM(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],fM(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const y=m(t,["thoughtSignature"]);y!=null&&p(e,["thoughtSignature"],y);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function kN(t){const e={},n=m(t,["productImage"]);return n!=null&&p(e,["image"],vr(n)),e}function zN(t,e){const n={},r=m(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const o=m(t,["baseSteps"]);e!==void 0&&o!=null&&p(e,["parameters","baseSteps"],o);const s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const u=m(t,["seed"]);e!==void 0&&u!=null&&p(e,["parameters","seed"],u);const d=m(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&p(e,["parameters","safetySetting"],d);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&p(e,["parameters","personGeneration"],f);const h=m(t,["addWatermark"]);e!==void 0&&h!=null&&p(e,["parameters","addWatermark"],h);const g=m(t,["outputMimeType"]);e!==void 0&&g!=null&&p(e,["parameters","outputOptions","mimeType"],g);const y=m(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const b=m(t,["enhancePrompt"]);e!==void 0&&b!=null&&p(e,["parameters","enhancePrompt"],b);const w=m(t,["labels"]);return e!==void 0&&w!=null&&p(e,["labels"],w),n}function MN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["source"]);o!=null&&RN(o,n);const s=m(e,["config"]);return s!=null&&zN(s,n),n}function NN(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Su(o))),p(e,["generatedImages"],r)}return e}function RN(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const o=m(t,["personImage"]);e!==void 0&&o!=null&&p(e,["instances[0]","personImage","image"],vr(o));const s=m(t,["productImages"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>kN(d))),p(e,["instances[0]","productImages"],u)}return n}function IN(t){const e={},n=m(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],vr(n));const r=m(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const o=m(t,["referenceType"]);o!=null&&p(e,["referenceType"],o);const s=m(t,["maskImageConfig"]);s!=null&&p(e,["maskImageConfig"],EN(s));const u=m(t,["controlImageConfig"]);u!=null&&p(e,["controlImageConfig"],xM(u));const d=m(t,["styleImageConfig"]);d!=null&&p(e,["styleImageConfig"],d);const f=m(t,["subjectImageConfig"]);return f!=null&&p(e,["subjectImageConfig"],f),e}function q5(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const o=m(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function H5(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const o=m(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function DN(t){const e={},n=m(t,["category"]);if(n!=null&&p(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function LN(t){const e={},n=m(t,["image"]);return n!=null&&p(e,["image"],vr(n)),e}function UN(t,e){const n={},r=m(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const o=m(t,["maxPredictions"]);e!==void 0&&o!=null&&p(e,["parameters","maxPredictions"],o);const s=m(t,["confidenceThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","confidenceThreshold"],s);const u=m(t,["maskDilation"]);e!==void 0&&u!=null&&p(e,["parameters","maskDilation"],u);const d=m(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&p(e,["parameters","binaryColorThreshold"],d);const f=m(t,["labels"]);return e!==void 0&&f!=null&&p(e,["labels"],f),n}function ON(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["source"]);o!=null&&PN(o,n);const s=m(e,["config"]);return s!=null&&UN(s,n),n}function BN(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>uN(o))),p(e,["generatedMasks"],r)}return e}function PN(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const o=m(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],vr(o));const s=m(t,["scribbleImage"]);return e!==void 0&&s!=null&&p(e,["instances[0]","scribble"],LN(s)),n}function qN(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],GM(r)),e}function HN(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],pN(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],gN(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}function G5(t){const e={},n=m(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(t,["codeExecution"]);o!=null&&p(e,["codeExecution"],o);const s=m(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const u=m(t,["functionDeclarations"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(b=>VM(b))),p(e,["functionDeclarations"],y)}const d=m(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],d);const f=m(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],f);const h=m(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&p(e,["urlContext"],g),e}function GN(t){const e={},n=m(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&p(e,["createTime"],r);const o=m(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function VN(t){const e={},n=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&p(e,["createTime"],r);const o=m(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function FN(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const o=m(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const s=m(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&p(e,["defaultCheckpointId"],s),n}function $N(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const o=m(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const s=m(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&p(e,["defaultCheckpointId"],s),n}function YN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","name"],lt(t,r));const o=m(e,["config"]);return o!=null&&FN(o,n),n}function JN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["config"]);return o!=null&&$N(o,n),n}function XN(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const o=m(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&p(e,["parameters","safetySetting"],o);const s=m(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const u=m(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const d=m(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const f=m(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","compressionQuality"],f);const h=m(t,["enhanceInputImage"]);e!==void 0&&h!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=m(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=m(t,["labels"]);e!==void 0&&y!=null&&p(e,["labels"],y);const b=m(t,["numberOfImages"]);e!==void 0&&b!=null&&p(e,["parameters","sampleCount"],b);const w=m(t,["mode"]);return e!==void 0&&w!=null&&p(e,["parameters","mode"],w),n}function KN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["image"]);o!=null&&p(n,["instances[0]","image"],vr(o));const s=m(e,["upscaleFactor"]);s!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],s);const u=m(e,["config"]);return u!=null&&XN(u,n),n}function ZN(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Su(s))),p(e,["generatedImages"],o)}return e}function WN(t){const e={},n=m(t,["uri"]);n!=null&&p(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],$i(r));const o=m(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function QN(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],$i(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function jN(t){const e={},n=m(t,["image"]);n!=null&&p(e,["_self"],vr(n));const r=m(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function eR(t){const e={},n=m(t,["image"]);n!=null&&p(e,["image"],wu(n));const r=m(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function tR(t){const e={},n=m(t,["image"]);n!=null&&p(e,["image"],vr(n));const r=m(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function V5(t){const e={},n=m(t,["uri"]);n!=null&&p(e,["uri"],n);const r=m(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],$i(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["encoding"],o),e}function F5(t){const e={},n=m(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=m(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],$i(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nR(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function rR(t){const e={},n=m(t,["config"]);return n!=null&&nR(n,e),e}function iR(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function aR(t){const e={},n=m(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&iR(r,e),e}function oR(t){const e={},n=m(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function sR(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["customMetadata"],s)}const o=m(t,["chunkingConfig"]);return e!==void 0&&o!=null&&p(e,["chunkingConfig"],o),n}function lR(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],cR(u)),e}function uR(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&p(e,["fileName"],r);const o=m(t,["config"]);return o!=null&&sR(o,e),e}function cR(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&p(e,["parent"],r);const o=m(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function dR(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function fR(t){const e={},n=m(t,["config"]);return n!=null&&dR(n,e),e}function hR(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["fileSearchStores"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["fileSearchStores"],s)}return e}function $5(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const o=m(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=m(t,["customMetadata"]);if(e!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),p(e,["customMetadata"],d)}const u=m(t,["chunkingConfig"]);return e!==void 0&&u!=null&&p(e,["chunkingConfig"],u),n}function mR(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&$5(r,e),e}function pR(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gR="Content-Type",vR="X-Server-Timeout",yR="User-Agent",Kf="x-goog-api-client",xR="1.35.0",bR=`google-genai-sdk/${xR}`,SR="v1beta1",wR="v1beta";class TR{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:SR,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:wR,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))o.searchParams.append(u,String(d));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(n))typeof s=="object"?r[o]=Object.assign(Object.assign({},r[o]),s):s!==void 0&&(r[o]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){const s=new AbortController,u=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>s.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=u}return n&&n.extraBody!==null&&_R(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await jy(o),new Ff(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await jy(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return pr(this,arguments,function*(){var r;const o=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";const d="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:g}=yield Fe(o.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=s.decode(g,{stream:!0});try{const k=JSON.parse(y);if("error"in k){const E=JSON.parse(JSON.stringify(k.error)),z=E.status,I=E.code,U=`got status: ${z}. ${JSON.stringify(k)}`;if(I>=400&&I<600)throw new xu({message:U,status:I})}}catch(k){if(k.name==="ApiError")throw k}u+=y;let b=-1,w=0;for(;;){b=-1,w=0;for(const z of f){const I=u.indexOf(z);I!==-1&&(b===-1||I<b)&&(b=I,w=z.length)}if(b===-1)break;const k=u.substring(0,b);u=u.substring(b+w);const E=k.trim();if(E.startsWith(d)){const z=E.substring(d.length).trim();try{const I=new Response(z,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Fe(new Ff(I))}catch(I){throw new Error(`exception parsing stream chunk ${z}. ${I}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=bR+" "+this.clientOptions.userAgentExtra;return e[yR]=n,e[Kf]=n,e[gR]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))r.append(o,s);e.timeout&&e.timeout>0&&r.append(vR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,u=await s.stat(e);o.sizeBytes=String(u.size);const d=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const f={file:o},h=this.getFileName(e),g=Ae("upload/v1beta/files",f._url),y=await this.fetchUploadUrl(g,o.sizeBytes,o.mimeType,h,f,n==null?void 0:n.httpOptions);return s.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,r){var o;const s=this.clientOptions.uploader,u=await s.stat(n),d=String(u.size),f=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(n),y={};r!=null&&$5(r,y);const b=await this.fetchUploadUrl(h,d,f,g,y,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,s,u){var d;let f={};u?f=u:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const h=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:f});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(d=h==null?void 0:h.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function jy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new xu({message:o,status:n}):new Error(o)}}function _R(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,u){const d=Object.assign({},s);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f)){const h=u[f],g=d[f];h&&typeof h=="object"&&!Array.isArray(h)&&g&&typeof g=="object"&&!Array.isArray(g)?d[f]=r(g,h):(g&&h&&typeof g!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof g}, New type: ${typeof h}. Overwriting.`),d[f]=h)}return d}const o=r(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR="mcp_used/unknown";let ER=!1;function Y5(t){for(const e of t)if(CR(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ER}function J5(t){var e;const n=(e=t[Kf])!==null&&e!==void 0?e:"";t[Kf]=(n+` ${AR}`).trimStart()}function CR(t){return t!==null&&typeof t=="object"&&t instanceof Gh}function kR(t){return pr(this,arguments,function*(n,r=100){let o,s=0;for(;s<r;){const u=yield Fe(n.listTools({cursor:o}));for(const d of u.tools)yield yield Fe(d),s++;if(!u.nextCursor)break;o=u.nextCursor}})}class Gh{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Gh(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;const s={},u=[];for(const g of this.mcpClients)try{for(var d=!0,f=(n=void 0,gr(kR(g))),h;h=await f.next(),e=h.done,!e;d=!0){o=h.value,d=!1;const y=o;u.push(y);const b=y.name;if(s[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);s[b]=g}}catch(y){n={error:y}}finally{try{!d&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),ok(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const u=await o.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zR(t,e,n){const r=new QC;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}class MR{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),u=IR(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),f=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const g=new Promise(q=>{h=q}),y=e.callbacks,b=function(){h({})},w=this.apiClient,k={onopen:b,onmessage:q=>{zR(w,y.onmessage,q)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(q){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(q){}},E=this.webSocketFactory.create(f,RR(u),k);E.connect(),await g;const U={setup:{model:lt(this.apiClient,e.model)}};return E.send(JSON.stringify(U)),new NR(E,this.apiClient)}}class NR{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=rM(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=nM(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(po.PLAY)}pause(){this.sendPlaybackControl(po.PAUSE)}stop(){this.sendPlaybackControl(po.STOP)}resetContext(){this.sendPlaybackControl(po.RESET_CONTEXT)}close(){this.conn.close()}}function RR(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function IR(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function LR(t,e,n){const r=new WC;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(t.isVertexAI()){const u=oM(s);Object.assign(r,u)}else Object.assign(r,s);e(r)}class UR{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new MR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,s,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let g;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&Y5(e.config.tools)&&J5(y);const b=qR(y);if(this.apiClient.isVertexAI())g=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,g);else{const V=this.apiClient.getApiKey();let Q="BidiGenerateContent",X="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",X="access_token"),g=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${Q}?${X}=${V}`}let w=()=>{};const k=new Promise(V=>{w=V}),E=e.callbacks,z=function(){var V;(V=E==null?void 0:E.onopen)===null||V===void 0||V.call(E),w({})},I=this.apiClient,U={onopen:z,onmessage:V=>{LR(I,E.onmessage,V)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(V){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(V){}},q=this.webSocketFactory.create(g,PR(b),U);q.connect(),await k;let D=lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const V=this.apiClient.getProject(),Q=this.apiClient.getLocation();D=`projects/${V}/locations/${Q}/`+D}let O={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[W0.AUDIO]}:e.config.responseModalities=[W0.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],R=[];for(const V of G)if(this.isCallableTool(V)){const Q=V;R.push(await Q.tool())}else R.push(V);R.length>0&&(e.config.tools=R);const L={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=tM(this.apiClient,L):O=eM(this.apiClient,L),delete O.config,q.send(JSON.stringify(O)),new BR(q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const OR={turnComplete:!0};class BR{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ar(n.turns),e.isVertexAI()||(r=r.map(o=>bu(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(DR)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},OR),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:aM(e)}:n={realtimeInput:iM(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function PR(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function qR(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e2=10;function t2(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(bo(u)){o=!0;break}if(!o)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function bo(t){return"callTool"in t&&typeof t.callTool=="function"}function HR(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>bo(o)))!==null&&r!==void 0?r:!1}function n2(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(bo(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(o)}),n}function r2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GR extends ii{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,s,u,d;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!HR(n)||t2(n.config))return await this.generateContentInternal(f);const h=n2(n);if(h.length>0){const E=h.map(z=>`tools[${z}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let g,y;const b=ar(f.contents),w=(s=(o=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:e2;let k=0;for(;k<w&&(g=await this.generateContentInternal(f),!(!g.functionCalls||g.functionCalls.length===0));){const E=g.candidates[0].content,z=[];for(const I of(d=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(bo(I)){const q=await I.callTool(g.functionCalls);z.push(...q)}k++,y={role:"user",parts:z},f.contents=ar(f.contents),f.contents.push(E),f.contents.push(y),r2(f.config)&&(b.push(E),b.push(y))}return r2(f.config)&&(g.automaticFunctionCallingHistory=b),g},this.generateContentStream=async n=>{var r,o,s,u,d;if(this.maybeMoveToResponseJsonSchem(n),t2(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const f=n2(n);if(f.length>0){const y=f.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(s=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,g=(d=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(h&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let s;const u=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:u.push(f);let d;return s?d={generatedImages:u,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:r.sdkHttpResponse},d}),this.list=async n=>{var r;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((r=u.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Ta(ni.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,s,u,d,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(s=n.source)===null||s===void 0?void 0:s.video)===null||u===void 0)&&u.uri&&(!((f=(d=n.source)===null||d===void 0?void 0:d.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const u=await Promise.all(s.map(async f=>bo(f)?await f.tool():f)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&Y5(e.config.tools)){const f=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),J5(h),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(e){var n,r,o;const s=new Map;for(const u of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(bo(u)){const d=u,f=await d.tool();for(const h of(o=f.functionDeclarations)!==null&&o!==void 0?o:[]){if(!h.name)throw new Error("Function declaration name is required.");if(s.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);s.set(h.name,d)}}return s}async processAfcStream(e){var n,r,o;const s=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:e2;let u=!1,d=0;const f=await this.initAfcToolsMap(e);return function(h,g,y){return pr(this,arguments,function*(){for(var b,w,k,E,z,I;d<s;){u&&(d++,u=!1);const O=yield Fe(h.processParamsMaybeAddMcpUsage(y)),G=yield Fe(h.generateContentStreamInternal(O)),R=[],L=[];try{for(var U=!0,q=(w=void 0,gr(G)),D;D=yield Fe(q.next()),b=D.done,!b;U=!0){E=D.value,U=!1;const V=E;if(yield yield Fe(V),V.candidates&&(!((z=V.candidates[0])===null||z===void 0)&&z.content)){L.push(V.candidates[0].content);for(const Q of(I=V.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(d<s&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(Q.functionCall.name)){const X=yield Fe(g.get(Q.functionCall.name).callTool([Q.functionCall]));R.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(V){w={error:V}}finally{try{!U&&!b&&(k=q.return)&&(yield Fe(k.call(q)))}finally{if(w)throw w.error}}if(R.length>0){u=!0;const V=new ks;V.candidates=[{content:{role:"user",parts:R}}],yield yield Fe(V);const Q=[];Q.push(...L),Q.push({role:"user",parts:R});const X=ar(y.contents).concat(Q);y.contents=X}else break}})}(this,f,e)}async generateContentInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Zy(this.apiClient,e);return d=Ae("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=Qy(g),b=new ks;return Object.assign(b,y),b})}else{const h=Ky(this.apiClient,e);return d=Ae("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=Wy(g),b=new ks;return Object.assign(b,y),b})}}async generateContentStreamInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Zy(this.apiClient,e);return d=Ae("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(y){return pr(this,arguments,function*(){var b,w,k,E;try{for(var z=!0,I=gr(y),U;U=yield Fe(I.next()),b=U.done,!b;z=!0){E=U.value,z=!1;const q=E,D=Qy(yield Fe(q.json()));D.sdkHttpResponse={headers:q.headers};const O=new ks;Object.assign(O,D),yield yield Fe(O)}}catch(q){w={error:q}}finally{try{!z&&!b&&(k=I.return)&&(yield Fe(k.call(I)))}finally{if(w)throw w.error}}})})}else{const h=Ky(this.apiClient,e);return d=Ae("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(y){return pr(this,arguments,function*(){var b,w,k,E;try{for(var z=!0,I=gr(y),U;U=yield Fe(I.next()),b=U.done,!b;z=!0){E=U.value,z=!1;const q=E,D=Wy(yield Fe(q.json()));D.sdkHttpResponse={headers:q.headers};const O=new ks;Object.assign(O,D),yield yield Fe(O)}}catch(q){w={error:q}}finally{try{!z&&!b&&(k=I.return)&&(yield Fe(k.call(I)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=UM(this.apiClient,e);return d=Ae("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=BM(g),b=new Ry;return Object.assign(b,y),b})}else{const h=LM(this.apiClient,e);return d=Ae("{model}:batchEmbedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=OM(g),b=new Ry;return Object.assign(b,y),b})}}async generateImagesInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=KM(this.apiClient,e);return d=Ae("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=WM(g),b=new Iy;return Object.assign(b,y),b})}else{const h=XM(this.apiClient,e);return d=Ae("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=ZM(g),b=new Iy;return Object.assign(b,y),b})}}async editImageInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=NM(this.apiClient,e);return s=Ae("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=RM(f),g=new qC;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=KN(this.apiClient,e);return s=Ae("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=ZN(f),g=new HC;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=MN(this.apiClient,e);return s=Ae("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=NN(f),g=new GC;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=ON(this.apiClient,e);return s=Ae("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=BN(f),g=new VC;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=mN(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Xf(g))}else{const h=hN(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Jf(g))}}async listInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=TN(this.apiClient,e);return d=Ae("{models_url}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=AN(g),b=new Dy;return Object.assign(b,y),b})}else{const h=wN(this.apiClient,e);return d=Ae("{models_url}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=_N(g),b=new Dy;return Object.assign(b,y),b})}}async update(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=JN(this.apiClient,e);return d=Ae("{model}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Xf(g))}else{const h=YN(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Jf(g))}}async delete(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=CM(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=zM(g),b=new Ly;return Object.assign(b,y),b})}else{const h=EM(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=kM(g),b=new Ly;return Object.assign(b,y),b})}}async countTokens(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=TM(this.apiClient,e);return d=Ae("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=AM(g),b=new Uy;return Object.assign(b,y),b})}else{const h=wM(this.apiClient,e);return d=Ae("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=_M(g),b=new Uy;return Object.assign(b,y),b})}}async computeTokens(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=pM(this.apiClient,e);return s=Ae("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=gM(f),g=new FC;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=rN(this.apiClient,e);return d=Ae("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>{const y=tN(g),b=new Q0;return Object.assign(b,y),b})}else{const h=nN(this.apiClient,e);return d=Ae("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const y=eN(g),b=new Q0;return Object.assign(b,y),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VR extends ii{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=DC(e);return d=Ae("{operationName}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u}else{const h=IC(e);return d=Ae("{operationName}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=EC(e);return s=Ae("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FR(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function $R(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>eI(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function YR(t,e,n){const r={},o=m(e,["expireTime"]);n!==void 0&&o!=null&&p(n,["expireTime"],o);const s=m(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&p(n,["newSessionExpireTime"],s);const u=m(e,["uses"]);n!==void 0&&u!=null&&p(n,["uses"],u);const d=m(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&p(n,["bidiGenerateContentSetup"],jR(t,d));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&p(n,["fieldMask"],f),r}function JR(t,e){const n={},r=m(e,["config"]);return r!=null&&p(n,["config"],YR(t,r,n)),n}function XR(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function KR(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZR(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function WR(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function QR(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const o=m(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const s=m(t,["temperature"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","temperature"],s);const u=m(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=m(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","maxOutputTokens"],f);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","mediaResolution"],h);const g=m(t,["seed"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","seed"],g);const y=m(t,["speechConfig"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","speechConfig"],Hh(y));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],w);const k=m(t,["systemInstruction"]);e!==void 0&&k!=null&&p(e,["setup","systemInstruction"],$R(dn(k)));const E=m(t,["tools"]);if(e!==void 0&&E!=null){let G=zo(E);Array.isArray(G)&&(G=G.map(R=>nI(ko(R)))),p(e,["setup","tools"],G)}const z=m(t,["sessionResumption"]);e!==void 0&&z!=null&&p(e,["setup","sessionResumption"],tI(z));const I=m(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&p(e,["setup","inputAudioTranscription"],I);const U=m(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&p(e,["setup","outputAudioTranscription"],U);const q=m(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&p(e,["setup","realtimeInputConfig"],q);const D=m(t,["contextWindowCompression"]);e!==void 0&&D!=null&&p(e,["setup","contextWindowCompression"],D);const O=m(t,["proactivity"]);if(e!==void 0&&O!=null&&p(e,["setup","proactivity"],O),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function jR(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["setup","model"],lt(t,r));const o=m(e,["config"]);return o!=null&&p(n,["config"],QR(o,n)),n}function eI(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],XR(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],KR(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],FR(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const y=m(t,["thoughtSignature"]);y!=null&&p(e,["thoughtSignature"],y);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function tI(t){const e={},n=m(t,["handle"]);if(n!=null&&p(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nI(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],ZR(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],WR(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(s=>`${n}.${s}`);e.push(...o)}else e.push(n)}return e.join(",")}function iI(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const s=rI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(h=>u.includes(h)?`generationConfig.${h}`:h));const f=[];s&&f.push(s),d.length>0&&f.push(...d),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class aI extends ii{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=JR(this.apiClient,e);s=Ae("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const f=iI(d,e.config);return o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oI(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function sI(t){const e={},n=m(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&oI(r,e),e}function lI(t){const e={},n=m(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function uI(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function cI(t){const e={},n=m(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&uI(r,e),e}function dI(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["documents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fI extends ii{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ta(ni.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=lI(e);return s=Ae("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sI(e);o=Ae("{name}",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=cI(e);return s=Ae("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=dI(f),g=new $C;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hI extends ii{constructor(e,n=new fI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ta(ni.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=rR(e);return s=Ae("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async get(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=oR(e);return s=Ae("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aR(e);o=Ae("{name}",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=fR(e);return s=Ae("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=hR(f),g=new YC;return Object.assign(g,h),g})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mR(e);return s=Ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=pR(f),g=new JC;return Object.assign(g,h),g})}}async importFile(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=uR(e);return s=Ae("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=lR(f),g=new Uh;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let X5=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return X5=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const mI=()=>X5();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zf(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Wf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lr extends Error{}class xn extends lr{constructor(e,n,r,o){super(`${xn.makeMessage(e,n,r)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,r){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,r,o){if(!e||!o)return new Tu({message:r,cause:Wf(n)});const s=n;return e===400?new Z5(e,s,r,o):e===401?new W5(e,s,r,o):e===403?new Q5(e,s,r,o):e===404?new j5(e,s,r,o):e===409?new e6(e,s,r,o):e===422?new t6(e,s,r,o):e===429?new n6(e,s,r,o):e>=500?new r6(e,s,r,o):new xn(e,s,r,o)}}class Qf extends xn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Tu extends xn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class K5 extends Tu{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Z5 extends xn{}class W5 extends xn{}class Q5 extends xn{}class j5 extends xn{}class e6 extends xn{}class t6 extends xn{}class n6 extends xn{}class r6 extends xn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pI=/^[a-z][a-z0-9+.-]*:/i,gI=t=>pI.test(t);let jf=t=>(jf=Array.isArray,jf(t));const vI=jf;let yI=vI;const i2=yI;function xI(t){if(!t)return!0;for(const e in t)return!1;return!0}function bI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const SI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new lr(`${t} must be an integer`);if(e<0)throw new lr(`${t} must be a positive integer`);return e},wI=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TI=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _I(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const AI=()=>{var t,e,n,r,o;const s=_I();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fo,"X-Stainless-OS":o2(Deno.build.os),"X-Stainless-Arch":a2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fo,"X-Stainless-OS":o2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":a2((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const u=EI();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const o=r[1]||0,s=r[2]||0,u=r[3]||0;return{browser:e,version:`${o}.${s}.${u}`}}}return null}const a2=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",o2=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let _0;const CI=()=>_0??(_0=AI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function i6(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function zI(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return i6({start(){},async pull(n){const{done:r,value:o}=await e.next();r?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function a6(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function MI(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),o=r.cancel();r.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o6=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function yf(t,e,n){return o6(),new File(t,e??"unknown_file",n)}function RI(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const II=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s6=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",DI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&s6(t),LI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function UI(t,e,n){if(o6(),t=await t,DI(t))return t instanceof File?t:yf([await t.arrayBuffer()],t.name);if(LI(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),yf(await eh(o),e,n)}const r=await eh(t);if(e||(e=RI(t)),!(n!=null&&n.type)){const o=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return yf(r,e,n)}async function eh(t){var e,n,r,o,s;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(s6(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(II(t))try{for(var d=!0,f=gr(t),h;h=await f.next(),e=h.done,!e;d=!0){o=h.value,d=!1;const g=o;u.push(...await eh(g))}}catch(g){n={error:g}}finally{try{!d&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const g=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${g?`; constructor: ${g}`:""}${OI(t)}`)}return u}function OI(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l6{constructor(e){this._client=e}}l6._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u6(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const s2=Object.freeze(Object.create(null)),BI=(t=u6)=>function(n,...r){if(n.length===1)return n[0];let o=!1;const s=[],u=n.reduce((g,y,b)=>{var w,k,E;/[?#]/.test(y)&&(o=!0);const z=r[b];let I=(o?encodeURIComponent:t)(""+z);return b!==r.length&&(z==null||typeof z=="object"&&z.toString===((E=Object.getPrototypeOf((k=Object.getPrototypeOf((w=z.hasOwnProperty)!==null&&w!==void 0?w:s2))!==null&&k!==void 0?k:s2))===null||E===void 0?void 0:E.toString))&&(I=z+"",s.push({start:g.length+y.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(z).slice(8,-1)} is not a valid path parameter`})),g+y+(b===r.length?"":I)},""),d=u.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=f.exec(d))!==null;)s.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(s.sort((g,y)=>g.start-y.start),s.length>0){let g=0;const y=s.reduce((b,w)=>{const k=" ".repeat(w.start-g),E="^".repeat(w.length);return g=w.start+w.length,b+k+E},"");throw new lr(`Path parameters result in path with invalid segments:
${s.map(b=>b.error).join(`
`)}
${u}
${y}`)}return u},A0=BI(u6);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c6 extends l6{create(e,n){var r;const{api_version:o=this._client.apiVersion}=e,s=eu(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new lr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new lr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(A0`/${o}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(A0`/${o}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(A0`/${o}/interactions/${e}/cancel`,r)}get(e,n={},r){var o;const s=n??{},{api_version:u=this._client.apiVersion}=s,d=eu(s,["api_version"]);return this._client.get(A0`/${u}/interactions/${e}`,Object.assign(Object.assign({query:d},r),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}c6._key=Object.freeze(["interactions"]);class d6 extends c6{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PI(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}let E0;function Vh(t){let e;return(E0??(e=new globalThis.TextEncoder,E0=e.encode.bind(e)))(t)}let C0;function l2(t){let e;return(C0??(e=new globalThis.TextDecoder,C0=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _u{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Vh(e):e;this.buffer=PI([this.buffer,n]);const r=[];let o;for(;(o=qI(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(l2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,u=l2(this.buffer.subarray(0,s));r.push(u),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}_u.NEWLINE_CHARS=new Set([`
`,"\r"]);_u.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function qI(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function HI(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tu={off:0,error:200,warn:300,info:400,debug:500},u2=(t,e,n)=>{if(t){if(bI(tu,t))return t;vn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(tu))}`)}};function Rs(){}function k0(t,e,n){return!e||tu[t]>tu[n]?Rs:e[t].bind(e)}const GI={error:Rs,warn:Rs,info:Rs,debug:Rs};let c2=new WeakMap;function vn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return GI;const o=c2.get(n);if(o&&o[0]===r)return o[1];const s={error:k0("error",n,r),warn:k0("warn",n,r),info:k0("info",n,r),debug:k0("debug",n,r)};return c2.set(n,[r,s]),s}const ga=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class go{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let o=!1;const s=r?vn(r):console;function u(){return pr(this,arguments,function*(){var f,h,g,y;if(o)throw new lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let b=!1;try{try{for(var w=!0,k=gr(VI(e,n)),E;E=yield Fe(k.next()),f=E.done,!f;w=!0){y=E.value,w=!1;const z=y;if(!b)if(z.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield Fe(JSON.parse(z.data))}catch(I){throw s.error("Could not parse message into JSON:",z.data),s.error("From chunk:",z.raw),I}}}catch(z){h={error:z}}finally{try{!w&&!f&&(g=k.return)&&(yield Fe(g.call(k)))}finally{if(h)throw h.error}}b=!0}catch(z){if(Zf(z))return yield Fe(void 0);throw z}finally{b||n.abort()}})}return new go(u,n,r)}static fromReadableStream(e,n,r){let o=!1;function s(){return pr(this,arguments,function*(){var f,h,g,y;const b=new _u,w=a6(e);try{for(var k=!0,E=gr(w),z;z=yield Fe(E.next()),f=z.done,!f;k=!0){y=z.value,k=!1;const I=y;for(const U of b.decode(I))yield yield Fe(U)}}catch(I){h={error:I}}finally{try{!k&&!f&&(g=E.return)&&(yield Fe(g.call(E)))}finally{if(h)throw h.error}}for(const I of b.flush())yield yield Fe(I)})}function u(){return pr(this,arguments,function*(){var f,h,g,y;if(o)throw new lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let b=!1;try{try{for(var w=!0,k=gr(s()),E;E=yield Fe(k.next()),f=E.done,!f;w=!0){y=E.value,w=!1;const z=y;b||z&&(yield yield Fe(JSON.parse(z)))}}catch(z){h={error:z}}finally{try{!w&&!f&&(g=k.return)&&(yield Fe(g.call(k)))}finally{if(h)throw h.error}}b=!0}catch(z){if(Zf(z))return yield Fe(void 0);throw z}finally{b||n.abort()}})}return new go(u,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),o=s=>({next:()=>{if(s.length===0){const u=r.next();e.push(u),n.push(u)}return s.shift()}});return[new go(()=>o(e),this.controller,this.client),new go(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return i6({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:s}=await n.next();if(s)return r.close();const u=Vh(JSON.stringify(o)+`
`);r.enqueue(u)}catch(o){r.error(o)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function VI(t,e){return pr(this,arguments,function*(){var r,o,s,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new lr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new lr("Attempted to iterate over a response with no body");const d=new $I,f=new _u,h=a6(t.body);try{for(var g=!0,y=gr(FI(h)),b;b=yield Fe(y.next()),r=b.done,!r;g=!0){u=b.value,g=!1;const w=u;for(const k of f.decode(w)){const E=d.decode(k);E&&(yield yield Fe(E))}}}catch(w){o={error:w}}finally{try{!g&&!r&&(s=y.return)&&(yield Fe(s.call(y)))}finally{if(o)throw o.error}}for(const w of f.flush()){const k=d.decode(w);k&&(yield yield Fe(k))}})}function FI(t){return pr(this,arguments,function*(){var n,r,o,s;let u=new Uint8Array;try{for(var d=!0,f=gr(t),h;h=yield Fe(f.next()),n=h.done,!n;d=!0){s=h.value,d=!1;const g=s;if(g==null)continue;const y=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?Vh(g):g;let b=new Uint8Array(u.length+y.length);b.set(u),b.set(y,u.length),u=b;let w;for(;(w=HI(u))!==-1;)yield yield Fe(u.slice(0,w)),u=u.slice(w)}}catch(g){r={error:g}}finally{try{!d&&!n&&(o=f.return)&&(yield Fe(o.call(f)))}finally{if(r)throw r.error}}u.length>0&&(yield yield Fe(u))})}class $I{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,o]=YI(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function YI(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function JI(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:s}=e,u=await(async()=>{var d;if(e.options.stream)return vn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):go.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),h=(d=f==null?void 0:f.split(";")[0])===null||d===void 0?void 0:d.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return vn(t).debug(`[${r}] response parsed`,ga({retryOfRequestLogID:o,url:n.url,status:n.status,body:u,durationMs:Date.now()-s})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fh extends Promise{constructor(e,n,r=JI){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Fh(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f6=Symbol("brand.privateNullableHeaders");function*XI(t){if(!t)return;if(f6 in t){const{values:r,nulls:o}=t;yield*r.entries();for(const s of o)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():i2(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const s=i2(r[1])?r[1]:[r[1]];let u=!1;for(const d of s)d!==void 0&&(e&&!u&&(u=!0,yield[o,null]),yield[o,d])}}const zs=t=>{const e=new Headers,n=new Set;for(const r of t){const o=new Set;for(const[s,u]of XI(r)){const d=s.toLowerCase();o.has(d)||(e.delete(s),o.add(d)),u===null?(e.delete(s),n.add(d)):(e.append(s,u),n.delete(d))}}return{[f6]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xf=t=>{var e,n,r,o,s,u;if(typeof globalThis.process<"u")return(r=(n=(e=bC)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(u=(s=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||s===void 0?void 0:s.call(o,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var h6;class Au{constructor(e){var n,r,o,s,u,d,f,{baseURL:h=xf("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(n=xf("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:y="v1beta"}=e,b=eu(e,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:g,apiVersion:y},b),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(r=w.timeout)!==null&&r!==void 0?r:Au.DEFAULT_TIMEOUT,this.logger=(o=w.logger)!==null&&o!==void 0?o:console;const k="warn";this.logLevel=k,this.logLevel=(u=(s=u2(w.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:u2(xf("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:k,this.fetchOptions=w.fetchOptions,this.maxRetries=(d=w.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(f=w.fetch)!==null&&f!==void 0?f:kI(),this.encoder=NI,this._options=w,this.apiKey=g,this.apiVersion=y,this.clientAdapter=w.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=zs([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return zs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return zs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new lr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${fo}`}defaultIdempotencyKey(){return`stainless-node-retry-${mI()}`}makeStatusError(e,n,r,o){return xn.generate(e,n,r,o)}buildURL(e,n,r){const o=!this.baseURLOverridden()&&r||this.baseURL,s=gI(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return xI(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Fh(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var o,s,u;const d=await e,f=(o=d.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=f),await this.prepareOptions(d);const{req:h,url:g,timeout:y}=await this.buildRequest(d,{retryCount:f-n});await this.prepareRequest(h,{url:g,options:d});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=r===void 0?"":`, retryOf: ${r}`,k=Date.now();if(vn(this).debug(`[${b}] sending request`,ga({retryOfRequestLogID:r,method:d.method,url:g,options:d,headers:h.headers})),!((s=d.signal)===null||s===void 0)&&s.aborted)throw new Qf;const E=new AbortController,z=await this.fetchWithTimeout(g,h,y,E).catch(Wf),I=Date.now();if(z instanceof globalThis.Error){const q=`retrying, ${n} attempts remaining`;if(!((u=d.signal)===null||u===void 0)&&u.aborted)throw new Qf;const D=Zf(z)||/timed? ?out/i.test(String(z)+("cause"in z?String(z.cause):""));if(n)return vn(this).info(`[${b}] connection ${D?"timed out":"failed"} - ${q}`),vn(this).debug(`[${b}] connection ${D?"timed out":"failed"} (${q})`,ga({retryOfRequestLogID:r,url:g,durationMs:I-k,message:z.message})),this.retryRequest(d,n,r??b);throw vn(this).info(`[${b}] connection ${D?"timed out":"failed"} - error; no more retries left`),vn(this).debug(`[${b}] connection ${D?"timed out":"failed"} (error; no more retries left)`,ga({retryOfRequestLogID:r,url:g,durationMs:I-k,message:z.message})),D?new K5:new Tu({cause:z})}const U=`[${b}${w}] ${h.method} ${g} ${z.ok?"succeeded":"failed"} with status ${z.status} in ${I-k}ms`;if(!z.ok){const q=await this.shouldRetry(z);if(n&&q){const V=`retrying, ${n} attempts remaining`;return await MI(z.body),vn(this).info(`${U} - ${V}`),vn(this).debug(`[${b}] response error (${V})`,ga({retryOfRequestLogID:r,url:z.url,status:z.status,headers:z.headers,durationMs:I-k})),this.retryRequest(d,n,r??b,z.headers)}const D=q?"error; no more retries left":"error; not retryable";vn(this).info(`${U} - ${D}`);const O=await z.text().catch(V=>Wf(V).message),G=wI(O),R=G?void 0:O;throw vn(this).debug(`[${b}] response error (${D})`,ga({retryOfRequestLogID:r,url:z.url,status:z.status,headers:z.headers,message:R,durationMs:Date.now()-k})),this.makeStatusError(z.status,G,R,z.headers)}return vn(this).info(U),vn(this).debug(`[${b}] response start`,ga({retryOfRequestLogID:r,url:z.url,status:z.status,headers:z.headers,durationMs:I-k})),{response:z,options:d,controller:E,requestLogID:b,retryOfRequestLogID:r,startTime:k}}async fetchWithTimeout(e,n,r,o){const s=n||{},{signal:u,method:d}=s,f=eu(s,["signal","method"]);u&&u.addEventListener("abort",()=>o.abort());const h=setTimeout(()=>o.abort(),r),g=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,y=Object.assign(Object.assign(Object.assign({signal:o.signal},g?{duplex:"half"}:{}),{method:"GET"}),f);d&&(y.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,o){var s;let u;const d=o==null?void 0:o.get("retry-after-ms");if(d){const h=parseFloat(d);Number.isNaN(h)||(u=h)}const f=o==null?void 0:o.get("retry-after");if(f&&!u){const h=parseFloat(f);Number.isNaN(h)?u=Date.parse(f)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,h)}return await TI(u),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,u=Math.min(.5*Math.pow(2,s),8),d=1-Math.random()*.25;return u*d*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,o,s;const u=Object.assign({},e),{method:d,path:f,query:h,defaultBaseURL:g}=u,y=this.buildURL(f,h,g);"timeout"in u&&SI("timeout",u.timeout),u.timeout=(r=u.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:b,body:w}=this.buildBody({options:u}),k=await this.buildHeaders({options:e,method:d,bodyHeaders:b,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:k},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(s=u.fetchOptions)!==null&&s!==void 0?s:{}),url:y,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:o}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let d=zs([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),CI()),this._options.defaultHeaders,r,e.headers,u]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=zs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:zI(e)}:this.encoder({body:e,headers:r})}}Au.DEFAULT_TIMEOUT=6e4;class jt extends Au{constructor(){super(...arguments),this.interactions=new d6(this)}}h6=jt;jt.GeminiNextGenAPIClient=h6;jt.GeminiNextGenAPIClientError=lr;jt.APIError=xn;jt.APIConnectionError=Tu;jt.APIConnectionTimeoutError=K5;jt.APIUserAbortError=Qf;jt.NotFoundError=j5;jt.ConflictError=e6;jt.RateLimitError=n6;jt.BadRequestError=Z5;jt.AuthenticationError=W5;jt.InternalServerError=r6;jt.PermissionDeniedError=Q5;jt.UnprocessableEntityError=t6;jt.toFile=UI;jt.Interactions=d6;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KI(t,e){const n={},r=m(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function ZI(t,e){const n={},r=m(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function WI(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function QI(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function jI(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=m(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&p(e,["displayName"],o),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(t,["epochCount"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","epochCount"],s);const u=m(t,["learningRateMultiplier"]);if(u!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=m(t,["batchSize"]);e!==void 0&&d!=null&&p(e,["tuningTask","hyperparameters","batchSize"],d);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&p(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function eD(t,e,n){const r={};let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const w=m(t,["validationDataset"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec"],d2(w))}else if(o==="PREFERENCE_TUNING"){const w=m(t,["validationDataset"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec"],d2(w))}const s=m(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&p(e,["tunedModelDisplayName"],s);const u=m(t,["description"]);e!==void 0&&u!=null&&p(e,["description"],u);let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=m(t,["epochCount"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(d==="PREFERENCE_TUNING"){const w=m(t,["epochCount"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=m(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(f==="PREFERENCE_TUNING"){const w=m(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let h=m(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const w=m(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(h==="PREFERENCE_TUNING"){const w=m(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let g=m(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const w=m(t,["adapterSize"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(g==="PREFERENCE_TUNING"){const w=m(t,["adapterSize"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(m(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=m(t,["labels"]);e!==void 0&&y!=null&&p(e,["labels"],y);const b=m(t,["beta"]);return e!==void 0&&b!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function tD(t,e){const n={},r=m(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const o=m(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const s=m(t,["trainingDataset"]);s!=null&&fD(s);const u=m(t,["config"]);return u!=null&&jI(u,n),n}function nD(t,e){const n={},r=m(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const o=m(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const s=m(t,["trainingDataset"]);s!=null&&hD(s,n,e);const u=m(t,["config"]);return u!=null&&eD(u,n,e),n}function rD(t,e){const n={},r=m(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function iD(t,e){const n={},r=m(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function aD(t,e,n){const r={},o=m(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&p(e,["_query","pageToken"],s);const u=m(t,["filter"]);return e!==void 0&&u!=null&&p(e,["_query","filter"],u),r}function oD(t,e,n){const r={},o=m(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&p(e,["_query","pageToken"],s);const u=m(t,["filter"]);return e!==void 0&&u!=null&&p(e,["_query","filter"],u),r}function sD(t,e){const n={},r=m(t,["config"]);return r!=null&&aD(r,n),n}function lD(t,e){const n={},r=m(t,["config"]);return r!=null&&oD(r,n),n}function uD(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const s=m(t,["tunedModels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>m6(d))),p(n,["tuningJobs"],u)}return n}function cD(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const s=m(t,["tuningJobs"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>th(d))),p(n,["tuningJobs"],u)}return n}function dD(t,e){const n={},r=m(t,["name"]);r!=null&&p(n,["model"],r);const o=m(t,["name"]);return o!=null&&p(n,["endpoint"],o),n}function fD(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(n,["examples","examples"],o)}return n}function hD(t,e,n){const r={};let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=m(t,["gcsUri"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=m(t,["gcsUri"]);e!==void 0&&u!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const u=m(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(s==="PREFERENCE_TUNING"){const u=m(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function m6(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["name"]);o!=null&&p(n,["name"],o);const s=m(t,["state"]);s!=null&&p(n,["state"],M5(s));const u=m(t,["createTime"]);u!=null&&p(n,["createTime"],u);const d=m(t,["tuningTask","startTime"]);d!=null&&p(n,["startTime"],d);const f=m(t,["tuningTask","completeTime"]);f!=null&&p(n,["endTime"],f);const h=m(t,["updateTime"]);h!=null&&p(n,["updateTime"],h);const g=m(t,["description"]);g!=null&&p(n,["description"],g);const y=m(t,["baseModel"]);y!=null&&p(n,["baseModel"],y);const b=m(t,["_self"]);return b!=null&&p(n,["tunedModel"],dD(b)),n}function th(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["name"]);o!=null&&p(n,["name"],o);const s=m(t,["state"]);s!=null&&p(n,["state"],M5(s));const u=m(t,["createTime"]);u!=null&&p(n,["createTime"],u);const d=m(t,["startTime"]);d!=null&&p(n,["startTime"],d);const f=m(t,["endTime"]);f!=null&&p(n,["endTime"],f);const h=m(t,["updateTime"]);h!=null&&p(n,["updateTime"],h);const g=m(t,["error"]);g!=null&&p(n,["error"],g);const y=m(t,["description"]);y!=null&&p(n,["description"],y);const b=m(t,["baseModel"]);b!=null&&p(n,["baseModel"],b);const w=m(t,["tunedModel"]);w!=null&&p(n,["tunedModel"],w);const k=m(t,["preTunedModel"]);k!=null&&p(n,["preTunedModel"],k);const E=m(t,["supervisedTuningSpec"]);E!=null&&p(n,["supervisedTuningSpec"],E);const z=m(t,["preferenceOptimizationSpec"]);z!=null&&p(n,["preferenceOptimizationSpec"],z);const I=m(t,["tuningDataStats"]);I!=null&&p(n,["tuningDataStats"],I);const U=m(t,["encryptionSpec"]);U!=null&&p(n,["encryptionSpec"],U);const q=m(t,["partnerModelTuningSpec"]);q!=null&&p(n,["partnerModelTuningSpec"],q);const D=m(t,["customBaseModel"]);D!=null&&p(n,["customBaseModel"],D);const O=m(t,["experiment"]);O!=null&&p(n,["experiment"],O);const G=m(t,["labels"]);G!=null&&p(n,["labels"],G);const R=m(t,["outputUri"]);R!=null&&p(n,["outputUri"],R);const L=m(t,["pipelineJob"]);L!=null&&p(n,["pipelineJob"],L);const V=m(t,["serviceAccount"]);V!=null&&p(n,["serviceAccount"],V);const Q=m(t,["tunedModelDisplayName"]);Q!=null&&p(n,["tunedModelDisplayName"],Q);const X=m(t,["veoTuningSpec"]);return X!=null&&p(n,["veoTuningSpec"],X),n}function mD(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["name"]);o!=null&&p(n,["name"],o);const s=m(t,["metadata"]);s!=null&&p(n,["metadata"],s);const u=m(t,["done"]);u!=null&&p(n,["done"],u);const d=m(t,["error"]);return d!=null&&p(n,["error"],d),n}function d2(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const o=m(t,["vertexDatasetResource"]);return o!=null&&p(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pD extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ta(ni.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),s=await this.tuneMldevInternal(o);let u="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?u=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(u=s.name.split("/operations/")[0]),{name:u,state:Vf.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=iD(e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>th(g))}else{const h=rD(e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>m6(g))}}async listInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=lD(e);return d=Ae("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=cD(g),b=new Oy;return Object.assign(b,y),b})}else{const h=sD(e);return d=Ae("tunedModels",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=uD(g),b=new Oy;return Object.assign(b,y),b})}}async cancel(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=ZI(e);return d=Ae("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=QI(g),b=new By;return Object.assign(b,y),b})}else{const h=KI(e);return d=Ae("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(y=>{const b=y;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const y=WI(g),b=new By;return Object.assign(b,y),b})}}async tuneInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=nD(e,e);return s=Ae("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>th(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=tD(e);return s=Ae("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>mD(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gD{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const vD=1024*1024*8,yD=3,xD=1e3,bD=2,nu="x-goog-upload-status";async function SD(t,e,n){var r;const o=await p6(t,e,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function wD(t,e,n){var r;const o=await p6(t,e,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=_5(s),d=new Oh;return Object.assign(d,u),d}async function p6(t,e,n){var r,o;let s=0,u=0,d=new Ff(new Response),f="upload";for(s=t.size;u<s;){const h=Math.min(vD,s-u),g=t.slice(u,u+h);u+h>=s&&(f+=", finalize");let y=0,b=xD;for(;y<yD&&(d=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[nu]));)y++,await _D(b),b=b*bD;if(u+=h,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[nu])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function TD(t){return{size:t.size,type:t.type}}function _D(t){return new Promise(e=>setTimeout(e,t))}class AD{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SD(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wD(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await TD(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ED{create(e,n,r){return new CD(e,n,r)}}class CD{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f2="x-goog-api-key";class kD{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(f2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(f2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zD="gl-node/";class MD{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new jt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=_C(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new kD(this.apiKey);this.apiClient=new TR({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:zD+"web",uploader:new AD,downloader:new gD}),this.models=new GR(this.apiClient),this.live=new UR(this.apiClient,o,new ED),this.batches=new jk(this.apiClient),this.chats=new Dz(this.models,this.apiClient),this.caches=new Nz(this.apiClient),this.files=new Fz(this.apiClient),this.operations=new VR(this.apiClient),this.authTokens=new aI(this.apiClient),this.tunings=new pD(this.apiClient),this.fileSearchStores=new hI(this.apiClient)}}const h2=`
You are an expert in Category Theory and Commutative Diagrams. 
Your goal is to generate "Arrowgram" diagram specifications based on the user's description.

Output ONLY valid JSON. Do not include markdown formatting.

The JSON specification format is as follows (TypeScript interface):

// Source of Truth: packages/arrowgram/src/types.ts
// IMPORTANT: Keep this in sync with the actual code!

interface NodeSpec {
  name: string; // Unique ID (e.g., "A", "node_1")
  label?: string; // LaTeX label (e.g. "$A$", "$X \\times B$"). MUST be wrapped in $.
  color?: string; // Hex color code (e.g. "#FF0000"). Default: "black".
  left: number; // X coordinate (pixels)
  top: number; // Y coordinate (pixels)
}

interface ArrowStyleSpec {
  mode?: "arrow" | "adjunction" | "corner" | "corner_inverse";
  head?: { 
    name?: "normal" | "none" | "epi" | "hook" | "maps_to" | "harpoon"; 
    side?: "top" | "bottom" 
  }; 
  tail?: { 
    name?: "normal" | "none" | "mono" | "hook" | "maps_to"; 
    side?: "top" | "bottom" 
  };
  body?: { 
    name?: "solid" | "dashed" | "dotted" | "squiggly" | "wavy" | "barred" | "double_barred" | "bullet_solid" | "bullet_hollow" | "none" 
  };
  level?: number; // 1 for single (->), 2 for double (=>), 3 for triple.
}

interface ArrowSpec {
  from: string; // Node ID OR Arrow ID (for 2-cells)
  to: string; // Node ID OR Arrow ID
  name?: string; // Unique arrow ID (required if this arrow is a target)
  label?: string; // LaTeX label (e.g. "$f$", "$\\pi$"). MUST be wrapped in $.
  label_alignment?: "over" | "left" | "right"; // "over" is default.
  color?: string; // Hex color for arrow stroke.
  label_color?: string; // Hex color for label.
  curve?: number; // Curvature (-100 to 100), 0 is straight
  shift?: number; // Parallel shift
  radius?: number; // For loops
  angle?: number; // For loops (degrees)
  shorten?: {
      source?: number; // Gap at source (px)
      target?: number; // Gap at target (px)
  };
  style?: ArrowStyleSpec;
}

interface DiagramSpec {
  version?: number;
  nodes: NodeSpec[];
  arrows?: ArrowSpec[];
}

Layout Guidelines:
- Coordinate system: (0,0) is top-left.
- Standard spacing: Nodes are usually 100-200 pixels apart.
- Centered diagrams usually look best around (300, 300) or similar.
- Use standard LaTeX for labels (e.g., "$\\pi$", "$f \\circ g$").
- IMPORTANT: All labels MUST be wrapped in dollar signs for math mode (e.g., "$A$", "$f$").
- For 2-cells (natural transformations), name the source/target arrows and connect a new arrow between them.

CRITICAL JSON SYNTAX RULE:
- **Double Escape Backslashes**: When writing LaTeX commands in the JSON string, you MUST double-escape backslashes. 
  - WRONG: "label": "$A 	o B$" (Invalid JSON escape sequence)
  - CORRECT: "label": "$A \\to B$" (becomes "$A 	o B$" in the parser, which is correct)

CRITICAL RULES FOR UPDATES:
1. When provided with an existing spec ("Current Diagram Spec"), you must return the FULL merged JSON.
2. PRESERVE the coordinates (left, top) of existing nodes unless the user explicitly asks to move them or reorganize the layout.
3. PRESERVE existing node IDs ("name") to maintain arrow connections.
4. If adding a new node, place it intelligently relative to connected nodes (e.g., forming a square or triangle).

---
EXAMPLES:

1. **Pullback Square (Corner)**
{
  "version": 1,
  "nodes": [
    { "name": "P", "left": 100, "top": 100, "label": "$P$" },
    { "name": "A", "left": 300, "top": 100, "label": "$A$" },
    { "name": "B", "left": 100, "top": 300, "label": "$B$" },
    { "name": "C", "left": 300, "top": 300, "label": "$C$" }
  ],
  "arrows": [
    { "from": "P", "to": "A", "label": "$p_1$" },
    { "from": "P", "to": "B", "label": "$p_2$" },
    { "from": "A", "to": "C", "label": "$f$" },
    { "from": "B", "to": "C", "label": "$g$" },
    { "from": "P", "to": "C", "style": { "mode": "corner" } }
  ]
}

2. **Natural Transformation (2-cell)**
{
  "nodes": [
    { "name": "A", "left": 100, "top": 200, "label": "$A$" },
    { "name": "B", "left": 400, "top": 200, "label": "$B$" }
  ],
  "arrows": [
    { "name": "F", "from": "A", "to": "B", "label": "$F$", "curve": -40 },
    { "name": "G", "from": "A", "to": "B", "label": "$G$", "curve": 40 },
    { "from": "F", "to": "G", "label": "$\\alpha$", "style": { "level": 2 }, "shorten": { "source": 10, "target": 10 } }
  ]
}

3. **Adjunction with Loops and Dashed Lines**
{
  "nodes": [
    { "name": "X", "left": 200, "top": 200, "label": "$X$", "color": "blue" }
  ],
  "arrows": [
    { "from": "X", "to": "X", "label": "$1_X$", "radius": 40, "angle": 0, "style": { "body": { "name": "dashed" } } },
    { "from": "X", "to": "X", "label": "$e$", "radius": 40, "angle": 180 }
  ]
}

4. **Styles: Hook, Epi, Squiggly, Color**
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "$A$" },
    { "name": "B", "left": 300, "top": 100, "label": "$B$" }
  ],
  "arrows": [
    {
      "from": "A", "to": "B", 
      "label": "$f$", 
      "color": "red",
      "style": { 
        "tail": { "name": "hook", "side": "top" }, 
        "head": { "name": "epi" },
        "body": { "name": "squiggly" } 
      } 
    }
  ]
}

5. **Maps To (|->)**
{
  "nodes": [
    { "name": "x", "left": 100, "top": 100, "label": "$x$" },
    { "name": "y", "left": 300, "top": 100, "label": "$y$" }
  ],
  "arrows": [
    {
      "from": "x", "to": "y", 
      "style": { "tail": { "name": "maps_to" } } 
    }
  ]
}
`,ND=`
You are an expert academic writer and researcher. Your goal is to write and edit academic papers in Markdown format.
The papers are rendered using a pipeline supporting Arrowgram, Vega-Lite, Mermaid, and KaTeX.

Output ONLY valid Markdown.

### Document Structure & Metadata
Start the document with YAML frontmatter for the title and authors:
---
title: My Paper Title
authors: Author One & Author Two
---

### Capabilities & Syntax

1. **Standard Markdown**: Use headers (#, ##), lists, bold, italics, etc.

2. **Mathematics (KaTeX)**:
   - Inline: $E=mc^2$
   - Display:
     $$
     int_{-infty}^infty e^{-x^2} dx = sqrt{pi}
     $$

3. **Commutative Diagrams (Arrowgram)**:
   Embed the JSON spec in a div with class "arrowgram".
   **IMPORTANT**: In the JSON inside the div, double-escape all LaTeX backslashes. (e.g. use "\\to" not "	o").
   <div class="arrowgram">
   {
     "version": 1,
     "nodes": [...],
     "arrows": [...] 
   }
   </div>

4. **Charts (Vega-Lite)**:
   Embed the JSON spec in a div with class "vega-lite".
   <div class="vega-lite">
   {
     "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
     "mark": "bar",
     "encoding": { ... },
     "data": { ... }
   }
   </div>

5. **Diagrams (Mermaid)**:
   Embed the Mermaid syntax in a div with class "mermaid".
   <div class="mermaid">
   graph TD;
       A-->B;
   </div>

### Editing Rules
- If editing, PRESERVE existing structure and diagrams unless explicitly changed.
- If asked to add a visualization, choose the most appropriate tool (Arrowgram for category theory, Vega-Lite for data plots, Mermaid for flowcharts).
`;async function RD(t,e,n="diagram"){const{apiKey:r,apiProvider:o}=Dh.getState();if(!r&&o==="gemini")throw new Error("API Key is missing. Please set it in Settings.");const s=n==="paper"?ND+`

`+h2:h2;let u=t;e?u+=`

Task: Update this based on the request. Return the FULL updated content.

Current ${n==="paper"?"Paper Content":"Diagram Spec"}:
${e}`:u+=`

Task: Generate new content. Return the FULL content.`;try{if(o==="gemini"){let h=(await new MD({apiKey:r}).models.generateContent({model:"gemini-2.5-flash",contents:u,config:{systemInstruction:s}})).text;if(!h)throw new Error("No response from Gemini.");return n==="diagram"?h=h.replace(/```json/g,"").replace(/```/g,"").trim():h.startsWith("```markdown")&&(h=h.replace(/^```markdown\n/,"").replace(/\n```$/,"")),h}else throw new Error("Custom provider not implemented yet.")}catch(d){throw console.error("AI Generation Error:",d),new Error(d.message||"Failed to generate content.")}}function m2({context:t}){const[e,n]=we.useState([{role:"assistant",text:"Hello! I am the Arrowgram AI. Describe what you want to create, and I will generate it for you."}]),[r,o]=we.useState(""),[s,u]=we.useState(!1),d=vt(E=>E.spec),f=vt(E=>E.setSpec),h=t||{type:"diagram",content:d,onUpdate:f},{apiKey:g}=Dh(),{addToast:y}=wa(),b=we.useRef(null),w=()=>{var E;(E=b.current)==null||E.scrollIntoView({behavior:"smooth"})};we.useEffect(w,[e]);const k=async()=>{if(!r.trim())return;const E={role:"user",text:r};n(z=>[...z,E]),o(""),u(!0);try{if(!g){n(I=>[...I,{role:"assistant",text:"Please set your Google Gemini API Key in Settings to use the AI features.",isError:!0}]),u(!1);return}const z=await RD(E.text,h.content,h.type);if(h.type==="diagram")try{JSON.parse(z),h.onUpdate(z),n(I=>[...I,{role:"assistant",text:"I've updated the diagram based on your request."}]),y("Diagram generated successfully","success")}catch{console.error("Invalid JSON from AI:",z),n(U=>[...U,{role:"assistant",text:"I generated a response, but it wasn't valid diagram code. Please try again."}])}else h.onUpdate(z),n(I=>[...I,{role:"assistant",text:"I've updated the paper based on your request."}]),y("Paper updated successfully","success")}catch(z){n(I=>[...I,{role:"assistant",text:z.message||"Something went wrong.",isError:!0}])}finally{u(!1)}};return A.jsxs("div",{className:"flex flex-col h-full bg-white border-l border-gray-200 w-80 shadow-lg",children:[A.jsxs("div",{className:"p-4 border-b bg-purple-50 flex items-center justify-between gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(zA,{className:"text-purple-600",size:20}),A.jsx("h3",{className:"font-bold text-gray-800",children:"AI Assistant"})]}),!g&&A.jsx("div",{title:"API Key Missing",className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[e.map((E,z)=>A.jsxs("div",{className:`flex gap-2 ${E.role==="user"?"flex-row-reverse":""}`,children:[A.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${E.role==="assistant"?"bg-purple-100 text-purple-600":"bg-gray-200 text-gray-600"}`,children:E.role==="assistant"?A.jsx(Df,{size:16}):A.jsx(DA,{size:16})}),A.jsx("div",{className:`p-3 rounded-lg text-sm max-w-[80%] ${E.role==="assistant"?E.isError?"bg-red-50 border border-red-200 text-red-800":"bg-white border border-gray-100 shadow-sm":"bg-blue-600 text-white"}`,children:E.text})]},z)),s&&A.jsxs("div",{className:"flex gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center",children:A.jsx(Df,{size:16})}),A.jsx("div",{className:"text-gray-400 text-sm flex items-center",children:"Thinking..."})]}),A.jsx("div",{ref:b})]}),A.jsx("div",{className:"p-4 border-t bg-white",children:A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",className:"flex-1 border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:g?"Ask to draw a diagram...":"Set API Key to start",value:r,onChange:E=>o(E.target.value),onKeyDown:E=>E.key==="Enter"&&k(),disabled:!g&&e.length>1}),A.jsx("button",{onClick:k,className:"bg-purple-600 text-white p-2 rounded-md hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!r.trim(),children:A.jsx(_A,{size:18})})]})})]})}function ID({onOpenProject:t}){const[e,n]=we.useState([]),{setSpec:r,setFilename:o,createNew:s}=vt();we.useEffect(()=>{u()},[]);const u=async()=>{const y=await w5();n(y)},d=()=>{s(),t("diagram",{name:`Untitled-${Date.now()}`,spec:"",updatedAt:"",type:"diagram"})},f=()=>{t("paper",{name:`Paper-${Date.now()}`,spec:`---
title: My New Paper
authors: Author Name
---

# Introduction

Start writing here...
`,updatedAt:"",type:"paper"})},h=y=>{(y.type==="diagram"||!y.type)&&(r(y.spec),o(y.name)),t(y.type||"diagram",y)},g=async(y,b)=>{y.stopPropagation(),confirm(`Are you sure you want to delete "${b}"?`)&&(await YE(b),u())};return A.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:A.jsxs("div",{className:"max-w-5xl mx-auto",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Workspace"}),A.jsx("p",{className:"text-gray-500 mt-2",children:"Manage your Diagrams and Papers"})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs(cn,{onClick:f,className:"gap-2 bg-indigo-600 hover:bg-indigo-700",children:[A.jsx(cf,{className:"w-4 h-4"})," New Paper"]}),A.jsxs(cn,{onClick:d,className:"gap-2 bg-white text-gray-700 border hover:bg-gray-50",children:[A.jsx(j3,{className:"w-4 h-4"})," New Diagram"]})]})]}),e.length===0?A.jsxs("div",{className:"text-center py-20 bg-white rounded-lg border border-dashed border-gray-300",children:[A.jsx(cf,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No projects yet"}),A.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first project to get started."}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx(cn,{onClick:f,children:"Create Paper"}),A.jsx(cn,{onClick:d,variant:"outline",children:"Create Diagram"})]})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(y=>A.jsxs("div",{onClick:()=>h(y),className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow cursor-pointer group relative",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsx("div",{className:`p-3 rounded-lg transition-colors ${y.type==="paper"?"bg-indigo-50 group-hover:bg-indigo-100":"bg-blue-50 group-hover:bg-blue-100"}`,children:y.type==="paper"?A.jsx(cf,{className:`w-6 h-6 ${y.type==="paper"?"text-indigo-600":"text-blue-600"}`}):A.jsxs("svg",{className:"w-6 h-6 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[A.jsx("circle",{cx:"6",cy:"6",r:"3"}),A.jsx("circle",{cx:"18",cy:"18",r:"3"}),A.jsx("path",{d:"M8.5 8.5l7 7"})]})}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider py-1 px-2 rounded-full ${y.type==="paper"?"bg-indigo-100 text-indigo-700":"bg-blue-100 text-blue-700"}`,children:y.type||"Diagram"}),A.jsx("button",{onClick:b=>g(b,y.name),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:A.jsx(e5,{className:"w-4 h-4"})})]})]}),A.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:y.name}),A.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Edited ",new Date(y.updatedAt).toLocaleDateString()]})]},y.name))})]})})}function DD({markdown:t,isTwoColumn:e}){const n=we.useRef(null);return we.useEffect(()=>{let r=!0;return(async()=>{var oe;const[s,u,d,f,h,g,y]=await Promise.all([zn(()=>import("./server.browser-CWezBjgC.js").then(W=>W.s),[]),zn(()=>import("./showdown-BXKuQuJ2.js").then(W=>W.s),[]),zn(()=>import("./mermaid.core-BekE5kpw.js").then(W=>W.b7),__vite__mapDeps([0,1])),zn(()=>Promise.resolve().then(()=>x3),void 0),zn(()=>import("./vega.module-DlPeonZJ.js"),__vite__mapDeps([2,3,1,4,5,6,7,8,9,10,11])),zn(()=>import("./index-ByJ9Ii8b.js"),__vite__mapDeps([12,2,3,1,4,5,6,7,8,9,10,11])),zn(()=>import("./index-5T8z_IRU.js"),[])]),b=u.default??u,w=d.default??d,k=f.default??f,E=y.Previewer??((oe=y.default)==null?void 0:oe.Previewer);let z=t;const I=/<div class="vega-lite"([^>]*)>([\s\S]*?)<\/div>/g,U=Array.from(z.matchAll(I)),q=await Promise.all(U.map(async W=>{try{const le=JSON.parse(W[2].trim()),xe=g.compile(le).spec,ce=await new h.View(h.parse(xe),{renderer:"svg"}).toSVG();return{original:W[0],replacement:`<div class="vega-container"${W[1]}>${ce}</div>`}}catch(le){return{original:W[0],replacement:`<div class="vega-error">Chart Error: ${le.message}</div>`}}}));for(const W of q)z=z.replace(W.original,W.replacement);w.initialize({startOnLoad:!1,theme:"base"});const D=/<div class="mermaid"([^>]*)>([\s\S]*?)<\/div>/g,O=Array.from(z.matchAll(D)),G=await Promise.all(O.map(async(W,le)=>{try{const{svg:xe}=await w.render(`mermaid-svg-${Date.now()}-${le}`,W[2].trim());return{original:W[0],replacement:`<div class="mermaid-container"${W[1]}>${xe}</div>`}}catch{return{original:W[0],replacement:'<div class="mermaid-error">Diagram Error</div>'}}}));for(const W of G)z=z.replace(W.original,W.replacement);const R=/<div class="arrowgram"([^>]*)>([\s\S]*?)<\/div>/g,V=Array.from(z.matchAll(R)).map(W=>{try{const le=W[2].trim();JSON.parse(le);const xe=s.renderToStaticMarkup(A.jsx(Uf,{spec:le}));return{original:W[0],replacement:`<div class="arrowgram-container"${W[1]}>${xe}</div>`}}catch(le){return console.error("Arrowgram Error:",le),{original:W[0],replacement:`<div class="arrowgram-error">Diagram Error: ${le.message}</div>`}}});for(const W of V)z=z.replace(W.original,W.replacement);const Q=new Map;let X=0;const K=W=>{const le=`AGPROTMATH${X++}AGPROT`;return Q.set(le,W),le};z=z.replace(/\$\$[\s\S]+?\$\$/g,K),z=z.replace(/\$(?!\$)(?:\\.|[^$\\\n])+\$/g,K);const Z=new b.Converter({metadata:!0,noHeaderId:!0,literalMidWordUnderscores:!0});let j=Z.makeHtml(z);const ae=Z.getMetadata();for(const[W,le]of Q.entries())j=j.split(W).join(le);const $=new Map;let ue=0;const re=W=>{const le=`__AG_PROTECTED_BLOCK_${ue++}__`;return $.set(le,W),le};j=j.replace(/<pre[^>]*>.*?<\/pre>/gs,re),j=j.replace(/<code[^>]*>.*?<\/code>/gs,re),j=j.replace(/\$\$([\s\S]+?)\$\$/g,(W,le)=>k.renderToString(le.trim(),{throwOnError:!1,displayMode:!0})),j=j.replace(/\$([^$]+?)\$/g,(W,le)=>k.renderToString(le.trim(),{throwOnError:!1,displayMode:!1}));for(const[W,le]of $.entries())j=j.replace(W,le);const Re=`<div class="title-block">${ae.title?`<div class="title">${ae.title}</div>`:""}${ae.authors?`<div class="authors">${ae.authors}</div>`:""}</div>`,B=`<div class="${e?"layout-two-column":"layout-single-column"}">${Re}<div class="paper-body">${j}</div></div>`;r&&n.current&&(n.current.innerHTML="",new E().preview(B,["https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"],n.current))})(),()=>{r=!1}},[t,e]),A.jsx("div",{ref:n,className:"preview-content-area",children:A.jsx("p",{className:"loading-indicator",children:"Processing Document..."})})}function LD({markdown:t,initialIsTwoColumn:e=!1,showCloseButton:n=!1,onClose:r}){const[o,s]=we.useState(e);return A.jsxs("div",{className:"preview-container",children:[A.jsxs("div",{className:"preview-controls",children:[n&&A.jsx("button",{className:"control-button",onClick:()=>r?r():window.close(),children:"Close"}),A.jsx("button",{className:`control-button ${o?"active":""}`,onClick:()=>s(!o),children:o?"Single Column":"Two Column"}),A.jsx("button",{className:"control-button",onClick:()=>window.print(),children:"Print / Save PDF"})]}),A.jsx(DD,{markdown:t,isTwoColumn:o})]})}function UD(){const[t,e]=we.useState(null),[n,r]=we.useState(!1);return we.useEffect(()=>{const o=localStorage.getItem("print_content"),s=localStorage.getItem("print_layout");e(o||`# Error: No content found

Please close this window and try printing again.`),s&&r(s==="true")},[]),t?A.jsx(LD,{markdown:t,initialIsTwoColumn:n,showCloseButton:!0}):A.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."})}const OD='@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_AMS-Regular-BQhdFMY1.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_AMS-Regular-DMm9YOAa.woff) format("woff"),url(/arrowgram/assets/KaTeX_AMS-Regular-DRggAlZN.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_Caligraphic-Bold-Dq_IR9rO.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Caligraphic-Bold-BEiXGLvX.woff) format("woff"),url(/arrowgram/assets/KaTeX_Caligraphic-Bold-ATXxdsX0.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Caligraphic-Regular-Di6jR-x-.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Caligraphic-Regular-CTRA-rTL.woff) format("woff"),url(/arrowgram/assets/KaTeX_Caligraphic-Regular-wX97UBjC.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_Fraktur-Bold-CL6g_b3V.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Fraktur-Bold-BsDP51OF.woff) format("woff"),url(/arrowgram/assets/KaTeX_Fraktur-Bold-BdnERNNW.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Fraktur-Regular-CTYiF6lA.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Fraktur-Regular-Dxdc4cR9.woff) format("woff"),url(/arrowgram/assets/KaTeX_Fraktur-Regular-CB_wures.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_Main-Bold-Cx986IdX.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-Bold-Jm3AIy58.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-Bold-waoOVXN0.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(/arrowgram/assets/KaTeX_Main-BoldItalic-DxDJ3AOS.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-BoldItalic-SpSLRI95.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-BoldItalic-DzxPMmG6.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(/arrowgram/assets/KaTeX_Main-Italic-NWA7e6Wa.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-Italic-BMLOBm91.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-Italic-3WenGoN9.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Main-Regular-B22Nviop.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-Regular-Dr94JaBh.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-Regular-ypZvNtVU.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(/arrowgram/assets/KaTeX_Math-BoldItalic-CZnvNsCZ.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Math-BoldItalic-iY-2wyZ7.woff) format("woff"),url(/arrowgram/assets/KaTeX_Math-BoldItalic-B3XSjfu4.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(/arrowgram/assets/KaTeX_Math-Italic-t53AETM-.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Math-Italic-DA0__PXp.woff) format("woff"),url(/arrowgram/assets/KaTeX_Math-Italic-flOr_0UB.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_SansSerif-Bold-D1sUS0GD.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_SansSerif-Bold-DbIhKOiC.woff) format("woff"),url(/arrowgram/assets/KaTeX_SansSerif-Bold-CFMepnvq.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:italic;font-weight:400;src:url(/arrowgram/assets/KaTeX_SansSerif-Italic-C3H0VqGB.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_SansSerif-Italic-DN2j7dab.woff) format("woff"),url(/arrowgram/assets/KaTeX_SansSerif-Italic-YYjJ1zSn.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_SansSerif-Regular-DDBCnlJ7.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_SansSerif-Regular-CS6fqUqJ.woff) format("woff"),url(/arrowgram/assets/KaTeX_SansSerif-Regular-BNo7hRIc.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Script-Regular-D3wIWfF6.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Script-Regular-D5yQViql.woff) format("woff"),url(/arrowgram/assets/KaTeX_Script-Regular-C5JkGWo-.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Size1-Regular-mCD8mA8B.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Size1-Regular-C195tn64.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size1-Regular-Dbsnue_I.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Size2-Regular-Dy4dx90m.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Size2-Regular-oD1tc_U0.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size2-Regular-B7gKUWhC.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(data:font/woff2;base64,d09GMgABAAAAAA4oAA4AAAAAHbQAAA3TAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAgRQIDgmcDBEICo1oijYBNgIkA14LMgAEIAWJAAeBHAyBHBvbGiMRdnO0IkRRkiYDgr9KsJ1NUAf2kILNxgUmgqIgq1P89vcbIcmsQbRps3vCcXdYOKSWEPEKgZgQkprQQsxIXUgq0DqpGKmIvrgkeVGtEQD9DzAO29fM9jYhxZEsL2FeURH2JN4MIcTdO049NCVdxQ/w9NrSYFEBKTDKpLKfNkCGDc1RwjZLQcm3vqJ2UW9Xfa3tgAHz6ivp6vgC2yD4/6352ndnN0X0TL7seypkjZlMsjmZnf0Mm5Q+JykRWQBKCVCVPbARPXWyQtb5VgLB6Biq7/Uixcj2WGqdI8tGSgkuRG+t910GKP2D7AQH0DB9FMDW/obJZ8giFI3Wg8Cvevz0M+5m0rTh7XDBlvo9Y4vm13EXmfttwI4mBo1EG15fxJhUiCLbiiyCf/ZA6MFAhg3pGIZGdGIVjtPn6UcMk9A/UUr9PhoNsCENw1APAq0gpH73e+M+0ueyHbabc3vkbcdtzcf/fiy+NxQEjf9ud/ELBHAXJ0nk4z+MXH2Ev/kWyV4k7SkvpPc9Qr38F6RPWnM9cN6DJ0AdD1BhtgABtmoRoFCvPsBAumNm6soZG2Gk5GyVTo2sJncSyp0jQTYoR6WDvTwaaEcHsxHfvuWhHA3a6bN7twRKtcGok6NsCi7jYRrM2jExsUFMxMQYuJbMhuWNOumEJy9hi29Dmg5zMp/A5+hhPG19j1vBrq8JTLr8ki5VLPmG/PynJHVul440bxg5xuymHUFPBshC+nA9I1FmwbRBTNHAcik3Oae0cxKoI3MOriM42UrPe51nsaGxJ+WfXubAsP84aabUlQSJ1IiE0iPETLUU4CATgfXSCSpuRFRmCGbO+wSpAnzaeaCYW1VNEysRtuXCEL1kUFUbbtMv3Tilt/1c11jt3Q5bbMa84cpWipp8Elw3MZhOHsOlwwVUQM3lAR35JiFQbaYCRnMF2lxAWoOg2gyoIV4PouX8HytNIfLhqpJtXB4vjiViUI8IJ7bkC4ikkQvKksnOTKICwnqWSZ9YS5f0WCxmpgjbIq7EJcM4aI2nmhLNY2JIUgOjXZFWBHb+x5oh6cwb0Tv1ackHdKi0I9OO2wE9aogIOn540CCCziyhN+IaejtgAONKznHlHyutPrHGwCx9S6B8kfS4Mfi4Eyv7OU730bT1SCBjt834cXsf43zVjPUqqJjgrjeGnBxSG4aYAKFuVbeCfkDIjAqMb6yLNIbCuvXhMH2/+k2vkNpkORhR59N1CkzoOENvneIosjYmuTxlhUzaGEJQ/iWqx4dmwpmKjrwTiTGTCVozNAYqk/zXOndWxuWSmJkQpJw3pK5KX6QrLt5LATMqpmPAQhkhK6PUjzHUn7E0gHE0kPE0iKkolgkUx9SZmVAdDgpffdyJKg3k7VmzYGCwVXGz/tXmkOIp+vcWs+EMuhhvN0h9uhfzWJziBQmCREGSIFmQIkgVpAnSBRmC//6hkLZwaVhwxlrJSOdqlFtOYxlau9F2QN5Y98xmIAsiM1HVp2VFX+DHHGg6Ecjh3vmqtidX3qHI2qycTk/iwxSt5UzTmEP92ZBnEWTk4Mx8Mpl78ZDokxg/KWb+Q0QkvdKVmq3TMW+RXEgrsziSAfNXFMhDc60N5N9jQzjfO0kBKpUZl0ZmwJ41j/B9Hz6wmRaJB84niNmQrzp9eSlQCDDzazGDdVi3P36VZQ+Jy4f9UBNp+3zTjqI4abaFAm+GShVaXlsGdF3FYzZcDI6cori4kMxUECl9IjJZpzkvitAoxKue+90pDMvcKRxLl53TmOKCmV/xRolNKSqqUxc6LStOETmFOiLZZptlZepcKiAzteG8PEdpnQpbOMNcMsR4RR2Bs0cKFEvSmIjAFcnarqwUL4lDhHmnVkwu1IwshbiCcgvOheZuYyOteufZZwlcTlLgnZ3o/WcYdzZHW/WGaqaVfmTZ1aWCceJjkbZqsfbkOtcFlUZM/jy+hXHDbaUobWqqXaeWobbLO99yG5N3U4wxco0rQGGcOLASFMXeJoham8M+/x6O2WywK2l4HGbq1CoUyC/IZikQhdq3SiuNrvAEj0AVu9x2x3lp/xWzahaxidezFVtdcb5uEnzyl0ZmYiuKI0exvCd4Xc9CV1KB0db00z92wDPde0kukbvZIWN6jUWFTmPIC/Y4UPCm8UfDTFZpZNon1qLFTkBhxzB+FjQRA2Q/YRJT8pQigslMaUpFyAG8TMlXigiqmAZX4xgijKjRlGpLE0GdplRfCaJo0JQaSxNBk6ZmMzcya0FmrcisDdn0Q3HI2sWSppYigmlM1XT/kLQZSNpMJG0WkjYbSZuDpM1F0uYhFc1HxU4m1QJjDK6iL0S5uSj5rgXc3RejEigtcRBtqYPQsiTskmO5vosV+q4VGIKbOkDg0jtRrq+Em1YloaTFar3EGr1EUC8R0kus1Uus00usL97ABr2BjXoDm/QGNhuWtMVBKOwg/i78lT7hBsAvDmwHc/ao3vmUbBmhjeYySZNWvGkfZAgISDSaDo1SVpzGDsAEkF8B+gEapViUoZgUWXcRIGFZNm6gWbAKk0bp0k1MHG9fLYtV4iS2SmLEQFARzRcnf9PUS0LVn05/J9MiRRBU3v2IrvW974v4N00L7ZMk0wXP1409CHo/an8zTRHD3eSJ6m8D4YMkZNl3M79sqeuAsr/m3f+8/yl7A50aiAEJgeBeMWzu7ui9UfUBCe2TIqZIoOd/3/udRBOQidQZUERzb2/VwZN1H/Sju82ew2H2Wfr6qvfVf3hqwDvAIpkQVFy4B9Pe9e4/XvPeceu7h3dvO56iJPf0+A6cqA2ip18ER+iFgggiuOkvj24bby0N9j2UHIkgqIt+sVgfodC4YghLSMjSZbH0VR/6dMDrYJeKHilKTemt6v6kvzvn3/RrdWtr0GoN/xL+Sex/cPYLUpepx9cz/D46UPU5KXgAQa+NDps1v6J3xP1i2HtaDB0M9aX2deA7SYff//+gUCovMmIK/qfsFcOk+4Y5ZN97XlG6zebqtMbKgeRFi51vnxTQYBUik2rS/Cn6PC8ADR8FGxsRPB82dzfND90gIcshOcYUkfjherBz53odpm6TP8txlwOZ71xmfHHOvq053qFF/MRlS3jP0ELudrf2OeN8DHvp6ZceLe8qKYvWz/7yp0u4dKPfli3CYq0O13Ih71mylJ80tOi10On8wi+F4+LWgDPeJ30msSQt9/vkmHq9/Lvo2b461mP801v3W4xTcs6CbvF9UDdrSt+A8OUbpSh55qAUFXWznBBfdeJ8a4d7ugT5tvxUza3h9m4H7ptTqiG4z0g5dc0X29OcGlhpGFMpQo9ytTS+NViZpNdvU4kWx+LKxNY10kQ1yqGXrhe4/1nvP7E+nd5A92TtaRplbHSqoIdOqtRWti+fkB5/n1+/VvCmz12pG1kpQWsfi1ftlBobm0bpngs16CHkbIwdLnParxtTV3QYRlfJ0KFskH7pdN/YDn+yRuSd7sNH3aO0DYPggk6uWuXrfOc+fa3VTxFVvKaNxHsiHmsXyCLIE5yuOeN3/Jdf8HBL/5M6shjyhxHx9BjB1O0+4NLOnjLLSxwO7ukN4jMbOIcD879KLSi6Pk61Oqm2377n8079PXEEQ7cy7OKEC9nbpet118fxweTafpt69x/Bt8UqGzNQt7aelpc44dn5cqhwf71+qKp/Zf/+a0zcizOUWpl/iBcSXip0pplkatCchoH5c5aUM8I7/dWxAej8WicPL1URFZ9BDJelUwEwTkGqUhgSlydVes95YdXvhh9Gfz/aeFWvgVb4tuLbcv4+wLdutVZv/cUonwBD/6eDlE0aSiKK/uoH3+J1wDE/jMVqY2ysGufN84oIXB0sPzy8ollX/LegY74DgJXJR57sn+VGza0x3DnuIgABFM15LmajjjsNlYj+JEZGbuRYcAMOWxFkPN2w6Wd46xo4gVWQR/X4lyI/R6K/YK0110GzudPRW7Y+UOBGTfNNzHeYT0fiH0taunBpq9HEW8OKSaBGj21L0MqenEmNRWBAWDWAk4CpNoEZJ2tTaPFgbQYj8HxtFilErs3BTRwT8uO1NXQaWfIotchmPkAF5mMBAliEmZiOGVgCG9LgRzpscMAOOwowlT3JhusdazXGSC/hxR3UlmWVwWHpOIKheqONvjyhSiTHIkVUco5bnji8m//zL7PKaT1Vl5I6UE609f+gkr6MZKVyKc7zJRmCahLsdlyA5fdQkRSan9LgnnLEyGSkaKJCJog0wAgvepWBt80+1yKln1bMVtCljfNWDueKLsWwaEbBSfSPTEmVRsUcYYMnEjcjeyCZzBXK9E9BYBXLKjOSpUDR+nEV3TFSUdQaz+ot98QxgXwx0GQ+EEUAKB2qZPkQQ0GqFD8UPFMqyaCHM24BZmSGic9EYMagKizOw9Hz50DMrDLrqqLkTAhplMictiCAx5S3BIUQdeJeLnBy2CNtMfz6cV4u8XKoFZQesbf9YZiIERiHjaNodDW6LgcirX/mPnJIkBGDUpTBhSa0EIr38D5hCIszhCM8URGBqImoWjpvpt1ebu/v3Gl3qJfMnNM+9V+kiRFyROTPHQWOcs1dNW94/ukKMPZBvDi55i5CttdeJz84DLngLqjcdwEZ87bFFR8CIG35OAkDVN6VRDZ7aq67NteYqZ2lpT8oYB2CytoBd6VuAx4WgiAsnuj3WohG+LugzXiQRDeM3XYXlULv4dp5VFYC) format("woff2"),url(/arrowgram/assets/KaTeX_Size3-Regular-CTq5MqoE.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size3-Regular-DgpXs0kz.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Size4-Regular-Dl5lxZxV.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Size4-Regular-BF-4gkZK.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size4-Regular-DWFBv043.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Typewriter-Regular-CO6r4hn1.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Typewriter-Regular-C0xS9mPB.woff) format("woff"),url(/arrowgram/assets/KaTeX_Typewriter-Regular-D3Ib7_Hf.ttf) format("truetype")}.katex{font: 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.16.22"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathboldfrak,.katex .textboldfrak{font-family:KaTeX_Fraktur;font-weight:700}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .mathsfit,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.2777777778em;margin-right:-.5555555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.1666666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.6666666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.4566666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.1466666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.7142857143em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.8571428571em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.1428571429em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.2857142857em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.4285714286em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.7142857143em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.0571428571em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.4685714286em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.9628571429em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.5542857143em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.7777777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.8888888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.1111111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.3044444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.7644444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.5833333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.7283333333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.0733333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.4861111111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.4402777778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.7277777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.2893518519em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.4050925926em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.462962963em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.5208333333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.2002314815em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.4398148148em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.2410800386em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.2892960463em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.337512054em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.3857280617em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.4339440694em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.4821600771em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.5785920926em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.6943105111em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.8331726133em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.1996142719em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.2009646302em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.2411575563em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.2813504823em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.3215434084em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.3617363344em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.4019292605em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.4823151125em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.578778135em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.6945337621em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.8336012862em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}';function BD(){if(window.location.pathname==="/print-preview")return A.jsx(UD,{});const t=vt(G=>G.spec),e=vt(G=>G.setSpec),n=vt(G=>G.filename),o={key:vt(G=>G.selectedIds).values().next().value},[s,u]=we.useState("dashboard"),[d,f]=we.useState(null),[h,g]=we.useState(!1),[y,b]=we.useState(""),[w,k]=we.useState(!1),[E,z]=we.useState(!0),{addToast:I}=wa(),U=async(G,R={fitView:!0,showGrid:!0})=>{if(G==="tikz"){const Q=mC(t);b(Q),g(!0);return}const L=document.getElementById("arrowgram-canvas");if(!L){I("Could not find the diagram to export.","error");return}let V=L.getAttribute("viewBox")||"0 0 1000 600";if(R.fitView){const Q=Ps(t);Q.viewBox&&(V=Q.viewBox)}try{const Q=L.cloneNode(!0);if(Q.setAttribute("viewBox",V),!R.showGrid){const Z=Q.querySelector('rect[fill*="#grid"]');Z&&Z.remove()}let X=OD;X=X.replace(/url\((['"]?)fonts\//g,(Z,j)=>`url(${j}https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/`);const K=document.createElementNS("http://www.w3.org/2000/svg","style");if(K.textContent=X,Q.insertBefore(K,Q.firstChild),G==="svg"){const Z=new XMLSerializer().serializeToString(Q),j=new Blob([Z],{type:"image/svg+xml"});xC.saveAs(j,`${n||"diagram"}.svg`),I("Diagram exported as SVG","success")}else if(G==="png"){const Z=V.split(" ").map(parseFloat),j={backgroundColor:"white",scale:2,left:Z[0],top:Z[1],width:Z[2],height:Z[3]},ae=document.createElement("div");ae.style.position="absolute",ae.style.top="-9999px",ae.style.left="-9999px",ae.style.visibility="hidden",ae.appendChild(Q),document.body.appendChild(ae);try{await gC.saveSvgAsPng(Q,`${n||"diagram"}.png`,j),I("Diagram exported as PNG","success")}finally{document.body.removeChild(ae)}}}catch(Q){console.error("Export failed:",Q),I("Failed to export diagram.","error")}},q=async()=>{try{await Bf(n,t,"diagram"),I("Project saved successfully!","success")}catch(G){console.error(G),I("Failed to save project.","error")}},D=()=>{try{const G=new TextEncoder().encode(t),R=String.fromCharCode.apply(null,G),L=btoa(R),V=`${window.location.origin}${window.location.pathname}?spec=${L}`;navigator.clipboard.writeText(V),I("Shareable URL copied to clipboard!","success")}catch(G){console.error(G),I("Failed to create share URL","error")}};we.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("spec");if(R)try{const L=atob(R),V=new Uint8Array(L.length);for(let X=0;X<L.length;X++)V[X]=L.charCodeAt(X);const Q=new TextDecoder().decode(V);e(Q),u("editor"),f({name:"Shared Diagram",spec:Q,updatedAt:"",type:"diagram"})}catch(L){console.error("Failed to load shared spec",L)}},[]);const O=(G="diagram",R)=>{u("editor"),f(R||{name:n,spec:t,updatedAt:"",type:G})};return s==="dashboard"?A.jsx(ID,{onOpenProject:O}):(d==null?void 0:d.type)==="paper"?A.jsx("div",{className:"h-screen w-screen bg-gray-50 flex flex-col font-sans overflow-hidden",children:A.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[A.jsx("div",{className:`transition-all duration-300 ease-in-out border-r border-gray-200 bg-white relative z-30 shadow-xl ${w?"w-80 translate-x-0":"w-0 -translate-x-full opacity-0"}`,children:A.jsx("div",{className:"w-80 h-full absolute right-0",children:A.jsx(m2,{context:{type:"paper",content:d.spec,onUpdate:G=>f(R=>R?{...R,spec:G}:null)}})})}),A.jsxs("div",{className:"flex-1 relative flex flex-col min-w-0",children:[A.jsx("div",{className:"absolute top-3 left-4 z-40",children:A.jsx("button",{onClick:()=>u("dashboard"),className:"p-2 bg-white/50 hover:bg-white text-gray-500 hover:text-gray-900 border border-transparent hover:border-gray-200 rounded-lg transition-all shadow-sm backdrop-blur",title:"Back to Dashboard",children:A.jsx(m4,{size:20})})}),A.jsx("div",{className:"absolute top-3 right-20 z-40",children:A.jsx("button",{onClick:()=>k(!w),className:`p-2 rounded-lg transition-colors border shadow-sm ${w?"bg-indigo-100 text-indigo-700 border-indigo-200":"bg-white text-gray-600 hover:bg-gray-50 border-gray-200"}`,children:w?"Close AI":"Ask AI"})}),A.jsx(BE,{initialMarkdown:d.spec,filename:d.name,onPersist:async G=>{await Bf(d.name,G,"paper"),f(R=>R?{...R,spec:G}:null)},onChange:G=>{f(R=>R?{...R,spec:G}:null)}})]})]})}):A.jsxs("div",{className:"h-screen w-screen bg-gray-50 flex flex-col font-sans overflow-hidden",children:[A.jsxs("nav",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-4 z-10 shadow-sm relative",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:()=>u("dashboard"),className:"p-2 -ml-2 text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:A.jsx(m4,{size:20})}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold shadow-sm",children:"A"}),A.jsx("span",{className:"font-semibold text-gray-800 text-lg tracking-tight hidden sm:block",children:"Arrowgram"}),A.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2 hidden sm:block"}),A.jsx("span",{className:"text-gray-600 font-medium",children:n})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors",children:[A.jsx(Nh,{size:16}),A.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),A.jsx("button",{onClick:()=>z(!E),className:`p-2 rounded-lg transition-colors ${E?"bg-purple-100 text-purple-700":"text-gray-500 hover:bg-gray-100"}`,title:"Toggle Properties",children:A.jsx(X0,{size:20})})]})]}),A.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[A.jsx("div",{className:`transition-all duration-300 ease-in-out border-r border-gray-200 bg-white relative z-20 shadow-xl ${w?"w-80 translate-x-0":"w-0 -translate-x-full opacity-0"}`,children:A.jsx("div",{className:"w-80 h-full absolute right-0",children:A.jsx(m2,{})})}),A.jsxs("div",{className:"flex-1 relative bg-gray-50 flex flex-col min-w-0",children:[A.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30",children:A.jsx(fC,{onExport:U,onShare:D,onToggleChat:()=>k(!w),isChatOpen:w})}),A.jsx("div",{className:"flex-1 overflow-hidden relative",children:A.jsx(i5,{})})]}),A.jsx("div",{className:`${E?"w-80 border-l border-gray-200":"w-0"} transition-all duration-300 ease-in-out bg-white z-20 shadow-xl flex flex-col overflow-hidden`,children:A.jsxs("div",{className:"w-80 h-full flex flex-col",children:[A.jsxs("div",{className:"p-4 border-b border-gray-100 font-semibold text-gray-700 bg-gray-50/50 flex justify-between items-center",children:["Properties",A.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600 lg:hidden",children:A.jsx(X0,{size:16})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:A.jsx(S5,{selection:o,spec:t,onSpecChange:e})})]})})]}),A.jsx(hC,{tikzCode:y,onClose:()=>g(!1),isOpen:h})]})}const p2=document.getElementById("root");p2&&v2.createRoot(p2).render(A.jsx(we.StrictMode,{children:A.jsx($A,{children:A.jsx(BD,{})})}));export{zn as _,g2 as a,L8 as g,x3 as k,nh as r};
