const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mermaid.core-CbBXC6xm.js","assets/step-CdWOLO1w.js","assets/vega.module-DlPeonZJ.js","assets/linear-BfjZ8xob.js","assets/init-Dmth1JHB.js","assets/defaultLocale-CNpUPyHh.js","assets/time-BEjrHOyX.js","assets/range-OtVwhkKS.js","assets/ordinal-BeghXfj9.js","assets/colors-Cc3OSVma.js","assets/arc-r7J50yS7.js","assets/index-Bi7T_FA4.js","assets/index-ByJ9Ii8b.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qd={exports:{}},_s={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function U8(){if(Fg)return _s;Fg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,s){var u=null;if(s!==void 0&&(u=""+s),o.key!==void 0&&(u=""+o.key),"key"in o){s={};for(var d in o)d!=="key"&&(s[d]=o[d])}else s=o;return o=s.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:s}}return _s.Fragment=e,_s.jsx=n,_s.jsxs=n,_s}var $g;function O8(){return $g||($g=1,qd.exports=U8()),qd.exports}var A=O8(),Gd={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function P8(){if(Yg)return Ye;Yg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,z={};function R(q,ne,ee){this.props=q,this.context=ne,this.refs=z,this.updater=ee||k}R.prototype.isReactComponent={},R.prototype.setState=function(q,ne){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ne,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=R.prototype;function B(q,ne,ee){this.props=q,this.context=ne,this.refs=z,this.updater=ee||k}var D=B.prototype=new L;D.constructor=B,E(D,R.prototype),D.isPureReactComponent=!0;var U=Array.isArray;function $(){}var I={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function F(q,ne,ee){var te=ee.ref;return{$$typeof:t,type:q,key:ne,ref:te!==void 0?te:null,props:ee}}function Z(q,ne){return F(q.type,ne,q.props)}function Y(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function X(q){var ne={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ee){return ne[ee]})}var Q=/\/+/g;function W(q,ne){return typeof q=="object"&&q!==null&&q.key!=null?X(""+q.key):ne.toString(36)}function ie(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then($,$):(q.status="pending",q.then(function(ne){q.status==="pending"&&(q.status="fulfilled",q.value=ne)},function(ne){q.status==="pending"&&(q.status="rejected",q.reason=ne)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,ne,ee,te,xe){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var ce=!1;if(q===null)ce=!0;else switch(Te){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(q.$$typeof){case t:case e:ce=!0;break;case g:return ce=q._init,G(ce(q._payload),ne,ee,te,xe)}}if(ce)return xe=xe(q),ce=te===""?"."+W(q,0):te,U(xe)?(ee="",ce!=null&&(ee=ce.replace(Q,"$&/")+"/"),G(xe,ne,ee,"",function($e){return $e})):xe!=null&&(Y(xe)&&(xe=Z(xe,ee+(xe.key==null||q&&q.key===xe.key?"":(""+xe.key).replace(Q,"$&/")+"/")+ce)),ne.push(xe)),1;ce=0;var ke=te===""?".":te+":";if(U(q))for(var Ie=0;Ie<q.length;Ie++)te=q[Ie],Te=ke+W(te,Ie),ce+=G(te,ne,ee,Te,xe);else if(Ie=w(q),typeof Ie=="function")for(q=Ie.call(q),Ie=0;!(te=q.next()).done;)te=te.value,Te=ke+W(te,Ie++),ce+=G(te,ne,ee,Te,xe);else if(Te==="object"){if(typeof q.then=="function")return G(ie(q),ne,ee,te,xe);throw ne=String(q),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ce}function le(q,ne,ee){if(q==null)return q;var te=[],xe=0;return G(q,te,"","",function(Te){return ne.call(ee,Te,xe++)}),te}function re(q){if(q._status===-1){var ne=q._result;ne=ne(),ne.then(function(ee){(q._status===0||q._status===-1)&&(q._status=1,q._result=ee)},function(ee){(q._status===0||q._status===-1)&&(q._status=2,q._result=ee)}),q._status===-1&&(q._status=0,q._result=ne)}if(q._status===1)return q._result.default;throw q._result}var Ee=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Le={map:le,forEach:function(q,ne,ee){le(q,function(){ne.apply(this,arguments)},ee)},count:function(q){var ne=0;return le(q,function(){ne++}),ne},toArray:function(q){return le(q,function(ne){return ne})||[]},only:function(q){if(!Y(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ye.Activity=x,Ye.Children=Le,Ye.Component=R,Ye.Fragment=n,Ye.Profiler=o,Ye.PureComponent=B,Ye.StrictMode=r,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(q){return I.H.useMemoCache(q)}},Ye.cache=function(q){return function(){return q.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(q,ne,ee){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var te=E({},q.props),xe=q.key;if(ne!=null)for(Te in ne.key!==void 0&&(xe=""+ne.key),ne)!O.call(ne,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ne.ref===void 0||(te[Te]=ne[Te]);var Te=arguments.length-2;if(Te===1)te.children=ee;else if(1<Te){for(var ce=Array(Te),ke=0;ke<Te;ke++)ce[ke]=arguments[ke+2];te.children=ce}return F(q.type,xe,te)},Ye.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Ye.createElement=function(q,ne,ee){var te,xe={},Te=null;if(ne!=null)for(te in ne.key!==void 0&&(Te=""+ne.key),ne)O.call(ne,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(xe[te]=ne[te]);var ce=arguments.length-2;if(ce===1)xe.children=ee;else if(1<ce){for(var ke=Array(ce),Ie=0;Ie<ce;Ie++)ke[Ie]=arguments[Ie+2];xe.children=ke}if(q&&q.defaultProps)for(te in ce=q.defaultProps,ce)xe[te]===void 0&&(xe[te]=ce[te]);return F(q,Te,xe)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(q){return{$$typeof:d,render:q}},Ye.isValidElement=Y,Ye.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:re}},Ye.memo=function(q,ne){return{$$typeof:h,type:q,compare:ne===void 0?null:ne}},Ye.startTransition=function(q){var ne=I.T,ee={};I.T=ee;try{var te=q(),xe=I.S;xe!==null&&xe(ee,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then($,Ee)}catch(Te){Ee(Te)}finally{ne!==null&&ee.types!==null&&(ne.types=ee.types),I.T=ne}},Ye.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ye.use=function(q){return I.H.use(q)},Ye.useActionState=function(q,ne,ee){return I.H.useActionState(q,ne,ee)},Ye.useCallback=function(q,ne){return I.H.useCallback(q,ne)},Ye.useContext=function(q){return I.H.useContext(q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(q,ne){return I.H.useDeferredValue(q,ne)},Ye.useEffect=function(q,ne){return I.H.useEffect(q,ne)},Ye.useEffectEvent=function(q){return I.H.useEffectEvent(q)},Ye.useId=function(){return I.H.useId()},Ye.useImperativeHandle=function(q,ne,ee){return I.H.useImperativeHandle(q,ne,ee)},Ye.useInsertionEffect=function(q,ne){return I.H.useInsertionEffect(q,ne)},Ye.useLayoutEffect=function(q,ne){return I.H.useLayoutEffect(q,ne)},Ye.useMemo=function(q,ne){return I.H.useMemo(q,ne)},Ye.useOptimistic=function(q,ne){return I.H.useOptimistic(q,ne)},Ye.useReducer=function(q,ne,ee){return I.H.useReducer(q,ne,ee)},Ye.useRef=function(q){return I.H.useRef(q)},Ye.useState=function(q){return I.H.useState(q)},Ye.useSyncExternalStore=function(q,ne,ee){return I.H.useSyncExternalStore(q,ne,ee)},Ye.useTransition=function(){return I.H.useTransition()},Ye.version="19.2.4",Ye}var Jg;function nh(){return Jg||(Jg=1,Gd.exports=P8()),Gd.exports}var we=nh();const _r=L8(we);var Vd={exports:{}},As={},Fd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function B8(){return Xg||(Xg=1,function(t){function e(G,le){var re=G.length;G.push(le);e:for(;0<re;){var Ee=re-1>>>1,Le=G[Ee];if(0<o(Le,le))G[Ee]=le,G[re]=Le,re=Ee;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var le=G[0],re=G.pop();if(re!==le){G[0]=re;e:for(var Ee=0,Le=G.length,q=Le>>>1;Ee<q;){var ne=2*(Ee+1)-1,ee=G[ne],te=ne+1,xe=G[te];if(0>o(ee,re))te<Le&&0>o(xe,ee)?(G[Ee]=xe,G[te]=re,Ee=te):(G[Ee]=ee,G[ne]=re,Ee=ne);else if(te<Le&&0>o(xe,re))G[Ee]=xe,G[te]=re,Ee=te;else break e}}return le}function o(G,le){var re=G.sortIndex-le.sortIndex;return re!==0?re:G.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,x=null,b=3,w=!1,k=!1,E=!1,z=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=G)r(h),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(h)}}function U(G){if(E=!1,D(G),!k)if(n(f)!==null)k=!0,$||($=!0,X());else{var le=n(h);le!==null&&ie(U,le.startTime-G)}}var $=!1,I=-1,O=5,F=-1;function Z(){return z?!0:!(t.unstable_now()-F<O)}function Y(){if(z=!1,$){var G=t.unstable_now();F=G;var le=!0;try{e:{k=!1,E&&(E=!1,L(I),I=-1),w=!0;var re=b;try{t:{for(D(G),x=n(f);x!==null&&!(x.expirationTime>G&&Z());){var Ee=x.callback;if(typeof Ee=="function"){x.callback=null,b=x.priorityLevel;var Le=Ee(x.expirationTime<=G);if(G=t.unstable_now(),typeof Le=="function"){x.callback=Le,D(G),le=!0;break t}x===n(f)&&r(f),D(G)}else r(f);x=n(f)}if(x!==null)le=!0;else{var q=n(h);q!==null&&ie(U,q.startTime-G),le=!1}}break e}finally{x=null,b=re,w=!1}le=void 0}}finally{le?X():$=!1}}}var X;if(typeof B=="function")X=function(){B(Y)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,W=Q.port2;Q.port1.onmessage=Y,X=function(){W.postMessage(null)}}else X=function(){R(Y,0)};function ie(G,le){I=R(function(){G(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(G){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var re=b;b=le;try{return G()}finally{b=re}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=b;b=G;try{return le()}finally{b=re}},t.unstable_scheduleCallback=function(G,le,re){var Ee=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ee+re:Ee):re=Ee,G){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=re+Le,G={id:g++,callback:le,priorityLevel:G,startTime:re,expirationTime:Le,sortIndex:-1},re>Ee?(G.sortIndex=re,e(h,G),n(f)===null&&G===n(h)&&(E?(L(I),I=-1):E=!0,ie(U,re-Ee))):(G.sortIndex=Le,e(f,G),k||w||(k=!0,$||($=!0,X()))),G},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(G){var le=b;return function(){var re=b;b=le;try{return G.apply(this,arguments)}finally{b=re}}}}($d)),$d}var Kg;function H8(){return Kg||(Kg=1,Fd.exports=B8()),Fd.exports}var Yd={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function q8(){if(Zg)return ln;Zg=1;var t=nh();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(f,h,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:f,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,g)},ln.flushSync=function(f){var h=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=g,r.d.f()}},ln.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},ln.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ln.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ln.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},ln.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ln.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},ln.requestFormReset=function(f){r.d.r(f)},ln.unstable_batchedUpdates=function(f,h){return f(h)},ln.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var Wg;function g2(){if(Wg)return Yd.exports;Wg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yd.exports=q8(),Yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function G8(){if(Qg)return As;Qg=1;var t=H8(),e=nh(),n=g2();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=s(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var v=l.return;if(v===null)break;var y=v.alternate;if(y===null){if(c=v.return,c!==null){l=c;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===l)return f(v),i;if(y===c)return f(v),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=v,c=y;else{for(var _=!1,M=v.child;M;){if(M===l){_=!0,l=v,c=y;break}if(M===c){_=!0,c=v,l=y;break}M=M.sibling}if(!_){for(M=y.child;M;){if(M===l){_=!0,l=y,c=v;break}if(M===c){_=!0,c=y,l=v;break}M=M.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case R:return"Profiler";case z:return"StrictMode";case U:return"Suspense";case $:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case B:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case D:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return a=i.displayName||null,a!==null?a:W(i.type)||"Memo";case O:a=i._payload,i=i._init;try{return W(i(a))}catch{}}return null}var ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ee=[],Le=-1;function q(i){return{current:i}}function ne(i){0>Le||(i.current=Ee[Le],Ee[Le]=null,Le--)}function ee(i,a){Le++,Ee[Le]=i.current,i.current=a}var te=q(null),xe=q(null),Te=q(null),ce=q(null);function ke(i,a){switch(ee(Te,a),ee(xe,i),ee(te,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?hg(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=hg(a),i=mg(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(te),ee(te,i)}function Ie(){ne(te),ne(xe),ne(Te)}function $e(i){i.memoizedState!==null&&ee(ce,i);var a=te.current,l=mg(a,i.type);a!==l&&(ee(xe,i),ee(te,l))}function We(i){xe.current===i&&(ne(te),ne(xe)),ce.current===i&&(ne(ce),bs._currentValue=re)}var Qe,St;function ht(i){if(Qe===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Qe=a&&a[1]||"",St=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+i+St}var Pt=!1;function sn(i,a){if(!i||Pt)return"";Pt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(de){var ue=de}Reflect.construct(i,[],me)}else{try{me.call()}catch(de){ue=de}i.call(me.prototype)}}else{try{throw Error()}catch(de){ue=de}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(de){if(de&&ue&&typeof de.stack=="string")return[de.stack,ue.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),_=y[0],M=y[1];if(_&&M){var V=_.split(`
`),se=M.split(`
`);for(v=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(c===V.length||v===se.length)for(c=V.length-1,v=se.length-1;1<=c&&0<=v&&V[c]!==se[v];)v--;for(;1<=c&&0<=v;c--,v--)if(V[c]!==se[v]){if(c!==1||v!==1)do if(c--,v--,0>v||V[c]!==se[v]){var fe=`
`+V[c].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=c&&0<=v);break}}}finally{Pt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ht(l):""}function It(i,a){switch(i.tag){case 26:case 27:case 5:return ht(i.type);case 16:return ht("Lazy");case 13:return i.child!==a&&a!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return sn(i.type,!1);case 11:return sn(i.type.render,!1);case 1:return sn(i.type,!0);case 31:return ht("Activity");default:return""}}function fn(i){try{var a="",l=null;do a+=It(i,l),l=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var cr=Object.prototype.hasOwnProperty,No=t.unstable_scheduleCallback,Ji=t.unstable_cancelCallback,Cu=t.unstable_shouldYield,Xi=t.unstable_requestPaint,hn=t.unstable_now,ku=t.unstable_getCurrentPriorityLevel,$h=t.unstable_ImmediatePriority,Yh=t.unstable_UserBlockingPriority,Vs=t.unstable_NormalPriority,g6=t.unstable_LowPriority,Jh=t.unstable_IdlePriority,v6=t.log,y6=t.unstable_setDisableYieldValue,Ro=null,Rn=null;function si(i){if(typeof v6=="function"&&y6(i),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(Ro,i)}catch{}}var In=Math.clz32?Math.clz32:S6,x6=Math.log,b6=Math.LN2;function S6(i){return i>>>=0,i===0?32:31-(x6(i)/b6|0)|0}var Fs=256,$s=262144,Ys=4194304;function Ki(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Js(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var v=0,y=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var M=c&134217727;return M!==0?(c=M&~y,c!==0?v=Ki(c):(_&=M,_!==0?v=Ki(_):l||(l=M&~i,l!==0&&(v=Ki(l))))):(M=c&~y,M!==0?v=Ki(M):_!==0?v=Ki(_):l||(l=c&~i,l!==0&&(v=Ki(l)))),v===0?0:a!==0&&a!==v&&(a&y)===0&&(y=v&-v,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:v}function Io(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function w6(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xh(){var i=Ys;return Ys<<=1,(Ys&62914560)===0&&(Ys=4194304),i}function zu(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Do(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function T6(i,a,l,c,v,y){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,V=i.expirationTimes,se=i.hiddenUpdates;for(l=_&~l;0<l;){var fe=31-In(l),me=1<<fe;M[fe]=0,V[fe]=-1;var ue=se[fe];if(ue!==null)for(se[fe]=null,fe=0;fe<ue.length;fe++){var de=ue[fe];de!==null&&(de.lane&=-536870913)}l&=~me}c!==0&&Kh(i,c,0),y!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=y&~(_&~a))}function Kh(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-In(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function Zh(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-In(l),v=1<<c;v&a|i[c]&a&&(i[c]|=a),l&=~v}}function Wh(i,a){var l=a&-a;return l=(l&42)!==0?1:Mu(l),(l&(i.suspendedLanes|a))!==0?0:l}function Mu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Nu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Qh(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:Og(i.type))}function jh(i,a){var l=le.p;try{return le.p=i,a()}finally{le.p=l}}var li=Math.random().toString(36).slice(2),en="__reactFiber$"+li,Sn="__reactProps$"+li,Aa="__reactContainer$"+li,Ru="__reactEvents$"+li,_6="__reactListeners$"+li,A6="__reactHandles$"+li,em="__reactResources$"+li,Lo="__reactMarker$"+li;function Iu(i){delete i[en],delete i[Sn],delete i[Ru],delete i[_6],delete i[A6]}function Ea(i){var a=i[en];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Aa]||l[en]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Sg(i);i!==null;){if(l=i[en])return l;i=Sg(i)}return a}i=l,l=i.parentNode}return null}function Ca(i){if(i=i[en]||i[Aa]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Uo(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ka(i){var a=i[em];return a||(a=i[em]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Wt(i){i[Lo]=!0}var tm=new Set,nm={};function Zi(i,a){za(i,a),za(i+"Capture",a)}function za(i,a){for(nm[i]=a,i=0;i<a.length;i++)tm.add(a[i])}var E6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rm={},im={};function C6(i){return cr.call(im,i)?!0:cr.call(rm,i)?!1:E6.test(i)?im[i]=!0:(rm[i]=!0,!1)}function Xs(i,a,l){if(C6(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Ks(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Mr(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function Jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function am(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function k6(i,a,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,y=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Du(i){if(!i._valueTracker){var a=am(i)?"checked":"value";i._valueTracker=k6(i,a,""+i[a])}}function om(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=am(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Zs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var z6=/[\n"\\]/g;function Xn(i){return i.replace(z6,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Lu(i,a,l,c,v,y,_,M){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),a!=null?_==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Jn(a)):i.value!==""+Jn(a)&&(i.value=""+Jn(a)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),a!=null?Uu(i,_,Jn(a)):l!=null?Uu(i,_,Jn(l)):c!=null&&i.removeAttribute("value"),v==null&&y!=null&&(i.defaultChecked=!!y),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Jn(M):i.removeAttribute("name")}function sm(i,a,l,c,v,y,_,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){Du(i);return}l=l!=null?""+Jn(l):"",a=a!=null?""+Jn(a):l,M||a===i.value||(i.value=a),i.defaultValue=a}c=c??v,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=M?i.checked:!!c,i.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Du(i)}function Uu(i,a,l){a==="number"&&Zs(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ma(i,a,l,c){if(i=i.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<i.length;l++)v=a.hasOwnProperty("$"+i[l].value),i[l].selected!==v&&(i[l].selected=v),v&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Jn(l),a=null,v=0;v<i.length;v++){if(i[v].value===l){i[v].selected=!0,c&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function lm(i,a,l){if(a!=null&&(a=""+Jn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Jn(l):""}function um(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ie(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Jn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),Du(i)}function Na(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var M6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cm(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||M6.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function dm(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var v in a)c=a[v],a.hasOwnProperty(v)&&l[v]!==c&&cm(i,v,c)}else for(var y in a)a.hasOwnProperty(y)&&cm(i,y,a[y])}function Ou(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(i){return R6.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Nr(){}var Pu=null;function Bu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ra=null,Ia=null;function fm(i){var a=Ca(i);if(a&&(i=a.stateNode)){var l=i[Sn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Lu(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Xn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var v=c[Sn]||null;if(!v)throw Error(r(90));Lu(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&om(c)}break e;case"textarea":lm(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ma(i,!!l.multiple,a,!1)}}}var Hu=!1;function hm(i,a,l){if(Hu)return i(a,l);Hu=!0;try{var c=i(a);return c}finally{if(Hu=!1,(Ra!==null||Ia!==null)&&(Pl(),Ra&&(a=Ra,i=Ia,Ia=Ra=null,fm(a),i)))for(a=0;a<i.length;a++)fm(i[a])}}function Oo(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Sn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qu=!1;if(Rr)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{qu=!1}var ui=null,Gu=null,Qs=null;function mm(){if(Qs)return Qs;var i,a=Gu,l=a.length,c,v="value"in ui?ui.value:ui.textContent,y=v.length;for(i=0;i<l&&a[i]===v[i];i++);var _=l-i;for(c=1;c<=_&&a[l-c]===v[y-c];c++);return Qs=v.slice(i,1<c?1-c:void 0)}function js(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function el(){return!0}function pm(){return!1}function wn(i){function a(l,c,v,y,_){this._reactName=l,this._targetInst=v,this.type=c,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?el:pm,this.isPropagationStopped=pm,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),a}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=wn(Wi),Bo=x({},Wi,{view:0,detail:0}),I6=wn(Bo),Vu,Fu,Ho,nl=x({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ho&&(Ho&&i.type==="mousemove"?(Vu=i.screenX-Ho.screenX,Fu=i.screenY-Ho.screenY):Fu=Vu=0,Ho=i),Vu)},movementY:function(i){return"movementY"in i?i.movementY:Fu}}),gm=wn(nl),D6=x({},nl,{dataTransfer:0}),L6=wn(D6),U6=x({},Bo,{relatedTarget:0}),$u=wn(U6),O6=x({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),P6=wn(O6),B6=x({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),H6=wn(B6),q6=x({},Wi,{data:0}),vm=wn(q6),G6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $6(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=F6[i])?!!a[i]:!1}function Yu(){return $6}var Y6=x({},Bo,{key:function(i){if(i.key){var a=G6[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=js(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?V6[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(i){return i.type==="keypress"?js(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?js(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),J6=wn(Y6),X6=x({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ym=wn(X6),K6=x({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),Z6=wn(K6),W6=x({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q6=wn(W6),j6=x({},nl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),e7=wn(j6),t7=x({},Wi,{newState:0,oldState:0}),n7=wn(t7),r7=[9,13,27,32],Ju=Rr&&"CompositionEvent"in window,qo=null;Rr&&"documentMode"in document&&(qo=document.documentMode);var i7=Rr&&"TextEvent"in window&&!qo,xm=Rr&&(!Ju||qo&&8<qo&&11>=qo),bm=" ",Sm=!1;function wm(i,a){switch(i){case"keyup":return r7.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Da=!1;function a7(i,a){switch(i){case"compositionend":return Tm(a);case"keypress":return a.which!==32?null:(Sm=!0,bm);case"textInput":return i=a.data,i===bm&&Sm?null:i;default:return null}}function o7(i,a){if(Da)return i==="compositionend"||!Ju&&wm(i,a)?(i=mm(),Qs=Gu=ui=null,Da=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xm&&a.locale!=="ko"?null:a.data;default:return null}}var s7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _m(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!s7[i.type]:a==="textarea"}function Am(i,a,l,c){Ra?Ia?Ia.push(c):Ia=[c]:Ra=c,a=$l(a,"onChange"),0<a.length&&(l=new tl("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var Go=null,Vo=null;function l7(i){sg(i,0)}function rl(i){var a=Uo(i);if(om(a))return i}function Em(i,a){if(i==="change")return a}var Cm=!1;if(Rr){var Xu;if(Rr){var Ku="oninput"in document;if(!Ku){var km=document.createElement("div");km.setAttribute("oninput","return;"),Ku=typeof km.oninput=="function"}Xu=Ku}else Xu=!1;Cm=Xu&&(!document.documentMode||9<document.documentMode)}function zm(){Go&&(Go.detachEvent("onpropertychange",Mm),Vo=Go=null)}function Mm(i){if(i.propertyName==="value"&&rl(Vo)){var a=[];Am(a,Vo,i,Bu(i)),hm(l7,a)}}function u7(i,a,l){i==="focusin"?(zm(),Go=a,Vo=l,Go.attachEvent("onpropertychange",Mm)):i==="focusout"&&zm()}function c7(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rl(Vo)}function d7(i,a){if(i==="click")return rl(a)}function f7(i,a){if(i==="input"||i==="change")return rl(a)}function h7(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Dn=typeof Object.is=="function"?Object.is:h7;function Fo(i,a){if(Dn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var v=l[c];if(!cr.call(a,v)||!Dn(i[v],a[v]))return!1}return!0}function Nm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rm(i,a){var l=Nm(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Nm(l)}}function Im(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Im(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Dm(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Zs(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Zs(i.document)}return a}function Zu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var m7=Rr&&"documentMode"in document&&11>=document.documentMode,La=null,Wu=null,$o=null,Qu=!1;function Lm(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Qu||La==null||La!==Zs(c)||(c=La,"selectionStart"in c&&Zu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),$o&&Fo($o,c)||($o=c,c=$l(Wu,"onSelect"),0<c.length&&(a=new tl("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=La)))}function Qi(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Ua={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},ju={},Um={};Rr&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function ji(i){if(ju[i])return ju[i];if(!Ua[i])return i;var a=Ua[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Um)return ju[i]=a[l];return i}var Om=ji("animationend"),Pm=ji("animationiteration"),Bm=ji("animationstart"),p7=ji("transitionrun"),g7=ji("transitionstart"),v7=ji("transitioncancel"),Hm=ji("transitionend"),qm=new Map,ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ec.push("scrollEnd");function dr(i,a){qm.set(i,a),Zi(a,[i])}var il=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],Oa=0,tc=0;function al(){for(var i=Oa,a=tc=Oa=0;a<i;){var l=Kn[a];Kn[a++]=null;var c=Kn[a];Kn[a++]=null;var v=Kn[a];Kn[a++]=null;var y=Kn[a];if(Kn[a++]=null,c!==null&&v!==null){var _=c.pending;_===null?v.next=v:(v.next=_.next,_.next=v),c.pending=v}y!==0&&Gm(l,v,y)}}function ol(i,a,l,c){Kn[Oa++]=i,Kn[Oa++]=a,Kn[Oa++]=l,Kn[Oa++]=c,tc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function nc(i,a,l,c){return ol(i,a,l,c),sl(i)}function ea(i,a){return ol(i,null,null,a),sl(i)}function Gm(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var v=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(v=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,v&&a!==null&&(v=31-In(l),i=y.hiddenUpdates,c=i[v],c===null?i[v]=[a]:c.push(a),a.lane=l|536870912),y):null}function sl(i){if(50<hs)throw hs=0,dd=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Pa={};function y7(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,a,l,c){return new y7(i,a,l,c)}function rc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ir(i,a){var l=i.alternate;return l===null?(l=Ln(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Vm(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function ll(i,a,l,c,v,y){var _=0;if(c=i,typeof i=="function")rc(i)&&(_=1);else if(typeof i=="string")_=T8(i,l,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case F:return i=Ln(31,l,a,v),i.elementType=F,i.lanes=y,i;case E:return ta(l.children,v,y,a);case z:_=8,v|=24;break;case R:return i=Ln(12,l,a,v|2),i.elementType=R,i.lanes=y,i;case U:return i=Ln(13,l,a,v),i.elementType=U,i.lanes=y,i;case $:return i=Ln(19,l,a,v),i.elementType=$,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:_=10;break e;case L:_=9;break e;case D:_=11;break e;case I:_=14;break e;case O:_=16,c=null;break e}_=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Ln(_,l,a,v),a.elementType=i,a.type=c,a.lanes=y,a}function ta(i,a,l,c){return i=Ln(7,i,c,a),i.lanes=l,i}function ic(i,a,l){return i=Ln(6,i,null,a),i.lanes=l,i}function Fm(i){var a=Ln(18,null,null,0);return a.stateNode=i,a}function ac(i,a,l){return a=Ln(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var $m=new WeakMap;function Zn(i,a){if(typeof i=="object"&&i!==null){var l=$m.get(i);return l!==void 0?l:(a={value:i,source:a,stack:fn(a)},$m.set(i,a),a)}return{value:i,source:a,stack:fn(a)}}var Ba=[],Ha=0,ul=null,Yo=0,Wn=[],Qn=0,ci=null,yr=1,xr="";function Dr(i,a){Ba[Ha++]=Yo,Ba[Ha++]=ul,ul=i,Yo=a}function Ym(i,a,l){Wn[Qn++]=yr,Wn[Qn++]=xr,Wn[Qn++]=ci,ci=i;var c=yr;i=xr;var v=32-In(c)-1;c&=~(1<<v),l+=1;var y=32-In(a)+v;if(30<y){var _=v-v%5;y=(c&(1<<_)-1).toString(32),c>>=_,v-=_,yr=1<<32-In(a)+v|l<<v|c,xr=y+i}else yr=1<<y|l<<v|c,xr=i}function oc(i){i.return!==null&&(Dr(i,1),Ym(i,1,0))}function sc(i){for(;i===ul;)ul=Ba[--Ha],Ba[Ha]=null,Yo=Ba[--Ha],Ba[Ha]=null;for(;i===ci;)ci=Wn[--Qn],Wn[Qn]=null,xr=Wn[--Qn],Wn[Qn]=null,yr=Wn[--Qn],Wn[Qn]=null}function Jm(i,a){Wn[Qn++]=yr,Wn[Qn++]=xr,Wn[Qn++]=ci,yr=a.id,xr=a.overflow,ci=i}var tn=null,wt=null,rt=!1,di=null,jn=!1,lc=Error(r(519));function fi(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Zn(a,i)),lc}function Xm(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[en]=i,a[Sn]=c,l){case"dialog":et("cancel",a),et("close",a);break;case"iframe":case"object":case"embed":et("load",a);break;case"video":case"audio":for(l=0;l<ps.length;l++)et(ps[l],a);break;case"source":et("error",a);break;case"img":case"image":case"link":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"input":et("invalid",a),sm(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":et("invalid",a);break;case"textarea":et("invalid",a),um(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||dg(a.textContent,l)?(c.popover!=null&&(et("beforetoggle",a),et("toggle",a)),c.onScroll!=null&&et("scroll",a),c.onScrollEnd!=null&&et("scrollend",a),c.onClick!=null&&(a.onclick=Nr),a=!0):a=!1,a||fi(i,!0)}function Km(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:tn=tn.return}}function qa(i){if(i!==tn)return!1;if(!rt)return Km(i),rt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ed(i.type,i.memoizedProps)),l=!l),l&&wt&&fi(i),Km(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));wt=bg(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));wt=bg(i)}else a===27?(a=wt,Ei(i.type)?(i=Nd,Nd=null,wt=i):wt=a):wt=tn?tr(i.stateNode.nextSibling):null;return!0}function na(){wt=tn=null,rt=!1}function uc(){var i=di;return i!==null&&(En===null?En=i:En.push.apply(En,i),di=null),i}function Jo(i){di===null?di=[i]:di.push(i)}var cc=q(null),ra=null,Lr=null;function hi(i,a,l){ee(cc,a._currentValue),a._currentValue=l}function Ur(i){i._currentValue=cc.current,ne(cc)}function dc(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function fc(i,a,l,c){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var y=v.dependencies;if(y!==null){var _=v.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=v;for(var V=0;V<a.length;V++)if(M.context===a[V]){y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),dc(y.return,l,i),c||(_=null);break e}y=M.next}}else if(v.tag===18){if(_=v.return,_===null)throw Error(r(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),dc(_,l,i),_=null}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===i){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}}function Ga(i,a,l,c){i=null;for(var v=a,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var _=v.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var M=v.type;Dn(v.pendingProps.value,_.value)||(i!==null?i.push(M):i=[M])}}else if(v===ce.current){if(_=v.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(bs):i=[bs])}v=v.return}i!==null&&fc(a,i,l,c),a.flags|=262144}function cl(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ia(i){ra=i,Lr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return Zm(ra,i)}function dl(i,a){return ra===null&&ia(i),Zm(i,a)}function Zm(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Lr===null){if(i===null)throw Error(r(308));Lr=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Lr=Lr.next=a;return l}var x7=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},b7=t.unstable_scheduleCallback,S7=t.unstable_NormalPriority,Bt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hc(){return{controller:new x7,data:new Map,refCount:0}}function Xo(i){i.refCount--,i.refCount===0&&b7(S7,function(){i.controller.abort()})}var Ko=null,mc=0,Va=0,Fa=null;function w7(i,a){if(Ko===null){var l=Ko=[];mc=0,Va=vd(),Fa={status:"pending",value:void 0,then:function(c){l.push(c)}}}return mc++,a.then(Wm,Wm),a}function Wm(){if(--mc===0&&Ko!==null){Fa!==null&&(Fa.status="fulfilled");var i=Ko;Ko=null,Va=0,Fa=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function T7(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(c.status="rejected",c.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),c}var Qm=G.S;G.S=function(i,a){L1=hn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&w7(i,a),Qm!==null&&Qm(i,a)};var aa=q(null);function pc(){var i=aa.current;return i!==null?i:yt.pooledCache}function fl(i,a){a===null?ee(aa,aa.current):ee(aa,a.pool)}function jm(){var i=pc();return i===null?null:{parent:Bt._currentValue,pool:i}}var $a=Error(r(460)),gc=Error(r(474)),hl=Error(r(542)),ml={then:function(){}};function ep(i){return i=i.status,i==="fulfilled"||i==="rejected"}function tp(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Nr,Nr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,rp(i),i;default:if(typeof a.status=="string")a.then(Nr,Nr);else{if(i=yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=c}},function(c){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,rp(i),i}throw sa=a,$a}}function oa(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(sa=l,$a):l}}var sa=null;function np(){if(sa===null)throw Error(r(459));var i=sa;return sa=null,i}function rp(i){if(i===$a||i===hl)throw Error(r(483))}var Ya=null,Zo=0;function pl(i){var a=Zo;return Zo+=1,Ya===null&&(Ya=[]),tp(Ya,i,a)}function Wo(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function gl(i,a){throw a.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function ip(i){function a(j,J){if(i){var ae=j.deletions;ae===null?(j.deletions=[J],j.flags|=16):ae.push(J)}}function l(j,J){if(!i)return null;for(;J!==null;)a(j,J),J=J.sibling;return null}function c(j){for(var J=new Map;j!==null;)j.key!==null?J.set(j.key,j):J.set(j.index,j),j=j.sibling;return J}function v(j,J){return j=Ir(j,J),j.index=0,j.sibling=null,j}function y(j,J,ae){return j.index=ae,i?(ae=j.alternate,ae!==null?(ae=ae.index,ae<J?(j.flags|=67108866,J):ae):(j.flags|=67108866,J)):(j.flags|=1048576,J)}function _(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function M(j,J,ae,he){return J===null||J.tag!==6?(J=ic(ae,j.mode,he),J.return=j,J):(J=v(J,ae),J.return=j,J)}function V(j,J,ae,he){var Ue=ae.type;return Ue===E?fe(j,J,ae.props.children,he,ae.key):J!==null&&(J.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===O&&oa(Ue)===J.type)?(J=v(J,ae.props),Wo(J,ae),J.return=j,J):(J=ll(ae.type,ae.key,ae.props,null,j.mode,he),Wo(J,ae),J.return=j,J)}function se(j,J,ae,he){return J===null||J.tag!==4||J.stateNode.containerInfo!==ae.containerInfo||J.stateNode.implementation!==ae.implementation?(J=ac(ae,j.mode,he),J.return=j,J):(J=v(J,ae.children||[]),J.return=j,J)}function fe(j,J,ae,he,Ue){return J===null||J.tag!==7?(J=ta(ae,j.mode,he,Ue),J.return=j,J):(J=v(J,ae),J.return=j,J)}function me(j,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=ic(""+J,j.mode,ae),J.return=j,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return ae=ll(J.type,J.key,J.props,null,j.mode,ae),Wo(ae,J),ae.return=j,ae;case k:return J=ac(J,j.mode,ae),J.return=j,J;case O:return J=oa(J),me(j,J,ae)}if(ie(J)||X(J))return J=ta(J,j.mode,ae,null),J.return=j,J;if(typeof J.then=="function")return me(j,pl(J),ae);if(J.$$typeof===B)return me(j,dl(j,J),ae);gl(j,J)}return null}function ue(j,J,ae,he){var Ue=J!==null?J.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ue!==null?null:M(j,J,""+ae,he);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return ae.key===Ue?V(j,J,ae,he):null;case k:return ae.key===Ue?se(j,J,ae,he):null;case O:return ae=oa(ae),ue(j,J,ae,he)}if(ie(ae)||X(ae))return Ue!==null?null:fe(j,J,ae,he,null);if(typeof ae.then=="function")return ue(j,J,pl(ae),he);if(ae.$$typeof===B)return ue(j,J,dl(j,ae),he);gl(j,ae)}return null}function de(j,J,ae,he,Ue){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return j=j.get(ae)||null,M(J,j,""+he,Ue);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return j=j.get(he.key===null?ae:he.key)||null,V(J,j,he,Ue);case k:return j=j.get(he.key===null?ae:he.key)||null,se(J,j,he,Ue);case O:return he=oa(he),de(j,J,ae,he,Ue)}if(ie(he)||X(he))return j=j.get(ae)||null,fe(J,j,he,Ue,null);if(typeof he.then=="function")return de(j,J,ae,pl(he),Ue);if(he.$$typeof===B)return de(j,J,ae,dl(J,he),Ue);gl(J,he)}return null}function ze(j,J,ae,he){for(var Ue=null,ot=null,De=J,Xe=J=0,nt=null;De!==null&&Xe<ae.length;Xe++){De.index>Xe?(nt=De,De=null):nt=De.sibling;var st=ue(j,De,ae[Xe],he);if(st===null){De===null&&(De=nt);break}i&&De&&st.alternate===null&&a(j,De),J=y(st,J,Xe),ot===null?Ue=st:ot.sibling=st,ot=st,De=nt}if(Xe===ae.length)return l(j,De),rt&&Dr(j,Xe),Ue;if(De===null){for(;Xe<ae.length;Xe++)De=me(j,ae[Xe],he),De!==null&&(J=y(De,J,Xe),ot===null?Ue=De:ot.sibling=De,ot=De);return rt&&Dr(j,Xe),Ue}for(De=c(De);Xe<ae.length;Xe++)nt=de(De,j,Xe,ae[Xe],he),nt!==null&&(i&&nt.alternate!==null&&De.delete(nt.key===null?Xe:nt.key),J=y(nt,J,Xe),ot===null?Ue=nt:ot.sibling=nt,ot=nt);return i&&De.forEach(function(Ni){return a(j,Ni)}),rt&&Dr(j,Xe),Ue}function qe(j,J,ae,he){if(ae==null)throw Error(r(151));for(var Ue=null,ot=null,De=J,Xe=J=0,nt=null,st=ae.next();De!==null&&!st.done;Xe++,st=ae.next()){De.index>Xe?(nt=De,De=null):nt=De.sibling;var Ni=ue(j,De,st.value,he);if(Ni===null){De===null&&(De=nt);break}i&&De&&Ni.alternate===null&&a(j,De),J=y(Ni,J,Xe),ot===null?Ue=Ni:ot.sibling=Ni,ot=Ni,De=nt}if(st.done)return l(j,De),rt&&Dr(j,Xe),Ue;if(De===null){for(;!st.done;Xe++,st=ae.next())st=me(j,st.value,he),st!==null&&(J=y(st,J,Xe),ot===null?Ue=st:ot.sibling=st,ot=st);return rt&&Dr(j,Xe),Ue}for(De=c(De);!st.done;Xe++,st=ae.next())st=de(De,j,Xe,st.value,he),st!==null&&(i&&st.alternate!==null&&De.delete(st.key===null?Xe:st.key),J=y(st,J,Xe),ot===null?Ue=st:ot.sibling=st,ot=st);return i&&De.forEach(function(D8){return a(j,D8)}),rt&&Dr(j,Xe),Ue}function gt(j,J,ae,he){if(typeof ae=="object"&&ae!==null&&ae.type===E&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:e:{for(var Ue=ae.key;J!==null;){if(J.key===Ue){if(Ue=ae.type,Ue===E){if(J.tag===7){l(j,J.sibling),he=v(J,ae.props.children),he.return=j,j=he;break e}}else if(J.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===O&&oa(Ue)===J.type){l(j,J.sibling),he=v(J,ae.props),Wo(he,ae),he.return=j,j=he;break e}l(j,J);break}else a(j,J);J=J.sibling}ae.type===E?(he=ta(ae.props.children,j.mode,he,ae.key),he.return=j,j=he):(he=ll(ae.type,ae.key,ae.props,null,j.mode,he),Wo(he,ae),he.return=j,j=he)}return _(j);case k:e:{for(Ue=ae.key;J!==null;){if(J.key===Ue)if(J.tag===4&&J.stateNode.containerInfo===ae.containerInfo&&J.stateNode.implementation===ae.implementation){l(j,J.sibling),he=v(J,ae.children||[]),he.return=j,j=he;break e}else{l(j,J);break}else a(j,J);J=J.sibling}he=ac(ae,j.mode,he),he.return=j,j=he}return _(j);case O:return ae=oa(ae),gt(j,J,ae,he)}if(ie(ae))return ze(j,J,ae,he);if(X(ae)){if(Ue=X(ae),typeof Ue!="function")throw Error(r(150));return ae=Ue.call(ae),qe(j,J,ae,he)}if(typeof ae.then=="function")return gt(j,J,pl(ae),he);if(ae.$$typeof===B)return gt(j,J,dl(j,ae),he);gl(j,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,J!==null&&J.tag===6?(l(j,J.sibling),he=v(J,ae),he.return=j,j=he):(l(j,J),he=ic(ae,j.mode,he),he.return=j,j=he),_(j)):l(j,J)}return function(j,J,ae,he){try{Zo=0;var Ue=gt(j,J,ae,he);return Ya=null,Ue}catch(De){if(De===$a||De===hl)throw De;var ot=Ln(29,De,null,j.mode);return ot.lanes=he,ot.return=j,ot}finally{}}}var la=ip(!0),ap=ip(!1),mi=!1;function vc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function pi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gi(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ut&2)!==0){var v=c.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),c.pending=a,a=sl(i),Gm(i,null,l),a}return ol(i,c,a,l),sl(i)}function Qo(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Zh(i,l)}}function xc(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var v=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?v=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?v=y=a:y=y.next=a}else v=y=a;l={baseState:c.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var bc=!1;function jo(){if(bc){var i=Fa;if(i!==null)throw i}}function es(i,a,l,c){bc=!1;var v=i.updateQueue;mi=!1;var y=v.firstBaseUpdate,_=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var V=M,se=V.next;V.next=null,_===null?y=se:_.next=se,_=V;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,M=fe.lastBaseUpdate,M!==_&&(M===null?fe.firstBaseUpdate=se:M.next=se,fe.lastBaseUpdate=V))}if(y!==null){var me=v.baseState;_=0,fe=se=V=null,M=y;do{var ue=M.lane&-536870913,de=ue!==M.lane;if(de?(tt&ue)===ue:(c&ue)===ue){ue!==0&&ue===Va&&(bc=!0),fe!==null&&(fe=fe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ze=i,qe=M;ue=a;var gt=l;switch(qe.tag){case 1:if(ze=qe.payload,typeof ze=="function"){me=ze.call(gt,me,ue);break e}me=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=qe.payload,ue=typeof ze=="function"?ze.call(gt,me,ue):ze,ue==null)break e;me=x({},me,ue);break e;case 2:mi=!0}}ue=M.callback,ue!==null&&(i.flags|=64,de&&(i.flags|=8192),de=v.callbacks,de===null?v.callbacks=[ue]:de.push(ue))}else de={lane:ue,tag:M.tag,payload:M.payload,callback:M.callback,next:null},fe===null?(se=fe=de,V=me):fe=fe.next=de,_|=ue;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;de=M,M=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);fe===null&&(V=me),v.baseState=V,v.firstBaseUpdate=se,v.lastBaseUpdate=fe,y===null&&(v.shared.lanes=0),Si|=_,i.lanes=_,i.memoizedState=me}}function op(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function sp(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)op(l[i],a)}var Ja=q(null),vl=q(0);function lp(i,a){i=$r,ee(vl,i),ee(Ja,a),$r=i|a.baseLanes}function Sc(){ee(vl,$r),ee(Ja,Ja.current)}function wc(){$r=vl.current,ne(Ja),ne(vl)}var Un=q(null),er=null;function vi(i){var a=i.alternate;ee(Dt,Dt.current&1),ee(Un,i),er===null&&(a===null||Ja.current!==null||a.memoizedState!==null)&&(er=i)}function Tc(i){ee(Dt,Dt.current),ee(Un,i),er===null&&(er=i)}function up(i){i.tag===22?(ee(Dt,Dt.current),ee(Un,i),er===null&&(er=i)):yi()}function yi(){ee(Dt,Dt.current),ee(Un,Un.current)}function On(i){ne(Un),er===i&&(er=null),ne(Dt)}var Dt=q(0);function yl(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||zd(l)||Md(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Or=0,Je=null,mt=null,Ht=null,xl=!1,Xa=!1,ua=!1,bl=0,ts=0,Ka=null,_7=0;function Mt(){throw Error(r(321))}function _c(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Dn(i[l],a[l]))return!1;return!0}function Ac(i,a,l,c,v,y){return Or=y,Je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=i===null||i.memoizedState===null?Yp:Hc,ua=!1,y=l(c,v),ua=!1,Xa&&(y=dp(a,l,c,v)),cp(i),y}function cp(i){G.H=is;var a=mt!==null&&mt.next!==null;if(Or=0,Ht=mt=Je=null,xl=!1,ts=0,Ka=null,a)throw Error(r(300));i===null||qt||(i=i.dependencies,i!==null&&cl(i)&&(qt=!0))}function dp(i,a,l,c){Je=i;var v=0;do{if(Xa&&(Ka=null),ts=0,Xa=!1,25<=v)throw Error(r(301));if(v+=1,Ht=mt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=Jp,y=a(l,c)}while(Xa);return y}function A7(){var i=G.H,a=i.useState()[0];return a=typeof a.then=="function"?ns(a):a,i=i.useState()[0],(mt!==null?mt.memoizedState:null)!==i&&(Je.flags|=1024),a}function Ec(){var i=bl!==0;return bl=0,i}function Cc(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function kc(i){if(xl){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}xl=!1}Or=0,Ht=mt=Je=null,Xa=!1,ts=bl=0,Ka=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Je.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function Lt(){if(mt===null){var i=Je.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var a=Ht===null?Je.memoizedState:Ht.next;if(a!==null)Ht=a,mt=i;else{if(i===null)throw Je.alternate===null?Error(r(467)):Error(r(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ht===null?Je.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function Sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(i){var a=ts;return ts+=1,Ka===null&&(Ka=[]),i=tp(Ka,i,a),a=Je,(Ht===null?a.memoizedState:Ht.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?Yp:Hc),i}function wl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ns(i);if(i.$$typeof===B)return nn(i)}throw Error(r(438,String(i)))}function zc(i){var a=null,l=Je.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Sl(),Je.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=Z;return a.index++,l}function Pr(i,a){return typeof a=="function"?a(i):a}function Tl(i){var a=Lt();return Mc(a,mt,i)}function Mc(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var v=i.baseQueue,y=c.pending;if(y!==null){if(v!==null){var _=v.next;v.next=y.next,y.next=_}a.baseQueue=v=y,c.pending=null}if(y=i.baseState,v===null)i.memoizedState=y;else{a=v.next;var M=_=null,V=null,se=a,fe=!1;do{var me=se.lane&-536870913;if(me!==se.lane?(tt&me)===me:(Or&me)===me){var ue=se.revertLane;if(ue===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),me===Va&&(fe=!0);else if((Or&ue)===ue){se=se.next,ue===Va&&(fe=!0);continue}else me={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},V===null?(M=V=me,_=y):V=V.next=me,Je.lanes|=ue,Si|=ue;me=se.action,ua&&l(y,me),y=se.hasEagerState?se.eagerState:l(y,me)}else ue={lane:me,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},V===null?(M=V=ue,_=y):V=V.next=ue,Je.lanes|=me,Si|=me;se=se.next}while(se!==null&&se!==a);if(V===null?_=y:V.next=M,!Dn(y,i.memoizedState)&&(qt=!0,fe&&(l=Fa,l!==null)))throw l;i.memoizedState=y,i.baseState=_,i.baseQueue=V,c.lastRenderedState=y}return v===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Nc(i){var a=Lt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,v=l.pending,y=a.memoizedState;if(v!==null){l.pending=null;var _=v=v.next;do y=i(y,_.action),_=_.next;while(_!==v);Dn(y,a.memoizedState)||(qt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function fp(i,a,l){var c=Je,v=Lt(),y=rt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var _=!Dn((mt||v).memoizedState,l);if(_&&(v.memoizedState=l,qt=!0),v=v.queue,Dc(pp.bind(null,c,v,i),[i]),v.getSnapshot!==a||_||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,Za(9,{destroy:void 0},mp.bind(null,c,v,l,a),null),yt===null)throw Error(r(349));y||(Or&127)!==0||hp(c,a,l)}return l}function hp(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Je.updateQueue,a===null?(a=Sl(),Je.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function mp(i,a,l,c){a.value=l,a.getSnapshot=c,gp(a)&&vp(i)}function pp(i,a,l){return l(function(){gp(a)&&vp(i)})}function gp(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Dn(i,l)}catch{return!0}}function vp(i){var a=ea(i,2);a!==null&&Cn(a,i,2)}function Rc(i){var a=mn();if(typeof i=="function"){var l=i;if(i=l(),ua){si(!0);try{l()}finally{si(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:i},a}function yp(i,a,l,c){return i.baseState=l,Mc(i,mt,typeof c=="function"?c:Pr)}function E7(i,a,l,c,v){if(El(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};G.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,xp(a,y)):(y.next=l.next,a.pending=l.next=y)}}function xp(i,a){var l=a.action,c=a.payload,v=i.state;if(a.isTransition){var y=G.T,_={};G.T=_;try{var M=l(v,c),V=G.S;V!==null&&V(_,M),bp(i,a,M)}catch(se){Ic(i,a,se)}finally{y!==null&&_.types!==null&&(y.types=_.types),G.T=y}}else try{y=l(v,c),bp(i,a,y)}catch(se){Ic(i,a,se)}}function bp(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Sp(i,a,c)},function(c){return Ic(i,a,c)}):Sp(i,a,l)}function Sp(i,a,l){a.status="fulfilled",a.value=l,wp(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,xp(i,l)))}function Ic(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,wp(a),a=a.next;while(a!==c)}i.action=null}function wp(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Tp(i,a){return a}function _p(i,a){if(rt){var l=yt.formState;if(l!==null){e:{var c=Je;if(rt){if(wt){t:{for(var v=wt,y=jn;v.nodeType!==8;){if(!y){v=null;break t}if(v=tr(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){wt=tr(v.nextSibling),c=v.data==="F!";break e}}fi(c)}c=!1}c&&(a=l[0])}}return l=mn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:a},l.queue=c,l=Vp.bind(null,Je,c),c.dispatch=l,c=Rc(!1),y=Bc.bind(null,Je,!1,c.queue),c=mn(),v={state:a,dispatch:null,action:i,pending:null},c.queue=v,l=E7.bind(null,Je,v,y,l),v.dispatch=l,c.memoizedState=i,[a,l,!1]}function Ap(i){var a=Lt();return Ep(a,mt,i)}function Ep(i,a,l){if(a=Mc(i,a,Tp)[0],i=Tl(Pr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=ns(a)}catch(_){throw _===$a?hl:_}else c=a;a=Lt();var v=a.queue,y=v.dispatch;return l!==a.memoizedState&&(Je.flags|=2048,Za(9,{destroy:void 0},C7.bind(null,v,l),null)),[c,y,i]}function C7(i,a){i.action=a}function Cp(i){var a=Lt(),l=mt;if(l!==null)return Ep(a,l,i);Lt(),a=a.memoizedState,l=Lt();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function Za(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Je.updateQueue,a===null&&(a=Sl(),Je.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function kp(){return Lt().memoizedState}function _l(i,a,l,c){var v=mn();Je.flags|=i,v.memoizedState=Za(1|a,{destroy:void 0},l,c===void 0?null:c)}function Al(i,a,l,c){var v=Lt();c=c===void 0?null:c;var y=v.memoizedState.inst;mt!==null&&c!==null&&_c(c,mt.memoizedState.deps)?v.memoizedState=Za(a,y,l,c):(Je.flags|=i,v.memoizedState=Za(1|a,y,l,c))}function zp(i,a){_l(8390656,8,i,a)}function Dc(i,a){Al(2048,8,i,a)}function k7(i){Je.flags|=4;var a=Je.updateQueue;if(a===null)a=Sl(),Je.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Mp(i){var a=Lt().memoizedState;return k7({ref:a,nextImpl:i}),function(){if((ut&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Np(i,a){return Al(4,2,i,a)}function Rp(i,a){return Al(4,4,i,a)}function Ip(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Dp(i,a,l){l=l!=null?l.concat([i]):null,Al(4,4,Ip.bind(null,a,i),l)}function Lc(){}function Lp(i,a){var l=Lt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&_c(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function Up(i,a){var l=Lt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&_c(a,c[1]))return c[0];if(c=i(),ua){si(!0);try{i()}finally{si(!1)}}return l.memoizedState=[c,a],c}function Uc(i,a,l){return l===void 0||(Or&1073741824)!==0&&(tt&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=O1(),Je.lanes|=i,Si|=i,l)}function Op(i,a,l,c){return Dn(l,a)?l:Ja.current!==null?(i=Uc(i,l,c),Dn(i,a)||(qt=!0),i):(Or&42)===0||(Or&1073741824)!==0&&(tt&261930)===0?(qt=!0,i.memoizedState=l):(i=O1(),Je.lanes|=i,Si|=i,a)}function Pp(i,a,l,c,v){var y=le.p;le.p=y!==0&&8>y?y:8;var _=G.T,M={};G.T=M,Bc(i,!1,a,l);try{var V=v(),se=G.S;if(se!==null&&se(M,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var fe=T7(V,c);rs(i,a,fe,Hn(i))}else rs(i,a,c,Hn(i))}catch(me){rs(i,a,{then:function(){},status:"rejected",reason:me},Hn())}finally{le.p=y,_!==null&&M.types!==null&&(_.types=M.types),G.T=_}}function z7(){}function Oc(i,a,l,c){if(i.tag!==5)throw Error(r(476));var v=Bp(i).queue;Pp(i,v,a,re,l===null?z7:function(){return Hp(i),l(c)})}function Bp(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:re},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Hp(i){var a=Bp(i);a.next===null&&(a=i.alternate.memoizedState),rs(i,a.next.queue,{},Hn())}function Pc(){return nn(bs)}function qp(){return Lt().memoizedState}function Gp(){return Lt().memoizedState}function M7(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Hn();i=pi(l);var c=gi(a,i,l);c!==null&&(Cn(c,a,l),Qo(c,a,l)),a={cache:hc()},i.payload=a;return}a=a.return}}function N7(i,a,l){var c=Hn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},El(i)?Fp(a,l):(l=nc(i,a,l,c),l!==null&&(Cn(l,i,c),$p(l,a,c)))}function Vp(i,a,l){var c=Hn();rs(i,a,l,c)}function rs(i,a,l,c){var v={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(El(i))Fp(a,v);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var _=a.lastRenderedState,M=y(_,l);if(v.hasEagerState=!0,v.eagerState=M,Dn(M,_))return ol(i,a,v,0),yt===null&&al(),!1}catch{}finally{}if(l=nc(i,a,v,c),l!==null)return Cn(l,i,c),$p(l,a,c),!0}return!1}function Bc(i,a,l,c){if(c={lane:2,revertLane:vd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},El(i)){if(a)throw Error(r(479))}else a=nc(i,l,c,2),a!==null&&Cn(a,i,2)}function El(i){var a=i.alternate;return i===Je||a!==null&&a===Je}function Fp(i,a){Xa=xl=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function $p(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Zh(i,l)}}var is={readContext:nn,use:wl,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};is.useEffectEvent=Mt;var Yp={readContext:nn,use:wl,useCallback:function(i,a){return mn().memoizedState=[i,a===void 0?null:a],i},useContext:nn,useEffect:zp,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,_l(4194308,4,Ip.bind(null,a,i),l)},useLayoutEffect:function(i,a){return _l(4194308,4,i,a)},useInsertionEffect:function(i,a){_l(4,2,i,a)},useMemo:function(i,a){var l=mn();a=a===void 0?null:a;var c=i();if(ua){si(!0);try{i()}finally{si(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=mn();if(l!==void 0){var v=l(a);if(ua){si(!0);try{l(a)}finally{si(!1)}}}else v=a;return c.memoizedState=c.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},c.queue=i,i=i.dispatch=N7.bind(null,Je,i),[c.memoizedState,i]},useRef:function(i){var a=mn();return i={current:i},a.memoizedState=i},useState:function(i){i=Rc(i);var a=i.queue,l=Vp.bind(null,Je,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Lc,useDeferredValue:function(i,a){var l=mn();return Uc(l,i,a)},useTransition:function(){var i=Rc(!1);return i=Pp.bind(null,Je,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Je,v=mn();if(rt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),yt===null)throw Error(r(349));(tt&127)!==0||hp(c,a,l)}v.memoizedState=l;var y={value:l,getSnapshot:a};return v.queue=y,zp(pp.bind(null,c,y,i),[i]),c.flags|=2048,Za(9,{destroy:void 0},mp.bind(null,c,y,l,a),null),l},useId:function(){var i=mn(),a=yt.identifierPrefix;if(rt){var l=xr,c=yr;l=(c&~(1<<32-In(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=bl++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=_7++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Pc,useFormState:_p,useActionState:_p,useOptimistic:function(i){var a=mn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Bc.bind(null,Je,!0,l),l.dispatch=a,[i,a]},useMemoCache:zc,useCacheRefresh:function(){return mn().memoizedState=M7.bind(null,Je)},useEffectEvent:function(i){var a=mn(),l={impl:i};return a.memoizedState=l,function(){if((ut&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Hc={readContext:nn,use:wl,useCallback:Lp,useContext:nn,useEffect:Dc,useImperativeHandle:Dp,useInsertionEffect:Np,useLayoutEffect:Rp,useMemo:Up,useReducer:Tl,useRef:kp,useState:function(){return Tl(Pr)},useDebugValue:Lc,useDeferredValue:function(i,a){var l=Lt();return Op(l,mt.memoizedState,i,a)},useTransition:function(){var i=Tl(Pr)[0],a=Lt().memoizedState;return[typeof i=="boolean"?i:ns(i),a]},useSyncExternalStore:fp,useId:qp,useHostTransitionStatus:Pc,useFormState:Ap,useActionState:Ap,useOptimistic:function(i,a){var l=Lt();return yp(l,mt,i,a)},useMemoCache:zc,useCacheRefresh:Gp};Hc.useEffectEvent=Mp;var Jp={readContext:nn,use:wl,useCallback:Lp,useContext:nn,useEffect:Dc,useImperativeHandle:Dp,useInsertionEffect:Np,useLayoutEffect:Rp,useMemo:Up,useReducer:Nc,useRef:kp,useState:function(){return Nc(Pr)},useDebugValue:Lc,useDeferredValue:function(i,a){var l=Lt();return mt===null?Uc(l,i,a):Op(l,mt.memoizedState,i,a)},useTransition:function(){var i=Nc(Pr)[0],a=Lt().memoizedState;return[typeof i=="boolean"?i:ns(i),a]},useSyncExternalStore:fp,useId:qp,useHostTransitionStatus:Pc,useFormState:Cp,useActionState:Cp,useOptimistic:function(i,a){var l=Lt();return mt!==null?yp(l,mt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:zc,useCacheRefresh:Gp};Jp.useEffectEvent=Mp;function qc(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:x({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Gc={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=Hn(),v=pi(c);v.payload=a,l!=null&&(v.callback=l),a=gi(i,v,c),a!==null&&(Cn(a,i,c),Qo(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=Hn(),v=pi(c);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=gi(i,v,c),a!==null&&(Cn(a,i,c),Qo(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Hn(),c=pi(l);c.tag=2,a!=null&&(c.callback=a),a=gi(i,c,l),a!==null&&(Cn(a,i,l),Qo(a,i,l))}};function Xp(i,a,l,c,v,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,_):a.prototype&&a.prototype.isPureReactComponent?!Fo(l,c)||!Fo(v,y):!0}function Kp(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Gc.enqueueReplaceState(a,a.state,null)}function ca(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=x({},l));for(var v in i)l[v]===void 0&&(l[v]=i[v])}return l}function Zp(i){il(i)}function Wp(i){console.error(i)}function Qp(i){il(i)}function Cl(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function jp(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Vc(i,a,l){return l=pi(l),l.tag=3,l.payload={element:null},l.callback=function(){Cl(i,a)},l}function e1(i){return i=pi(i),i.tag=3,i}function t1(i,a,l,c){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var y=c.value;i.payload=function(){return v(y)},i.callback=function(){jp(a,l,c)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){jp(a,l,c),typeof v!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function R7(i,a,l,c,v){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Ga(a,l,v,!0),l=Un.current,l!==null){switch(l.tag){case 31:case 13:return er===null?Bl():l.alternate===null&&Nt===0&&(Nt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,c===ml?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),md(i,c,v)),!1;case 22:return l.flags|=65536,c===ml?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),md(i,c,v)),!1}throw Error(r(435,l.tag))}return md(i,c,v),Bl(),!1}if(rt)return a=Un.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,c!==lc&&(i=Error(r(422),{cause:c}),Jo(Zn(i,l)))):(c!==lc&&(a=Error(r(423),{cause:c}),Jo(Zn(a,l))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,c=Zn(c,l),v=Vc(i.stateNode,c,v),xc(i,v),Nt!==4&&(Nt=2)),!1;var y=Error(r(520),{cause:c});if(y=Zn(y,l),fs===null?fs=[y]:fs.push(y),Nt!==4&&(Nt=2),a===null)return!0;c=Zn(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=v&-v,l.lanes|=i,i=Vc(l.stateNode,c,i),xc(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wi===null||!wi.has(y))))return l.flags|=65536,v&=-v,l.lanes|=v,v=e1(v),t1(v,i,l,c),xc(l,v),!1}l=l.return}while(l!==null);return!1}var Fc=Error(r(461)),qt=!1;function rn(i,a,l,c){a.child=i===null?ap(a,null,l,c):la(a,i.child,l,c)}function n1(i,a,l,c,v){l=l.render;var y=a.ref;if("ref"in c){var _={};for(var M in c)M!=="ref"&&(_[M]=c[M])}else _=c;return ia(a),c=Ac(i,a,l,_,y,v),M=Ec(),i!==null&&!qt?(Cc(i,a,v),Br(i,a,v)):(rt&&M&&oc(a),a.flags|=1,rn(i,a,c,v),a.child)}function r1(i,a,l,c,v){if(i===null){var y=l.type;return typeof y=="function"&&!rc(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,i1(i,a,y,c,v)):(i=ll(l.type,null,c,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!Qc(i,v)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:Fo,l(_,c)&&i.ref===a.ref)return Br(i,a,v)}return a.flags|=1,i=Ir(y,c),i.ref=a.ref,i.return=a,a.child=i}function i1(i,a,l,c,v){if(i!==null){var y=i.memoizedProps;if(Fo(y,c)&&i.ref===a.ref)if(qt=!1,a.pendingProps=c=y,Qc(i,v))(i.flags&131072)!==0&&(qt=!0);else return a.lanes=i.lanes,Br(i,a,v)}return $c(i,a,l,c,v)}function a1(i,a,l,c){var v=c.children,y=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,i!==null){for(c=a.child=i.child,v=0;c!==null;)v=v|c.lanes|c.childLanes,c=c.sibling;c=v&~y}else c=0,a.child=null;return o1(i,a,y,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&fl(a,y!==null?y.cachePool:null),y!==null?lp(a,y):Sc(),up(a);else return c=a.lanes=536870912,o1(i,a,y!==null?y.baseLanes|l:l,l,c)}else y!==null?(fl(a,y.cachePool),lp(a,y),yi(),a.memoizedState=null):(i!==null&&fl(a,null),Sc(),yi());return rn(i,a,v,l),a.child}function as(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function o1(i,a,l,c,v){var y=pc();return y=y===null?null:{parent:Bt._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},i!==null&&fl(a,null),Sc(),up(a),i!==null&&Ga(i,a,c,!0),a.childLanes=v,null}function kl(i,a){return a=Ml({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function s1(i,a,l){return la(a,i.child,null,l),i=kl(a,a.pendingProps),i.flags|=2,On(a),a.memoizedState=null,i}function I7(i,a,l){var c=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(rt){if(c.mode==="hidden")return i=kl(a,c),a.lanes=536870912,as(null,i);if(Tc(a),(i=wt)?(i=xg(i,jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ci!==null?{id:yr,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},l=Fm(i),l.return=a,a.child=l,tn=a,wt=null)):i=null,i===null)throw fi(a);return a.lanes=536870912,null}return kl(a,c)}var y=i.memoizedState;if(y!==null){var _=y.dehydrated;if(Tc(a),v)if(a.flags&256)a.flags&=-257,a=s1(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(qt||Ga(i,a,l,!1),v=(l&i.childLanes)!==0,qt||v){if(c=yt,c!==null&&(_=Wh(c,l),_!==0&&_!==y.retryLane))throw y.retryLane=_,ea(i,_),Cn(c,i,_),Fc;Bl(),a=s1(i,a,l)}else i=y.treeContext,wt=tr(_.nextSibling),tn=a,rt=!0,di=null,jn=!1,i!==null&&Jm(a,i),a=kl(a,c),a.flags|=4096;return a}return i=Ir(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function zl(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function $c(i,a,l,c,v){return ia(a),l=Ac(i,a,l,c,void 0,v),c=Ec(),i!==null&&!qt?(Cc(i,a,v),Br(i,a,v)):(rt&&c&&oc(a),a.flags|=1,rn(i,a,l,v),a.child)}function l1(i,a,l,c,v,y){return ia(a),a.updateQueue=null,l=dp(a,c,l,v),cp(i),c=Ec(),i!==null&&!qt?(Cc(i,a,y),Br(i,a,y)):(rt&&c&&oc(a),a.flags|=1,rn(i,a,l,y),a.child)}function u1(i,a,l,c,v){if(ia(a),a.stateNode===null){var y=Pa,_=l.contextType;typeof _=="object"&&_!==null&&(y=nn(_)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Gc,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},vc(a),_=l.contextType,y.context=typeof _=="object"&&_!==null?nn(_):Pa,y.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(qc(a,l,_,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Gc.enqueueReplaceState(y,y.state,null),es(a,c,y,v),jo(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){y=a.stateNode;var M=a.memoizedProps,V=ca(l,M);y.props=V;var se=y.context,fe=l.contextType;_=Pa,typeof fe=="object"&&fe!==null&&(_=nn(fe));var me=l.getDerivedStateFromProps;fe=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,fe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||se!==_)&&Kp(a,y,c,_),mi=!1;var ue=a.memoizedState;y.state=ue,es(a,c,y,v),jo(),se=a.memoizedState,M||ue!==se||mi?(typeof me=="function"&&(qc(a,l,me,c),se=a.memoizedState),(V=mi||Xp(a,l,V,c,ue,se,_))?(fe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=se),y.props=c,y.state=se,y.context=_,c=V):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,yc(i,a),_=a.memoizedProps,fe=ca(l,_),y.props=fe,me=a.pendingProps,ue=y.context,se=l.contextType,V=Pa,typeof se=="object"&&se!==null&&(V=nn(se)),M=l.getDerivedStateFromProps,(se=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==me||ue!==V)&&Kp(a,y,c,V),mi=!1,ue=a.memoizedState,y.state=ue,es(a,c,y,v),jo();var de=a.memoizedState;_!==me||ue!==de||mi||i!==null&&i.dependencies!==null&&cl(i.dependencies)?(typeof M=="function"&&(qc(a,l,M,c),de=a.memoizedState),(fe=mi||Xp(a,l,fe,c,ue,de,V)||i!==null&&i.dependencies!==null&&cl(i.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,de,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,de,V)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&ue===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ue===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=de),y.props=c,y.state=de,y.context=V,c=fe):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&ue===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ue===i.memoizedState||(a.flags|=1024),c=!1)}return y=c,zl(i,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&c?(a.child=la(a,i.child,null,v),a.child=la(a,null,l,v)):rn(i,a,l,v),a.memoizedState=y.state,i=a.child):i=Br(i,a,v),i}function c1(i,a,l,c){return na(),a.flags|=256,rn(i,a,l,c),a.child}var Yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jc(i){return{baseLanes:i,cachePool:jm()}}function Xc(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Bn),i}function d1(i,a,l){var c=a.pendingProps,v=!1,y=(a.flags&128)!==0,_;if((_=y)||(_=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),_&&(v=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,i===null){if(rt){if(v?vi(a):yi(),(i=wt)?(i=xg(i,jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ci!==null?{id:yr,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},l=Fm(i),l.return=a,a.child=l,tn=a,wt=null)):i=null,i===null)throw fi(a);return Md(i)?a.lanes=32:a.lanes=536870912,null}var M=c.children;return c=c.fallback,v?(yi(),v=a.mode,M=Ml({mode:"hidden",children:M},v),c=ta(c,v,l,null),M.return=a,c.return=a,M.sibling=c,a.child=M,c=a.child,c.memoizedState=Jc(l),c.childLanes=Xc(i,_,l),a.memoizedState=Yc,as(null,c)):(vi(a),Kc(a,M))}var V=i.memoizedState;if(V!==null&&(M=V.dehydrated,M!==null)){if(y)a.flags&256?(vi(a),a.flags&=-257,a=Zc(i,a,l)):a.memoizedState!==null?(yi(),a.child=i.child,a.flags|=128,a=null):(yi(),M=c.fallback,v=a.mode,c=Ml({mode:"visible",children:c.children},v),M=ta(M,v,l,null),M.flags|=2,c.return=a,M.return=a,c.sibling=M,a.child=c,la(a,i.child,null,l),c=a.child,c.memoizedState=Jc(l),c.childLanes=Xc(i,_,l),a.memoizedState=Yc,a=as(null,c));else if(vi(a),Md(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var se=_.dgst;_=se,c=Error(r(419)),c.stack="",c.digest=_,Jo({value:c,source:null,stack:null}),a=Zc(i,a,l)}else if(qt||Ga(i,a,l,!1),_=(l&i.childLanes)!==0,qt||_){if(_=yt,_!==null&&(c=Wh(_,l),c!==0&&c!==V.retryLane))throw V.retryLane=c,ea(i,c),Cn(_,i,c),Fc;zd(M)||Bl(),a=Zc(i,a,l)}else zd(M)?(a.flags|=192,a.child=i.child,a=null):(i=V.treeContext,wt=tr(M.nextSibling),tn=a,rt=!0,di=null,jn=!1,i!==null&&Jm(a,i),a=Kc(a,c.children),a.flags|=4096);return a}return v?(yi(),M=c.fallback,v=a.mode,V=i.child,se=V.sibling,c=Ir(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,se!==null?M=Ir(se,M):(M=ta(M,v,l,null),M.flags|=2),M.return=a,c.return=a,c.sibling=M,a.child=c,as(null,c),c=a.child,M=i.child.memoizedState,M===null?M=Jc(l):(v=M.cachePool,v!==null?(V=Bt._currentValue,v=v.parent!==V?{parent:V,pool:V}:v):v=jm(),M={baseLanes:M.baseLanes|l,cachePool:v}),c.memoizedState=M,c.childLanes=Xc(i,_,l),a.memoizedState=Yc,as(i.child,c)):(vi(a),l=i.child,i=l.sibling,l=Ir(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(_=a.deletions,_===null?(a.deletions=[i],a.flags|=16):_.push(i)),a.child=l,a.memoizedState=null,l)}function Kc(i,a){return a=Ml({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Ml(i,a){return i=Ln(22,i,null,a),i.lanes=0,i}function Zc(i,a,l){return la(a,i.child,null,l),i=Kc(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function f1(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),dc(i.return,a,l)}function Wc(i,a,l,c,v,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:v,treeForkCount:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=v,_.treeForkCount=y)}function h1(i,a,l){var c=a.pendingProps,v=c.revealOrder,y=c.tail;c=c.children;var _=Dt.current,M=(_&2)!==0;if(M?(_=_&1|2,a.flags|=128):_&=1,ee(Dt,_),rn(i,a,c,l),c=rt?Yo:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&f1(i,l,a);else if(i.tag===19)f1(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(l=a.child,v=null;l!==null;)i=l.alternate,i!==null&&yl(i)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),Wc(a,!1,v,l,y,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&yl(i)===null){a.child=v;break}i=v.sibling,v.sibling=l,l=v,v=i}Wc(a,!0,l,null,y,c);break;case"together":Wc(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Br(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Si|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Ga(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ir(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ir(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Qc(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&cl(i)))}function D7(i,a,l){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),hi(a,Bt,i.memoizedState.cache),na();break;case 27:case 5:$e(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:hi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Tc(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(vi(a),a.flags|=128,null):(l&a.child.childLanes)!==0?d1(i,a,l):(vi(a),i=Br(i,a,l),i!==null?i.sibling:null);vi(a);break;case 19:var v=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Ga(i,a,l,!1),c=(l&a.childLanes)!==0),v){if(c)return h1(i,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ee(Dt,Dt.current),c)break;return null;case 22:return a.lanes=0,a1(i,a,l,a.pendingProps);case 24:hi(a,Bt,i.memoizedState.cache)}return Br(i,a,l)}function m1(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)qt=!0;else{if(!Qc(i,l)&&(a.flags&128)===0)return qt=!1,D7(i,a,l);qt=(i.flags&131072)!==0}else qt=!1,rt&&(a.flags&1048576)!==0&&Ym(a,Yo,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(i=oa(a.elementType),a.type=i,typeof i=="function")rc(i)?(c=ca(i,c),a.tag=1,a=u1(null,a,i,c,l)):(a.tag=0,a=$c(null,a,i,c,l));else{if(i!=null){var v=i.$$typeof;if(v===D){a.tag=11,a=n1(null,a,i,c,l);break e}else if(v===I){a.tag=14,a=r1(null,a,i,c,l);break e}}throw a=W(i)||i,Error(r(306,a,""))}}return a;case 0:return $c(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,v=ca(c,a.pendingProps),u1(i,a,c,v,l);case 3:e:{if(ke(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;v=y.element,yc(i,a),es(a,c,null,l);var _=a.memoizedState;if(c=_.cache,hi(a,Bt,c),c!==y.cache&&fc(a,[Bt],l,!0),jo(),c=_.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=c1(i,a,c,l);break e}else if(c!==v){v=Zn(Error(r(424)),a),Jo(v),a=c1(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(wt=tr(i.firstChild),tn=a,rt=!0,di=null,jn=!0,l=ap(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(na(),c===v){a=Br(i,a,l);break e}rn(i,a,c,l)}a=a.child}return a;case 26:return zl(i,a),i===null?(l=Ag(a.type,null,a.pendingProps,null))?a.memoizedState=l:rt||(l=a.type,i=a.pendingProps,c=Yl(Te.current).createElement(l),c[en]=a,c[Sn]=i,an(c,l,i),Wt(c),a.stateNode=c):a.memoizedState=Ag(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return $e(a),i===null&&rt&&(c=a.stateNode=wg(a.type,a.pendingProps,Te.current),tn=a,jn=!0,v=wt,Ei(a.type)?(Nd=v,wt=tr(c.firstChild)):wt=v),rn(i,a,a.pendingProps.children,l),zl(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&rt&&((v=c=wt)&&(c=c8(c,a.type,a.pendingProps,jn),c!==null?(a.stateNode=c,tn=a,wt=tr(c.firstChild),jn=!1,v=!0):v=!1),v||fi(a)),$e(a),v=a.type,y=a.pendingProps,_=i!==null?i.memoizedProps:null,c=y.children,Ed(v,y)?c=null:_!==null&&Ed(v,_)&&(a.flags|=32),a.memoizedState!==null&&(v=Ac(i,a,A7,null,null,l),bs._currentValue=v),zl(i,a),rn(i,a,c,l),a.child;case 6:return i===null&&rt&&((i=l=wt)&&(l=d8(l,a.pendingProps,jn),l!==null?(a.stateNode=l,tn=a,wt=null,i=!0):i=!1),i||fi(a)),null;case 13:return d1(i,a,l);case 4:return ke(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=la(a,null,c,l):rn(i,a,c,l),a.child;case 11:return n1(i,a,a.type,a.pendingProps,l);case 7:return rn(i,a,a.pendingProps,l),a.child;case 8:return rn(i,a,a.pendingProps.children,l),a.child;case 12:return rn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,hi(a,a.type,c.value),rn(i,a,c.children,l),a.child;case 9:return v=a.type._context,c=a.pendingProps.children,ia(a),v=nn(v),c=c(v),a.flags|=1,rn(i,a,c,l),a.child;case 14:return r1(i,a,a.type,a.pendingProps,l);case 15:return i1(i,a,a.type,a.pendingProps,l);case 19:return h1(i,a,l);case 31:return I7(i,a,l);case 22:return a1(i,a,l,a.pendingProps);case 24:return ia(a),c=nn(Bt),i===null?(v=pc(),v===null&&(v=yt,y=hc(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=l),v=y),a.memoizedState={parent:c,cache:v},vc(a),hi(a,Bt,v)):((i.lanes&l)!==0&&(yc(i,a),es(a,null,null,l),jo()),v=i.memoizedState,y=a.memoizedState,v.parent!==c?(v={parent:c,cache:c},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),hi(a,Bt,c)):(c=y.cache,hi(a,Bt,c),c!==v.cache&&fc(a,[Bt],l,!0))),rn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Hr(i){i.flags|=4}function jc(i,a,l,c,v){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(q1())i.flags|=8192;else throw sa=ml,gc}else i.flags&=-16777217}function p1(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Mg(a))if(q1())i.flags|=8192;else throw sa=ml,gc}function Nl(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Xh():536870912,i.lanes|=a,eo|=a)}function os(i,a){if(!rt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Tt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var v=i.child;v!==null;)l|=v.lanes|v.childLanes,c|=v.subtreeFlags&65011712,c|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)l|=v.lanes|v.childLanes,c|=v.subtreeFlags,c|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function L7(i,a,l){var c=a.pendingProps;switch(sc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(a),null;case 1:return Tt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ur(Bt),Ie(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(qa(a)?Hr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,uc())),Tt(a),null;case 26:var v=a.type,y=a.memoizedState;return i===null?(Hr(a),y!==null?(Tt(a),p1(a,y)):(Tt(a),jc(a,v,null,c,l))):y?y!==i.memoizedState?(Hr(a),Tt(a),p1(a,y)):(Tt(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&Hr(a),Tt(a),jc(a,v,i,c,l)),null;case 27:if(We(a),l=Te.current,v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Hr(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Tt(a),null}i=te.current,qa(a)?Xm(a):(i=wg(v,c,l),a.stateNode=i,Hr(a))}return Tt(a),null;case 5:if(We(a),v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Hr(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Tt(a),null}if(y=te.current,qa(a))Xm(a);else{var _=Yl(Te.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?_.createElement(v,{is:c.is}):_.createElement(v)}}y[en]=a,y[Sn]=c;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=y;e:switch(an(y,v,c),v){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Hr(a)}}return Tt(a),jc(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Hr(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Te.current,qa(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,v=tn,v!==null)switch(v.tag){case 27:case 5:c=v.memoizedProps}i[en]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||dg(i.nodeValue,l)),i||fi(a,!0)}else i=Yl(i).createTextNode(c),i[en]=a,a.stateNode=i}return Tt(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(c=qa(a),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[en]=a}else na(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tt(a),i=!1}else l=uc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(On(a),a):(On(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Tt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=qa(a),c!==null&&c.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[en]=a}else na(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tt(a),v=!1}else v=uc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(On(a),a):(On(a),null)}return On(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=a.child,v=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(v=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==v&&(c.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Nl(a,a.updateQueue),Tt(a),null);case 4:return Ie(),i===null&&Sd(a.stateNode.containerInfo),Tt(a),null;case 10:return Ur(a.type),Tt(a),null;case 19:if(ne(Dt),c=a.memoizedState,c===null)return Tt(a),null;if(v=(a.flags&128)!==0,y=c.rendering,y===null)if(v)os(c,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=yl(i),y!==null){for(a.flags|=128,os(c,!1),i=y.updateQueue,a.updateQueue=i,Nl(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Vm(l,i),l=l.sibling;return ee(Dt,Dt.current&1|2),rt&&Dr(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&hn()>Ul&&(a.flags|=128,v=!0,os(c,!1),a.lanes=4194304)}else{if(!v)if(i=yl(y),i!==null){if(a.flags|=128,v=!0,i=i.updateQueue,a.updateQueue=i,Nl(a,i),os(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!rt)return Tt(a),null}else 2*hn()-c.renderingStartTime>Ul&&l!==536870912&&(a.flags|=128,v=!0,os(c,!1),a.lanes=4194304);c.isBackwards?(y.sibling=a.child,a.child=y):(i=c.last,i!==null?i.sibling=y:a.child=y,c.last=y)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=hn(),i.sibling=null,l=Dt.current,ee(Dt,v?l&1|2:l&1),rt&&Dr(a,c.treeForkCount),i):(Tt(a),null);case 22:case 23:return On(a),wc(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Tt(a),a.subtreeFlags&6&&(a.flags|=8192)):Tt(a),l=a.updateQueue,l!==null&&Nl(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&ne(aa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ur(Bt),Tt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function U7(i,a){switch(sc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ur(Bt),Ie(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 31:if(a.memoizedState!==null){if(On(a),a.alternate===null)throw Error(r(340));na()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(On(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));na()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ne(Dt),null;case 4:return Ie(),null;case 10:return Ur(a.type),null;case 22:case 23:return On(a),wc(),i!==null&&ne(aa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ur(Bt),null;case 25:return null;default:return null}}function g1(i,a){switch(sc(a),a.tag){case 3:Ur(Bt),Ie();break;case 26:case 27:case 5:We(a);break;case 4:Ie();break;case 31:a.memoizedState!==null&&On(a);break;case 13:On(a);break;case 19:ne(Dt);break;case 10:Ur(a.type);break;case 22:case 23:On(a),wc(),i!==null&&ne(aa);break;case 24:Ur(Bt)}}function ss(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var v=c.next;l=v;do{if((l.tag&i)===i){c=void 0;var y=l.create,_=l.inst;c=y(),_.destroy=c}l=l.next}while(l!==v)}}catch(M){dt(a,a.return,M)}}function xi(i,a,l){try{var c=a.updateQueue,v=c!==null?c.lastEffect:null;if(v!==null){var y=v.next;c=y;do{if((c.tag&i)===i){var _=c.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,v=a;var V=l,se=M;try{se()}catch(fe){dt(v,V,fe)}}}c=c.next}while(c!==y)}}catch(fe){dt(a,a.return,fe)}}function v1(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{sp(a,l)}catch(c){dt(i,i.return,c)}}}function y1(i,a,l){l.props=ca(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){dt(i,a,c)}}function ls(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(v){dt(i,a,v)}}function br(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(v){dt(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){dt(i,a,v)}else l.current=null}function x1(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(v){dt(i,i.return,v)}}function ed(i,a,l){try{var c=i.stateNode;i8(c,i.type,l,a),c[Sn]=a}catch(v){dt(i,i.return,v)}}function b1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ei(i.type)||i.tag===4}function td(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||b1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ei(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nd(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Nr));else if(c!==4&&(c===27&&Ei(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(nd(i,a,l),i=i.sibling;i!==null;)nd(i,a,l),i=i.sibling}function Rl(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&Ei(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Rl(i,a,l),i=i.sibling;i!==null;)Rl(i,a,l),i=i.sibling}function S1(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);an(a,c,l),a[en]=i,a[Sn]=l}catch(y){dt(i,i.return,y)}}var qr=!1,Gt=!1,rd=!1,w1=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function O7(i,a){if(i=i.containerInfo,_d=jl,i=Dm(i),Zu(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var v=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,M=-1,V=-1,se=0,fe=0,me=i,ue=null;t:for(;;){for(var de;me!==l||v!==0&&me.nodeType!==3||(M=_+v),me!==y||c!==0&&me.nodeType!==3||(V=_+c),me.nodeType===3&&(_+=me.nodeValue.length),(de=me.firstChild)!==null;)ue=me,me=de;for(;;){if(me===i)break t;if(ue===l&&++se===v&&(M=_),ue===y&&++fe===c&&(V=_),(de=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=de}l=M===-1||V===-1?null:{start:M,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ad={focusedElem:i,selectionRange:l},jl=!1,Qt=a;Qt!==null;)if(a=Qt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Qt=i;else for(;Qt!==null;){switch(a=Qt,y=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)v=i[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,v=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var ze=ca(l.type,v);i=c.getSnapshotBeforeUpdate(ze,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(qe){dt(l,l.return,qe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)kd(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Qt=i;break}Qt=a.return}}function T1(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Vr(i,l),c&4&&ss(5,l);break;case 1:if(Vr(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(_){dt(l,l.return,_)}else{var v=ca(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(_){dt(l,l.return,_)}}c&64&&v1(l),c&512&&ls(l,l.return);break;case 3:if(Vr(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{sp(i,a)}catch(_){dt(l,l.return,_)}}break;case 27:a===null&&c&4&&S1(l);case 26:case 5:Vr(i,l),a===null&&c&4&&x1(l),c&512&&ls(l,l.return);break;case 12:Vr(i,l);break;case 31:Vr(i,l),c&4&&E1(i,l);break;case 13:Vr(i,l),c&4&&C1(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Y7.bind(null,l),f8(i,l))));break;case 22:if(c=l.memoizedState!==null||qr,!c){a=a!==null&&a.memoizedState!==null||Gt,v=qr;var y=Gt;qr=c,(Gt=a)&&!y?Fr(i,l,(l.subtreeFlags&8772)!==0):Vr(i,l),qr=v,Gt=y}break;case 30:break;default:Vr(i,l)}}function _1(i){var a=i.alternate;a!==null&&(i.alternate=null,_1(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Iu(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _t=null,Tn=!1;function Gr(i,a,l){for(l=l.child;l!==null;)A1(i,a,l),l=l.sibling}function A1(i,a,l){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Ro,l)}catch{}switch(l.tag){case 26:Gt||br(l,a),Gr(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gt||br(l,a);var c=_t,v=Tn;Ei(l.type)&&(_t=l.stateNode,Tn=!1),Gr(i,a,l),vs(l.stateNode),_t=c,Tn=v;break;case 5:Gt||br(l,a);case 6:if(c=_t,v=Tn,_t=null,Gr(i,a,l),_t=c,Tn=v,_t!==null)if(Tn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(l.stateNode)}catch(y){dt(l,a,y)}else try{_t.removeChild(l.stateNode)}catch(y){dt(l,a,y)}break;case 18:_t!==null&&(Tn?(i=_t,vg(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),lo(i)):vg(_t,l.stateNode));break;case 4:c=_t,v=Tn,_t=l.stateNode.containerInfo,Tn=!0,Gr(i,a,l),_t=c,Tn=v;break;case 0:case 11:case 14:case 15:xi(2,l,a),Gt||xi(4,l,a),Gr(i,a,l);break;case 1:Gt||(br(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&y1(l,a,c)),Gr(i,a,l);break;case 21:Gr(i,a,l);break;case 22:Gt=(c=Gt)||l.memoizedState!==null,Gr(i,a,l),Gt=c;break;default:Gr(i,a,l)}}function E1(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{lo(i)}catch(l){dt(a,a.return,l)}}}function C1(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{lo(i)}catch(l){dt(a,a.return,l)}}function P7(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new w1),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new w1),a;default:throw Error(r(435,i.tag))}}function Il(i,a){var l=P7(i);a.forEach(function(c){if(!l.has(c)){l.add(c);var v=J7.bind(null,i,c);c.then(v,v)}})}function _n(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var v=l[c],y=i,_=a,M=_;e:for(;M!==null;){switch(M.tag){case 27:if(Ei(M.type)){_t=M.stateNode,Tn=!1;break e}break;case 5:_t=M.stateNode,Tn=!1;break e;case 3:case 4:_t=M.stateNode.containerInfo,Tn=!0;break e}M=M.return}if(_t===null)throw Error(r(160));A1(y,_,v),_t=null,Tn=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)k1(a,i),a=a.sibling}var fr=null;function k1(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(a,i),An(i),c&4&&(xi(3,i,i.return),ss(3,i),xi(5,i,i.return));break;case 1:_n(a,i),An(i),c&512&&(Gt||l===null||br(l,l.return)),c&64&&qr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var v=fr;if(_n(a,i),An(i),c&512&&(Gt||l===null||br(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,v=v.ownerDocument||v;t:switch(c){case"title":y=v.getElementsByTagName("title")[0],(!y||y[Lo]||y[en]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(c),v.head.insertBefore(y,v.querySelector("head > title"))),an(y,c,l),y[en]=i,Wt(y),c=y;break e;case"link":var _=kg("link","href",v).get(c+(l.href||""));if(_){for(var M=0;M<_.length;M++)if(y=_[M],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(M,1);break t}}y=v.createElement(c),an(y,c,l),v.head.appendChild(y);break;case"meta":if(_=kg("meta","content",v).get(c+(l.content||""))){for(M=0;M<_.length;M++)if(y=_[M],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(M,1);break t}}y=v.createElement(c),an(y,c,l),v.head.appendChild(y);break;default:throw Error(r(468,c))}y[en]=i,Wt(y),c=y}i.stateNode=c}else zg(v,i.type,i.stateNode);else i.stateNode=Cg(v,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?zg(v,i.type,i.stateNode):Cg(v,c,i.memoizedProps)):c===null&&i.stateNode!==null&&ed(i,i.memoizedProps,l.memoizedProps)}break;case 27:_n(a,i),An(i),c&512&&(Gt||l===null||br(l,l.return)),l!==null&&c&4&&ed(i,i.memoizedProps,l.memoizedProps);break;case 5:if(_n(a,i),An(i),c&512&&(Gt||l===null||br(l,l.return)),i.flags&32){v=i.stateNode;try{Na(v,"")}catch(ze){dt(i,i.return,ze)}}c&4&&i.stateNode!=null&&(v=i.memoizedProps,ed(i,v,l!==null?l.memoizedProps:v)),c&1024&&(rd=!0);break;case 6:if(_n(a,i),An(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ze){dt(i,i.return,ze)}}break;case 3:if(Kl=null,v=fr,fr=Jl(a.containerInfo),_n(a,i),fr=v,An(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{lo(a.containerInfo)}catch(ze){dt(i,i.return,ze)}rd&&(rd=!1,z1(i));break;case 4:c=fr,fr=Jl(i.stateNode.containerInfo),_n(a,i),An(i),fr=c;break;case 12:_n(a,i),An(i);break;case 31:_n(a,i),An(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Il(i,c)));break;case 13:_n(a,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ll=hn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Il(i,c)));break;case 22:v=i.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,se=qr,fe=Gt;if(qr=se||v,Gt=fe||V,_n(a,i),Gt=fe,qr=se,An(i),c&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||V||qr||Gt||da(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){V=l=a;try{if(y=V.stateNode,v)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=V.stateNode;var me=V.memoizedProps.style,ue=me!=null&&me.hasOwnProperty("display")?me.display:null;M.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(ze){dt(V,V.return,ze)}}}else if(a.tag===6){if(l===null){V=a;try{V.stateNode.nodeValue=v?"":V.memoizedProps}catch(ze){dt(V,V.return,ze)}}}else if(a.tag===18){if(l===null){V=a;try{var de=V.stateNode;v?yg(de,!0):yg(V.stateNode,!1)}catch(ze){dt(V,V.return,ze)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Il(i,l))));break;case 19:_n(a,i),An(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Il(i,c)));break;case 30:break;case 21:break;default:_n(a,i),An(i)}}function An(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(b1(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var v=l.stateNode,y=td(i);Rl(i,y,v);break;case 5:var _=l.stateNode;l.flags&32&&(Na(_,""),l.flags&=-33);var M=td(i);Rl(i,M,_);break;case 3:case 4:var V=l.stateNode.containerInfo,se=td(i);nd(i,se,V);break;default:throw Error(r(161))}}catch(fe){dt(i,i.return,fe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function z1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;z1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Vr(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)T1(i,a.alternate,a),a=a.sibling}function da(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:xi(4,a,a.return),da(a);break;case 1:br(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&y1(a,a.return,l),da(a);break;case 27:vs(a.stateNode);case 26:case 5:br(a,a.return),da(a);break;case 22:a.memoizedState===null&&da(a);break;case 30:da(a);break;default:da(a)}i=i.sibling}}function Fr(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,v=i,y=a,_=y.flags;switch(y.tag){case 0:case 11:case 15:Fr(v,y,l),ss(4,y);break;case 1:if(Fr(v,y,l),c=y,v=c.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){dt(c,c.return,se)}if(c=y,v=c.updateQueue,v!==null){var M=c.stateNode;try{var V=v.shared.hiddenCallbacks;if(V!==null)for(v.shared.hiddenCallbacks=null,v=0;v<V.length;v++)op(V[v],M)}catch(se){dt(c,c.return,se)}}l&&_&64&&v1(y),ls(y,y.return);break;case 27:S1(y);case 26:case 5:Fr(v,y,l),l&&c===null&&_&4&&x1(y),ls(y,y.return);break;case 12:Fr(v,y,l);break;case 31:Fr(v,y,l),l&&_&4&&E1(v,y);break;case 13:Fr(v,y,l),l&&_&4&&C1(v,y);break;case 22:y.memoizedState===null&&Fr(v,y,l),ls(y,y.return);break;case 30:break;default:Fr(v,y,l)}a=a.sibling}}function id(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Xo(l))}function ad(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Xo(i))}function hr(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)M1(i,a,l,c),a=a.sibling}function M1(i,a,l,c){var v=a.flags;switch(a.tag){case 0:case 11:case 15:hr(i,a,l,c),v&2048&&ss(9,a);break;case 1:hr(i,a,l,c);break;case 3:hr(i,a,l,c),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Xo(i)));break;case 12:if(v&2048){hr(i,a,l,c),i=a.stateNode;try{var y=a.memoizedProps,_=y.id,M=y.onPostCommit;typeof M=="function"&&M(_,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){dt(a,a.return,V)}}else hr(i,a,l,c);break;case 31:hr(i,a,l,c);break;case 13:hr(i,a,l,c);break;case 23:break;case 22:y=a.stateNode,_=a.alternate,a.memoizedState!==null?y._visibility&2?hr(i,a,l,c):us(i,a):y._visibility&2?hr(i,a,l,c):(y._visibility|=2,Wa(i,a,l,c,(a.subtreeFlags&10256)!==0||!1)),v&2048&&id(_,a);break;case 24:hr(i,a,l,c),v&2048&&ad(a.alternate,a);break;default:hr(i,a,l,c)}}function Wa(i,a,l,c,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=i,_=a,M=l,V=c,se=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(y,_,M,V,v),ss(8,_);break;case 23:break;case 22:var fe=_.stateNode;_.memoizedState!==null?fe._visibility&2?Wa(y,_,M,V,v):us(y,_):(fe._visibility|=2,Wa(y,_,M,V,v)),v&&se&2048&&id(_.alternate,_);break;case 24:Wa(y,_,M,V,v),v&&se&2048&&ad(_.alternate,_);break;default:Wa(y,_,M,V,v)}a=a.sibling}}function us(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,v=c.flags;switch(c.tag){case 22:us(l,c),v&2048&&id(c.alternate,c);break;case 24:us(l,c),v&2048&&ad(c.alternate,c);break;default:us(l,c)}a=a.sibling}}var cs=8192;function Qa(i,a,l){if(i.subtreeFlags&cs)for(i=i.child;i!==null;)N1(i,a,l),i=i.sibling}function N1(i,a,l){switch(i.tag){case 26:Qa(i,a,l),i.flags&cs&&i.memoizedState!==null&&_8(l,fr,i.memoizedState,i.memoizedProps);break;case 5:Qa(i,a,l);break;case 3:case 4:var c=fr;fr=Jl(i.stateNode.containerInfo),Qa(i,a,l),fr=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=cs,cs=16777216,Qa(i,a,l),cs=c):Qa(i,a,l));break;default:Qa(i,a,l)}}function R1(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ds(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Qt=c,D1(c,i)}R1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I1(i),i=i.sibling}function I1(i){switch(i.tag){case 0:case 11:case 15:ds(i),i.flags&2048&&xi(9,i,i.return);break;case 3:ds(i);break;case 12:ds(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Dl(i)):ds(i);break;default:ds(i)}}function Dl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Qt=c,D1(c,i)}R1(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:xi(8,a,a.return),Dl(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Dl(a));break;default:Dl(a)}i=i.sibling}}function D1(i,a){for(;Qt!==null;){var l=Qt;switch(l.tag){case 0:case 11:case 15:xi(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Xo(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Qt=c;else e:for(l=i;Qt!==null;){c=Qt;var v=c.sibling,y=c.return;if(_1(c),c===l){Qt=null;break e}if(v!==null){v.return=y,Qt=v;break e}Qt=y}}}var B7={getCacheForType:function(i){var a=nn(Bt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return nn(Bt).controller.signal}},H7=typeof WeakMap=="function"?WeakMap:Map,ut=0,yt=null,je=null,tt=0,ct=0,Pn=null,bi=!1,ja=!1,od=!1,$r=0,Nt=0,Si=0,fa=0,sd=0,Bn=0,eo=0,fs=null,En=null,ld=!1,Ll=0,L1=0,Ul=1/0,Ol=null,wi=null,Yt=0,Ti=null,to=null,Yr=0,ud=0,cd=null,U1=null,hs=0,dd=null;function Hn(){return(ut&2)!==0&&tt!==0?tt&-tt:G.T!==null?vd():Qh()}function O1(){if(Bn===0)if((tt&536870912)===0||rt){var i=$s;$s<<=1,($s&3932160)===0&&($s=262144),Bn=i}else Bn=536870912;return i=Un.current,i!==null&&(i.flags|=32),Bn}function Cn(i,a,l){(i===yt&&(ct===2||ct===9)||i.cancelPendingCommit!==null)&&(no(i,0),_i(i,tt,Bn,!1)),Do(i,l),((ut&2)===0||i!==yt)&&(i===yt&&((ut&2)===0&&(fa|=l),Nt===4&&_i(i,tt,Bn,!1)),Sr(i))}function P1(i,a,l){if((ut&6)!==0)throw Error(r(327));var c=!l&&(a&127)===0&&(a&i.expiredLanes)===0||Io(i,a),v=c?V7(i,a):hd(i,a,!0),y=c;do{if(v===0){ja&&!c&&_i(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!q7(l)){v=hd(i,a,!1),y=!1;continue}if(v===2){if(y=a,i.errorRecoveryDisabledLanes&y)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var M=i;v=fs;var V=M.current.memoizedState.isDehydrated;if(V&&(no(M,_).flags|=256),_=hd(M,_,!1),_!==2){if(od&&!V){M.errorRecoveryDisabledLanes|=y,fa|=y,v=4;break e}y=En,En=v,y!==null&&(En===null?En=y:En.push.apply(En,y))}v=_}if(y=!1,v!==2)continue}}if(v===1){no(i,0),_i(i,a,0,!0);break}e:{switch(c=i,y=v,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:_i(c,a,Bn,!bi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=Ll+300-hn(),10<v)){if(_i(c,a,Bn,!bi),Js(c,0,!0)!==0)break e;Yr=a,c.timeoutHandle=pg(B1.bind(null,c,l,En,Ol,ld,a,Bn,fa,eo,bi,y,"Throttled",-0,0),v);break e}B1(c,l,En,Ol,ld,a,Bn,fa,eo,bi,y,null,-0,0)}}break}while(!0);Sr(i)}function B1(i,a,l,c,v,y,_,M,V,se,fe,me,ue,de){if(i.timeoutHandle=-1,me=a.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},N1(a,y,me);var ze=(y&62914560)===y?Ll-hn():(y&4194048)===y?L1-hn():0;if(ze=A8(me,ze),ze!==null){Yr=y,i.cancelPendingCommit=ze(J1.bind(null,i,a,y,l,c,v,_,M,V,fe,me,null,ue,de)),_i(i,y,_,!se);return}}J1(i,a,y,l,c,v,_,M,V)}function q7(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var v=l[c],y=v.getSnapshot;v=v.value;try{if(!Dn(y(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _i(i,a,l,c){a&=~sd,a&=~fa,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var v=a;0<v;){var y=31-In(v),_=1<<y;c[y]=-1,v&=~_}l!==0&&Kh(i,l,a)}function Pl(){return(ut&6)===0?(ms(0),!1):!0}function fd(){if(je!==null){if(ct===0)var i=je.return;else i=je,Lr=ra=null,kc(i),Ya=null,Zo=0,i=je;for(;i!==null;)g1(i.alternate,i),i=i.return;je=null}}function no(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,s8(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Yr=0,fd(),yt=i,je=l=Ir(i.current,null),tt=a,ct=0,Pn=null,bi=!1,ja=Io(i,a),od=!1,eo=Bn=sd=fa=Si=Nt=0,En=fs=null,ld=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var v=31-In(c),y=1<<v;a|=i[v],c&=~y}return $r=a,al(),l}function H1(i,a){Je=null,G.H=is,a===$a||a===hl?(a=np(),ct=3):a===gc?(a=np(),ct=4):ct=a===Fc?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Pn=a,je===null&&(Nt=1,Cl(i,Zn(a,i.current)))}function q1(){var i=Un.current;return i===null?!0:(tt&4194048)===tt?er===null:(tt&62914560)===tt||(tt&536870912)!==0?i===er:!1}function G1(){var i=G.H;return G.H=is,i===null?is:i}function V1(){var i=G.A;return G.A=B7,i}function Bl(){Nt=4,bi||(tt&4194048)!==tt&&Un.current!==null||(ja=!0),(Si&134217727)===0&&(fa&134217727)===0||yt===null||_i(yt,tt,Bn,!1)}function hd(i,a,l){var c=ut;ut|=2;var v=G1(),y=V1();(yt!==i||tt!==a)&&(Ol=null,no(i,a)),a=!1;var _=Nt;e:do try{if(ct!==0&&je!==null){var M=je,V=Pn;switch(ct){case 8:fd(),_=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(a=!0);var se=ct;if(ct=0,Pn=null,ro(i,M,V,se),l&&ja){_=0;break e}break;default:se=ct,ct=0,Pn=null,ro(i,M,V,se)}}G7(),_=Nt;break}catch(fe){H1(i,fe)}while(!0);return a&&i.shellSuspendCounter++,Lr=ra=null,ut=c,G.H=v,G.A=y,je===null&&(yt=null,tt=0,al()),_}function G7(){for(;je!==null;)F1(je)}function V7(i,a){var l=ut;ut|=2;var c=G1(),v=V1();yt!==i||tt!==a?(Ol=null,Ul=hn()+500,no(i,a)):ja=Io(i,a);e:do try{if(ct!==0&&je!==null){a=je;var y=Pn;t:switch(ct){case 1:ct=0,Pn=null,ro(i,a,y,1);break;case 2:case 9:if(ep(y)){ct=0,Pn=null,$1(a);break}a=function(){ct!==2&&ct!==9||yt!==i||(ct=7),Sr(i)},y.then(a,a);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:ep(y)?(ct=0,Pn=null,$1(a)):(ct=0,Pn=null,ro(i,a,y,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var M=je;if(_?Mg(_):M.stateNode.complete){ct=0,Pn=null;var V=M.sibling;if(V!==null)je=V;else{var se=M.return;se!==null?(je=se,Hl(se)):je=null}break t}}ct=0,Pn=null,ro(i,a,y,5);break;case 6:ct=0,Pn=null,ro(i,a,y,6);break;case 8:fd(),Nt=6;break e;default:throw Error(r(462))}}F7();break}catch(fe){H1(i,fe)}while(!0);return Lr=ra=null,G.H=c,G.A=v,ut=l,je!==null?0:(yt=null,tt=0,al(),Nt)}function F7(){for(;je!==null&&!Cu();)F1(je)}function F1(i){var a=m1(i.alternate,i,$r);i.memoizedProps=i.pendingProps,a===null?Hl(i):je=a}function $1(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=l1(l,a,a.pendingProps,a.type,void 0,tt);break;case 11:a=l1(l,a,a.pendingProps,a.type.render,a.ref,tt);break;case 5:kc(a);default:g1(l,a),a=je=Vm(a,$r),a=m1(l,a,$r)}i.memoizedProps=i.pendingProps,a===null?Hl(i):je=a}function ro(i,a,l,c){Lr=ra=null,kc(a),Ya=null,Zo=0;var v=a.return;try{if(R7(i,v,a,l,tt)){Nt=1,Cl(i,Zn(l,i.current)),je=null;return}}catch(y){if(v!==null)throw je=v,y;Nt=1,Cl(i,Zn(l,i.current)),je=null;return}a.flags&32768?(rt||c===1?i=!0:ja||(tt&536870912)!==0?i=!1:(bi=i=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),Y1(a,i)):Hl(a)}function Hl(i){var a=i;do{if((a.flags&32768)!==0){Y1(a,bi);return}i=a.return;var l=L7(a.alternate,a,$r);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=i}while(a!==null);Nt===0&&(Nt=5)}function Y1(i,a){do{var l=U7(i.alternate,i);if(l!==null){l.flags&=32767,je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){je=i;return}je=i=l}while(i!==null);Nt=6,je=null}function J1(i,a,l,c,v,y,_,M,V){i.cancelPendingCommit=null;do ql();while(Yt!==0);if((ut&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=tc,T6(i,l,y,_,M,V),i===yt&&(je=yt=null,tt=0),to=a,Ti=i,Yr=l,ud=y,cd=v,U1=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,X7(Vs,function(){return Q1(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,v=le.p,le.p=2,_=ut,ut|=4;try{O7(i,a,l)}finally{ut=_,le.p=v,G.T=c}}Yt=1,X1(),K1(),Z1()}}function X1(){if(Yt===1){Yt=0;var i=Ti,a=to,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var c=le.p;le.p=2;var v=ut;ut|=4;try{k1(a,i);var y=Ad,_=Dm(i.containerInfo),M=y.focusedElem,V=y.selectionRange;if(_!==M&&M&&M.ownerDocument&&Im(M.ownerDocument.documentElement,M)){if(V!==null&&Zu(M)){var se=V.start,fe=V.end;if(fe===void 0&&(fe=se),"selectionStart"in M)M.selectionStart=se,M.selectionEnd=Math.min(fe,M.value.length);else{var me=M.ownerDocument||document,ue=me&&me.defaultView||window;if(ue.getSelection){var de=ue.getSelection(),ze=M.textContent.length,qe=Math.min(V.start,ze),gt=V.end===void 0?qe:Math.min(V.end,ze);!de.extend&&qe>gt&&(_=gt,gt=qe,qe=_);var j=Rm(M,qe),J=Rm(M,gt);if(j&&J&&(de.rangeCount!==1||de.anchorNode!==j.node||de.anchorOffset!==j.offset||de.focusNode!==J.node||de.focusOffset!==J.offset)){var ae=me.createRange();ae.setStart(j.node,j.offset),de.removeAllRanges(),qe>gt?(de.addRange(ae),de.extend(J.node,J.offset)):(ae.setEnd(J.node,J.offset),de.addRange(ae))}}}}for(me=[],de=M;de=de.parentNode;)de.nodeType===1&&me.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<me.length;M++){var he=me[M];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}jl=!!_d,Ad=_d=null}finally{ut=v,le.p=c,G.T=l}}i.current=a,Yt=2}}function K1(){if(Yt===2){Yt=0;var i=Ti,a=to,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var c=le.p;le.p=2;var v=ut;ut|=4;try{T1(i,a.alternate,a)}finally{ut=v,le.p=c,G.T=l}}Yt=3}}function Z1(){if(Yt===4||Yt===3){Yt=0,Xi();var i=Ti,a=to,l=Yr,c=U1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Yt=5:(Yt=0,to=Ti=null,W1(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(wi=null),Nu(l),a=a.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Ro,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=G.T,v=le.p,le.p=2,G.T=null;try{for(var y=i.onRecoverableError,_=0;_<c.length;_++){var M=c[_];y(M.value,{componentStack:M.stack})}}finally{G.T=a,le.p=v}}(Yr&3)!==0&&ql(),Sr(i),v=i.pendingLanes,(l&261930)!==0&&(v&42)!==0?i===dd?hs++:(hs=0,dd=i):hs=0,ms(0)}}function W1(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Xo(a)))}function ql(){return X1(),K1(),Z1(),Q1()}function Q1(){if(Yt!==5)return!1;var i=Ti,a=ud;ud=0;var l=Nu(Yr),c=G.T,v=le.p;try{le.p=32>l?32:l,G.T=null,l=cd,cd=null;var y=Ti,_=Yr;if(Yt=0,to=Ti=null,Yr=0,(ut&6)!==0)throw Error(r(331));var M=ut;if(ut|=4,I1(y.current),M1(y,y.current,_,l),ut=M,ms(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Ro,y)}catch{}return!0}finally{le.p=v,G.T=c,W1(i,a)}}function j1(i,a,l){a=Zn(l,a),a=Vc(i.stateNode,a,2),i=gi(i,a,2),i!==null&&(Do(i,2),Sr(i))}function dt(i,a,l){if(i.tag===3)j1(i,i,l);else for(;a!==null;){if(a.tag===3){j1(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wi===null||!wi.has(c))){i=Zn(l,i),l=e1(2),c=gi(a,l,2),c!==null&&(t1(l,c,a,i),Do(c,2),Sr(c));break}}a=a.return}}function md(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new H7;var v=new Set;c.set(a,v)}else v=c.get(a),v===void 0&&(v=new Set,c.set(a,v));v.has(l)||(od=!0,v.add(l),i=$7.bind(null,i,a,l),a.then(i,i))}function $7(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,yt===i&&(tt&l)===l&&(Nt===4||Nt===3&&(tt&62914560)===tt&&300>hn()-Ll?(ut&2)===0&&no(i,0):sd|=l,eo===tt&&(eo=0)),Sr(i)}function eg(i,a){a===0&&(a=Xh()),i=ea(i,a),i!==null&&(Do(i,a),Sr(i))}function Y7(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),eg(i,l)}function J7(i,a){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,v=i.memoizedState;v!==null&&(l=v.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),eg(i,l)}function X7(i,a){return No(i,a)}var Gl=null,io=null,pd=!1,Vl=!1,gd=!1,Ai=0;function Sr(i){i!==io&&i.next===null&&(io===null?Gl=io=i:io=io.next=i),Vl=!0,pd||(pd=!0,Z7())}function ms(i,a){if(!gd&&Vl){gd=!0;do for(var l=!1,c=Gl;c!==null;){if(i!==0){var v=c.pendingLanes;if(v===0)var y=0;else{var _=c.suspendedLanes,M=c.pingedLanes;y=(1<<31-In(42|i)+1)-1,y&=v&~(_&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,ig(c,y))}else y=tt,y=Js(c,c===yt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Io(c,y)||(l=!0,ig(c,y));c=c.next}while(l);gd=!1}}function K7(){tg()}function tg(){Vl=pd=!1;var i=0;Ai!==0&&o8()&&(i=Ai);for(var a=hn(),l=null,c=Gl;c!==null;){var v=c.next,y=ng(c,a);y===0?(c.next=null,l===null?Gl=v:l.next=v,v===null&&(io=l)):(l=c,(i!==0||(y&3)!==0)&&(Vl=!0)),c=v}Yt!==0&&Yt!==5||ms(i),Ai!==0&&(Ai=0)}function ng(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,v=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var _=31-In(y),M=1<<_,V=v[_];V===-1?((M&l)===0||(M&c)!==0)&&(v[_]=w6(M,a)):V<=a&&(i.expiredLanes|=M),y&=~M}if(a=yt,l=tt,l=Js(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(ct===2||ct===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ji(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Io(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Ji(c),Nu(l)){case 2:case 8:l=Yh;break;case 32:l=Vs;break;case 268435456:l=Jh;break;default:l=Vs}return c=rg.bind(null,i),l=No(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Ji(c),i.callbackPriority=2,i.callbackNode=null,2}function rg(i,a){if(Yt!==0&&Yt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(ql()&&i.callbackNode!==l)return null;var c=tt;return c=Js(i,i===yt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(P1(i,c,a),ng(i,hn()),i.callbackNode!=null&&i.callbackNode===l?rg.bind(null,i):null)}function ig(i,a){if(ql())return null;P1(i,a,!0)}function Z7(){l8(function(){(ut&6)!==0?No($h,K7):tg()})}function vd(){if(Ai===0){var i=Va;i===0&&(i=Fs,Fs<<=1,(Fs&261888)===0&&(Fs=256)),Ai=i}return Ai}function ag(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ws(""+i)}function og(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function W7(i,a,l,c,v){if(a==="submit"&&l&&l.stateNode===v){var y=ag((v[Sn]||null).action),_=c.submitter;_&&(a=(a=_[Sn]||null)?ag(a.formAction):_.getAttribute("formAction"),a!==null&&(y=a,_=null));var M=new tl("action","action",null,c,v);i.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ai!==0){var V=_?og(v,_):new FormData(v);Oc(l,{pending:!0,data:V,method:v.method,action:y},null,V)}}else typeof y=="function"&&(M.preventDefault(),V=_?og(v,_):new FormData(v),Oc(l,{pending:!0,data:V,method:v.method,action:y},y,V))},currentTarget:v}]})}}for(var yd=0;yd<ec.length;yd++){var xd=ec[yd],Q7=xd.toLowerCase(),j7=xd[0].toUpperCase()+xd.slice(1);dr(Q7,"on"+j7)}dr(Om,"onAnimationEnd"),dr(Pm,"onAnimationIteration"),dr(Bm,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(p7,"onTransitionRun"),dr(g7,"onTransitionStart"),dr(v7,"onTransitionCancel"),dr(Hm,"onTransitionEnd"),za("onMouseEnter",["mouseout","mouseover"]),za("onMouseLeave",["mouseout","mouseover"]),za("onPointerEnter",["pointerout","pointerover"]),za("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ps));function sg(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],v=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var _=c.length-1;0<=_;_--){var M=c[_],V=M.instance,se=M.currentTarget;if(M=M.listener,V!==y&&v.isPropagationStopped())break e;y=M,v.currentTarget=se;try{y(v)}catch(fe){il(fe)}v.currentTarget=null,y=V}else for(_=0;_<c.length;_++){if(M=c[_],V=M.instance,se=M.currentTarget,M=M.listener,V!==y&&v.isPropagationStopped())break e;y=M,v.currentTarget=se;try{y(v)}catch(fe){il(fe)}v.currentTarget=null,y=V}}}}function et(i,a){var l=a[Ru];l===void 0&&(l=a[Ru]=new Set);var c=i+"__bubble";l.has(c)||(lg(a,i,2,!1),l.add(c))}function bd(i,a,l){var c=0;a&&(c|=4),lg(l,i,c,a)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function Sd(i){if(!i[Fl]){i[Fl]=!0,tm.forEach(function(l){l!=="selectionchange"&&(e8.has(l)||bd(l,!1,i),bd(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Fl]||(a[Fl]=!0,bd("selectionchange",!1,a))}}function lg(i,a,l,c){switch(Og(a)){case 2:var v=k8;break;case 8:v=z8;break;default:v=Ud}l=v.bind(null,a,l,i),v=void 0,!qu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),c?v!==void 0?i.addEventListener(a,l,{capture:!0,passive:v}):i.addEventListener(a,l,!0):v!==void 0?i.addEventListener(a,l,{passive:v}):i.addEventListener(a,l,!1)}function wd(i,a,l,c,v){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var M=c.stateNode.containerInfo;if(M===v)break;if(_===4)for(_=c.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===v)return;_=_.return}for(;M!==null;){if(_=Ea(M),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){c=y=_;continue e}M=M.parentNode}}c=c.return}hm(function(){var se=y,fe=Bu(l),me=[];e:{var ue=qm.get(i);if(ue!==void 0){var de=tl,ze=i;switch(i){case"keypress":if(js(l)===0)break e;case"keydown":case"keyup":de=J6;break;case"focusin":ze="focus",de=$u;break;case"focusout":ze="blur",de=$u;break;case"beforeblur":case"afterblur":de=$u;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=gm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=L6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Z6;break;case Om:case Pm:case Bm:de=P6;break;case Hm:de=Q6;break;case"scroll":case"scrollend":de=I6;break;case"wheel":de=e7;break;case"copy":case"cut":case"paste":de=H6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=ym;break;case"toggle":case"beforetoggle":de=n7}var qe=(a&4)!==0,gt=!qe&&(i==="scroll"||i==="scrollend"),j=qe?ue!==null?ue+"Capture":null:ue;qe=[];for(var J=se,ae;J!==null;){var he=J;if(ae=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ae===null||j===null||(he=Oo(J,j),he!=null&&qe.push(gs(J,he,ae))),gt)break;J=J.return}0<qe.length&&(ue=new de(ue,ze,null,l,fe),me.push({event:ue,listeners:qe}))}}if((a&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ue&&l!==Pu&&(ze=l.relatedTarget||l.fromElement)&&(Ea(ze)||ze[Aa]))break e;if((de||ue)&&(ue=fe.window===fe?fe:(ue=fe.ownerDocument)?ue.defaultView||ue.parentWindow:window,de?(ze=l.relatedTarget||l.toElement,de=se,ze=ze?Ea(ze):null,ze!==null&&(gt=s(ze),qe=ze.tag,ze!==gt||qe!==5&&qe!==27&&qe!==6)&&(ze=null)):(de=null,ze=se),de!==ze)){if(qe=gm,he="onMouseLeave",j="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(qe=ym,he="onPointerLeave",j="onPointerEnter",J="pointer"),gt=de==null?ue:Uo(de),ae=ze==null?ue:Uo(ze),ue=new qe(he,J+"leave",de,l,fe),ue.target=gt,ue.relatedTarget=ae,he=null,Ea(fe)===se&&(qe=new qe(j,J+"enter",ze,l,fe),qe.target=ae,qe.relatedTarget=gt,he=qe),gt=he,de&&ze)t:{for(qe=t8,j=de,J=ze,ae=0,he=j;he;he=qe(he))ae++;he=0;for(var Ue=J;Ue;Ue=qe(Ue))he++;for(;0<ae-he;)j=qe(j),ae--;for(;0<he-ae;)J=qe(J),he--;for(;ae--;){if(j===J||J!==null&&j===J.alternate){qe=j;break t}j=qe(j),J=qe(J)}qe=null}else qe=null;de!==null&&ug(me,ue,de,qe,!1),ze!==null&&gt!==null&&ug(me,gt,ze,qe,!0)}}e:{if(ue=se?Uo(se):window,de=ue.nodeName&&ue.nodeName.toLowerCase(),de==="select"||de==="input"&&ue.type==="file")var ot=Em;else if(_m(ue))if(Cm)ot=f7;else{ot=c7;var De=u7}else de=ue.nodeName,!de||de.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?se&&Ou(se.elementType)&&(ot=Em):ot=d7;if(ot&&(ot=ot(i,se))){Am(me,ot,l,fe);break e}De&&De(i,ue,se),i==="focusout"&&se&&ue.type==="number"&&se.memoizedProps.value!=null&&Uu(ue,"number",ue.value)}switch(De=se?Uo(se):window,i){case"focusin":(_m(De)||De.contentEditable==="true")&&(La=De,Wu=se,$o=null);break;case"focusout":$o=Wu=La=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,Lm(me,l,fe);break;case"selectionchange":if(m7)break;case"keydown":case"keyup":Lm(me,l,fe)}var Xe;if(Ju)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Da?wm(i,l)&&(nt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(nt="onCompositionStart");nt&&(xm&&l.locale!=="ko"&&(Da||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Da&&(Xe=mm()):(ui=fe,Gu="value"in ui?ui.value:ui.textContent,Da=!0)),De=$l(se,nt),0<De.length&&(nt=new vm(nt,i,null,l,fe),me.push({event:nt,listeners:De}),Xe?nt.data=Xe:(Xe=Tm(l),Xe!==null&&(nt.data=Xe)))),(Xe=i7?a7(i,l):o7(i,l))&&(nt=$l(se,"onBeforeInput"),0<nt.length&&(De=new vm("onBeforeInput","beforeinput",null,l,fe),me.push({event:De,listeners:nt}),De.data=Xe)),W7(me,i,se,l,fe)}sg(me,a)})}function gs(i,a,l){return{instance:i,listener:a,currentTarget:l}}function $l(i,a){for(var l=a+"Capture",c=[];i!==null;){var v=i,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=Oo(i,l),v!=null&&c.unshift(gs(i,v,y)),v=Oo(i,a),v!=null&&c.push(gs(i,v,y))),i.tag===3)return c;i=i.return}return[]}function t8(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ug(i,a,l,c,v){for(var y=a._reactName,_=[];l!==null&&l!==c;){var M=l,V=M.alternate,se=M.stateNode;if(M=M.tag,V!==null&&V===c)break;M!==5&&M!==26&&M!==27||se===null||(V=se,v?(se=Oo(l,y),se!=null&&_.unshift(gs(l,se,V))):v||(se=Oo(l,y),se!=null&&_.push(gs(l,se,V)))),l=l.return}_.length!==0&&i.push({event:a,listeners:_})}var n8=/\r\n?/g,r8=/\u0000|\uFFFD/g;function cg(i){return(typeof i=="string"?i:""+i).replace(n8,`
`).replace(r8,"")}function dg(i,a){return a=cg(a),cg(i)===a}function pt(i,a,l,c,v,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Na(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Na(i,""+c);break;case"className":Ks(i,"class",c);break;case"tabIndex":Ks(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(i,l,c);break;case"style":dm(i,c,y);break;case"data":if(a!=="object"){Ks(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ws(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&pt(i,a,"name",v.name,v,null),pt(i,a,"formEncType",v.formEncType,v,null),pt(i,a,"formMethod",v.formMethod,v,null),pt(i,a,"formTarget",v.formTarget,v,null)):(pt(i,a,"encType",v.encType,v,null),pt(i,a,"method",v.method,v,null),pt(i,a,"target",v.target,v,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ws(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Nr);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Ws(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":et("beforetoggle",i),et("toggle",i),Xs(i,"popover",c);break;case"xlinkActuate":Mr(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mr(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mr(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mr(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mr(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mr(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mr(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Xs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=N6.get(l)||l,Xs(i,l,c))}}function Td(i,a,l,c,v,y){switch(l){case"style":dm(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Na(i,c):(typeof c=="number"||typeof c=="bigint")&&Na(i,""+c);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nm.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),y=i[Sn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,v),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,v);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Xs(i,l,c)}}}function an(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",i),et("load",i);var c=!1,v=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":c=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:pt(i,a,y,_,l,null)}}v&&pt(i,a,"srcSet",l.srcSet,l,null),c&&pt(i,a,"src",l.src,l,null);return;case"input":et("invalid",i);var M=y=_=v=null,V=null,se=null;for(c in l)if(l.hasOwnProperty(c)){var fe=l[c];if(fe!=null)switch(c){case"name":v=fe;break;case"type":_=fe;break;case"checked":V=fe;break;case"defaultChecked":se=fe;break;case"value":y=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,a));break;default:pt(i,a,c,fe,l,null)}}sm(i,y,M,V,se,_,v,!1);return;case"select":et("invalid",i),c=_=y=null;for(v in l)if(l.hasOwnProperty(v)&&(M=l[v],M!=null))switch(v){case"value":y=M;break;case"defaultValue":_=M;break;case"multiple":c=M;default:pt(i,a,v,M,l,null)}a=y,l=_,i.multiple=!!c,a!=null?Ma(i,!!c,a,!1):l!=null&&Ma(i,!!c,l,!0);return;case"textarea":et("invalid",i),y=v=c=null;for(_ in l)if(l.hasOwnProperty(_)&&(M=l[_],M!=null))switch(_){case"value":c=M;break;case"defaultValue":v=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:pt(i,a,_,M,l,null)}um(i,c,v,y);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(c=l[V],c!=null))switch(V){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pt(i,a,V,c,l,null)}return;case"dialog":et("beforetoggle",i),et("toggle",i),et("cancel",i),et("close",i);break;case"iframe":case"object":et("load",i);break;case"video":case"audio":for(c=0;c<ps.length;c++)et(ps[c],i);break;case"image":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"embed":case"source":case"link":et("error",i),et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(c=l[se],c!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:pt(i,a,se,c,l,null)}return;default:if(Ou(a)){for(fe in l)l.hasOwnProperty(fe)&&(c=l[fe],c!==void 0&&Td(i,a,fe,c,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(c=l[M],c!=null&&pt(i,a,M,c,l,null))}function i8(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,_=null,M=null,V=null,se=null,fe=null;for(de in l){var me=l[de];if(l.hasOwnProperty(de)&&me!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":V=me;default:c.hasOwnProperty(de)||pt(i,a,de,null,c,me)}}for(var ue in c){var de=c[ue];if(me=l[ue],c.hasOwnProperty(ue)&&(de!=null||me!=null))switch(ue){case"type":y=de;break;case"name":v=de;break;case"checked":se=de;break;case"defaultChecked":fe=de;break;case"value":_=de;break;case"defaultValue":M=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:de!==me&&pt(i,a,ue,de,c,me)}}Lu(i,_,M,V,se,fe,y,v);return;case"select":de=_=M=ue=null;for(y in l)if(V=l[y],l.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":de=V;default:c.hasOwnProperty(y)||pt(i,a,y,null,c,V)}for(v in c)if(y=c[v],V=l[v],c.hasOwnProperty(v)&&(y!=null||V!=null))switch(v){case"value":ue=y;break;case"defaultValue":M=y;break;case"multiple":_=y;default:y!==V&&pt(i,a,v,y,c,V)}a=M,l=_,c=de,ue!=null?Ma(i,!!l,ue,!1):!!c!=!!l&&(a!=null?Ma(i,!!l,a,!0):Ma(i,!!l,l?[]:"",!1));return;case"textarea":de=ue=null;for(M in l)if(v=l[M],l.hasOwnProperty(M)&&v!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:pt(i,a,M,null,c,v)}for(_ in c)if(v=c[_],y=l[_],c.hasOwnProperty(_)&&(v!=null||y!=null))switch(_){case"value":ue=v;break;case"defaultValue":de=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==y&&pt(i,a,_,v,c,y)}lm(i,ue,de);return;case"option":for(var ze in l)if(ue=l[ze],l.hasOwnProperty(ze)&&ue!=null&&!c.hasOwnProperty(ze))switch(ze){case"selected":i.selected=!1;break;default:pt(i,a,ze,null,c,ue)}for(V in c)if(ue=c[V],de=l[V],c.hasOwnProperty(V)&&ue!==de&&(ue!=null||de!=null))switch(V){case"selected":i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:pt(i,a,V,ue,c,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in l)ue=l[qe],l.hasOwnProperty(qe)&&ue!=null&&!c.hasOwnProperty(qe)&&pt(i,a,qe,null,c,ue);for(se in c)if(ue=c[se],de=l[se],c.hasOwnProperty(se)&&ue!==de&&(ue!=null||de!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,a));break;default:pt(i,a,se,ue,c,de)}return;default:if(Ou(a)){for(var gt in l)ue=l[gt],l.hasOwnProperty(gt)&&ue!==void 0&&!c.hasOwnProperty(gt)&&Td(i,a,gt,void 0,c,ue);for(fe in c)ue=c[fe],de=l[fe],!c.hasOwnProperty(fe)||ue===de||ue===void 0&&de===void 0||Td(i,a,fe,ue,c,de);return}}for(var j in l)ue=l[j],l.hasOwnProperty(j)&&ue!=null&&!c.hasOwnProperty(j)&&pt(i,a,j,null,c,ue);for(me in c)ue=c[me],de=l[me],!c.hasOwnProperty(me)||ue===de||ue==null&&de==null||pt(i,a,me,ue,c,de)}function fg(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a8(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var v=l[c],y=v.transferSize,_=v.initiatorType,M=v.duration;if(y&&M&&fg(_)){for(_=0,M=v.responseEnd,c+=1;c<l.length;c++){var V=l[c],se=V.startTime;if(se>M)break;var fe=V.transferSize,me=V.initiatorType;fe&&fg(me)&&(V=V.responseEnd,_+=fe*(V<M?1:(M-se)/(V-se)))}if(--c,a+=8*(y+_)/(v.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var _d=null,Ad=null;function Yl(i){return i.nodeType===9?i:i.ownerDocument}function hg(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mg(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Ed(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cd=null;function o8(){var i=window.event;return i&&i.type==="popstate"?i===Cd?!1:(Cd=i,!0):(Cd=null,!1)}var pg=typeof setTimeout=="function"?setTimeout:void 0,s8=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,l8=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(i){return gg.resolve(null).then(i).catch(u8)}:pg;function u8(i){setTimeout(function(){throw i})}function Ei(i){return i==="head"}function vg(i,a){var l=a,c=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(v),lo(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")vs(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,vs(l);for(var y=l.firstChild;y;){var _=y.nextSibling,M=y.nodeName;y[Lo]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=_}}else l==="body"&&vs(i.ownerDocument.body);l=v}while(l);lo(a)}function yg(i,a){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function kd(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kd(l),Iu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function c8(i,a,l,c){for(;i.nodeType===1;){var v=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Lo])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=tr(i.nextSibling),i===null)break}return null}function d8(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=tr(i.nextSibling),i===null))return null;return i}function xg(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=tr(i.nextSibling),i===null))return null;return i}function zd(i){return i.data==="$?"||i.data==="$~"}function Md(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function f8(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function tr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Nd=null;function bg(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return tr(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function Sg(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function wg(i,a,l){switch(a=Yl(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function vs(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Iu(i)}var nr=new Map,Tg=new Set;function Jl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Jr=le.d;le.d={f:h8,r:m8,D:p8,C:g8,L:v8,m:y8,X:b8,S:x8,M:S8};function h8(){var i=Jr.f(),a=Pl();return i||a}function m8(i){var a=Ca(i);a!==null&&a.tag===5&&a.type==="form"?Hp(a):Jr.r(i)}var ao=typeof document>"u"?null:document;function _g(i,a,l){var c=ao;if(c&&typeof a=="string"&&a){var v=Xn(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Tg.has(v)||(Tg.add(v),i={rel:i,crossOrigin:l,href:a},c.querySelector(v)===null&&(a=c.createElement("link"),an(a,"link",i),Wt(a),c.head.appendChild(a)))}}function p8(i){Jr.D(i),_g("dns-prefetch",i,null)}function g8(i,a){Jr.C(i,a),_g("preconnect",i,a)}function v8(i,a,l){Jr.L(i,a,l);var c=ao;if(c&&i&&a){var v='link[rel="preload"][as="'+Xn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Xn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Xn(l.imageSizes)+'"]')):v+='[href="'+Xn(i)+'"]';var y=v;switch(a){case"style":y=oo(i);break;case"script":y=so(i)}nr.has(y)||(i=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),nr.set(y,i),c.querySelector(v)!==null||a==="style"&&c.querySelector(ys(y))||a==="script"&&c.querySelector(xs(y))||(a=c.createElement("link"),an(a,"link",i),Wt(a),c.head.appendChild(a)))}}function y8(i,a){Jr.m(i,a);var l=ao;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Xn(c)+'"][href="'+Xn(i)+'"]',y=v;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=so(i)}if(!nr.has(y)&&(i=x({rel:"modulepreload",href:i},a),nr.set(y,i),l.querySelector(v)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xs(y)))return}c=l.createElement("link"),an(c,"link",i),Wt(c),l.head.appendChild(c)}}}function x8(i,a,l){Jr.S(i,a,l);var c=ao;if(c&&i){var v=ka(c).hoistableStyles,y=oo(i);a=a||"default";var _=v.get(y);if(!_){var M={loading:0,preload:null};if(_=c.querySelector(ys(y)))M.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":a},l),(l=nr.get(y))&&Rd(i,l);var V=_=c.createElement("link");Wt(V),an(V,"link",i),V._p=new Promise(function(se,fe){V.onload=se,V.onerror=fe}),V.addEventListener("load",function(){M.loading|=1}),V.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Xl(_,a,c)}_={type:"stylesheet",instance:_,count:1,state:M},v.set(y,_)}}}function b8(i,a){Jr.X(i,a);var l=ao;if(l&&i){var c=ka(l).hoistableScripts,v=so(i),y=c.get(v);y||(y=l.querySelector(xs(v)),y||(i=x({src:i,async:!0},a),(a=nr.get(v))&&Id(i,a),y=l.createElement("script"),Wt(y),an(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(v,y))}}function S8(i,a){Jr.M(i,a);var l=ao;if(l&&i){var c=ka(l).hoistableScripts,v=so(i),y=c.get(v);y||(y=l.querySelector(xs(v)),y||(i=x({src:i,async:!0,type:"module"},a),(a=nr.get(v))&&Id(i,a),y=l.createElement("script"),Wt(y),an(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(v,y))}}function Ag(i,a,l,c){var v=(v=Te.current)?Jl(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=oo(l.href),l=ka(v).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=oo(l.href);var y=ka(v).hoistableStyles,_=y.get(i);if(_||(v=v.ownerDocument||v,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,_),(y=v.querySelector(ys(i)))&&!y._p&&(_.instance=y,_.state.loading=5),nr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},nr.set(i,l),y||w8(v,i,l,_.state))),a&&c===null)throw Error(r(528,""));return _}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=so(l),l=ka(v).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function oo(i){return'href="'+Xn(i)+'"'}function ys(i){return'link[rel="stylesheet"]['+i+"]"}function Eg(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function w8(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),an(a,"link",l),Wt(a),i.head.appendChild(a))}function so(i){return'[src="'+Xn(i)+'"]'}function xs(i){return"script[async]"+i}function Cg(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Xn(l.href)+'"]');if(c)return a.instance=c,Wt(c),c;var v=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Wt(c),an(c,"style",v),Xl(c,l.precedence,i),a.instance=c;case"stylesheet":v=oo(l.href);var y=i.querySelector(ys(v));if(y)return a.state.loading|=4,a.instance=y,Wt(y),y;c=Eg(l),(v=nr.get(v))&&Rd(c,v),y=(i.ownerDocument||i).createElement("link"),Wt(y);var _=y;return _._p=new Promise(function(M,V){_.onload=M,_.onerror=V}),an(y,"link",c),a.state.loading|=4,Xl(y,l.precedence,i),a.instance=y;case"script":return y=so(l.src),(v=i.querySelector(xs(y)))?(a.instance=v,Wt(v),v):(c=l,(v=nr.get(y))&&(c=x({},l),Id(c,v)),i=i.ownerDocument||i,v=i.createElement("script"),Wt(v),an(v,"link",c),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Xl(c,l.precedence,i));return a.instance}function Xl(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=c.length?c[c.length-1]:null,y=v,_=0;_<c.length;_++){var M=c[_];if(M.dataset.precedence===a)y=M;else if(y!==v)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Rd(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Id(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Kl=null;function kg(i,a,l){if(Kl===null){var c=new Map,v=Kl=new Map;v.set(l,c)}else v=Kl,c=v.get(l),c||(c=new Map,v.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),v=0;v<l.length;v++){var y=l[v];if(!(y[Lo]||y[en]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(a)||"";_=i+_;var M=c.get(_);M?M.push(y):c.set(_,[y])}}return c}function zg(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function T8(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Mg(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _8(i,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=oo(c.href),y=a.querySelector(ys(v));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Zl.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=y,Wt(y);return}y=a.ownerDocument||a,c=Eg(c),(v=nr.get(v))&&Rd(c,v),y=y.createElement("link"),Wt(y);var _=y;_._p=new Promise(function(M,V){_.onload=M,_.onerror=V}),an(y,"link",c),l.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Zl.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var Dd=0;function A8(i,a){return i.stylesheets&&i.count===0&&Ql(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&Ql(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+a);0<i.imgBytes&&Dd===0&&(Dd=62500*a8());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ql(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Dd?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(v)}}:null}function Zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ql(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wl=null;function Ql(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wl=new Map,a.forEach(E8,i),Wl=null,Zl.call(i))}function E8(i,a){if(!(a.state.loading&4)){var l=Wl.get(i);if(l)var c=l.get(null);else{l=new Map,Wl.set(i,l);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var _=v[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),c=_)}c&&l.set(null,c)}v=a.instance,_=v.getAttribute("data-precedence"),y=l.get(_)||c,y===c&&l.set(null,v),l.set(_,v),this.count++,c=Zl.bind(this),v.addEventListener("load",c),v.addEventListener("error",c),y?y.parentNode.insertBefore(v,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var bs={$$typeof:B,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function C8(i,a,l,c,v,y,_,M,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.hiddenUpdates=zu(null),this.identifierPrefix=c,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Ng(i,a,l,c,v,y,_,M,V,se,fe,me){return i=new C8(i,a,l,_,V,se,fe,me,M),a=1,y===!0&&(a|=24),y=Ln(3,null,null,a),i.current=y,y.stateNode=i,a=hc(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},vc(y),i}function Rg(i){return i?(i=Pa,i):Pa}function Ig(i,a,l,c,v,y){v=Rg(v),c.context===null?c.context=v:c.pendingContext=v,c=pi(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=gi(i,c,a),l!==null&&(Cn(l,i,a),Qo(l,i,a))}function Dg(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Ld(i,a){Dg(i,a),(i=i.alternate)&&Dg(i,a)}function Lg(i){if(i.tag===13||i.tag===31){var a=ea(i,67108864);a!==null&&Cn(a,i,67108864),Ld(i,67108864)}}function Ug(i){if(i.tag===13||i.tag===31){var a=Hn();a=Mu(a);var l=ea(i,a);l!==null&&Cn(l,i,a),Ld(i,a)}}var jl=!0;function k8(i,a,l,c){var v=G.T;G.T=null;var y=le.p;try{le.p=2,Ud(i,a,l,c)}finally{le.p=y,G.T=v}}function z8(i,a,l,c){var v=G.T;G.T=null;var y=le.p;try{le.p=8,Ud(i,a,l,c)}finally{le.p=y,G.T=v}}function Ud(i,a,l,c){if(jl){var v=Od(c);if(v===null)wd(i,a,c,e0,l),Pg(i,c);else if(N8(v,i,a,l,c))c.stopPropagation();else if(Pg(i,c),a&4&&-1<M8.indexOf(i)){for(;v!==null;){var y=Ca(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Ki(y.pendingLanes);if(_!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var V=1<<31-In(_);M.entanglements[1]|=V,_&=~V}Sr(y),(ut&6)===0&&(Ul=hn()+500,ms(0))}}break;case 31:case 13:M=ea(y,2),M!==null&&Cn(M,y,2),Pl(),Ld(y,2)}if(y=Od(c),y===null&&wd(i,a,c,e0,l),y===v)break;v=y}v!==null&&c.stopPropagation()}else wd(i,a,c,null,l)}}function Od(i){return i=Bu(i),Pd(i)}var e0=null;function Pd(i){if(e0=null,i=Ea(i),i!==null){var a=s(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=d(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return e0=i,null}function Og(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ku()){case $h:return 2;case Yh:return 8;case Vs:case g6:return 32;case Jh:return 268435456;default:return 32}default:return 32}}var Bd=!1,Ci=null,ki=null,zi=null,Ss=new Map,ws=new Map,Mi=[],M8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pg(i,a){switch(i){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Ss.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(a.pointerId)}}function Ts(i,a,l,c,v,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[v]},a!==null&&(a=Ca(a),a!==null&&Lg(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function N8(i,a,l,c,v){switch(a){case"focusin":return Ci=Ts(Ci,i,a,l,c,v),!0;case"dragenter":return ki=Ts(ki,i,a,l,c,v),!0;case"mouseover":return zi=Ts(zi,i,a,l,c,v),!0;case"pointerover":var y=v.pointerId;return Ss.set(y,Ts(Ss.get(y)||null,i,a,l,c,v)),!0;case"gotpointercapture":return y=v.pointerId,ws.set(y,Ts(ws.get(y)||null,i,a,l,c,v)),!0}return!1}function Bg(i){var a=Ea(i.target);if(a!==null){var l=s(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,jh(i.priority,function(){Ug(l)});return}}else if(a===31){if(a=d(l),a!==null){i.blockedOn=a,jh(i.priority,function(){Ug(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function t0(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Od(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Pu=c,l.target.dispatchEvent(c),Pu=null}else return a=Ca(l),a!==null&&Lg(a),i.blockedOn=l,!1;a.shift()}return!0}function Hg(i,a,l){t0(i)&&l.delete(a)}function R8(){Bd=!1,Ci!==null&&t0(Ci)&&(Ci=null),ki!==null&&t0(ki)&&(ki=null),zi!==null&&t0(zi)&&(zi=null),Ss.forEach(Hg),ws.forEach(Hg)}function n0(i,a){i.blockedOn===a&&(i.blockedOn=null,Bd||(Bd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,R8)))}var r0=null;function qg(i){r0!==i&&(r0=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){r0===i&&(r0=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],v=i[a+2];if(typeof c!="function"){if(Pd(c||l)===null)continue;break}var y=Ca(l);y!==null&&(i.splice(a,3),a-=3,Oc(y,{pending:!0,data:v,method:l.method,action:c},c,v))}}))}function lo(i){function a(V){return n0(V,i)}Ci!==null&&n0(Ci,i),ki!==null&&n0(ki,i),zi!==null&&n0(zi,i),Ss.forEach(a),ws.forEach(a);for(var l=0;l<Mi.length;l++){var c=Mi[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Mi.length&&(l=Mi[0],l.blockedOn===null);)Bg(l),l.blockedOn===null&&Mi.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var v=l[c],y=l[c+1],_=v[Sn]||null;if(typeof y=="function")_||qg(l);else if(_){var M=null;if(y&&y.hasAttribute("formAction")){if(v=y,_=y[Sn]||null)M=_.formAction;else if(Pd(v)!==null)continue}else M=_.action;typeof M=="function"?l[c+1]=M:(l.splice(c,3),c-=3),qg(l)}}}function Gg(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return v=_})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Hd(i){this._internalRoot=i}i0.prototype.render=Hd.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Hn();Ig(l,c,i,a,null,null)},i0.prototype.unmount=Hd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ig(i.current,2,null,i,null,null),Pl(),a[Aa]=null}};function i0(i){this._internalRoot=i}i0.prototype.unstable_scheduleHydration=function(i){if(i){var a=Qh();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Mi.length&&a!==0&&a<Mi[l].priority;l++);Mi.splice(l,0,i),l===0&&Bg(i)}};var Vg=e.version;if(Vg!=="19.2.4")throw Error(r(527,Vg,"19.2.4"));le.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var I8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a0.isDisabled&&a0.supportsFiber)try{Ro=a0.inject(I8),Rn=a0}catch{}}return As.createRoot=function(i,a){if(!o(i))throw Error(r(299));var l=!1,c="",v=Zp,y=Wp,_=Qp;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=Ng(i,1,!1,null,null,l,c,null,v,y,_,Gg),i[Aa]=a.current,Sd(i),new Hd(a)},As.hydrateRoot=function(i,a,l){if(!o(i))throw Error(r(299));var c=!1,v="",y=Zp,_=Wp,M=Qp,V=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),a=Ng(i,1,!0,a,l??null,c,v,V,y,_,M,Gg),a.context=Rg(null),l=a.current,c=Hn(),c=Mu(c),v=pi(c),v.callback=null,gi(l,v,c),l=c,a.current.lanes=l,Do(a,l),Sr(a),i[Aa]=a.current,Sd(i),new i0(a)},As.version="19.2.4",As}var jg;function V8(){if(jg)return Vd.exports;jg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vd.exports=G8(),Vd.exports}var v2=V8();class Gn{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Gn(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class ir{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new ir(n,Gn.range(this,e))}}class ye{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,o,s,u=n&&n.loc;if(u&&u.start<=u.end){var d=u.lexer.input;o=u.start,s=u.end,o===d.length?r+=" at end of input: ":r+=" at position "+(o+1)+": ";var f=d.slice(o,s).replace(/[^]/g,"$&"),h;o>15?h=""+d.slice(o-15,o):h=d.slice(0,o);var g;s+15<d.length?g=d.slice(s,s+15)+"":g=d.slice(s),r+=h+f+g}var x=new Error(r);return x.name="ParseError",x.__proto__=ye.prototype,x.position=o,o!=null&&s!=null&&(x.length=s-o),x.rawMessage=e,x}}ye.prototype.__proto__=Error.prototype;var F8=function(e,n){return e.indexOf(n)!==-1},$8=function(e,n){return e===void 0?n:e},Y8=/([A-Z])/g,J8=function(e){return e.replace(Y8,"-$1").toLowerCase()},X8={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},K8=/[&><"']/g;function Z8(t){return String(t).replace(K8,e=>X8[e])}var y2=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},W8=function(e){var n=y2(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Q8=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},j8=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Oe={contains:F8,deflt:$8,escape:Z8,hyphenate:J8,getBaseElem:y2,isCharacterBox:W8,protocolFromUrl:j8},Is={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function ex(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let rh=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Is)if(Is.hasOwnProperty(n)){var r=Is[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:ex(r)}}reportNonstrict(e,n,r){var o=this.strict;if(typeof o=="function"&&(o=o(e,n,r)),!(!o||o==="ignore")){if(o===!0||o==="error")throw new ye("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);o==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var o=this.strict;if(typeof o=="function")try{o=o(e,n,r)}catch{o="error"}return!o||o==="ignore"?!1:o===!0||o==="error"?!0:o==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Oe.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}};class Ri{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return wr[tx[this.id]]}sub(){return wr[nx[this.id]]}fracNum(){return wr[rx[this.id]]}fracDen(){return wr[ix[this.id]]}cramp(){return wr[ax[this.id]]}text(){return wr[ox[this.id]]}isTight(){return this.size>=2}}var ih=0,L0=1,vo=2,Qr=3,Ls=4,rr=5,So=6,yn=7,wr=[new Ri(ih,0,!1),new Ri(L0,0,!0),new Ri(vo,1,!1),new Ri(Qr,1,!0),new Ri(Ls,2,!1),new Ri(rr,2,!0),new Ri(So,3,!1),new Ri(yn,3,!0)],tx=[Ls,rr,Ls,rr,So,yn,So,yn],nx=[rr,rr,rr,rr,yn,yn,yn,yn],rx=[vo,Qr,Ls,rr,So,yn,So,yn],ix=[Qr,Qr,rr,rr,yn,yn,yn,yn],ax=[L0,L0,Qr,Qr,rr,rr,yn,yn],ox=[ih,L0,vo,Qr,vo,Qr,vo,Qr],He={DISPLAY:wr[ih],TEXT:wr[vo],SCRIPT:wr[Ls],SCRIPTSCRIPT:wr[So]},Sf=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function sx(t){for(var e=0;e<Sf.length;e++)for(var n=Sf[e],r=0;r<n.blocks.length;r++){var o=n.blocks[r];if(t>=o[0]&&t<=o[1])return n.name}return null}var z0=[];Sf.forEach(t=>t.blocks.forEach(e=>z0.push(...e)));function x2(t){for(var e=0;e<z0.length;e+=2)if(t>=z0[e]&&t<=z0[e+1])return!0;return!1}var uo=80,lx=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},ux=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},cx=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},dx=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},fx=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},hx=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},mx=function(e,n,r){var o=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+o+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},px=function(e,n,r){n=1e3*n;var o="";switch(e){case"sqrtMain":o=lx(n,uo);break;case"sqrtSize1":o=ux(n,uo);break;case"sqrtSize2":o=cx(n,uo);break;case"sqrtSize3":o=dx(n,uo);break;case"sqrtSize4":o=fx(n,uo);break;case"sqrtTall":o=mx(n,uo,r)}return o},gx=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},ev={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},vx=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Hs{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Oe.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Ar={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},s0={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},tv={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function b2(t,e){Ar[t]=e}function ah(t,e,n){if(!Ar[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),o=Ar[e][r];if(!o&&t[0]in tv&&(r=tv[t[0]].charCodeAt(0),o=Ar[e][r]),!o&&n==="text"&&x2(r)&&(o=Ar[e][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var Jd={};function yx(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Jd[e]){var n=Jd[e]={cssEmPerMu:s0.quad[e]/18};for(var r in s0)s0.hasOwnProperty(r)&&(n[r]=s0[r][e])}return Jd[e]}var xx=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],nv=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],rv=function(e,n){return n.size<2?e:xx[e-1][n.size-1]};class Zr{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Zr.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=nv[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Zr(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:rv(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:nv[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=rv(Zr.BASESIZE,e);return this.size===n&&this.textSize===Zr.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Zr.BASESIZE?["sizing","reset-size"+this.size,"size"+Zr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=yx(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Zr.BASESIZE=6;var wf={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},bx={ex:!0,em:!0,mu:!0},S2=function(e){return typeof e!="string"&&(e=e.unit),e in wf||e in bx||e==="ex"},kt=function(e,n){var r;if(e.unit in wf)r=wf[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var o;if(n.style.isTight()?o=n.havingStyle(n.style.text()):o=n,e.unit==="ex")r=o.fontMetrics().xHeight;else if(e.unit==="em")r=o.fontMetrics().quad;else throw new ye("Invalid unit: '"+e.unit+"'");o!==n&&(r*=o.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Se=function(e){return+e.toFixed(4)+"em"},Hi=function(e){return e.filter(n=>n).join(" ")},w2=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var o=n.getColor();o&&(this.style.color=o)}},T2=function(e){var n=document.createElement(e);n.className=Hi(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&n.setAttribute(o,this.attributes[o]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},Sx=/[\s"'>/=\x00-\x1f]/,_2=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Oe.escape(Hi(this.classes))+'"');var r="";for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=Oe.hyphenate(o)+":"+this.style[o]+";");r&&(n+=' style="'+Oe.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Sx.test(s))throw new ye("Invalid attribute name '"+s+"'");n+=" "+s+'="'+Oe.escape(this.attributes[s])+'"'}n+=">";for(var u=0;u<this.children.length;u++)n+=this.children[u].toMarkup();return n+="</"+e+">",n};class qs{constructor(e,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,w2.call(this,e,r,o),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Oe.contains(this.classes,e)}toNode(){return T2.call(this,"span")}toMarkup(){return _2.call(this,"span")}}class oh{constructor(e,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,w2.call(this,n,o),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Oe.contains(this.classes,e)}toNode(){return T2.call(this,"a")}toMarkup(){return _2.call(this,"a")}}class wx{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Oe.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Oe.escape(this.src)+'"'+(' alt="'+Oe.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Oe.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Oe.escape(n)+'"'),e+="'/>",e}}var Tx={:"",:"",:"",:""};class or{constructor(e,n,r,o,s,u,d,f){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=o||0,this.skew=s||0,this.width=u||0,this.classes=d||[],this.style=f||{},this.maxFontSize=0;var h=sx(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=Tx[this.text])}hasClass(e){return Oe.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Se(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Hi(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Oe.escape(Hi(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=Oe.hyphenate(o)+":"+this.style[o]+";");r&&(e=!0,n+=' style="'+Oe.escape(r)+'"');var s=Oe.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class ei{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Oe.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class qi{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",ev[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Oe.escape(this.alternate)+'"/>':'<path d="'+Oe.escape(ev[this.pathName])+'"/>'}}class Tf{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Oe.escape(this.attributes[n])+'"');return e+="/>",e}}function iv(t){if(t instanceof or)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function _x(t){if(t instanceof qs)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Ax={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ex={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},bt={math:{},text:{}};function S(t,e,n,r,o,s){bt[t][o]={font:e,group:n,replace:r},s&&r&&(bt[t][r]=bt[t][o])}var T="math",ge="text",C="main",P="ams",At="accent-token",Ce="bin",bn="close",wo="inner",Be="mathord",Vt="op-token",Yn="open",ru="punct",H="rel",ii="spacing",K="textord";S(T,C,H,"","\\equiv",!0);S(T,C,H,"","\\prec",!0);S(T,C,H,"","\\succ",!0);S(T,C,H,"","\\sim",!0);S(T,C,H,"","\\perp");S(T,C,H,"","\\preceq",!0);S(T,C,H,"","\\succeq",!0);S(T,C,H,"","\\simeq",!0);S(T,C,H,"","\\mid",!0);S(T,C,H,"","\\ll",!0);S(T,C,H,"","\\gg",!0);S(T,C,H,"","\\asymp",!0);S(T,C,H,"","\\parallel");S(T,C,H,"","\\bowtie",!0);S(T,C,H,"","\\smile",!0);S(T,C,H,"","\\sqsubseteq",!0);S(T,C,H,"","\\sqsupseteq",!0);S(T,C,H,"","\\doteq",!0);S(T,C,H,"","\\frown",!0);S(T,C,H,"","\\ni",!0);S(T,C,H,"","\\propto",!0);S(T,C,H,"","\\vdash",!0);S(T,C,H,"","\\dashv",!0);S(T,C,H,"","\\owns");S(T,C,ru,".","\\ldotp");S(T,C,ru,"","\\cdotp");S(T,C,K,"#","\\#");S(ge,C,K,"#","\\#");S(T,C,K,"&","\\&");S(ge,C,K,"&","\\&");S(T,C,K,"","\\aleph",!0);S(T,C,K,"","\\forall",!0);S(T,C,K,"","\\hbar",!0);S(T,C,K,"","\\exists",!0);S(T,C,K,"","\\nabla",!0);S(T,C,K,"","\\flat",!0);S(T,C,K,"","\\ell",!0);S(T,C,K,"","\\natural",!0);S(T,C,K,"","\\clubsuit",!0);S(T,C,K,"","\\wp",!0);S(T,C,K,"","\\sharp",!0);S(T,C,K,"","\\diamondsuit",!0);S(T,C,K,"","\\Re",!0);S(T,C,K,"","\\heartsuit",!0);S(T,C,K,"","\\Im",!0);S(T,C,K,"","\\spadesuit",!0);S(T,C,K,"","\\S",!0);S(ge,C,K,"","\\S");S(T,C,K,"","\\P",!0);S(ge,C,K,"","\\P");S(T,C,K,"","\\dag");S(ge,C,K,"","\\dag");S(ge,C,K,"","\\textdagger");S(T,C,K,"","\\ddag");S(ge,C,K,"","\\ddag");S(ge,C,K,"","\\textdaggerdbl");S(T,C,bn,"","\\rmoustache",!0);S(T,C,Yn,"","\\lmoustache",!0);S(T,C,bn,"","\\rgroup",!0);S(T,C,Yn,"","\\lgroup",!0);S(T,C,Ce,"","\\mp",!0);S(T,C,Ce,"","\\ominus",!0);S(T,C,Ce,"","\\uplus",!0);S(T,C,Ce,"","\\sqcap",!0);S(T,C,Ce,"","\\ast");S(T,C,Ce,"","\\sqcup",!0);S(T,C,Ce,"","\\bigcirc",!0);S(T,C,Ce,"","\\bullet",!0);S(T,C,Ce,"","\\ddagger");S(T,C,Ce,"","\\wr",!0);S(T,C,Ce,"","\\amalg");S(T,C,Ce,"&","\\And");S(T,C,H,"","\\longleftarrow",!0);S(T,C,H,"","\\Leftarrow",!0);S(T,C,H,"","\\Longleftarrow",!0);S(T,C,H,"","\\longrightarrow",!0);S(T,C,H,"","\\Rightarrow",!0);S(T,C,H,"","\\Longrightarrow",!0);S(T,C,H,"","\\leftrightarrow",!0);S(T,C,H,"","\\longleftrightarrow",!0);S(T,C,H,"","\\Leftrightarrow",!0);S(T,C,H,"","\\Longleftrightarrow",!0);S(T,C,H,"","\\mapsto",!0);S(T,C,H,"","\\longmapsto",!0);S(T,C,H,"","\\nearrow",!0);S(T,C,H,"","\\hookleftarrow",!0);S(T,C,H,"","\\hookrightarrow",!0);S(T,C,H,"","\\searrow",!0);S(T,C,H,"","\\leftharpoonup",!0);S(T,C,H,"","\\rightharpoonup",!0);S(T,C,H,"","\\swarrow",!0);S(T,C,H,"","\\leftharpoondown",!0);S(T,C,H,"","\\rightharpoondown",!0);S(T,C,H,"","\\nwarrow",!0);S(T,C,H,"","\\rightleftharpoons",!0);S(T,P,H,"","\\nless",!0);S(T,P,H,"","\\@nleqslant");S(T,P,H,"","\\@nleqq");S(T,P,H,"","\\lneq",!0);S(T,P,H,"","\\lneqq",!0);S(T,P,H,"","\\@lvertneqq");S(T,P,H,"","\\lnsim",!0);S(T,P,H,"","\\lnapprox",!0);S(T,P,H,"","\\nprec",!0);S(T,P,H,"","\\npreceq",!0);S(T,P,H,"","\\precnsim",!0);S(T,P,H,"","\\precnapprox",!0);S(T,P,H,"","\\nsim",!0);S(T,P,H,"","\\@nshortmid");S(T,P,H,"","\\nmid",!0);S(T,P,H,"","\\nvdash",!0);S(T,P,H,"","\\nvDash",!0);S(T,P,H,"","\\ntriangleleft");S(T,P,H,"","\\ntrianglelefteq",!0);S(T,P,H,"","\\subsetneq",!0);S(T,P,H,"","\\@varsubsetneq");S(T,P,H,"","\\subsetneqq",!0);S(T,P,H,"","\\@varsubsetneqq");S(T,P,H,"","\\ngtr",!0);S(T,P,H,"","\\@ngeqslant");S(T,P,H,"","\\@ngeqq");S(T,P,H,"","\\gneq",!0);S(T,P,H,"","\\gneqq",!0);S(T,P,H,"","\\@gvertneqq");S(T,P,H,"","\\gnsim",!0);S(T,P,H,"","\\gnapprox",!0);S(T,P,H,"","\\nsucc",!0);S(T,P,H,"","\\nsucceq",!0);S(T,P,H,"","\\succnsim",!0);S(T,P,H,"","\\succnapprox",!0);S(T,P,H,"","\\ncong",!0);S(T,P,H,"","\\@nshortparallel");S(T,P,H,"","\\nparallel",!0);S(T,P,H,"","\\nVDash",!0);S(T,P,H,"","\\ntriangleright");S(T,P,H,"","\\ntrianglerighteq",!0);S(T,P,H,"","\\@nsupseteqq");S(T,P,H,"","\\supsetneq",!0);S(T,P,H,"","\\@varsupsetneq");S(T,P,H,"","\\supsetneqq",!0);S(T,P,H,"","\\@varsupsetneqq");S(T,P,H,"","\\nVdash",!0);S(T,P,H,"","\\precneqq",!0);S(T,P,H,"","\\succneqq",!0);S(T,P,H,"","\\@nsubseteqq");S(T,P,Ce,"","\\unlhd");S(T,P,Ce,"","\\unrhd");S(T,P,H,"","\\nleftarrow",!0);S(T,P,H,"","\\nrightarrow",!0);S(T,P,H,"","\\nLeftarrow",!0);S(T,P,H,"","\\nRightarrow",!0);S(T,P,H,"","\\nleftrightarrow",!0);S(T,P,H,"","\\nLeftrightarrow",!0);S(T,P,H,"","\\vartriangle");S(T,P,K,"","\\hslash");S(T,P,K,"","\\triangledown");S(T,P,K,"","\\lozenge");S(T,P,K,"","\\circledS");S(T,P,K,"","\\circledR");S(ge,P,K,"","\\circledR");S(T,P,K,"","\\measuredangle",!0);S(T,P,K,"","\\nexists");S(T,P,K,"","\\mho");S(T,P,K,"","\\Finv",!0);S(T,P,K,"","\\Game",!0);S(T,P,K,"","\\backprime");S(T,P,K,"","\\blacktriangle");S(T,P,K,"","\\blacktriangledown");S(T,P,K,"","\\blacksquare");S(T,P,K,"","\\blacklozenge");S(T,P,K,"","\\bigstar");S(T,P,K,"","\\sphericalangle",!0);S(T,P,K,"","\\complement",!0);S(T,P,K,"","\\eth",!0);S(ge,C,K,"","");S(T,P,K,"","\\diagup");S(T,P,K,"","\\diagdown");S(T,P,K,"","\\square");S(T,P,K,"","\\Box");S(T,P,K,"","\\Diamond");S(T,P,K,"","\\yen",!0);S(ge,P,K,"","\\yen",!0);S(T,P,K,"","\\checkmark",!0);S(ge,P,K,"","\\checkmark");S(T,P,K,"","\\beth",!0);S(T,P,K,"","\\daleth",!0);S(T,P,K,"","\\gimel",!0);S(T,P,K,"","\\digamma",!0);S(T,P,K,"","\\varkappa");S(T,P,Yn,"","\\@ulcorner",!0);S(T,P,bn,"","\\@urcorner",!0);S(T,P,Yn,"","\\@llcorner",!0);S(T,P,bn,"","\\@lrcorner",!0);S(T,P,H,"","\\leqq",!0);S(T,P,H,"","\\leqslant",!0);S(T,P,H,"","\\eqslantless",!0);S(T,P,H,"","\\lesssim",!0);S(T,P,H,"","\\lessapprox",!0);S(T,P,H,"","\\approxeq",!0);S(T,P,Ce,"","\\lessdot");S(T,P,H,"","\\lll",!0);S(T,P,H,"","\\lessgtr",!0);S(T,P,H,"","\\lesseqgtr",!0);S(T,P,H,"","\\lesseqqgtr",!0);S(T,P,H,"","\\doteqdot");S(T,P,H,"","\\risingdotseq",!0);S(T,P,H,"","\\fallingdotseq",!0);S(T,P,H,"","\\backsim",!0);S(T,P,H,"","\\backsimeq",!0);S(T,P,H,"","\\subseteqq",!0);S(T,P,H,"","\\Subset",!0);S(T,P,H,"","\\sqsubset",!0);S(T,P,H,"","\\preccurlyeq",!0);S(T,P,H,"","\\curlyeqprec",!0);S(T,P,H,"","\\precsim",!0);S(T,P,H,"","\\precapprox",!0);S(T,P,H,"","\\vartriangleleft");S(T,P,H,"","\\trianglelefteq");S(T,P,H,"","\\vDash",!0);S(T,P,H,"","\\Vvdash",!0);S(T,P,H,"","\\smallsmile");S(T,P,H,"","\\smallfrown");S(T,P,H,"","\\bumpeq",!0);S(T,P,H,"","\\Bumpeq",!0);S(T,P,H,"","\\geqq",!0);S(T,P,H,"","\\geqslant",!0);S(T,P,H,"","\\eqslantgtr",!0);S(T,P,H,"","\\gtrsim",!0);S(T,P,H,"","\\gtrapprox",!0);S(T,P,Ce,"","\\gtrdot");S(T,P,H,"","\\ggg",!0);S(T,P,H,"","\\gtrless",!0);S(T,P,H,"","\\gtreqless",!0);S(T,P,H,"","\\gtreqqless",!0);S(T,P,H,"","\\eqcirc",!0);S(T,P,H,"","\\circeq",!0);S(T,P,H,"","\\triangleq",!0);S(T,P,H,"","\\thicksim");S(T,P,H,"","\\thickapprox");S(T,P,H,"","\\supseteqq",!0);S(T,P,H,"","\\Supset",!0);S(T,P,H,"","\\sqsupset",!0);S(T,P,H,"","\\succcurlyeq",!0);S(T,P,H,"","\\curlyeqsucc",!0);S(T,P,H,"","\\succsim",!0);S(T,P,H,"","\\succapprox",!0);S(T,P,H,"","\\vartriangleright");S(T,P,H,"","\\trianglerighteq");S(T,P,H,"","\\Vdash",!0);S(T,P,H,"","\\shortmid");S(T,P,H,"","\\shortparallel");S(T,P,H,"","\\between",!0);S(T,P,H,"","\\pitchfork",!0);S(T,P,H,"","\\varpropto");S(T,P,H,"","\\blacktriangleleft");S(T,P,H,"","\\therefore",!0);S(T,P,H,"","\\backepsilon");S(T,P,H,"","\\blacktriangleright");S(T,P,H,"","\\because",!0);S(T,P,H,"","\\llless");S(T,P,H,"","\\gggtr");S(T,P,Ce,"","\\lhd");S(T,P,Ce,"","\\rhd");S(T,P,H,"","\\eqsim",!0);S(T,C,H,"","\\Join");S(T,P,H,"","\\Doteq",!0);S(T,P,Ce,"","\\dotplus",!0);S(T,P,Ce,"","\\smallsetminus");S(T,P,Ce,"","\\Cap",!0);S(T,P,Ce,"","\\Cup",!0);S(T,P,Ce,"","\\doublebarwedge",!0);S(T,P,Ce,"","\\boxminus",!0);S(T,P,Ce,"","\\boxplus",!0);S(T,P,Ce,"","\\divideontimes",!0);S(T,P,Ce,"","\\ltimes",!0);S(T,P,Ce,"","\\rtimes",!0);S(T,P,Ce,"","\\leftthreetimes",!0);S(T,P,Ce,"","\\rightthreetimes",!0);S(T,P,Ce,"","\\curlywedge",!0);S(T,P,Ce,"","\\curlyvee",!0);S(T,P,Ce,"","\\circleddash",!0);S(T,P,Ce,"","\\circledast",!0);S(T,P,Ce,"","\\centerdot");S(T,P,Ce,"","\\intercal",!0);S(T,P,Ce,"","\\doublecap");S(T,P,Ce,"","\\doublecup");S(T,P,Ce,"","\\boxtimes",!0);S(T,P,H,"","\\dashrightarrow",!0);S(T,P,H,"","\\dashleftarrow",!0);S(T,P,H,"","\\leftleftarrows",!0);S(T,P,H,"","\\leftrightarrows",!0);S(T,P,H,"","\\Lleftarrow",!0);S(T,P,H,"","\\twoheadleftarrow",!0);S(T,P,H,"","\\leftarrowtail",!0);S(T,P,H,"","\\looparrowleft",!0);S(T,P,H,"","\\leftrightharpoons",!0);S(T,P,H,"","\\curvearrowleft",!0);S(T,P,H,"","\\circlearrowleft",!0);S(T,P,H,"","\\Lsh",!0);S(T,P,H,"","\\upuparrows",!0);S(T,P,H,"","\\upharpoonleft",!0);S(T,P,H,"","\\downharpoonleft",!0);S(T,C,H,"","\\origof",!0);S(T,C,H,"","\\imageof",!0);S(T,P,H,"","\\multimap",!0);S(T,P,H,"","\\leftrightsquigarrow",!0);S(T,P,H,"","\\rightrightarrows",!0);S(T,P,H,"","\\rightleftarrows",!0);S(T,P,H,"","\\twoheadrightarrow",!0);S(T,P,H,"","\\rightarrowtail",!0);S(T,P,H,"","\\looparrowright",!0);S(T,P,H,"","\\curvearrowright",!0);S(T,P,H,"","\\circlearrowright",!0);S(T,P,H,"","\\Rsh",!0);S(T,P,H,"","\\downdownarrows",!0);S(T,P,H,"","\\upharpoonright",!0);S(T,P,H,"","\\downharpoonright",!0);S(T,P,H,"","\\rightsquigarrow",!0);S(T,P,H,"","\\leadsto");S(T,P,H,"","\\Rrightarrow",!0);S(T,P,H,"","\\restriction");S(T,C,K,"","`");S(T,C,K,"$","\\$");S(ge,C,K,"$","\\$");S(ge,C,K,"$","\\textdollar");S(T,C,K,"%","\\%");S(ge,C,K,"%","\\%");S(T,C,K,"_","\\_");S(ge,C,K,"_","\\_");S(ge,C,K,"_","\\textunderscore");S(T,C,K,"","\\angle",!0);S(T,C,K,"","\\infty",!0);S(T,C,K,"","\\prime");S(T,C,K,"","\\triangle");S(T,C,K,"","\\Gamma",!0);S(T,C,K,"","\\Delta",!0);S(T,C,K,"","\\Theta",!0);S(T,C,K,"","\\Lambda",!0);S(T,C,K,"","\\Xi",!0);S(T,C,K,"","\\Pi",!0);S(T,C,K,"","\\Sigma",!0);S(T,C,K,"","\\Upsilon",!0);S(T,C,K,"","\\Phi",!0);S(T,C,K,"","\\Psi",!0);S(T,C,K,"","\\Omega",!0);S(T,C,K,"A","");S(T,C,K,"B","");S(T,C,K,"E","");S(T,C,K,"Z","");S(T,C,K,"H","");S(T,C,K,"I","");S(T,C,K,"K","");S(T,C,K,"M","");S(T,C,K,"N","");S(T,C,K,"O","");S(T,C,K,"P","");S(T,C,K,"T","");S(T,C,K,"X","");S(T,C,K,"","\\neg",!0);S(T,C,K,"","\\lnot");S(T,C,K,"","\\top");S(T,C,K,"","\\bot");S(T,C,K,"","\\emptyset");S(T,P,K,"","\\varnothing");S(T,C,Be,"","\\alpha",!0);S(T,C,Be,"","\\beta",!0);S(T,C,Be,"","\\gamma",!0);S(T,C,Be,"","\\delta",!0);S(T,C,Be,"","\\epsilon",!0);S(T,C,Be,"","\\zeta",!0);S(T,C,Be,"","\\eta",!0);S(T,C,Be,"","\\theta",!0);S(T,C,Be,"","\\iota",!0);S(T,C,Be,"","\\kappa",!0);S(T,C,Be,"","\\lambda",!0);S(T,C,Be,"","\\mu",!0);S(T,C,Be,"","\\nu",!0);S(T,C,Be,"","\\xi",!0);S(T,C,Be,"","\\omicron",!0);S(T,C,Be,"","\\pi",!0);S(T,C,Be,"","\\rho",!0);S(T,C,Be,"","\\sigma",!0);S(T,C,Be,"","\\tau",!0);S(T,C,Be,"","\\upsilon",!0);S(T,C,Be,"","\\phi",!0);S(T,C,Be,"","\\chi",!0);S(T,C,Be,"","\\psi",!0);S(T,C,Be,"","\\omega",!0);S(T,C,Be,"","\\varepsilon",!0);S(T,C,Be,"","\\vartheta",!0);S(T,C,Be,"","\\varpi",!0);S(T,C,Be,"","\\varrho",!0);S(T,C,Be,"","\\varsigma",!0);S(T,C,Be,"","\\varphi",!0);S(T,C,Ce,"","*",!0);S(T,C,Ce,"+","+");S(T,C,Ce,"","-",!0);S(T,C,Ce,"","\\cdot",!0);S(T,C,Ce,"","\\circ",!0);S(T,C,Ce,"","\\div",!0);S(T,C,Ce,"","\\pm",!0);S(T,C,Ce,"","\\times",!0);S(T,C,Ce,"","\\cap",!0);S(T,C,Ce,"","\\cup",!0);S(T,C,Ce,"","\\setminus",!0);S(T,C,Ce,"","\\land");S(T,C,Ce,"","\\lor");S(T,C,Ce,"","\\wedge",!0);S(T,C,Ce,"","\\vee",!0);S(T,C,K,"","\\surd");S(T,C,Yn,"","\\langle",!0);S(T,C,Yn,"","\\lvert");S(T,C,Yn,"","\\lVert");S(T,C,bn,"?","?");S(T,C,bn,"!","!");S(T,C,bn,"","\\rangle",!0);S(T,C,bn,"","\\rvert");S(T,C,bn,"","\\rVert");S(T,C,H,"=","=");S(T,C,H,":",":");S(T,C,H,"","\\approx",!0);S(T,C,H,"","\\cong",!0);S(T,C,H,"","\\ge");S(T,C,H,"","\\geq",!0);S(T,C,H,"","\\gets");S(T,C,H,">","\\gt",!0);S(T,C,H,"","\\in",!0);S(T,C,H,"","\\@not");S(T,C,H,"","\\subset",!0);S(T,C,H,"","\\supset",!0);S(T,C,H,"","\\subseteq",!0);S(T,C,H,"","\\supseteq",!0);S(T,P,H,"","\\nsubseteq",!0);S(T,P,H,"","\\nsupseteq",!0);S(T,C,H,"","\\models");S(T,C,H,"","\\leftarrow",!0);S(T,C,H,"","\\le");S(T,C,H,"","\\leq",!0);S(T,C,H,"<","\\lt",!0);S(T,C,H,"","\\rightarrow",!0);S(T,C,H,"","\\to");S(T,P,H,"","\\ngeq",!0);S(T,P,H,"","\\nleq",!0);S(T,C,ii,"","\\ ");S(T,C,ii,"","\\space");S(T,C,ii,"","\\nobreakspace");S(ge,C,ii,"","\\ ");S(ge,C,ii,""," ");S(ge,C,ii,"","\\space");S(ge,C,ii,"","\\nobreakspace");S(T,C,ii,null,"\\nobreak");S(T,C,ii,null,"\\allowbreak");S(T,C,ru,",",",");S(T,C,ru,";",";");S(T,P,Ce,"","\\barwedge",!0);S(T,P,Ce,"","\\veebar",!0);S(T,C,Ce,"","\\odot",!0);S(T,C,Ce,"","\\oplus",!0);S(T,C,Ce,"","\\otimes",!0);S(T,C,K,"","\\partial",!0);S(T,C,Ce,"","\\oslash",!0);S(T,P,Ce,"","\\circledcirc",!0);S(T,P,Ce,"","\\boxdot",!0);S(T,C,Ce,"","\\bigtriangleup");S(T,C,Ce,"","\\bigtriangledown");S(T,C,Ce,"","\\dagger");S(T,C,Ce,"","\\diamond");S(T,C,Ce,"","\\star");S(T,C,Ce,"","\\triangleleft");S(T,C,Ce,"","\\triangleright");S(T,C,Yn,"{","\\{");S(ge,C,K,"{","\\{");S(ge,C,K,"{","\\textbraceleft");S(T,C,bn,"}","\\}");S(ge,C,K,"}","\\}");S(ge,C,K,"}","\\textbraceright");S(T,C,Yn,"{","\\lbrace");S(T,C,bn,"}","\\rbrace");S(T,C,Yn,"[","\\lbrack",!0);S(ge,C,K,"[","\\lbrack",!0);S(T,C,bn,"]","\\rbrack",!0);S(ge,C,K,"]","\\rbrack",!0);S(T,C,Yn,"(","\\lparen",!0);S(T,C,bn,")","\\rparen",!0);S(ge,C,K,"<","\\textless",!0);S(ge,C,K,">","\\textgreater",!0);S(T,C,Yn,"","\\lfloor",!0);S(T,C,bn,"","\\rfloor",!0);S(T,C,Yn,"","\\lceil",!0);S(T,C,bn,"","\\rceil",!0);S(T,C,K,"\\","\\backslash");S(T,C,K,"","|");S(T,C,K,"","\\vert");S(ge,C,K,"|","\\textbar",!0);S(T,C,K,"","\\|");S(T,C,K,"","\\Vert");S(ge,C,K,"","\\textbardbl");S(ge,C,K,"~","\\textasciitilde");S(ge,C,K,"\\","\\textbackslash");S(ge,C,K,"^","\\textasciicircum");S(T,C,H,"","\\uparrow",!0);S(T,C,H,"","\\Uparrow",!0);S(T,C,H,"","\\downarrow",!0);S(T,C,H,"","\\Downarrow",!0);S(T,C,H,"","\\updownarrow",!0);S(T,C,H,"","\\Updownarrow",!0);S(T,C,Vt,"","\\coprod");S(T,C,Vt,"","\\bigvee");S(T,C,Vt,"","\\bigwedge");S(T,C,Vt,"","\\biguplus");S(T,C,Vt,"","\\bigcap");S(T,C,Vt,"","\\bigcup");S(T,C,Vt,"","\\int");S(T,C,Vt,"","\\intop");S(T,C,Vt,"","\\iint");S(T,C,Vt,"","\\iiint");S(T,C,Vt,"","\\prod");S(T,C,Vt,"","\\sum");S(T,C,Vt,"","\\bigotimes");S(T,C,Vt,"","\\bigoplus");S(T,C,Vt,"","\\bigodot");S(T,C,Vt,"","\\oint");S(T,C,Vt,"","\\oiint");S(T,C,Vt,"","\\oiiint");S(T,C,Vt,"","\\bigsqcup");S(T,C,Vt,"","\\smallint");S(ge,C,wo,"","\\textellipsis");S(T,C,wo,"","\\mathellipsis");S(ge,C,wo,"","\\ldots",!0);S(T,C,wo,"","\\ldots",!0);S(T,C,wo,"","\\@cdots",!0);S(T,C,wo,"","\\ddots",!0);S(T,C,K,"","\\varvdots");S(ge,C,K,"","\\varvdots");S(T,C,At,"","\\acute");S(T,C,At,"","\\grave");S(T,C,At,"","\\ddot");S(T,C,At,"~","\\tilde");S(T,C,At,"","\\bar");S(T,C,At,"","\\breve");S(T,C,At,"","\\check");S(T,C,At,"^","\\hat");S(T,C,At,"","\\vec");S(T,C,At,"","\\dot");S(T,C,At,"","\\mathring");S(T,C,Be,"","\\@imath");S(T,C,Be,"","\\@jmath");S(T,C,K,"","");S(T,C,K,"","");S(ge,C,K,"","\\i",!0);S(ge,C,K,"","\\j",!0);S(ge,C,K,"","\\ss",!0);S(ge,C,K,"","\\ae",!0);S(ge,C,K,"","\\oe",!0);S(ge,C,K,"","\\o",!0);S(ge,C,K,"","\\AE",!0);S(ge,C,K,"","\\OE",!0);S(ge,C,K,"","\\O",!0);S(ge,C,At,"","\\'");S(ge,C,At,"","\\`");S(ge,C,At,"","\\^");S(ge,C,At,"","\\~");S(ge,C,At,"","\\=");S(ge,C,At,"","\\u");S(ge,C,At,"","\\.");S(ge,C,At,"","\\c");S(ge,C,At,"","\\r");S(ge,C,At,"","\\v");S(ge,C,At,"",'\\"');S(ge,C,At,"","\\H");S(ge,C,At,"","\\textcircled");var A2={"--":!0,"---":!0,"``":!0,"''":!0};S(ge,C,K,"","--",!0);S(ge,C,K,"","\\textendash");S(ge,C,K,"","---",!0);S(ge,C,K,"","\\textemdash");S(ge,C,K,"","`",!0);S(ge,C,K,"","\\textquoteleft");S(ge,C,K,"","'",!0);S(ge,C,K,"","\\textquoteright");S(ge,C,K,"","``",!0);S(ge,C,K,"","\\textquotedblleft");S(ge,C,K,"","''",!0);S(ge,C,K,"","\\textquotedblright");S(T,C,K,"","\\degree",!0);S(ge,C,K,"","\\degree");S(ge,C,K,"","\\textdegree",!0);S(T,C,K,"","\\pounds");S(T,C,K,"","\\mathsterling",!0);S(ge,C,K,"","\\pounds");S(ge,C,K,"","\\textsterling",!0);S(T,P,K,"","\\maltese");S(ge,P,K,"","\\maltese");var av='0123456789/@."';for(var Xd=0;Xd<av.length;Xd++){var ov=av.charAt(Xd);S(T,C,K,ov,ov)}var sv='0123456789!@*()-=+";:?/.,';for(var Kd=0;Kd<sv.length;Kd++){var lv=sv.charAt(Kd);S(ge,C,K,lv,lv)}var U0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Zd=0;Zd<U0.length;Zd++){var l0=U0.charAt(Zd);S(T,C,Be,l0,l0),S(ge,C,K,l0,l0)}S(T,P,K,"C","");S(ge,P,K,"C","");S(T,P,K,"H","");S(ge,P,K,"H","");S(T,P,K,"N","");S(ge,P,K,"N","");S(T,P,K,"P","");S(ge,P,K,"P","");S(T,P,K,"Q","");S(ge,P,K,"Q","");S(T,P,K,"R","");S(ge,P,K,"R","");S(T,P,K,"Z","");S(ge,P,K,"Z","");S(T,C,Be,"h","");S(ge,C,Be,"h","");var Ge="";for(var pn=0;pn<U0.length;pn++){var Rt=U0.charAt(pn);Ge=String.fromCharCode(55349,56320+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),Ge=String.fromCharCode(55349,56372+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),Ge=String.fromCharCode(55349,56424+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),Ge=String.fromCharCode(55349,56580+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),Ge=String.fromCharCode(55349,56684+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),Ge=String.fromCharCode(55349,56736+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),Ge=String.fromCharCode(55349,56788+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),Ge=String.fromCharCode(55349,56840+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),Ge=String.fromCharCode(55349,56944+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),pn<26&&(Ge=String.fromCharCode(55349,56632+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge),Ge=String.fromCharCode(55349,56476+pn),S(T,C,Be,Rt,Ge),S(ge,C,K,Rt,Ge))}Ge="";S(T,C,Be,"k",Ge);S(ge,C,K,"k",Ge);for(var ha=0;ha<10;ha++){var Ii=ha.toString();Ge=String.fromCharCode(55349,57294+ha),S(T,C,Be,Ii,Ge),S(ge,C,K,Ii,Ge),Ge=String.fromCharCode(55349,57314+ha),S(T,C,Be,Ii,Ge),S(ge,C,K,Ii,Ge),Ge=String.fromCharCode(55349,57324+ha),S(T,C,Be,Ii,Ge),S(ge,C,K,Ii,Ge),Ge=String.fromCharCode(55349,57334+ha),S(T,C,Be,Ii,Ge),S(ge,C,K,Ii,Ge)}var _f="";for(var Wd=0;Wd<_f.length;Wd++){var u0=_f.charAt(Wd);S(T,C,Be,u0,u0),S(ge,C,K,u0,u0)}var c0=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],uv=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Cx=function(e,n){var r=e.charCodeAt(0),o=e.charCodeAt(1),s=(r-55296)*1024+(o-56320)+65536,u=n==="math"?0:1;if(119808<=s&&s<120484){var d=Math.floor((s-119808)/26);return[c0[d][2],c0[d][u]]}else if(120782<=s&&s<=120831){var f=Math.floor((s-120782)/10);return[uv[f][2],uv[f][u]]}else{if(s===120485||s===120486)return[c0[0][2],c0[0][u]];if(120486<s&&s<120782)return["",""];throw new ye("Unsupported character: "+e)}},iu=function(e,n,r){return bt[r][e]&&bt[r][e].replace&&(e=bt[r][e].replace),{value:e,metrics:ah(e,n,r)}},mr=function(e,n,r,o,s){var u=iu(e,n,r),d=u.metrics;e=u.value;var f;if(d){var h=d.italic;(r==="text"||o&&o.font==="mathit")&&(h=0),f=new or(e,d.height,d.depth,h,d.skew,d.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),f=new or(e,0,0,0,0,0,s);if(o){f.maxFontSize=o.sizeMultiplier,o.style.isTight()&&f.classes.push("mtight");var g=o.getColor();g&&(f.style.color=g)}return f},kx=function(e,n,r,o){return o===void 0&&(o=[]),r.font==="boldsymbol"&&iu(e,"Main-Bold",n).metrics?mr(e,"Main-Bold",n,r,o.concat(["mathbf"])):e==="\\"||bt[n][e].font==="main"?mr(e,"Main-Regular",n,r,o):mr(e,"AMS-Regular",n,r,o.concat(["amsrm"]))},zx=function(e,n,r,o,s){return s!=="textord"&&iu(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Mx=function(e,n,r){var o=e.mode,s=e.text,u=["mord"],d=o==="math"||o==="text"&&n.font,f=d?n.font:n.fontFamily,h="",g="";if(s.charCodeAt(0)===55349&&([h,g]=Cx(s,o)),h.length>0)return mr(s,h,o,n,u.concat(g));if(f){var x,b;if(f==="boldsymbol"){var w=zx(s,o,n,u,r);x=w.fontName,b=[w.fontClass]}else d?(x=k2[f].fontName,b=[f]):(x=d0(f,n.fontWeight,n.fontShape),b=[f,n.fontWeight,n.fontShape]);if(iu(s,x,o).metrics)return mr(s,x,o,n,u.concat(b));if(A2.hasOwnProperty(s)&&x.slice(0,10)==="Typewriter"){for(var k=[],E=0;E<s.length;E++)k.push(mr(s[E],x,o,n,u.concat(b)));return C2(k)}}if(r==="mathord")return mr(s,"Math-Italic",o,n,u.concat(["mathnormal"]));if(r==="textord"){var z=bt[o][s]&&bt[o][s].font;if(z==="ams"){var R=d0("amsrm",n.fontWeight,n.fontShape);return mr(s,R,o,n,u.concat("amsrm",n.fontWeight,n.fontShape))}else if(z==="main"||!z){var L=d0("textrm",n.fontWeight,n.fontShape);return mr(s,L,o,n,u.concat(n.fontWeight,n.fontShape))}else{var B=d0(z,n.fontWeight,n.fontShape);return mr(s,B,o,n,u.concat(B,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Nx=(t,e)=>{if(Hi(t.classes)!==Hi(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var o in e.style)if(e.style.hasOwnProperty(o)&&t.style[o]!==e.style[o])return!1;return!0},Rx=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof or&&r instanceof or&&Nx(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},sh=function(e){for(var n=0,r=0,o=0,s=0;s<e.children.length;s++){var u=e.children[s];u.height>n&&(n=u.height),u.depth>r&&(r=u.depth),u.maxFontSize>o&&(o=u.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=o},kn=function(e,n,r,o){var s=new qs(e,n,r,o);return sh(s),s},E2=(t,e,n,r)=>new qs(t,e,n,r),Ix=function(e,n,r){var o=kn([e],[],n);return o.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),o.style.borderBottomWidth=Se(o.height),o.maxFontSize=1,o},Dx=function(e,n,r,o){var s=new oh(e,n,r,o);return sh(s),s},C2=function(e){var n=new Hs(e);return sh(n),n},Lx=function(e,n){return e instanceof Hs?kn([],[e],n):e},Ux=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],o=-n[0].shift-n[0].elem.depth,s=o,u=1;u<n.length;u++){var d=-n[u].shift-s-n[u].elem.depth,f=d-(n[u-1].elem.height+n[u-1].elem.depth);s=s+d,r.push({type:"kern",size:f}),r.push(n[u])}return{children:r,depth:o}}var h;if(e.positionType==="top"){for(var g=e.positionData,x=0;x<e.children.length;x++){var b=e.children[x];g-=b.type==="kern"?b.size:b.elem.height+b.elem.depth}h=g}else if(e.positionType==="bottom")h=-e.positionData;else{var w=e.children[0];if(w.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-w.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-w.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},Ox=function(e,n){for(var{children:r,depth:o}=Ux(e),s=0,u=0;u<r.length;u++){var d=r[u];if(d.type==="elem"){var f=d.elem;s=Math.max(s,f.maxFontSize,f.height)}}s+=2;var h=kn(["pstrut"],[]);h.style.height=Se(s);for(var g=[],x=o,b=o,w=o,k=0;k<r.length;k++){var E=r[k];if(E.type==="kern")w+=E.size;else{var z=E.elem,R=E.wrapperClasses||[],L=E.wrapperStyle||{},B=kn(R,[h,z],void 0,L);B.style.top=Se(-s-w-z.depth),E.marginLeft&&(B.style.marginLeft=E.marginLeft),E.marginRight&&(B.style.marginRight=E.marginRight),g.push(B),w+=z.height+z.depth}x=Math.min(x,w),b=Math.max(b,w)}var D=kn(["vlist"],g);D.style.height=Se(b);var U;if(x<0){var $=kn([],[]),I=kn(["vlist"],[$]);I.style.height=Se(-x);var O=kn(["vlist-s"],[new or("")]);U=[kn(["vlist-r"],[D,O]),kn(["vlist-r"],[I])]}else U=[kn(["vlist-r"],[D])];var F=kn(["vlist-t"],U);return U.length===2&&F.classes.push("vlist-t2"),F.height=b,F.depth=-x,F},Px=(t,e)=>{var n=kn(["mspace"],[],e),r=kt(t,e);return n.style.marginRight=Se(r),n},d0=function(e,n,r){var o="";switch(e){case"amsrm":o="AMS";break;case"textrm":o="Main";break;case"textsf":o="SansSerif";break;case"texttt":o="Typewriter";break;default:o=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",o+"-"+s},k2={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},z2={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Bx=function(e,n){var[r,o,s]=z2[e],u=new qi(r),d=new ei([u],{width:Se(o),height:Se(s),style:"width:"+Se(o),viewBox:"0 0 "+1e3*o+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),f=E2(["overlay"],[d],n);return f.height=s,f.style.height=Se(s),f.style.width=Se(o),f},oe={fontMap:k2,makeSymbol:mr,mathsym:kx,makeSpan:kn,makeSvgSpan:E2,makeLineSpan:Ix,makeAnchor:Dx,makeFragment:C2,wrapFragment:Lx,makeVList:Ox,makeOrd:Mx,makeGlue:Px,staticSvg:Bx,svgData:z2,tryCombineChars:Rx},Ct={number:3,unit:"mu"},ma={number:4,unit:"mu"},Xr={number:5,unit:"mu"},Hx={mord:{mop:Ct,mbin:ma,mrel:Xr,minner:Ct},mop:{mord:Ct,mop:Ct,mrel:Xr,minner:Ct},mbin:{mord:ma,mop:ma,mopen:ma,minner:ma},mrel:{mord:Xr,mop:Xr,mopen:Xr,minner:Xr},mopen:{},mclose:{mop:Ct,mbin:ma,mrel:Xr,minner:Ct},mpunct:{mord:Ct,mop:Ct,mrel:Xr,mopen:Ct,mclose:Ct,mpunct:Ct,minner:Ct},minner:{mord:Ct,mop:Ct,mbin:ma,mrel:Xr,mopen:Ct,mpunct:Ct,minner:Ct}},qx={mord:{mop:Ct},mop:{mord:Ct,mop:Ct},mbin:{},mrel:{},mopen:{},mclose:{mop:Ct},mpunct:{},minner:{mop:Ct}},M2={},O0={},P0={};function _e(t){for(var{type:e,names:n,props:r,handler:o,htmlBuilder:s,mathmlBuilder:u}=t,d={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:o},f=0;f<n.length;++f)M2[n[f]]=d;e&&(s&&(O0[e]=s),u&&(P0[e]=u))}function ba(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;_e({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var B0=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ot=function(e){return e.type==="ordgroup"?e.body:[e]},ti=oe.makeSpan,Gx=["leftmost","mbin","mopen","mrel","mop","mpunct"],Vx=["rightmost","mrel","mclose","mpunct"],Fx={display:He.DISPLAY,text:He.TEXT,script:He.SCRIPT,scriptscript:He.SCRIPTSCRIPT},$x={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Zt=function(e,n,r,o){o===void 0&&(o=[null,null]);for(var s=[],u=0;u<e.length;u++){var d=at(e[u],n);if(d instanceof Hs){var f=d.children;s.push(...f)}else s.push(d)}if(oe.tryCombineChars(s),!r)return s;var h=n;if(e.length===1){var g=e[0];g.type==="sizing"?h=n.havingSize(g.size):g.type==="styling"&&(h=n.havingStyle(Fx[g.style]))}var x=ti([o[0]||"leftmost"],[],n),b=ti([o[1]||"rightmost"],[],n),w=r==="root";return cv(s,(k,E)=>{var z=E.classes[0],R=k.classes[0];z==="mbin"&&Oe.contains(Vx,R)?E.classes[0]="mord":R==="mbin"&&Oe.contains(Gx,z)&&(k.classes[0]="mord")},{node:x},b,w),cv(s,(k,E)=>{var z=Af(E),R=Af(k),L=z&&R?k.hasClass("mtight")?qx[z][R]:Hx[z][R]:null;if(L)return oe.makeGlue(L,h)},{node:x},b,w),s},cv=function t(e,n,r,o,s){o&&e.push(o);for(var u=0;u<e.length;u++){var d=e[u],f=N2(d);if(f){t(f.children,n,r,null,s);continue}var h=!d.hasClass("mspace");if(h){var g=n(d,r.node);g&&(r.insertAfter?r.insertAfter(g):(e.unshift(g),u++))}h?r.node=d:s&&d.hasClass("newline")&&(r.node=ti(["leftmost"])),r.insertAfter=(x=>b=>{e.splice(x+1,0,b),u++})(u)}o&&e.pop()},N2=function(e){return e instanceof Hs||e instanceof oh||e instanceof qs&&e.hasClass("enclosing")?e:null},Yx=function t(e,n){var r=N2(e);if(r){var o=r.children;if(o.length){if(n==="right")return t(o[o.length-1],"right");if(n==="left")return t(o[0],"left")}}return e},Af=function(e,n){return e?(n&&(e=Yx(e,n)),$x[e.classes[0]]||null):null},Us=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ti(n.concat(r))},at=function(e,n,r){if(!e)return ti();if(O0[e.type]){var o=O0[e.type](e,n);if(r&&n.size!==r.size){o=ti(n.sizingClasses(r),[o],n);var s=n.sizeMultiplier/r.sizeMultiplier;o.height*=s,o.depth*=s}return o}else throw new ye("Got group of unknown type: '"+e.type+"'")};function f0(t,e){var n=ti(["base"],t,e),r=ti(["strut"]);return r.style.height=Se(n.height+n.depth),n.depth&&(r.style.verticalAlign=Se(-n.depth)),n.children.unshift(r),n}function Ef(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Zt(t,e,"root"),o;r.length===2&&r[1].hasClass("tag")&&(o=r.pop());for(var s=[],u=[],d=0;d<r.length;d++)if(u.push(r[d]),r[d].hasClass("mbin")||r[d].hasClass("mrel")||r[d].hasClass("allowbreak")){for(var f=!1;d<r.length-1&&r[d+1].hasClass("mspace")&&!r[d+1].hasClass("newline");)d++,u.push(r[d]),r[d].hasClass("nobreak")&&(f=!0);f||(s.push(f0(u,e)),u=[])}else r[d].hasClass("newline")&&(u.pop(),u.length>0&&(s.push(f0(u,e)),u=[]),s.push(r[d]));u.length>0&&s.push(f0(u,e));var h;n?(h=f0(Zt(n,e,!0)),h.classes=["tag"],s.push(h)):o&&s.push(o);var g=ti(["katex-html"],s);if(g.setAttribute("aria-hidden","true"),h){var x=h.children[0];x.style.height=Se(g.height+g.depth),g.depth&&(x.style.verticalAlign=Se(-g.depth))}return g}function R2(t){return new Hs(t)}class $n{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Hi(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Er&&this.children[r+1]instanceof Er){for(var o=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Er;)o+=this.children[++r].toText();e.appendChild(new Er(o).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Oe.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Oe.escape(Hi(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Er{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Oe.escape(this.toText())}toText(){return this.text}}class Jx{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Se(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Se(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ve={MathNode:$n,TextNode:Er,SpaceNode:Jx,newDocumentFragment:R2},sr=function(e,n,r){return bt[n][e]&&bt[n][e].replace&&e.charCodeAt(0)!==55349&&!(A2.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=bt[n][e].replace),new ve.TextNode(e)},lh=function(e){return e.length===1?e[0]:new ve.MathNode("mrow",e)},uh=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var o=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(Oe.contains(["\\imath","\\jmath"],s))return null;bt[o][s]&&bt[o][s].replace&&(s=bt[o][s].replace);var u=oe.fontMap[r].fontName;return ah(s,u,o)?oe.fontMap[r].variant:null};function Qd(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Er&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Er&&n.text===","}else return!1}var Mn=function(e,n,r){if(e.length===1){var o=xt(e[0],n);return r&&o instanceof $n&&o.type==="mo"&&(o.setAttribute("lspace","0em"),o.setAttribute("rspace","0em")),[o]}for(var s=[],u,d=0;d<e.length;d++){var f=xt(e[d],n);if(f instanceof $n&&u instanceof $n){if(f.type==="mtext"&&u.type==="mtext"&&f.getAttribute("mathvariant")===u.getAttribute("mathvariant")){u.children.push(...f.children);continue}else if(f.type==="mn"&&u.type==="mn"){u.children.push(...f.children);continue}else if(Qd(f)&&u.type==="mn"){u.children.push(...f.children);continue}else if(f.type==="mn"&&Qd(u))f.children=[...u.children,...f.children],s.pop();else if((f.type==="msup"||f.type==="msub")&&f.children.length>=1&&(u.type==="mn"||Qd(u))){var h=f.children[0];h instanceof $n&&h.type==="mn"&&(h.children=[...u.children,...h.children],s.pop())}else if(u.type==="mi"&&u.children.length===1){var g=u.children[0];if(g instanceof Er&&g.text===""&&(f.type==="mo"||f.type==="mi"||f.type==="mn")){var x=f.children[0];x instanceof Er&&x.text.length>0&&(x.text=x.text.slice(0,1)+""+x.text.slice(1),s.pop())}}}s.push(f),u=f}return s},Gi=function(e,n,r){return lh(Mn(e,n,r))},xt=function(e,n){if(!e)return new ve.MathNode("mrow");if(P0[e.type]){var r=P0[e.type](e,n);return r}else throw new ye("Got group of unknown type: '"+e.type+"'")};function dv(t,e,n,r,o){var s=Mn(t,n),u;s.length===1&&s[0]instanceof $n&&Oe.contains(["mrow","mtable"],s[0].type)?u=s[0]:u=new ve.MathNode("mrow",s);var d=new ve.MathNode("annotation",[new ve.TextNode(e)]);d.setAttribute("encoding","application/x-tex");var f=new ve.MathNode("semantics",[u,d]),h=new ve.MathNode("math",[f]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&h.setAttribute("display","block");var g=o?"katex":"katex-mathml";return oe.makeSpan([g],[h])}var I2=function(e){return new Zr({style:e.displayMode?He.DISPLAY:He.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},D2=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=oe.makeSpan(r,[e])}return e},Xx=function(e,n,r){var o=I2(r),s;if(r.output==="mathml")return dv(e,n,o,r.displayMode,!0);if(r.output==="html"){var u=Ef(e,o);s=oe.makeSpan(["katex"],[u])}else{var d=dv(e,n,o,r.displayMode,!1),f=Ef(e,o);s=oe.makeSpan(["katex"],[d,f])}return D2(s,r)},Kx=function(e,n,r){var o=I2(r),s=Ef(e,o),u=oe.makeSpan(["katex"],[s]);return D2(u,r)},Zx={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Wx=function(e){var n=new ve.MathNode("mo",[new ve.TextNode(Zx[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Qx={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},jx=function(e){return e.type==="ordgroup"?e.body.length:1},eb=function(e,n){function r(){var d=4e5,f=e.label.slice(1);if(Oe.contains(["widehat","widecheck","widetilde","utilde"],f)){var h=e,g=jx(h.base),x,b,w;if(g>5)f==="widehat"||f==="widecheck"?(x=420,d=2364,w=.42,b=f+"4"):(x=312,d=2340,w=.34,b="tilde4");else{var k=[1,1,2,2,3,3][g];f==="widehat"||f==="widecheck"?(d=[0,1062,2364,2364,2364][k],x=[0,239,300,360,420][k],w=[0,.24,.3,.3,.36,.42][k],b=f+k):(d=[0,600,1033,2339,2340][k],x=[0,260,286,306,312][k],w=[0,.26,.286,.3,.306,.34][k],b="tilde"+k)}var E=new qi(b),z=new ei([E],{width:"100%",height:Se(w),viewBox:"0 0 "+d+" "+x,preserveAspectRatio:"none"});return{span:oe.makeSvgSpan([],[z],n),minWidth:0,height:w}}else{var R=[],L=Qx[f],[B,D,U]=L,$=U/1e3,I=B.length,O,F;if(I===1){var Z=L[3];O=["hide-tail"],F=[Z]}else if(I===2)O=["halfarrow-left","halfarrow-right"],F=["xMinYMin","xMaxYMin"];else if(I===3)O=["brace-left","brace-center","brace-right"],F=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+I+" children.");for(var Y=0;Y<I;Y++){var X=new qi(B[Y]),Q=new ei([X],{width:"400em",height:Se($),viewBox:"0 0 "+d+" "+U,preserveAspectRatio:F[Y]+" slice"}),W=oe.makeSvgSpan([O[Y]],[Q],n);if(I===1)return{span:W,minWidth:D,height:$};W.style.height=Se($),R.push(W)}return{span:oe.makeSpan(["stretchy"],R,n),minWidth:D,height:$}}}var{span:o,minWidth:s,height:u}=r();return o.height=u,o.style.height=Se(u),s>0&&(o.style.minWidth=Se(s)),o},tb=function(e,n,r,o,s){var u,d=e.height+e.depth+r+o;if(/fbox|color|angl/.test(n)){if(u=oe.makeSpan(["stretchy",n],[],s),n==="fbox"){var f=s.color&&s.getColor();f&&(u.style.borderColor=f)}}else{var h=[];/^[bx]cancel$/.test(n)&&h.push(new Tf({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&h.push(new Tf({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var g=new ei(h,{width:"100%",height:Se(d)});u=oe.makeSvgSpan([],[g],s)}return u.height=d,u.style.height=Se(d),u},ni={encloseSpan:tb,mathMLnode:Wx,svgSpan:eb};function Ke(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function ch(t){var e=au(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function au(t){return t&&(t.type==="atom"||Ex.hasOwnProperty(t.type))?t:null}var dh=(t,e)=>{var n,r,o;t&&t.type==="supsub"?(r=Ke(t.base,"accent"),n=r.base,t.base=n,o=_x(at(t,e)),t.base=r):(r=Ke(t,"accent"),n=r.base);var s=at(n,e.havingCrampedStyle()),u=r.isShifty&&Oe.isCharacterBox(n),d=0;if(u){var f=Oe.getBaseElem(n),h=at(f,e.havingCrampedStyle());d=iv(h).skew}var g=r.label==="\\c",x=g?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),b;if(r.isStretchy)b=ni.svgSpan(r,e),b=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:b,wrapperClasses:["svg-align"],wrapperStyle:d>0?{width:"calc(100% - "+Se(2*d)+")",marginLeft:Se(2*d)}:void 0}]},e);else{var w,k;r.label==="\\vec"?(w=oe.staticSvg("vec",e),k=oe.svgData.vec[1]):(w=oe.makeOrd({mode:r.mode,text:r.label},e,"textord"),w=iv(w),w.italic=0,k=w.width,g&&(x+=w.depth)),b=oe.makeSpan(["accent-body"],[w]);var E=r.label==="\\textcircled";E&&(b.classes.push("accent-full"),x=s.height);var z=d;E||(z-=k/2),b.style.left=Se(z),r.label==="\\textcircled"&&(b.style.top=".2em"),b=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-x},{type:"elem",elem:b}]},e)}var R=oe.makeSpan(["mord","accent"],[b],e);return o?(o.children[0]=R,o.height=Math.max(R.height,o.height),o.classes[0]="mord",o):R},L2=(t,e)=>{var n=t.isStretchy?ni.mathMLnode(t.label):new ve.MathNode("mo",[sr(t.label,t.mode)]),r=new ve.MathNode("mover",[xt(t.base,e),n]);return r.setAttribute("accent","true"),r},nb=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));_e({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=B0(e[0]),r=!nb.test(t.funcName),o=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:o,base:n}},htmlBuilder:dh,mathmlBuilder:L2});_e({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:dh,mathmlBuilder:L2});_e({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:o}},htmlBuilder:(t,e)=>{var n=at(t.base,e),r=ni.svgSpan(t,e),o=t.label==="\\utilde"?.12:0,s=oe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},e);return oe.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=ni.mathMLnode(t.label),r=new ve.MathNode("munder",[xt(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var h0=t=>{var e=new ve.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};_e({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:o}=t;return{type:"xArrow",mode:r.mode,label:o,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),o=oe.wrapFragment(at(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";o.classes.push(s+"-arrow-pad");var u;t.below&&(r=e.havingStyle(n.sub()),u=oe.wrapFragment(at(t.below,r,e),e),u.classes.push(s+"-arrow-pad"));var d=ni.svgSpan(t,e),f=-e.fontMetrics().axisHeight+.5*d.height,h=-e.fontMetrics().axisHeight-.5*d.height-.111;(o.depth>.25||t.label==="\\xleftequilibrium")&&(h-=o.depth);var g;if(u){var x=-e.fontMetrics().axisHeight+u.height+.5*d.height+.111;g=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:h},{type:"elem",elem:d,shift:f},{type:"elem",elem:u,shift:x}]},e)}else g=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:h},{type:"elem",elem:d,shift:f}]},e);return g.children[0].children[0].children[1].classes.push("svg-align"),oe.makeSpan(["mrel","x-arrow"],[g],e)},mathmlBuilder(t,e){var n=ni.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var o=h0(xt(t.body,e));if(t.below){var s=h0(xt(t.below,e));r=new ve.MathNode("munderover",[n,s,o])}else r=new ve.MathNode("mover",[n,o])}else if(t.below){var u=h0(xt(t.below,e));r=new ve.MathNode("munder",[n,u])}else r=h0(),r=new ve.MathNode("mover",[n,r]);return r}});var rb=oe.makeSpan;function U2(t,e){var n=Zt(t.body,e,!0);return rb([t.mclass],n,e)}function O2(t,e){var n,r=Mn(t.body,e);return t.mclass==="minner"?n=new ve.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new ve.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new ve.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}_e({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,o=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Ot(o),isCharacterBox:Oe.isCharacterBox(o)}},htmlBuilder:U2,mathmlBuilder:O2});var ou=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};_e({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:ou(e[0]),body:Ot(e[1]),isCharacterBox:Oe.isCharacterBox(e[1])}}});_e({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,o=e[1],s=e[0],u;r!=="\\stackrel"?u=ou(o):u="mrel";var d={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ot(o)},f={type:"supsub",mode:s.mode,base:d,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:u,body:[f],isCharacterBox:Oe.isCharacterBox(f)}},htmlBuilder:U2,mathmlBuilder:O2});_e({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:ou(e[0]),body:Ot(e[0])}},htmlBuilder(t,e){var n=Zt(t.body,e,!0),r=oe.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Mn(t.body,e),r=new ve.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var ib={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},fv=()=>({type:"styling",body:[],mode:"math",style:"display"}),hv=t=>t.type==="textord"&&t.text==="@",ab=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function ob(t,e,n){var r=ib[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var o=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},u=n.callFunction("\\Big",[s],[]),d=n.callFunction("\\\\cdright",[e[1]],[]),f={type:"ordgroup",mode:"math",body:[o,u,d]};return n.callFunction("\\\\cdparent",[f],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function sb(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ye("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],o=[r],s=0;s<e.length;s++){for(var u=e[s],d=fv(),f=0;f<u.length;f++)if(!hv(u[f]))d.body.push(u[f]);else{r.push(d),f+=1;var h=ch(u[f]).text,g=new Array(2);if(g[0]={type:"ordgroup",mode:"math",body:[]},g[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var x=0;x<2;x++){for(var b=!0,w=f+1;w<u.length;w++){if(ab(u[w],h)){b=!1,f=w;break}if(hv(u[w]))throw new ye("Missing a "+h+" character to complete a CD arrow.",u[w]);g[x].body.push(u[w])}if(b)throw new ye("Missing a "+h+" character to complete a CD arrow.",u[f])}else throw new ye('Expected one of "<>AV=|." after @',u[f]);var k=ob(h,g,t),E={type:"styling",body:[k],mode:"math",style:"display"};r.push(E),d=fv()}s%2===0?r.push(d):r.shift(),r=[],o.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var z=new Array(o[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:o,arraystretch:1,addJot:!0,rowGaps:[null],cols:z,colSeparationType:"CD",hLinesBeforeRow:new Array(o.length+1).fill([])}}_e({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=oe.wrapFragment(at(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Se(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new ve.MathNode("mrow",[xt(t.label,e)]);return n=new ve.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ve.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});_e({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=oe.wrapFragment(at(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new ve.MathNode("mrow",[xt(t.fragment,e)])}});_e({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ke(e[0],"ordgroup"),o=r.body,s="",u=0;u<o.length;u++){var d=Ke(o[u],"textord");s+=d.text}var f=parseInt(s),h;if(isNaN(f))throw new ye("\\@char has non-numeric argument "+s);if(f<0||f>=1114111)throw new ye("\\@char with invalid code point "+s);return f<=65535?h=String.fromCharCode(f):(f-=65536,h=String.fromCharCode((f>>10)+55296,(f&1023)+56320)),{type:"textord",mode:n.mode,text:h}}});var P2=(t,e)=>{var n=Zt(t.body,e.withColor(t.color),!1);return oe.makeFragment(n)},B2=(t,e)=>{var n=Mn(t.body,e.withColor(t.color)),r=new ve.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};_e({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ke(e[0],"color-token").color,o=e[1];return{type:"color",mode:n.mode,color:r,body:Ot(o)}},htmlBuilder:P2,mathmlBuilder:B2});_e({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,o=Ke(e[0],"color-token").color;n.gullet.macros.set("\\current@color",o);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:o,body:s}},htmlBuilder:P2,mathmlBuilder:B2});_e({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,o=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:o&&Ke(o,"size").value}},htmlBuilder(t,e){var n=oe.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Se(kt(t.size,e)))),n},mathmlBuilder(t,e){var n=new ve.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Se(kt(t.size,e)))),n}});var Cf={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},H2=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ye("Expected a control sequence",t);return e},lb=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},q2=(t,e,n,r)=>{var o=t.gullet.macros.get(n.text);o==null&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,o,r)};_e({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(Cf[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Cf[r.text]),Ke(e.parseFunction(),"internal");throw new ye("Invalid token after macro prefix",r)}});_e({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),o=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new ye("Expected a control sequence",r);for(var s=0,u,d=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){u=e.gullet.future(),d[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ye('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new ye('Argument number "'+r.text+'" out of order');s++,d.push([])}else{if(r.text==="EOF")throw new ye("Expected a macro definition");d[s].push(r.text)}var{tokens:f}=e.gullet.consumeArg();return u&&f.unshift(u),(n==="\\edef"||n==="\\xdef")&&(f=e.gullet.expandTokens(f),f.reverse()),e.gullet.macros.set(o,{tokens:f,numArgs:s,delimiters:d},n===Cf[n]),{type:"internal",mode:e.mode}}});_e({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=H2(e.gullet.popToken());e.gullet.consumeSpaces();var o=lb(e);return q2(e,r,o,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});_e({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=H2(e.gullet.popToken()),o=e.gullet.popToken(),s=e.gullet.popToken();return q2(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(o),{type:"internal",mode:e.mode}}});var Ms=function(e,n,r){var o=bt.math[e]&&bt.math[e].replace,s=ah(o||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},fh=function(e,n,r,o){var s=r.havingBaseStyle(n),u=oe.makeSpan(o.concat(s.sizingClasses(r)),[e],r),d=s.sizeMultiplier/r.sizeMultiplier;return u.height*=d,u.depth*=d,u.maxFontSize=s.sizeMultiplier,u},G2=function(e,n,r){var o=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/o.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Se(s),e.height-=s,e.depth+=s},ub=function(e,n,r,o,s,u){var d=oe.makeSymbol(e,"Main-Regular",s,o),f=fh(d,n,o,u);return r&&G2(f,o,n),f},cb=function(e,n,r,o){return oe.makeSymbol(e,"Size"+n+"-Regular",r,o)},V2=function(e,n,r,o,s,u){var d=cb(e,n,s,o),f=fh(oe.makeSpan(["delimsizing","size"+n],[d],o),He.TEXT,o,u);return r&&G2(f,o,He.TEXT),f},jd=function(e,n,r){var o;n==="Size1-Regular"?o="delim-size1":o="delim-size4";var s=oe.makeSpan(["delimsizinginner",o],[oe.makeSpan([],[oe.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},ef=function(e,n,r){var o=Ar["Size4-Regular"][e.charCodeAt(0)]?Ar["Size4-Regular"][e.charCodeAt(0)][4]:Ar["Size1-Regular"][e.charCodeAt(0)][4],s=new qi("inner",gx(e,Math.round(1e3*n))),u=new ei([s],{width:Se(o),height:Se(n),style:"width:"+Se(o),viewBox:"0 0 "+1e3*o+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),d=oe.makeSvgSpan([],[u],r);return d.height=n,d.style.height=Se(n),d.style.width=Se(o),{type:"elem",elem:d}},kf=.008,m0={type:"kern",size:-1*kf},db=["|","\\lvert","\\rvert","\\vert"],fb=["\\|","\\lVert","\\rVert","\\Vert"],F2=function(e,n,r,o,s,u){var d,f,h,g,x="",b=0;d=h=g=e,f=null;var w="Size1-Regular";e==="\\uparrow"?h=g="":e==="\\Uparrow"?h=g="":e==="\\downarrow"?d=h="":e==="\\Downarrow"?d=h="":e==="\\updownarrow"?(d="\\uparrow",h="",g="\\downarrow"):e==="\\Updownarrow"?(d="\\Uparrow",h="",g="\\Downarrow"):Oe.contains(db,e)?(h="",x="vert",b=333):Oe.contains(fb,e)?(h="",x="doublevert",b=556):e==="["||e==="\\lbrack"?(d="",h="",g="",w="Size4-Regular",x="lbrack",b=667):e==="]"||e==="\\rbrack"?(d="",h="",g="",w="Size4-Regular",x="rbrack",b=667):e==="\\lfloor"||e===""?(h=d="",g="",w="Size4-Regular",x="lfloor",b=667):e==="\\lceil"||e===""?(d="",h=g="",w="Size4-Regular",x="lceil",b=667):e==="\\rfloor"||e===""?(h=d="",g="",w="Size4-Regular",x="rfloor",b=667):e==="\\rceil"||e===""?(d="",h=g="",w="Size4-Regular",x="rceil",b=667):e==="("||e==="\\lparen"?(d="",h="",g="",w="Size4-Regular",x="lparen",b=875):e===")"||e==="\\rparen"?(d="",h="",g="",w="Size4-Regular",x="rparen",b=875):e==="\\{"||e==="\\lbrace"?(d="",f="",g="",h="",w="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(d="",f="",g="",h="",w="Size4-Regular"):e==="\\lgroup"||e===""?(d="",g="",h="",w="Size4-Regular"):e==="\\rgroup"||e===""?(d="",g="",h="",w="Size4-Regular"):e==="\\lmoustache"||e===""?(d="",g="",h="",w="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(d="",g="",h="",w="Size4-Regular");var k=Ms(d,w,s),E=k.height+k.depth,z=Ms(h,w,s),R=z.height+z.depth,L=Ms(g,w,s),B=L.height+L.depth,D=0,U=1;if(f!==null){var $=Ms(f,w,s);D=$.height+$.depth,U=2}var I=E+B+D,O=Math.max(0,Math.ceil((n-I)/(U*R))),F=I+O*U*R,Z=o.fontMetrics().axisHeight;r&&(Z*=o.sizeMultiplier);var Y=F/2-Z,X=[];if(x.length>0){var Q=F-E-B,W=Math.round(F*1e3),ie=vx(x,Math.round(Q*1e3)),G=new qi(x,ie),le=(b/1e3).toFixed(3)+"em",re=(W/1e3).toFixed(3)+"em",Ee=new ei([G],{width:le,height:re,viewBox:"0 0 "+b+" "+W}),Le=oe.makeSvgSpan([],[Ee],o);Le.height=W/1e3,Le.style.width=le,Le.style.height=re,X.push({type:"elem",elem:Le})}else{if(X.push(jd(g,w,s)),X.push(m0),f===null){var q=F-E-B+2*kf;X.push(ef(h,q,o))}else{var ne=(F-E-B-D)/2+2*kf;X.push(ef(h,ne,o)),X.push(m0),X.push(jd(f,w,s)),X.push(m0),X.push(ef(h,ne,o))}X.push(m0),X.push(jd(d,w,s))}var ee=o.havingBaseStyle(He.TEXT),te=oe.makeVList({positionType:"bottom",positionData:Y,children:X},ee);return fh(oe.makeSpan(["delimsizing","mult"],[te],ee),He.TEXT,o,u)},tf=80,nf=.08,rf=function(e,n,r,o,s){var u=px(e,o,r),d=new qi(e,u),f=new ei([d],{width:"400em",height:Se(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return oe.makeSvgSpan(["hide-tail"],[f],s)},hb=function(e,n){var r=n.havingBaseSizing(),o=X2("\\surd",e*r.sizeMultiplier,J2,r),s=r.sizeMultiplier,u=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),d,f=0,h=0,g=0,x;return o.type==="small"?(g=1e3+1e3*u+tf,e<1?s=1:e<1.4&&(s=.7),f=(1+u+nf)/s,h=(1+u)/s,d=rf("sqrtMain",f,g,u,n),d.style.minWidth="0.853em",x=.833/s):o.type==="large"?(g=(1e3+tf)*Ds[o.size],h=(Ds[o.size]+u)/s,f=(Ds[o.size]+u+nf)/s,d=rf("sqrtSize"+o.size,f,g,u,n),d.style.minWidth="1.02em",x=1/s):(f=e+u+nf,h=e+u,g=Math.floor(1e3*e+u)+tf,d=rf("sqrtTall",f,g,u,n),d.style.minWidth="0.742em",x=1.056),d.height=h,d.style.height=Se(f),{span:d,advanceWidth:x,ruleWidth:(n.fontMetrics().sqrtRuleThickness+u)*s}},$2=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],mb=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Y2=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ds=[0,1.2,1.8,2.4,3],pb=function(e,n,r,o,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Oe.contains($2,e)||Oe.contains(Y2,e))return V2(e,n,!1,r,o,s);if(Oe.contains(mb,e))return F2(e,Ds[n],!1,r,o,s);throw new ye("Illegal delimiter: '"+e+"'")},gb=[{type:"small",style:He.SCRIPTSCRIPT},{type:"small",style:He.SCRIPT},{type:"small",style:He.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],vb=[{type:"small",style:He.SCRIPTSCRIPT},{type:"small",style:He.SCRIPT},{type:"small",style:He.TEXT},{type:"stack"}],J2=[{type:"small",style:He.SCRIPTSCRIPT},{type:"small",style:He.SCRIPT},{type:"small",style:He.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],yb=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},X2=function(e,n,r,o){for(var s=Math.min(2,3-o.style.size),u=s;u<r.length&&r[u].type!=="stack";u++){var d=Ms(e,yb(r[u]),"math"),f=d.height+d.depth;if(r[u].type==="small"){var h=o.havingBaseStyle(r[u].style);f*=h.sizeMultiplier}if(f>n)return r[u]}return r[r.length-1]},K2=function(e,n,r,o,s,u){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var d;Oe.contains(Y2,e)?d=gb:Oe.contains($2,e)?d=J2:d=vb;var f=X2(e,n,d,o);return f.type==="small"?ub(e,f.style,r,o,s,u):f.type==="large"?V2(e,f.size,r,o,s,u):F2(e,n,r,o,s,u)},xb=function(e,n,r,o,s,u){var d=o.fontMetrics().axisHeight*o.sizeMultiplier,f=901,h=5/o.fontMetrics().ptPerEm,g=Math.max(n-d,r+d),x=Math.max(g/500*f,2*g-h);return K2(e,x,!0,o,s,u)},jr={sqrtImage:hb,sizedDelim:pb,sizeToMaxHeight:Ds,customSizedDelim:K2,leftRightDelim:xb},mv={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},bb=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function su(t,e){var n=au(t);if(n&&Oe.contains(bb,n.text))return n;throw n?new ye("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new ye("Invalid delimiter type '"+t.type+"'",t)}_e({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=su(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:mv[t.funcName].size,mclass:mv[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?oe.makeSpan([t.mclass]):jr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(sr(t.delim,t.mode));var n=new ve.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Se(jr.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function pv(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}_e({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ye("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:su(e[0],t).text,color:n}}});_e({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=su(e[0],t),r=t.parser;++r.leftrightDepth;var o=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ke(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:o,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{pv(t);for(var n=Zt(t.body,e,!0,["mopen","mclose"]),r=0,o=0,s=!1,u=0;u<n.length;u++)n[u].isMiddle?s=!0:(r=Math.max(n[u].height,r),o=Math.max(n[u].depth,o));r*=e.sizeMultiplier,o*=e.sizeMultiplier;var d;if(t.left==="."?d=Us(e,["mopen"]):d=jr.leftRightDelim(t.left,r,o,e,t.mode,["mopen"]),n.unshift(d),s)for(var f=1;f<n.length;f++){var h=n[f],g=h.isMiddle;g&&(n[f]=jr.leftRightDelim(g.delim,r,o,g.options,t.mode,[]))}var x;if(t.right===".")x=Us(e,["mclose"]);else{var b=t.rightColor?e.withColor(t.rightColor):e;x=jr.leftRightDelim(t.right,r,o,b,t.mode,["mclose"])}return n.push(x),oe.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{pv(t);var n=Mn(t.body,e);if(t.left!=="."){var r=new ve.MathNode("mo",[sr(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var o=new ve.MathNode("mo",[sr(t.right,t.mode)]);o.setAttribute("fence","true"),t.rightColor&&o.setAttribute("mathcolor",t.rightColor),n.push(o)}return lh(n)}});_e({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=su(e[0],t);if(!t.parser.leftrightDepth)throw new ye("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Us(e,[]);else{n=jr.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?sr("|","text"):sr(t.delim,t.mode),r=new ve.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var hh=(t,e)=>{var n=oe.wrapFragment(at(t.body,e),e),r=t.label.slice(1),o=e.sizeMultiplier,s,u=0,d=Oe.isCharacterBox(t.body);if(r==="sout")s=oe.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/o,u=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var f=kt({number:.6,unit:"pt"},e),h=kt({number:.35,unit:"ex"},e),g=e.havingBaseSizing();o=o/g.sizeMultiplier;var x=n.height+n.depth+f+h;n.style.paddingLeft=Se(x/2+f);var b=Math.floor(1e3*x*o),w=hx(b),k=new ei([new qi("phase",w)],{width:"400em",height:Se(b/1e3),viewBox:"0 0 400000 "+b,preserveAspectRatio:"xMinYMin slice"});s=oe.makeSvgSpan(["hide-tail"],[k],e),s.style.height=Se(x),u=n.depth+f+h}else{/cancel/.test(r)?d||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var E=0,z=0,R=0;/box/.test(r)?(R=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),E=e.fontMetrics().fboxsep+(r==="colorbox"?0:R),z=E):r==="angl"?(R=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),E=4*R,z=Math.max(0,.25-n.depth)):(E=d?.2:0,z=E),s=ni.encloseSpan(n,r,E,z,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Se(R)):r==="angl"&&R!==.049&&(s.style.borderTopWidth=Se(R),s.style.borderRightWidth=Se(R)),u=n.depth+z,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var L;if(t.backgroundColor)L=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:u},{type:"elem",elem:n,shift:0}]},e);else{var B=/cancel|phase/.test(r)?["svg-align"]:[];L=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:u,wrapperClasses:B}]},e)}return/cancel/.test(r)&&(L.height=n.height,L.depth=n.depth),/cancel/.test(r)&&!d?oe.makeSpan(["mord","cancel-lap"],[L],e):oe.makeSpan(["mord"],[L],e)},mh=(t,e)=>{var n=0,r=new ve.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[xt(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var o=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+o+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};_e({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:o}=t,s=Ke(e[0],"color-token").color,u=e[1];return{type:"enclose",mode:r.mode,label:o,backgroundColor:s,body:u}},htmlBuilder:hh,mathmlBuilder:mh});_e({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:o}=t,s=Ke(e[0],"color-token").color,u=Ke(e[1],"color-token").color,d=e[2];return{type:"enclose",mode:r.mode,label:o,backgroundColor:u,borderColor:s,body:d}},htmlBuilder:hh,mathmlBuilder:mh});_e({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});_e({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,o=e[0];return{type:"enclose",mode:n.mode,label:r,body:o}},htmlBuilder:hh,mathmlBuilder:mh});_e({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var Z2={};function Cr(t){for(var{type:e,names:n,props:r,handler:o,htmlBuilder:s,mathmlBuilder:u}=t,d={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:o},f=0;f<n.length;++f)Z2[n[f]]=d;s&&(O0[e]=s),u&&(P0[e]=u)}var W2={};function N(t,e){W2[t]=e}function gv(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var lu=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ye("{"+t.envName+"} can be used only in display mode.")};function ph(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Vi(t,e,n){var{hskipBeforeAndAfter:r,addJot:o,cols:s,arraystretch:u,colSeparationType:d,autoTag:f,singleRow:h,emptySingleRow:g,maxNumCols:x,leqno:b}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!u){var w=t.gullet.expandMacroAsText("\\arraystretch");if(w==null)u=1;else if(u=parseFloat(w),!u||u<0)throw new ye("Invalid \\arraystretch: "+w)}t.gullet.beginGroup();var k=[],E=[k],z=[],R=[],L=f!=null?[]:void 0;function B(){f&&t.gullet.macros.set("\\@eqnsw","1",!0)}function D(){L&&(t.gullet.macros.get("\\df@tag")?(L.push(t.subparse([new ir("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):L.push(!!f&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(B(),R.push(gv(t));;){var U=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),U={type:"ordgroup",mode:t.mode,body:U},n&&(U={type:"styling",mode:t.mode,style:n,body:[U]}),k.push(U);var $=t.fetch().text;if($==="&"){if(x&&k.length===x){if(h||d)throw new ye("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if($==="\\end"){D(),k.length===1&&U.type==="styling"&&U.body[0].body.length===0&&(E.length>1||!g)&&E.pop(),R.length<E.length+1&&R.push([]);break}else if($==="\\\\"){t.consume();var I=void 0;t.gullet.future().text!==" "&&(I=t.parseSizeGroup(!0)),z.push(I?I.value:null),D(),R.push(gv(t)),k=[],E.push(k),B()}else throw new ye("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:o,arraystretch:u,body:E,cols:s,rowGaps:z,hskipBeforeAndAfter:r,hLinesBeforeRow:R,colSeparationType:d,tags:L,leqno:b}}function gh(t){return t.slice(0,1)==="d"?"display":"text"}var kr=function(e,n){var r,o,s=e.body.length,u=e.hLinesBeforeRow,d=0,f=new Array(s),h=[],g=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),x=1/n.fontMetrics().ptPerEm,b=5*x;if(e.colSeparationType&&e.colSeparationType==="small"){var w=n.havingStyle(He.SCRIPT).sizeMultiplier;b=.2778*(w/n.sizeMultiplier)}var k=e.colSeparationType==="CD"?kt({number:3,unit:"ex"},n):12*x,E=3*x,z=e.arraystretch*k,R=.7*z,L=.3*z,B=0;function D(fn){for(var cr=0;cr<fn.length;++cr)cr>0&&(B+=.25),h.push({pos:B,isDashed:fn[cr]})}for(D(u[0]),r=0;r<e.body.length;++r){var U=e.body[r],$=R,I=L;d<U.length&&(d=U.length);var O=new Array(U.length);for(o=0;o<U.length;++o){var F=at(U[o],n);I<F.depth&&(I=F.depth),$<F.height&&($=F.height),O[o]=F}var Z=e.rowGaps[r],Y=0;Z&&(Y=kt(Z,n),Y>0&&(Y+=L,I<Y&&(I=Y),Y=0)),e.addJot&&(I+=E),O.height=$,O.depth=I,B+=$,O.pos=B,B+=I+Y,f[r]=O,D(u[r+1])}var X=B/2+n.fontMetrics().axisHeight,Q=e.cols||[],W=[],ie,G,le=[];if(e.tags&&e.tags.some(fn=>fn))for(r=0;r<s;++r){var re=f[r],Ee=re.pos-X,Le=e.tags[r],q=void 0;Le===!0?q=oe.makeSpan(["eqn-num"],[],n):Le===!1?q=oe.makeSpan([],[],n):q=oe.makeSpan([],Zt(Le,n,!0),n),q.depth=re.depth,q.height=re.height,le.push({type:"elem",elem:q,shift:Ee})}for(o=0,G=0;o<d||G<Q.length;++o,++G){for(var ne=Q[G]||{},ee=!0;ne.type==="separator";){if(ee||(ie=oe.makeSpan(["arraycolsep"],[]),ie.style.width=Se(n.fontMetrics().doubleRuleSep),W.push(ie)),ne.separator==="|"||ne.separator===":"){var te=ne.separator==="|"?"solid":"dashed",xe=oe.makeSpan(["vertical-separator"],[],n);xe.style.height=Se(B),xe.style.borderRightWidth=Se(g),xe.style.borderRightStyle=te,xe.style.margin="0 "+Se(-g/2);var Te=B-X;Te&&(xe.style.verticalAlign=Se(-Te)),W.push(xe)}else throw new ye("Invalid separator type: "+ne.separator);G++,ne=Q[G]||{},ee=!1}if(!(o>=d)){var ce=void 0;(o>0||e.hskipBeforeAndAfter)&&(ce=Oe.deflt(ne.pregap,b),ce!==0&&(ie=oe.makeSpan(["arraycolsep"],[]),ie.style.width=Se(ce),W.push(ie)));var ke=[];for(r=0;r<s;++r){var Ie=f[r],$e=Ie[o];if($e){var We=Ie.pos-X;$e.depth=Ie.depth,$e.height=Ie.height,ke.push({type:"elem",elem:$e,shift:We})}}ke=oe.makeVList({positionType:"individualShift",children:ke},n),ke=oe.makeSpan(["col-align-"+(ne.align||"c")],[ke]),W.push(ke),(o<d-1||e.hskipBeforeAndAfter)&&(ce=Oe.deflt(ne.postgap,b),ce!==0&&(ie=oe.makeSpan(["arraycolsep"],[]),ie.style.width=Se(ce),W.push(ie)))}}if(f=oe.makeSpan(["mtable"],W),h.length>0){for(var Qe=oe.makeLineSpan("hline",n,g),St=oe.makeLineSpan("hdashline",n,g),ht=[{type:"elem",elem:f,shift:0}];h.length>0;){var Pt=h.pop(),sn=Pt.pos-X;Pt.isDashed?ht.push({type:"elem",elem:St,shift:sn}):ht.push({type:"elem",elem:Qe,shift:sn})}f=oe.makeVList({positionType:"individualShift",children:ht},n)}if(le.length===0)return oe.makeSpan(["mord"],[f],n);var It=oe.makeVList({positionType:"individualShift",children:le},n);return It=oe.makeSpan(["tag"],[It],n),oe.makeFragment([f,It])},Sb={c:"center ",l:"left ",r:"right "},zr=function(e,n){for(var r=[],o=new ve.MathNode("mtd",[],["mtr-glue"]),s=new ve.MathNode("mtd",[],["mml-eqn-num"]),u=0;u<e.body.length;u++){for(var d=e.body[u],f=[],h=0;h<d.length;h++)f.push(new ve.MathNode("mtd",[xt(d[h],n)]));e.tags&&e.tags[u]&&(f.unshift(o),f.push(o),e.leqno?f.unshift(s):f.push(s)),r.push(new ve.MathNode("mtr",f))}var g=new ve.MathNode("mtable",r),x=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);g.setAttribute("rowspacing",Se(x));var b="",w="";if(e.cols&&e.cols.length>0){var k=e.cols,E="",z=!1,R=0,L=k.length;k[0].type==="separator"&&(b+="top ",R=1),k[k.length-1].type==="separator"&&(b+="bottom ",L-=1);for(var B=R;B<L;B++)k[B].type==="align"?(w+=Sb[k[B].align],z&&(E+="none "),z=!0):k[B].type==="separator"&&z&&(E+=k[B].separator==="|"?"solid ":"dashed ",z=!1);g.setAttribute("columnalign",w.trim()),/[sd]/.test(E)&&g.setAttribute("columnlines",E.trim())}if(e.colSeparationType==="align"){for(var D=e.cols||[],U="",$=1;$<D.length;$++)U+=$%2?"0em ":"1em ";g.setAttribute("columnspacing",U.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?g.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?g.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?g.setAttribute("columnspacing","0.5em"):g.setAttribute("columnspacing","1em");var I="",O=e.hLinesBeforeRow;b+=O[0].length>0?"left ":"",b+=O[O.length-1].length>0?"right ":"";for(var F=1;F<O.length-1;F++)I+=O[F].length===0?"none ":O[F][0]?"dashed ":"solid ";return/[sd]/.test(I)&&g.setAttribute("rowlines",I.trim()),b!==""&&(g=new ve.MathNode("menclose",[g]),g.setAttribute("notation",b.trim())),e.arraystretch&&e.arraystretch<1&&(g=new ve.MathNode("mstyle",[g]),g.setAttribute("scriptlevel","1")),g},Q2=function(e,n){e.envName.indexOf("ed")===-1&&lu(e);var r=[],o=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",u=Vi(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:ph(e.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),d,f=0,h={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var g="",x=0;x<n[0].body.length;x++){var b=Ke(n[0].body[x],"textord");g+=b.text}d=Number(g),f=d*2}var w=!f;u.body.forEach(function(R){for(var L=1;L<R.length;L+=2){var B=Ke(R[L],"styling"),D=Ke(B.body[0],"ordgroup");D.body.unshift(h)}if(w)f<R.length&&(f=R.length);else{var U=R.length/2;if(d<U)throw new ye("Too many math in a row: "+("expected "+d+", but got "+U),R[0])}});for(var k=0;k<f;++k){var E="r",z=0;k%2===1?E="l":k>0&&w&&(z=1),r[k]={type:"align",align:E,pregap:z,postgap:0}}return u.colSeparationType=w?"align":"alignat",u};Cr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=au(e[0]),r=n?[e[0]]:Ke(e[0],"ordgroup").body,o=r.map(function(u){var d=ch(u),f=d.text;if("lcr".indexOf(f)!==-1)return{type:"align",align:f};if(f==="|")return{type:"separator",separator:"|"};if(f===":")return{type:"separator",separator:":"};throw new ye("Unknown column alignment: "+f,u)}),s={cols:o,hskipBeforeAndAfter:!0,maxNumCols:o.length};return Vi(t.parser,s,gh(t.envName))},htmlBuilder:kr,mathmlBuilder:zr});Cr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var o=t.parser;if(o.consumeSpaces(),o.fetch().text==="["){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,"lcr".indexOf(n)===-1)throw new ye("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),r.cols=[{type:"align",align:n}]}}var s=Vi(t.parser,r,gh(t.envName)),u=Math.max(0,...s.body.map(d=>d.length));return s.cols=new Array(u).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:kr,mathmlBuilder:zr});Cr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Vi(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:kr,mathmlBuilder:zr});Cr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=au(e[0]),r=n?[e[0]]:Ke(e[0],"ordgroup").body,o=r.map(function(u){var d=ch(u),f=d.text;if("lc".indexOf(f)!==-1)return{type:"align",align:f};throw new ye("Unknown column alignment: "+f,u)});if(o.length>1)throw new ye("{subarray} can contain only one column");var s={cols:o,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Vi(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new ye("{subarray} can contain only one column");return s},htmlBuilder:kr,mathmlBuilder:zr});Cr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Vi(t.parser,e,gh(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:kr,mathmlBuilder:zr});Cr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Q2,htmlBuilder:kr,mathmlBuilder:zr});Cr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Oe.contains(["gather","gather*"],t.envName)&&lu(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:ph(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Vi(t.parser,e,"display")},htmlBuilder:kr,mathmlBuilder:zr});Cr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Q2,htmlBuilder:kr,mathmlBuilder:zr});Cr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){lu(t);var e={autoTag:ph(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Vi(t.parser,e,"display")},htmlBuilder:kr,mathmlBuilder:zr});Cr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return lu(t),sb(t.parser)},htmlBuilder:kr,mathmlBuilder:zr});N("\\nonumber","\\gdef\\@eqnsw{0}");N("\\notag","\\nonumber");_e({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ye(t.funcName+" valid only within array environment")}});var vv=Z2;_e({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,o=e[0];if(o.type!=="ordgroup")throw new ye("Invalid environment name",o);for(var s="",u=0;u<o.body.length;++u)s+=Ke(o.body[u],"textord").text;if(r==="\\begin"){if(!vv.hasOwnProperty(s))throw new ye("No such environment: "+s,o);var d=vv[s],{args:f,optArgs:h}=n.parseArguments("\\begin{"+s+"}",d),g={mode:n.mode,envName:s,parser:n},x=d.handler(g,f,h);n.expect("\\end",!1);var b=n.nextToken,w=Ke(n.parseFunction(),"environment");if(w.name!==s)throw new ye("Mismatch: \\begin{"+s+"} matched by \\end{"+w.name+"}",b);return x}return{type:"environment",mode:n.mode,name:s,nameGroup:o}}});var j2=(t,e)=>{var n=t.font,r=e.withFont(n);return at(t.body,r)},e3=(t,e)=>{var n=t.font,r=e.withFont(n);return xt(t.body,r)},yv={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};_e({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=B0(e[0]),s=r;return s in yv&&(s=yv[s]),{type:"font",mode:n.mode,font:s.slice(1),body:o}},htmlBuilder:j2,mathmlBuilder:e3});_e({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],o=Oe.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:ou(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:o}}});_e({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:o}=t,{mode:s}=n,u=n.parseExpression(!0,o),d="math"+r.slice(1);return{type:"font",mode:s,font:d,body:{type:"ordgroup",mode:n.mode,body:u}}},htmlBuilder:j2,mathmlBuilder:e3});var t3=(t,e)=>{var n=e;return t==="display"?n=n.id>=He.SCRIPT.id?n.text():He.DISPLAY:t==="text"&&n.size===He.DISPLAY.size?n=He.TEXT:t==="script"?n=He.SCRIPT:t==="scriptscript"&&(n=He.SCRIPTSCRIPT),n},vh=(t,e)=>{var n=t3(t.size,e.style),r=n.fracNum(),o=n.fracDen(),s;s=e.havingStyle(r);var u=at(t.numer,s,e);if(t.continued){var d=8.5/e.fontMetrics().ptPerEm,f=3.5/e.fontMetrics().ptPerEm;u.height=u.height<d?d:u.height,u.depth=u.depth<f?f:u.depth}s=e.havingStyle(o);var h=at(t.denom,s,e),g,x,b;t.hasBarLine?(t.barSize?(x=kt(t.barSize,e),g=oe.makeLineSpan("frac-line",e,x)):g=oe.makeLineSpan("frac-line",e),x=g.height,b=g.height):(g=null,x=0,b=e.fontMetrics().defaultRuleThickness);var w,k,E;n.size===He.DISPLAY.size||t.size==="display"?(w=e.fontMetrics().num1,x>0?k=3*b:k=7*b,E=e.fontMetrics().denom1):(x>0?(w=e.fontMetrics().num2,k=b):(w=e.fontMetrics().num3,k=3*b),E=e.fontMetrics().denom2);var z;if(g){var L=e.fontMetrics().axisHeight;w-u.depth-(L+.5*x)<k&&(w+=k-(w-u.depth-(L+.5*x))),L-.5*x-(h.height-E)<k&&(E+=k-(L-.5*x-(h.height-E)));var B=-(L-.5*x);z=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:E},{type:"elem",elem:g,shift:B},{type:"elem",elem:u,shift:-w}]},e)}else{var R=w-u.depth-(h.height-E);R<k&&(w+=.5*(k-R),E+=.5*(k-R)),z=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:E},{type:"elem",elem:u,shift:-w}]},e)}s=e.havingStyle(n),z.height*=s.sizeMultiplier/e.sizeMultiplier,z.depth*=s.sizeMultiplier/e.sizeMultiplier;var D;n.size===He.DISPLAY.size?D=e.fontMetrics().delim1:n.size===He.SCRIPTSCRIPT.size?D=e.havingStyle(He.SCRIPT).fontMetrics().delim2:D=e.fontMetrics().delim2;var U,$;return t.leftDelim==null?U=Us(e,["mopen"]):U=jr.customSizedDelim(t.leftDelim,D,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?$=oe.makeSpan([]):t.rightDelim==null?$=Us(e,["mclose"]):$=jr.customSizedDelim(t.rightDelim,D,!0,e.havingStyle(n),t.mode,["mclose"]),oe.makeSpan(["mord"].concat(s.sizingClasses(e)),[U,oe.makeSpan(["mfrac"],[z]),$],e)},yh=(t,e)=>{var n=new ve.MathNode("mfrac",[xt(t.numer,e),xt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=kt(t.barSize,e);n.setAttribute("linethickness",Se(r))}var o=t3(t.size,e.style);if(o.size!==e.style.size){n=new ve.MathNode("mstyle",[n]);var s=o.size===He.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var u=[];if(t.leftDelim!=null){var d=new ve.MathNode("mo",[new ve.TextNode(t.leftDelim.replace("\\",""))]);d.setAttribute("fence","true"),u.push(d)}if(u.push(n),t.rightDelim!=null){var f=new ve.MathNode("mo",[new ve.TextNode(t.rightDelim.replace("\\",""))]);f.setAttribute("fence","true"),u.push(f)}return lh(u)}return n};_e({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0],s=e[1],u,d=null,f=null,h="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":u=!0;break;case"\\\\atopfrac":u=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":u=!1,d="(",f=")";break;case"\\\\bracefrac":u=!1,d="\\{",f="\\}";break;case"\\\\brackfrac":u=!1,d="[",f="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:o,denom:s,hasBarLine:u,leftDelim:d,rightDelim:f,size:h,barSize:null}},htmlBuilder:vh,mathmlBuilder:yh});_e({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:o,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});_e({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,o;switch(n){case"\\over":o="\\frac";break;case"\\choose":o="\\binom";break;case"\\atop":o="\\\\atopfrac";break;case"\\brace":o="\\\\bracefrac";break;case"\\brack":o="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:o,token:r}}});var xv=["display","text","script","scriptscript"],bv=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};_e({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],o=e[5],s=B0(e[0]),u=s.type==="atom"&&s.family==="open"?bv(s.text):null,d=B0(e[1]),f=d.type==="atom"&&d.family==="close"?bv(d.text):null,h=Ke(e[2],"size"),g,x=null;h.isBlank?g=!0:(x=h.value,g=x.number>0);var b="auto",w=e[3];if(w.type==="ordgroup"){if(w.body.length>0){var k=Ke(w.body[0],"textord");b=xv[Number(k.text)]}}else w=Ke(w,"textord"),b=xv[Number(w.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:o,continued:!1,hasBarLine:g,barSize:x,leftDelim:u,rightDelim:f,size:b}},htmlBuilder:vh,mathmlBuilder:yh});_e({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:o}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ke(e[0],"size").value,token:o}}});_e({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0],s=Q8(Ke(e[1],"infix").size),u=e[2],d=s.number>0;return{type:"genfrac",mode:n.mode,numer:o,denom:u,continued:!1,hasBarLine:d,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:vh,mathmlBuilder:yh});var n3=(t,e)=>{var n=e.style,r,o;t.type==="supsub"?(r=t.sup?at(t.sup,e.havingStyle(n.sup()),e):at(t.sub,e.havingStyle(n.sub()),e),o=Ke(t.base,"horizBrace")):o=Ke(t,"horizBrace");var s=at(o.base,e.havingBaseStyle(He.DISPLAY)),u=ni.svgSpan(o,e),d;if(o.isOver?(d=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:u}]},e),d.children[0].children[0].children[1].classes.push("svg-align")):(d=oe.makeVList({positionType:"bottom",positionData:s.depth+.1+u.height,children:[{type:"elem",elem:u},{type:"kern",size:.1},{type:"elem",elem:s}]},e),d.children[0].children[0].children[0].classes.push("svg-align")),r){var f=oe.makeSpan(["mord",o.isOver?"mover":"munder"],[d],e);o.isOver?d=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f},{type:"kern",size:.2},{type:"elem",elem:r}]},e):d=oe.makeVList({positionType:"bottom",positionData:f.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:f}]},e)}return oe.makeSpan(["mord",o.isOver?"mover":"munder"],[d],e)},wb=(t,e)=>{var n=ni.mathMLnode(t.label);return new ve.MathNode(t.isOver?"mover":"munder",[xt(t.base,e),n])};_e({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:n3,mathmlBuilder:wb});_e({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],o=Ke(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:o})?{type:"href",mode:n.mode,href:o,body:Ot(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Zt(t.body,e,!1);return oe.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Gi(t.body,e);return n instanceof $n||(n=new $n("mrow",[n])),n.setAttribute("href",t.href),n}});_e({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ke(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var o=[],s=0;s<r.length;s++){var u=r[s];u==="~"&&(u="\\textasciitilde"),o.push({type:"textord",mode:"text",text:u})}var d={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:r,body:Ot(d)}}});_e({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Ot(e[0])}},htmlBuilder(t,e){var n=Zt(t.body,e,!1);return oe.makeFragment(n)},mathmlBuilder(t,e){return new ve.MathNode("mrow",Mn(t.body,e))}});_e({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:o}=t,s=Ke(e[0],"raw").string,u=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var d,f={};switch(r){case"\\htmlClass":f.class=s,d={command:"\\htmlClass",class:s};break;case"\\htmlId":f.id=s,d={command:"\\htmlId",id:s};break;case"\\htmlStyle":f.style=s,d={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var h=s.split(","),g=0;g<h.length;g++){var x=h[g].split("=");if(x.length!==2)throw new ye("Error parsing key-value for \\htmlData");f["data-"+x[0].trim()]=x[1].trim()}d={command:"\\htmlData",attributes:f};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(d)?{type:"html",mode:n.mode,attributes:f,body:Ot(u)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Zt(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var o=oe.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&o.setAttribute(s,t.attributes[s]);return o},mathmlBuilder:(t,e)=>Gi(t.body,e)});_e({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Ot(e[0]),mathml:Ot(e[1])}},htmlBuilder:(t,e)=>{var n=Zt(t.html,e,!1);return oe.makeFragment(n)},mathmlBuilder:(t,e)=>Gi(t.mathml,e)});var af=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new ye("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!S2(r))throw new ye("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};_e({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,o={number:0,unit:"em"},s={number:.9,unit:"em"},u={number:0,unit:"em"},d="";if(n[0])for(var f=Ke(n[0],"raw").string,h=f.split(","),g=0;g<h.length;g++){var x=h[g].split("=");if(x.length===2){var b=x[1].trim();switch(x[0].trim()){case"alt":d=b;break;case"width":o=af(b);break;case"height":s=af(b);break;case"totalheight":u=af(b);break;default:throw new ye("Invalid key: '"+x[0]+"' in \\includegraphics.")}}}var w=Ke(e[0],"url").url;return d===""&&(d=w,d=d.replace(/^.*[\\/]/,""),d=d.substring(0,d.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:w})?{type:"includegraphics",mode:r.mode,alt:d,width:o,height:s,totalheight:u,src:w}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=kt(t.height,e),r=0;t.totalheight.number>0&&(r=kt(t.totalheight,e)-n);var o=0;t.width.number>0&&(o=kt(t.width,e));var s={height:Se(n+r)};o>0&&(s.width=Se(o)),r>0&&(s.verticalAlign=Se(-r));var u=new wx(t.src,t.alt,s);return u.height=n,u.depth=r,u},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=kt(t.height,e),o=0;if(t.totalheight.number>0&&(o=kt(t.totalheight,e)-r,n.setAttribute("valign",Se(-o))),n.setAttribute("height",Se(r+o)),t.width.number>0){var s=kt(t.width,e);n.setAttribute("width",Se(s))}return n.setAttribute("src",t.src),n}});_e({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,o=Ke(e[0],"size");if(n.settings.strict){var s=r[1]==="m",u=o.value.unit==="mu";s?(u||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+o.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):u&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder(t,e){return oe.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=kt(t.dimension,e);return new ve.SpaceNode(n)}});_e({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:o}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=oe.makeSpan([],[at(t.body,e)]),n=oe.makeSpan(["inner"],[n],e)):n=oe.makeSpan(["inner"],[at(t.body,e)]);var r=oe.makeSpan(["fix"],[]),o=oe.makeSpan([t.alignment],[n,r],e),s=oe.makeSpan(["strut"]);return s.style.height=Se(o.height+o.depth),o.depth&&(s.style.verticalAlign=Se(-o.depth)),o.children.unshift(s),o=oe.makeSpan(["thinbox"],[o],e),oe.makeSpan(["mord","vbox"],[o],e)},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mpadded",[xt(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});_e({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,o=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",u=r.parseExpression(!1,s);return r.expect(s),r.switchMode(o),{type:"styling",mode:r.mode,style:"text",body:u}}});_e({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ye("Mismatched "+t.funcName)}});var Sv=(t,e)=>{switch(e.style.size){case He.DISPLAY.size:return t.display;case He.TEXT.size:return t.text;case He.SCRIPT.size:return t.script;case He.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};_e({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Ot(e[0]),text:Ot(e[1]),script:Ot(e[2]),scriptscript:Ot(e[3])}},htmlBuilder:(t,e)=>{var n=Sv(t,e),r=Zt(n,e,!1);return oe.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=Sv(t,e);return Gi(n,e)}});var r3=(t,e,n,r,o,s,u)=>{t=oe.makeSpan([],[t]);var d=n&&Oe.isCharacterBox(n),f,h;if(e){var g=at(e,r.havingStyle(o.sup()),r);h={elem:g,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-g.depth)}}if(n){var x=at(n,r.havingStyle(o.sub()),r);f={elem:x,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-x.height)}}var b;if(h&&f){var w=r.fontMetrics().bigOpSpacing5+f.elem.height+f.elem.depth+f.kern+t.depth+u;b=oe.makeVList({positionType:"bottom",positionData:w,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:f.elem,marginLeft:Se(-s)},{type:"kern",size:f.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Se(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(f){var k=t.height-u;b=oe.makeVList({positionType:"top",positionData:k,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:f.elem,marginLeft:Se(-s)},{type:"kern",size:f.kern},{type:"elem",elem:t}]},r)}else if(h){var E=t.depth+u;b=oe.makeVList({positionType:"bottom",positionData:E,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Se(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var z=[b];if(f&&s!==0&&!d){var R=oe.makeSpan(["mspace"],[],r);R.style.marginRight=Se(s),z.unshift(R)}return oe.makeSpan(["mop","op-limits"],z,r)},i3=["\\smallint"],To=(t,e)=>{var n,r,o=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ke(t.base,"op"),o=!0):s=Ke(t,"op");var u=e.style,d=!1;u.size===He.DISPLAY.size&&s.symbol&&!Oe.contains(i3,s.name)&&(d=!0);var f;if(s.symbol){var h=d?"Size2-Regular":"Size1-Regular",g="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(g=s.name.slice(1),s.name=g==="oiint"?"\\iint":"\\iiint"),f=oe.makeSymbol(s.name,h,"math",e,["mop","op-symbol",d?"large-op":"small-op"]),g.length>0){var x=f.italic,b=oe.staticSvg(g+"Size"+(d?"2":"1"),e);f=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:0},{type:"elem",elem:b,shift:d?.08:0}]},e),s.name="\\"+g,f.classes.unshift("mop"),f.italic=x}}else if(s.body){var w=Zt(s.body,e,!0);w.length===1&&w[0]instanceof or?(f=w[0],f.classes[0]="mop"):f=oe.makeSpan(["mop"],w,e)}else{for(var k=[],E=1;E<s.name.length;E++)k.push(oe.mathsym(s.name[E],s.mode,e));f=oe.makeSpan(["mop"],k,e)}var z=0,R=0;return(f instanceof or||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(z=(f.height-f.depth)/2-e.fontMetrics().axisHeight,R=f.italic),o?r3(f,n,r,e,u,R,z):(z&&(f.style.position="relative",f.style.top=Se(z)),f)},Gs=(t,e)=>{var n;if(t.symbol)n=new $n("mo",[sr(t.name,t.mode)]),Oe.contains(i3,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new $n("mo",Mn(t.body,e));else{n=new $n("mi",[new Er(t.name.slice(1))]);var r=new $n("mo",[sr("","text")]);t.parentIsSupSub?n=new $n("mrow",[n,r]):n=R2([n,r])}return n},Tb={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};_e({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=r;return o.length===1&&(o=Tb[o]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:To,mathmlBuilder:Gs});_e({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ot(r)}},htmlBuilder:To,mathmlBuilder:Gs});var _b={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};_e({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:To,mathmlBuilder:Gs});_e({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:To,mathmlBuilder:Gs});_e({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=_b[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:To,mathmlBuilder:Gs});var a3=(t,e)=>{var n,r,o=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ke(t.base,"operatorname"),o=!0):s=Ke(t,"operatorname");var u;if(s.body.length>0){for(var d=s.body.map(x=>{var b=x.text;return typeof b=="string"?{type:"textord",mode:x.mode,text:b}:x}),f=Zt(d,e.withFont("mathrm"),!0),h=0;h<f.length;h++){var g=f[h];g instanceof or&&(g.text=g.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}u=oe.makeSpan(["mop"],f,e)}else u=oe.makeSpan(["mop"],[],e);return o?r3(u,n,r,e,e.style,0,0):u},Ab=(t,e)=>{for(var n=Mn(t.body,e.withFont("mathrm")),r=!0,o=0;o<n.length;o++){var s=n[o];if(!(s instanceof ve.SpaceNode))if(s instanceof ve.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var u=s.children[0];s.children.length===1&&u instanceof ve.TextNode?u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var d=n.map(g=>g.toText()).join("");n=[new ve.TextNode(d)]}var f=new ve.MathNode("mi",n);f.setAttribute("mathvariant","normal");var h=new ve.MathNode("mo",[sr("","text")]);return t.parentIsSupSub?new ve.MathNode("mrow",[f,h]):ve.newDocumentFragment([f,h])};_e({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,o=e[0];return{type:"operatorname",mode:n.mode,body:Ot(o),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:a3,mathmlBuilder:Ab});N("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");ba({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?oe.makeFragment(Zt(t.body,e,!1)):oe.makeSpan(["mord"],Zt(t.body,e,!0),e)},mathmlBuilder(t,e){return Gi(t.body,e,!0)}});_e({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=at(t.body,e.havingCrampedStyle()),r=oe.makeLineSpan("overline-line",e),o=e.fontMetrics().defaultRuleThickness,s=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:r},{type:"kern",size:o}]},e);return oe.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[new ve.TextNode("")]);n.setAttribute("stretchy","true");var r=new ve.MathNode("mover",[xt(t.body,e),n]);return r.setAttribute("accent","true"),r}});_e({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Ot(r)}},htmlBuilder:(t,e)=>{var n=Zt(t.body,e.withPhantom(),!1);return oe.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Mn(t.body,e);return new ve.MathNode("mphantom",n)}});_e({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=oe.makeSpan([],[at(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),oe.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Mn(Ot(t.body),e),r=new ve.MathNode("mphantom",n),o=new ve.MathNode("mpadded",[r]);return o.setAttribute("height","0px"),o.setAttribute("depth","0px"),o}});_e({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=oe.makeSpan(["inner"],[at(t.body,e.withPhantom())]),r=oe.makeSpan(["fix"],[]);return oe.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Mn(Ot(t.body),e),r=new ve.MathNode("mphantom",n),o=new ve.MathNode("mpadded",[r]);return o.setAttribute("width","0px"),o}});_e({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ke(e[0],"size").value,o=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:o}},htmlBuilder(t,e){var n=at(t.body,e),r=kt(t.dy,e);return oe.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new ve.MathNode("mpadded",[xt(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});_e({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});_e({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,o=n[0],s=Ke(e[0],"size"),u=Ke(e[1],"size");return{type:"rule",mode:r.mode,shift:o&&Ke(o,"size").value,width:s.value,height:u.value}},htmlBuilder(t,e){var n=oe.makeSpan(["mord","rule"],[],e),r=kt(t.width,e),o=kt(t.height,e),s=t.shift?kt(t.shift,e):0;return n.style.borderRightWidth=Se(r),n.style.borderTopWidth=Se(o),n.style.bottom=Se(s),n.width=r,n.height=o+s,n.depth=-s,n.maxFontSize=o*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=kt(t.width,e),r=kt(t.height,e),o=t.shift?kt(t.shift,e):0,s=e.color&&e.getColor()||"black",u=new ve.MathNode("mspace");u.setAttribute("mathbackground",s),u.setAttribute("width",Se(n)),u.setAttribute("height",Se(r));var d=new ve.MathNode("mpadded",[u]);return o>=0?d.setAttribute("height",Se(o)):(d.setAttribute("height",Se(o)),d.setAttribute("depth",Se(-o))),d.setAttribute("voffset",Se(o)),d}});function o3(t,e,n){for(var r=Zt(t,e,!1),o=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var u=r[s].classes.indexOf("sizing");u<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[u+1]==="reset-size"+e.size&&(r[s].classes[u+1]="reset-size"+n.size),r[s].height*=o,r[s].depth*=o}return oe.makeFragment(r)}var wv=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Eb=(t,e)=>{var n=e.havingSize(t.size);return o3(t.body,n,e)};_e({type:"sizing",names:wv,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:o}=t,s=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:wv.indexOf(r)+1,body:s}},htmlBuilder:Eb,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Mn(t.body,n),o=new ve.MathNode("mstyle",r);return o.setAttribute("mathsize",Se(n.sizeMultiplier)),o}});_e({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,o=!1,s=!1,u=n[0]&&Ke(n[0],"ordgroup");if(u)for(var d="",f=0;f<u.body.length;++f){var h=u.body[f];if(d=h.text,d==="t")o=!0;else if(d==="b")s=!0;else{o=!1,s=!1;break}}else o=!0,s=!0;var g=e[0];return{type:"smash",mode:r.mode,body:g,smashHeight:o,smashDepth:s}},htmlBuilder:(t,e)=>{var n=oe.makeSpan([],[at(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var s=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return oe.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mpadded",[xt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});_e({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,o=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:o}},htmlBuilder(t,e){var n=at(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=oe.wrapFragment(n,e);var r=e.fontMetrics(),o=r.defaultRuleThickness,s=o;e.style.id<He.TEXT.id&&(s=e.fontMetrics().xHeight);var u=o+s/4,d=n.height+n.depth+u+o,{span:f,ruleWidth:h,advanceWidth:g}=jr.sqrtImage(d,e),x=f.height-h;x>n.height+n.depth+u&&(u=(u+x-n.height-n.depth)/2);var b=f.height-n.height-u-h;n.style.paddingLeft=Se(g);var w=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+b)},{type:"elem",elem:f},{type:"kern",size:h}]},e);if(t.index){var k=e.havingStyle(He.SCRIPTSCRIPT),E=at(t.index,k,e),z=.6*(w.height-w.depth),R=oe.makeVList({positionType:"shift",positionData:-z,children:[{type:"elem",elem:E}]},e),L=oe.makeSpan(["root"],[R]);return oe.makeSpan(["mord","sqrt"],[L,w],e)}else return oe.makeSpan(["mord","sqrt"],[w],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new ve.MathNode("mroot",[xt(n,e),xt(r,e)]):new ve.MathNode("msqrt",[xt(n,e)])}});var Tv={display:He.DISPLAY,text:He.TEXT,script:He.SCRIPT,scriptscript:He.SCRIPTSCRIPT};_e({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:o}=t,s=o.parseExpression(!0,n),u=r.slice(1,r.length-5);return{type:"styling",mode:o.mode,style:u,body:s}},htmlBuilder(t,e){var n=Tv[t.style],r=e.havingStyle(n).withFont("");return o3(t.body,r,e)},mathmlBuilder(t,e){var n=Tv[t.style],r=e.havingStyle(n),o=Mn(t.body,r),s=new ve.MathNode("mstyle",o),u={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},d=u[t.style];return s.setAttribute("scriptlevel",d[0]),s.setAttribute("displaystyle",d[1]),s}});var Cb=function(e,n){var r=e.base;if(r)if(r.type==="op"){var o=r.limits&&(n.style.size===He.DISPLAY.size||r.alwaysHandleSupSub);return o?To:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===He.DISPLAY.size||r.limits);return s?a3:null}else{if(r.type==="accent")return Oe.isCharacterBox(r.base)?dh:null;if(r.type==="horizBrace"){var u=!e.sub;return u===r.isOver?n3:null}else return null}else return null};ba({type:"supsub",htmlBuilder(t,e){var n=Cb(t,e);if(n)return n(t,e);var{base:r,sup:o,sub:s}=t,u=at(r,e),d,f,h=e.fontMetrics(),g=0,x=0,b=r&&Oe.isCharacterBox(r);if(o){var w=e.havingStyle(e.style.sup());d=at(o,w,e),b||(g=u.height-w.fontMetrics().supDrop*w.sizeMultiplier/e.sizeMultiplier)}if(s){var k=e.havingStyle(e.style.sub());f=at(s,k,e),b||(x=u.depth+k.fontMetrics().subDrop*k.sizeMultiplier/e.sizeMultiplier)}var E;e.style===He.DISPLAY?E=h.sup1:e.style.cramped?E=h.sup3:E=h.sup2;var z=e.sizeMultiplier,R=Se(.5/h.ptPerEm/z),L=null;if(f){var B=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(u instanceof or||B)&&(L=Se(-u.italic))}var D;if(d&&f){g=Math.max(g,E,d.depth+.25*h.xHeight),x=Math.max(x,h.sub2);var U=h.defaultRuleThickness,$=4*U;if(g-d.depth-(f.height-x)<$){x=$-(g-d.depth)+f.height;var I=.8*h.xHeight-(g-d.depth);I>0&&(g+=I,x-=I)}var O=[{type:"elem",elem:f,shift:x,marginRight:R,marginLeft:L},{type:"elem",elem:d,shift:-g,marginRight:R}];D=oe.makeVList({positionType:"individualShift",children:O},e)}else if(f){x=Math.max(x,h.sub1,f.height-.8*h.xHeight);var F=[{type:"elem",elem:f,marginLeft:L,marginRight:R}];D=oe.makeVList({positionType:"shift",positionData:x,children:F},e)}else if(d)g=Math.max(g,E,d.depth+.25*h.xHeight),D=oe.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:d,marginRight:R}]},e);else throw new Error("supsub must have either sup or sub.");var Z=Af(u,"right")||"mord";return oe.makeSpan([Z],[u,oe.makeSpan(["msupsub"],[D])],e)},mathmlBuilder(t,e){var n=!1,r,o;t.base&&t.base.type==="horizBrace"&&(o=!!t.sup,o===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[xt(t.base,e)];t.sub&&s.push(xt(t.sub,e)),t.sup&&s.push(xt(t.sup,e));var u;if(n)u=r?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===He.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===He.DISPLAY||h.limits)?u="munderover":u="msubsup"}else{var f=t.base;f&&f.type==="op"&&f.limits&&(e.style===He.DISPLAY||f.alwaysHandleSupSub)||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(f.limits||e.style===He.DISPLAY)?u="munder":u="msub"}else{var d=t.base;d&&d.type==="op"&&d.limits&&(e.style===He.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||e.style===He.DISPLAY)?u="mover":u="msup"}return new ve.MathNode(u,s)}});ba({type:"atom",htmlBuilder(t,e){return oe.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[sr(t.text,t.mode)]);if(t.family==="bin"){var r=uh(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var s3={mi:"italic",mn:"normal",mtext:"normal"};ba({type:"mathord",htmlBuilder(t,e){return oe.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new ve.MathNode("mi",[sr(t.text,t.mode,e)]),r=uh(t,e)||"italic";return r!==s3[n.type]&&n.setAttribute("mathvariant",r),n}});ba({type:"textord",htmlBuilder(t,e){return oe.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=sr(t.text,t.mode,e),r=uh(t,e)||"normal",o;return t.mode==="text"?o=new ve.MathNode("mtext",[n]):/[0-9]/.test(t.text)?o=new ve.MathNode("mn",[n]):t.text==="\\prime"?o=new ve.MathNode("mo",[n]):o=new ve.MathNode("mi",[n]),r!==s3[o.type]&&o.setAttribute("mathvariant",r),o}});var of={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},sf={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ba({type:"spacing",htmlBuilder(t,e){if(sf.hasOwnProperty(t.text)){var n=sf[t.text].className||"";if(t.mode==="text"){var r=oe.makeOrd(t,e,"textord");return r.classes.push(n),r}else return oe.makeSpan(["mspace",n],[oe.mathsym(t.text,t.mode,e)],e)}else{if(of.hasOwnProperty(t.text))return oe.makeSpan(["mspace",of[t.text]],[],e);throw new ye('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(sf.hasOwnProperty(t.text))n=new ve.MathNode("mtext",[new ve.TextNode("")]);else{if(of.hasOwnProperty(t.text))return new ve.MathNode("mspace");throw new ye('Unknown type of space "'+t.text+'"')}return n}});var _v=()=>{var t=new ve.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};ba({type:"tag",mathmlBuilder(t,e){var n=new ve.MathNode("mtable",[new ve.MathNode("mtr",[_v(),new ve.MathNode("mtd",[Gi(t.body,e)]),_v(),new ve.MathNode("mtd",[Gi(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var Av={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Ev={"\\textbf":"textbf","\\textmd":"textmd"},kb={"\\textit":"textit","\\textup":"textup"},Cv=(t,e)=>{var n=t.font;if(n){if(Av[n])return e.withTextFontFamily(Av[n]);if(Ev[n])return e.withTextFontWeight(Ev[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(kb[n])};_e({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,o=e[0];return{type:"text",mode:n.mode,body:Ot(o),font:r}},htmlBuilder(t,e){var n=Cv(t,e),r=Zt(t.body,n,!0);return oe.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=Cv(t,e);return Gi(t.body,n)}});_e({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=at(t.body,e),r=oe.makeLineSpan("underline-line",e),o=e.fontMetrics().defaultRuleThickness,s=oe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:o},{type:"elem",elem:r},{type:"kern",size:3*o},{type:"elem",elem:n}]},e);return oe.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[new ve.TextNode("")]);n.setAttribute("stretchy","true");var r=new ve.MathNode("munder",[xt(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});_e({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=at(t.body,e),r=e.fontMetrics().axisHeight,o=.5*(n.height-r-(n.depth+r));return oe.makeVList({positionType:"shift",positionData:o,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new ve.MathNode("mpadded",[xt(t.body,e)],["vcenter"])}});_e({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new ye("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=kv(t),r=[],o=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var u=n[s];u==="~"&&(u="\\textasciitilde"),r.push(oe.makeSymbol(u,"Typewriter-Regular",t.mode,o,["mord","texttt"]))}return oe.makeSpan(["mord","text"].concat(o.sizingClasses(e)),oe.tryCombineChars(r),o)},mathmlBuilder(t,e){var n=new ve.TextNode(kv(t)),r=new ve.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var kv=t=>t.body.replace(/ /g,t.star?"":""),Oi=M2,l3=`[ \r
	]`,zb="\\\\[a-zA-Z@]+",Mb="\\\\[^\uD800-\uDFFF]",Nb="("+zb+")"+l3+"*",Rb=`\\\\(
|[ \r	]+
?)[ \r	]*`,zf="[-]",Ib=new RegExp(zf+"+$"),Db="("+l3+"+)|"+(Rb+"|")+"([!-\\[\\]---]"+(zf+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(zf+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Nb)+("|"+Mb+")");class zv{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(Db,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new ir("EOF",new Gn(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new ye("Unexpected character: '"+e[n]+"'",new ir(e[n],new Gn(this,n,n+1)));var o=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[o]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new ir(o,new Gn(this,n,this.tokenRegex.lastIndex))}}class Lb{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ye("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var o=0;o<this.undefStack.length;o++)delete this.undefStack[o][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var Ub=W2;N("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});N("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});N("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});N("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});N("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});N("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");N("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Mv={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};N("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ye("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=Mv[e.text],r==null||r>=n)throw new ye("Invalid base-"+n+" digit "+e.text);for(var o;(o=Mv[t.future().text])!=null&&o<n;)r*=n,r+=o,t.popToken()}return"\\@char{"+r+"}"});var xh=(t,e,n,r)=>{var o=t.consumeArg().tokens;if(o.length!==1)throw new ye("\\newcommand's first argument must be a macro name");var s=o[0].text,u=t.isDefined(s);if(u&&!e)throw new ye("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!u&&!n)throw new ye("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var d=0;if(o=t.consumeArg().tokens,o.length===1&&o[0].text==="["){for(var f="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)f+=h.text,h=t.expandNextToken();if(!f.match(/^\s*[0-9]+\s*$/))throw new ye("Invalid number of arguments: "+f);d=parseInt(f),o=t.consumeArg().tokens}return u&&r||t.macros.set(s,{tokens:o,numArgs:d}),""};N("\\newcommand",t=>xh(t,!1,!0,!1));N("\\renewcommand",t=>xh(t,!0,!1,!1));N("\\providecommand",t=>xh(t,!0,!0,!0));N("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});N("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});N("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Oi[n],bt.math[n],bt.text[n]),""});N("\\bgroup","{");N("\\egroup","}");N("~","\\nobreakspace");N("\\lq","`");N("\\rq","'");N("\\aa","\\r a");N("\\AA","\\r A");N("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");N("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");N("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");N("","\\mathscr{B}");N("","\\mathscr{E}");N("","\\mathscr{F}");N("","\\mathscr{H}");N("","\\mathscr{I}");N("","\\mathscr{L}");N("","\\mathscr{M}");N("","\\mathscr{R}");N("","\\mathfrak{C}");N("","\\mathfrak{H}");N("","\\mathfrak{Z}");N("\\Bbbk","\\Bbb{k}");N("","\\cdotp");N("\\llap","\\mathllap{\\textrm{#1}}");N("\\rlap","\\mathrlap{\\textrm{#1}}");N("\\clap","\\mathclap{\\textrm{#1}}");N("\\mathstrut","\\vphantom{(}");N("\\underbar","\\underline{\\text{#1}}");N("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');N("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");N("\\ne","\\neq");N("","\\neq");N("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");N("","\\notin");N("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");N("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");N("","\\perp");N("","\\mathclose{!\\mkern-0.8mu!}");N("","\\notni");N("","\\ulcorner");N("","\\urcorner");N("","\\llcorner");N("","\\lrcorner");N("","\\copyright");N("","\\textregistered");N("","\\textregistered");N("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');N("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');N("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');N("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');N("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");N("","\\vdots");N("\\varGamma","\\mathit{\\Gamma}");N("\\varDelta","\\mathit{\\Delta}");N("\\varTheta","\\mathit{\\Theta}");N("\\varLambda","\\mathit{\\Lambda}");N("\\varXi","\\mathit{\\Xi}");N("\\varPi","\\mathit{\\Pi}");N("\\varSigma","\\mathit{\\Sigma}");N("\\varUpsilon","\\mathit{\\Upsilon}");N("\\varPhi","\\mathit{\\Phi}");N("\\varPsi","\\mathit{\\Psi}");N("\\varOmega","\\mathit{\\Omega}");N("\\substack","\\begin{subarray}{c}#1\\end{subarray}");N("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");N("\\boxed","\\fbox{$\\displaystyle{#1}$}");N("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");N("\\implies","\\DOTSB\\;\\Longrightarrow\\;");N("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");N("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");N("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Nv={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};N("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in Nv?e=Nv[n]:(n.slice(0,4)==="\\not"||n in bt.math&&Oe.contains(["bin","rel"],bt.math[n].group))&&(e="\\dotsb"),e});var bh={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};N("\\dotso",function(t){var e=t.future().text;return e in bh?"\\ldots\\,":"\\ldots"});N("\\dotsc",function(t){var e=t.future().text;return e in bh&&e!==","?"\\ldots\\,":"\\ldots"});N("\\cdots",function(t){var e=t.future().text;return e in bh?"\\@cdots\\,":"\\@cdots"});N("\\dotsb","\\cdots");N("\\dotsm","\\cdots");N("\\dotsi","\\!\\cdots");N("\\dotsx","\\ldots\\,");N("\\DOTSI","\\relax");N("\\DOTSB","\\relax");N("\\DOTSX","\\relax");N("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");N("\\,","\\tmspace+{3mu}{.1667em}");N("\\thinspace","\\,");N("\\>","\\mskip{4mu}");N("\\:","\\tmspace+{4mu}{.2222em}");N("\\medspace","\\:");N("\\;","\\tmspace+{5mu}{.2777em}");N("\\thickspace","\\;");N("\\!","\\tmspace-{3mu}{.1667em}");N("\\negthinspace","\\!");N("\\negmedspace","\\tmspace-{4mu}{.2222em}");N("\\negthickspace","\\tmspace-{5mu}{.277em}");N("\\enspace","\\kern.5em ");N("\\enskip","\\hskip.5em\\relax");N("\\quad","\\hskip1em\\relax");N("\\qquad","\\hskip2em\\relax");N("\\tag","\\@ifstar\\tag@literal\\tag@paren");N("\\tag@paren","\\tag@literal{({#1})}");N("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ye("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});N("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");N("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");N("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");N("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");N("\\newline","\\\\\\relax");N("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var u3=Se(Ar["Main-Regular"][84][1]-.7*Ar["Main-Regular"][65][1]);N("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+u3+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");N("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+u3+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");N("\\hspace","\\@ifstar\\@hspacer\\@hspace");N("\\@hspace","\\hskip #1\\relax");N("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");N("\\ordinarycolon",":");N("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");N("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');N("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');N("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');N("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');N("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');N("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');N("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');N("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');N("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');N("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');N("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');N("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');N("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');N("","\\dblcolon");N("","\\eqcolon");N("","\\coloneqq");N("","\\eqqcolon");N("","\\Coloneqq");N("\\ratio","\\vcentcolon");N("\\coloncolon","\\dblcolon");N("\\colonequals","\\coloneqq");N("\\coloncolonequals","\\Coloneqq");N("\\equalscolon","\\eqqcolon");N("\\equalscoloncolon","\\Eqqcolon");N("\\colonminus","\\coloneq");N("\\coloncolonminus","\\Coloneq");N("\\minuscolon","\\eqcolon");N("\\minuscoloncolon","\\Eqcolon");N("\\coloncolonapprox","\\Colonapprox");N("\\coloncolonsim","\\Colonsim");N("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");N("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");N("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");N("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");N("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");N("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");N("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");N("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");N("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");N("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");N("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");N("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");N("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");N("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");N("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");N("\\ngeqq","\\html@mathml{\\@ngeqq}{}");N("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");N("\\nleqq","\\html@mathml{\\@nleqq}{}");N("\\nleqslant","\\html@mathml{\\@nleqslant}{}");N("\\nshortmid","\\html@mathml{\\@nshortmid}{}");N("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");N("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");N("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");N("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");N("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");N("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");N("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");N("\\imath","\\html@mathml{\\@imath}{}");N("\\jmath","\\html@mathml{\\@jmath}{}");N("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");N("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");N("","\\llbracket");N("","\\rrbracket");N("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");N("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");N("","\\lBrace");N("","\\rBrace");N("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");N("","\\minuso");N("\\darr","\\downarrow");N("\\dArr","\\Downarrow");N("\\Darr","\\Downarrow");N("\\lang","\\langle");N("\\rang","\\rangle");N("\\uarr","\\uparrow");N("\\uArr","\\Uparrow");N("\\Uarr","\\Uparrow");N("\\N","\\mathbb{N}");N("\\R","\\mathbb{R}");N("\\Z","\\mathbb{Z}");N("\\alef","\\aleph");N("\\alefsym","\\aleph");N("\\Alpha","\\mathrm{A}");N("\\Beta","\\mathrm{B}");N("\\bull","\\bullet");N("\\Chi","\\mathrm{X}");N("\\clubs","\\clubsuit");N("\\cnums","\\mathbb{C}");N("\\Complex","\\mathbb{C}");N("\\Dagger","\\ddagger");N("\\diamonds","\\diamondsuit");N("\\empty","\\emptyset");N("\\Epsilon","\\mathrm{E}");N("\\Eta","\\mathrm{H}");N("\\exist","\\exists");N("\\harr","\\leftrightarrow");N("\\hArr","\\Leftrightarrow");N("\\Harr","\\Leftrightarrow");N("\\hearts","\\heartsuit");N("\\image","\\Im");N("\\infin","\\infty");N("\\Iota","\\mathrm{I}");N("\\isin","\\in");N("\\Kappa","\\mathrm{K}");N("\\larr","\\leftarrow");N("\\lArr","\\Leftarrow");N("\\Larr","\\Leftarrow");N("\\lrarr","\\leftrightarrow");N("\\lrArr","\\Leftrightarrow");N("\\Lrarr","\\Leftrightarrow");N("\\Mu","\\mathrm{M}");N("\\natnums","\\mathbb{N}");N("\\Nu","\\mathrm{N}");N("\\Omicron","\\mathrm{O}");N("\\plusmn","\\pm");N("\\rarr","\\rightarrow");N("\\rArr","\\Rightarrow");N("\\Rarr","\\Rightarrow");N("\\real","\\Re");N("\\reals","\\mathbb{R}");N("\\Reals","\\mathbb{R}");N("\\Rho","\\mathrm{P}");N("\\sdot","\\cdot");N("\\sect","\\S");N("\\spades","\\spadesuit");N("\\sub","\\subset");N("\\sube","\\subseteq");N("\\supe","\\supseteq");N("\\Tau","\\mathrm{T}");N("\\thetasym","\\vartheta");N("\\weierp","\\wp");N("\\Zeta","\\mathrm{Z}");N("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");N("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");N("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");N("\\bra","\\mathinner{\\langle{#1}|}");N("\\ket","\\mathinner{|{#1}\\rangle}");N("\\braket","\\mathinner{\\langle{#1}\\rangle}");N("\\Bra","\\left\\langle#1\\right|");N("\\Ket","\\left|#1\\right\\rangle");var c3=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,o=e.consumeArg().tokens,s=e.consumeArg().tokens,u=e.macros.get("|"),d=e.macros.get("\\|");e.macros.beginGroup();var f=x=>b=>{t&&(b.macros.set("|",u),o.length&&b.macros.set("\\|",d));var w=x;if(!x&&o.length){var k=b.future();k.text==="|"&&(b.popToken(),w=!0)}return{tokens:w?o:r,numArgs:0}};e.macros.set("|",f(!1)),o.length&&e.macros.set("\\|",f(!0));var h=e.consumeArg().tokens,g=e.expandTokens([...s,...h,...n]);return e.macros.endGroup(),{tokens:g.reverse(),numArgs:0}};N("\\bra@ket",c3(!1));N("\\bra@set",c3(!0));N("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");N("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");N("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");N("\\angln","{\\angl n}");N("\\blue","\\textcolor{##6495ed}{#1}");N("\\orange","\\textcolor{##ffa500}{#1}");N("\\pink","\\textcolor{##ff00af}{#1}");N("\\red","\\textcolor{##df0030}{#1}");N("\\green","\\textcolor{##28ae7b}{#1}");N("\\gray","\\textcolor{gray}{#1}");N("\\purple","\\textcolor{##9d38bd}{#1}");N("\\blueA","\\textcolor{##ccfaff}{#1}");N("\\blueB","\\textcolor{##80f6ff}{#1}");N("\\blueC","\\textcolor{##63d9ea}{#1}");N("\\blueD","\\textcolor{##11accd}{#1}");N("\\blueE","\\textcolor{##0c7f99}{#1}");N("\\tealA","\\textcolor{##94fff5}{#1}");N("\\tealB","\\textcolor{##26edd5}{#1}");N("\\tealC","\\textcolor{##01d1c1}{#1}");N("\\tealD","\\textcolor{##01a995}{#1}");N("\\tealE","\\textcolor{##208170}{#1}");N("\\greenA","\\textcolor{##b6ffb0}{#1}");N("\\greenB","\\textcolor{##8af281}{#1}");N("\\greenC","\\textcolor{##74cf70}{#1}");N("\\greenD","\\textcolor{##1fab54}{#1}");N("\\greenE","\\textcolor{##0d923f}{#1}");N("\\goldA","\\textcolor{##ffd0a9}{#1}");N("\\goldB","\\textcolor{##ffbb71}{#1}");N("\\goldC","\\textcolor{##ff9c39}{#1}");N("\\goldD","\\textcolor{##e07d10}{#1}");N("\\goldE","\\textcolor{##a75a05}{#1}");N("\\redA","\\textcolor{##fca9a9}{#1}");N("\\redB","\\textcolor{##ff8482}{#1}");N("\\redC","\\textcolor{##f9685d}{#1}");N("\\redD","\\textcolor{##e84d39}{#1}");N("\\redE","\\textcolor{##bc2612}{#1}");N("\\maroonA","\\textcolor{##ffbde0}{#1}");N("\\maroonB","\\textcolor{##ff92c6}{#1}");N("\\maroonC","\\textcolor{##ed5fa6}{#1}");N("\\maroonD","\\textcolor{##ca337c}{#1}");N("\\maroonE","\\textcolor{##9e034e}{#1}");N("\\purpleA","\\textcolor{##ddd7ff}{#1}");N("\\purpleB","\\textcolor{##c6b9fc}{#1}");N("\\purpleC","\\textcolor{##aa87ff}{#1}");N("\\purpleD","\\textcolor{##7854ab}{#1}");N("\\purpleE","\\textcolor{##543b78}{#1}");N("\\mintA","\\textcolor{##f5f9e8}{#1}");N("\\mintB","\\textcolor{##edf2df}{#1}");N("\\mintC","\\textcolor{##e0e5cc}{#1}");N("\\grayA","\\textcolor{##f6f7f7}{#1}");N("\\grayB","\\textcolor{##f0f1f2}{#1}");N("\\grayC","\\textcolor{##e3e5e6}{#1}");N("\\grayD","\\textcolor{##d6d8da}{#1}");N("\\grayE","\\textcolor{##babec2}{#1}");N("\\grayF","\\textcolor{##888d93}{#1}");N("\\grayG","\\textcolor{##626569}{#1}");N("\\grayH","\\textcolor{##3b3e40}{#1}");N("\\grayI","\\textcolor{##21242c}{#1}");N("\\kaBlue","\\textcolor{##314453}{#1}");N("\\kaGreen","\\textcolor{##71B307}{#1}");var d3={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Ob{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new Lb(Ub,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new zv(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,o;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:o,end:r}=this.consumeArg(["]"])}else({tokens:o,start:n,end:r}=this.consumeArg());return this.pushToken(new ir("EOF",r.loc)),this.pushTokens(o),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var o=this.future(),s,u=0,d=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++u;else if(s.text==="}"){if(--u,u===-1)throw new ye("Extra }",s)}else if(s.text==="EOF")throw new ye("Unexpected end of input in a macro argument, expected '"+(e&&r?e[d]:"}")+"'",s);if(e&&r)if((u===0||u===1&&e[d]==="{")&&s.text===e[d]){if(++d,d===e.length){n.splice(-d,d);break}}else d=0}while(u!==0||r);return o.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:o,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new ye("The length of delimiters doesn't match the number of args!");for(var r=n[0],o=0;o<r.length;o++){var s=this.popToken();if(r[o]!==s.text)throw new ye("Use of the macro doesn't match its definition",s)}}for(var u=[],d=0;d<e;d++)u.push(this.consumeArg(n&&n[d+1]).tokens);return u}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ye("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,o=n.noexpand?null:this._getExpansion(r);if(o==null||e&&o.unexpandable){if(e&&o==null&&r[0]==="\\"&&!this.isDefined(r))throw new ye("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=o.tokens,u=this.consumeArgs(o.numArgs,o.delimiters);if(o.numArgs){s=s.slice();for(var d=s.length-1;d>=0;--d){var f=s[d];if(f.text==="#"){if(d===0)throw new ye("Incomplete placeholder at end of macro body",f);if(f=s[--d],f.text==="#")s.splice(d+1,1);else if(/^[1-9]$/.test(f.text))s.splice(d,2,...u[+f.text-1]);else throw new ye("Not a valid argument number",f)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new ir(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var o=this.stack.pop();o.treatAsRelax&&(o.noexpand=!1,o.treatAsRelax=!1),n.push(o)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var o=typeof n=="function"?n(this):n;if(typeof o=="string"){var s=0;if(o.indexOf("#")!==-1)for(var u=o.replace(/##/g,"");u.indexOf("#"+(s+1))!==-1;)++s;for(var d=new zv(o,this.settings),f=[],h=d.lex();h.text!=="EOF";)f.push(h),h=d.lex();f.reverse();var g={tokens:f,numArgs:s};return g}return o}isDefined(e){return this.macros.has(e)||Oi.hasOwnProperty(e)||bt.math.hasOwnProperty(e)||bt.text.hasOwnProperty(e)||d3.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Oi.hasOwnProperty(e)&&!Oi[e].primitive}}var Rv=/^[]/,p0=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),lf={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Iv={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class uu{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Ob(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new ye("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new ir("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var o=this.fetch();if(uu.endOfExpression.indexOf(o.text)!==-1||n&&o.text===n||e&&Oi[o.text]&&Oi[o.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,o=0;o<e.length;o++)if(e[o].type==="infix"){if(n!==-1)throw new ye("only one infix operator per group",e[o].token);n=o,r=e[o].replaceWith}if(n!==-1&&r){var s,u,d=e.slice(0,n),f=e.slice(n+1);d.length===1&&d[0].type==="ordgroup"?s=d[0]:s={type:"ordgroup",mode:this.mode,body:d},f.length===1&&f[0].type==="ordgroup"?u=f[0]:u={type:"ordgroup",mode:this.mode,body:f};var h;return r==="\\\\abovefrac"?h=this.callFunction(r,[s,e[n],u],[]):h=this.callFunction(r,[s,u],[]),[h]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var o;do{var s;o=this.parseGroup(e)}while(((s=o)==null?void 0:s.type)==="internal");if(!o)throw new ye("Expected group after '"+r+"'",n);return o}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var o={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[o]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,o;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var u=s.text==="\\limits";n.limits=u,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new ye("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new ye("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(o)throw new ye("Double subscript",s);o=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new ye("Double superscript",s);var d={type:"textord",mode:this.mode,text:"\\prime"},f=[d];for(this.consume();this.fetch().text==="'";)f.push(d),this.consume();this.fetch().text==="^"&&f.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:f}}else if(p0[s.text]){var h=Rv.test(s.text),g=[];for(g.push(new ir(p0[s.text])),this.consume();;){var x=this.fetch().text;if(!p0[x]||Rv.test(x)!==h)break;g.unshift(new ir(p0[x])),this.consume()}var b=this.subparse(g);h?o={type:"ordgroup",mode:"math",body:b}:r={type:"ordgroup",mode:"math",body:b}}else break}return r||o?{type:"supsub",mode:this.mode,base:n,sup:r,sub:o}:n}parseFunction(e,n){var r=this.fetch(),o=r.text,s=Oi[o];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new ye("Got function '"+o+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new ye("Can't use function '"+o+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new ye("Can't use function '"+o+"' in math mode",r);var{args:u,optArgs:d}=this.parseArguments(o,s);return this.callFunction(o,u,d,r,e)}callFunction(e,n,r,o,s){var u={funcName:e,parser:this,token:o,breakOnTokenText:s},d=Oi[e];if(d&&d.handler)return d.handler(u,n,r);throw new ye("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var o=[],s=[],u=0;u<r;u++){var d=n.argTypes&&n.argTypes[u],f=u<n.numOptionalArgs;(n.primitive&&d==null||n.type==="sqrt"&&u===1&&s[0]==null)&&(d="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",d,f);if(f)s.push(h);else if(h!=null)o.push(h);else throw new ye("Null argument, please report this as a bug")}return{args:o,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var o=this.parseArgumentGroup(r,"text");return o!=null?{type:"styling",mode:o.mode,body:[o],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new ye("A primitive argument cannot be optional");var u=this.parseGroup(e);if(u==null)throw new ye("Expected group as "+e,this.fetch());return u}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ye("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var o="",s;(s=this.fetch()).text!=="EOF";)o+=s.text,this.consume();return this.consume(),r.text=o,r}parseRegexGroup(e,n){for(var r=this.fetch(),o=r,s="",u;(u=this.fetch()).text!=="EOF"&&e.test(s+u.text);)o=u,s+=o.text,this.consume();if(s==="")throw new ye("Invalid "+n+": '"+r.text+"'",r);return r.range(o,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ye("Invalid color: '"+n.text+"'",n);var o=r[0];return/^[0-9a-f]{6}$/i.test(o)&&(o="#"+o),{type:"color-token",mode:this.mode,color:o}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!o)throw new ye("Invalid size: '"+n.text+"'",n);var s={number:+(o[1]+o[2]),unit:o[3]};if(!S2(s))throw new ye("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var o=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var u={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(o),u}parseGroup(e,n){var r=this.fetch(),o=r.text,s;if(o==="{"||o==="\\begingroup"){this.consume();var u=o==="{"?"}":"\\endgroup";this.gullet.beginGroup();var d=this.parseExpression(!1,u),f=this.fetch();this.expect(u),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Gn.range(r,f),body:d,semisimple:o==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&o[0]==="\\"&&!d3.hasOwnProperty(o)){if(this.settings.throwOnError)throw new ye("Undefined control sequence: "+o,r);s=this.formatUnsupportedCmd(o),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var o=e[r],s=o.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Gn.range(o,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Gn.range(o,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Gn.range(o,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),o=r.charAt(0)==="*";if(o&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ye(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:o}}Iv.hasOwnProperty(n[0])&&!bt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=Iv[n[0]]+n.slice(1));var s=Ib.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var u;if(bt[this.mode][n]){this.settings.strict&&this.mode==="math"&&_f.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var d=bt[this.mode][n].group,f=Gn.range(e),h;if(Ax.hasOwnProperty(d)){var g=d;h={type:"atom",mode:this.mode,family:g,loc:f,text:n}}else h={type:d,mode:this.mode,loc:f,text:n};u=h}else if(n.charCodeAt(0)>=128)this.settings.strict&&(x2(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),u={type:"textord",mode:"text",loc:Gn.range(e),text:n};else return null;if(this.consume(),s)for(var x=0;x<s[0].length;x++){var b=s[0][x];if(!lf[b])throw new ye("Unknown accent ' "+b+"'",e);var w=lf[b][this.mode]||lf[b].text;if(!w)throw new ye("Accent "+b+" unsupported in "+this.mode+" mode",e);u={type:"accent",mode:this.mode,loc:Gn.range(e),label:w,isStretchy:!1,isShifty:!0,base:u}}return u}}uu.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Sh=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new uu(e,n);delete r.gullet.macros.current["\\df@tag"];var o=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ye("\\tag works only in display equations");o=[{type:"tag",mode:"text",body:o,tag:r.subparse([new ir("\\df@tag")])}]}return o},wh=function(e,n,r){n.textContent="";var o=cu(e,r).toNode();n.appendChild(o)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),wh=function(){throw new ye("KaTeX doesn't work in quirks mode.")});var f3=function(e,n){var r=cu(e,n).toMarkup();return r},h3=function(e,n){var r=new rh(n);return Sh(e,r)},m3=function(e,n,r){if(r.throwOnError||!(e instanceof ye))throw e;var o=oe.makeSpan(["katex-error"],[new or(n)]);return o.setAttribute("title",e.toString()),o.setAttribute("style","color:"+r.errorColor),o},cu=function(e,n){var r=new rh(n);try{var o=Sh(e,r);return Xx(o,e,r)}catch(s){return m3(s,e,r)}},p3=function(e,n){var r=new rh(n);try{var o=Sh(e,r);return Kx(o,e,r)}catch(s){return m3(s,e,r)}},g3="0.16.22",v3={Span:qs,Anchor:oh,SymbolNode:or,SvgNode:ei,PathNode:qi,LineNode:Tf},y3={version:g3,render:wh,renderToString:f3,ParseError:ye,SETTINGS_SCHEMA:Is,__parse:h3,__renderToDomTree:cu,__renderToHTMLTree:p3,__setFontMetrics:b2,__defineSymbol:S,__defineFunction:_e,__defineMacro:N,__domTree:v3};const x3=Object.freeze(Object.defineProperty({__proto__:null,ParseError:ye,SETTINGS_SCHEMA:Is,__defineFunction:_e,__defineMacro:N,__defineSymbol:S,__domTree:v3,__parse:h3,__renderToDomTree:cu,__renderToHTMLTree:p3,__setFontMetrics:b2,default:y3,get render(){return wh},renderToString:f3,version:g3},Symbol.toStringTag,{value:"Module"}));var Pb=Object.defineProperty,Bb=(t,e,n)=>e in t?Pb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ve=(t,e,n)=>Bb(t,typeof e!="symbol"?e+"":e,n);function pe(t,e,n){function r(d,f){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:f,constr:u,traits:new Set},enumerable:!1}),d._zod.traits.has(t))return;d._zod.traits.add(t),e(d,f);const h=u.prototype,g=Object.keys(h);for(let x=0;x<g.length;x++){const b=g[x];b in d||(d[b]=h[b].bind(d))}}const o=(n==null?void 0:n.Parent)??Object;class s extends o{}Object.defineProperty(s,"name",{value:t});function u(d){var f;const h=n!=null&&n.Parent?new s:this;r(h,d),(f=h._zod).deferred??(f.deferred=[]);for(const g of h._zod.deferred)g();return h}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>{var f,h;return n!=null&&n.Parent&&d instanceof n.Parent?!0:(h=(f=d==null?void 0:d._zod)==null?void 0:f.traits)==null?void 0:h.has(t)}}),Object.defineProperty(u,"name",{value:t}),u}class yo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class b3 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const S3={};function ya(t){return S3}function w3(t){const e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,r])=>e.indexOf(+n)===-1).map(([n,r])=>r)}function Mf(t,e){return typeof e=="bigint"?e.toString():e}function Th(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function _h(t){return t==null}function Ah(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Hb(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(o=Number.parseInt(f[1]))}const s=n>o?n:o,u=Number.parseInt(t.toFixed(s).replace(".","")),d=Number.parseInt(e.toFixed(s).replace(".",""));return u%d/10**s}const Dv=Symbol("evaluating");function ft(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==Dv)return r===void 0&&(r=Dv,r=n()),r},set(o){Object.defineProperty(t,e,{value:o})},configurable:!0})}function Sa(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Fi(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function Lv(t){return JSON.stringify(t)}function qb(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const T3="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function H0(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Gb=Th(()=>{var t;if(typeof navigator<"u"&&(t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Os(t){if(H0(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(H0(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function _3(t){return Os(t)?{...t}:Array.isArray(t)?[...t]:t}const Vb=new Set(["string","number","symbol"]);function du(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $i(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Pe(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Fb(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const $b={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Yb(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=Fi(t._zod.def,{get shape(){const s={};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&(s[u]=n.shape[u])}return Sa(this,"shape",s),s},checks:[]});return $i(t,o)}function Jb(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=Fi(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&delete s[u]}return Sa(this,"shape",s),s},checks:[]});return $i(t,o)}function Xb(t,e){if(!Os(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const s in e)if(Object.getOwnPropertyDescriptor(o,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=Fi(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return Sa(this,"shape",o),o}});return $i(t,r)}function Kb(t,e){if(!Os(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Fi(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Sa(this,"shape",r),r}});return $i(t,n)}function Zb(t,e){const n=Fi(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Sa(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return $i(t,n)}function Wb(t,e,n){const r=e._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=Fi(e._zod.def,{get shape(){const s=e._zod.def.shape,u={...s};if(n)for(const d in n){if(!(d in s))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(u[d]=t?new t({type:"optional",innerType:s[d]}):s[d])}else for(const d in s)u[d]=t?new t({type:"optional",innerType:s[d]}):s[d];return Sa(this,"shape",u),u},checks:[]});return $i(e,o)}function Qb(t,e,n){const r=Fi(e._zod.def,{get shape(){const o=e._zod.def.shape,s={...o};if(n)for(const u in n){if(!(u in s))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(s[u]=new t({type:"nonoptional",innerType:o[u]}))}else for(const u in o)s[u]=new t({type:"nonoptional",innerType:o[u]});return Sa(this,"shape",s),s}});return $i(e,r)}function mo(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function A3(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function g0(t){return typeof t=="string"?t:t==null?void 0:t.message}function xa(t,e,n){var r,o,s,u,d,f;const h={...t,path:t.path??[]};if(!t.message){const g=g0((s=(o=(r=t.inst)==null?void 0:r._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,t))??g0((u=e==null?void 0:e.error)==null?void 0:u.call(e,t))??g0((d=n.customError)==null?void 0:d.call(n,t))??g0((f=n.localeError)==null?void 0:f.call(n,t))??"Invalid input";h.message=g}return delete h.inst,delete h.continue,e!=null&&e.reportInput||delete h.input,h}function Eh(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Ps(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const E3=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Mf,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},C3=pe("$ZodError",E3),k3=pe("$ZodError",E3,{Parent:Error});function jb(t,e=n=>n.message){const n={},r=[];for(const o of t.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}function e9(t,e=n=>n.message){const n={_errors:[]},r=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(u=>r({issues:u}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let u=n,d=0;for(;d<s.path.length;){const f=s.path[d];d===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(e(s))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return r(t),n}const Ch=t=>(e,n,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},s);if(u instanceof Promise)throw new yo;if(u.issues.length){const d=new((o==null?void 0:o.Err)??t)(u.issues.map(f=>xa(f,s,ya())));throw T3(d,o==null?void 0:o.callee),d}return u.value},kh=t=>async(e,n,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},s);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new((o==null?void 0:o.Err)??t)(u.issues.map(f=>xa(f,s,ya())));throw T3(d,o==null?void 0:o.callee),d}return u.value},fu=t=>(e,n,r)=>{const o=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new yo;return s.issues.length?{success:!1,error:new(t??C3)(s.issues.map(u=>xa(u,o,ya())))}:{success:!0,data:s.value}},t9=fu(k3),hu=t=>async(e,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(u=>xa(u,o,ya())))}:{success:!0,data:s.value}},n9=hu(k3),r9=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ch(t)(e,n,o)},i9=t=>(e,n,r)=>Ch(t)(e,n,r),a9=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kh(t)(e,n,o)},o9=t=>async(e,n,r)=>kh(t)(e,n,r),s9=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fu(t)(e,n,o)},l9=t=>(e,n,r)=>fu(t)(e,n,r),u9=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return hu(t)(e,n,o)},c9=t=>async(e,n,r)=>hu(t)(e,n,r),d9=/^[cC][^\s-]{8,}$/,f9=/^[0-9a-z]+$/,h9=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,m9=/^[0-9a-vA-V]{20}$/,p9=/^[A-Za-z0-9]{27}$/,g9=/^[a-zA-Z0-9_-]{21}$/,v9=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,y9=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Uv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,x9=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,b9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function S9(){return new RegExp(b9,"u")}const w9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T9=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,_9=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,A9=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E9=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,z3=/^[A-Za-z0-9_-]*$/,C9=/^\+[1-9]\d{6,14}$/,M3="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",k9=new RegExp(`^${M3}$`);function N3(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function z9(t){return new RegExp(`^${N3(t)}$`)}function M9(t){const e=N3({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${M3}T(?:${r})$`)}const N9=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},R9=/^-?\d+$/,I9=/^-?\d+(?:\.\d+)?$/,D9=/^[^A-Z]*$/,L9=/^[^a-z]*$/,Nn=pe("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),R3={number:"number",bigint:"bigint",object:"date"},I3=pe("$ZodCheckLessThan",(t,e)=>{Nn.init(t,e);const n=R3[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,s=(e.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?o.maximum=e.value:o.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),D3=pe("$ZodCheckGreaterThan",(t,e)=>{Nn.init(t,e);const n=R3[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,s=(e.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?o.minimum=e.value:o.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),U9=pe("$ZodCheckMultipleOf",(t,e)=>{Nn.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Hb(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),O9=pe("$ZodCheckNumberFormat",(t,e)=>{var n;Nn.init(t,e),e.format=e.format||"float64";const r=(n=e.format)==null?void 0:n.includes("int"),o=r?"int":"number",[s,u]=$b[e.format];t._zod.onattach.push(d=>{const f=d._zod.bag;f.format=e.format,f.minimum=s,f.maximum=u,r&&(f.pattern=R9)}),t._zod.check=d=>{const f=d.value;if(r){if(!Number.isInteger(f)){d.issues.push({expected:o,format:e.format,code:"invalid_type",continue:!1,input:f,inst:t});return}if(!Number.isSafeInteger(f)){f>0?d.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!e.abort}):d.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!e.abort});return}}f<s&&d.issues.push({origin:"number",input:f,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),f>u&&d.issues.push({origin:"number",input:f,code:"too_big",maximum:u,inclusive:!0,inst:t,continue:!e.abort})}}),P9=pe("$ZodCheckMaxLength",(t,e)=>{var n;Nn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!_h(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const o=r.value;if(o.length<=e.maximum)return;const s=Eh(o);r.issues.push({origin:s,code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),B9=pe("$ZodCheckMinLength",(t,e)=>{var n;Nn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!_h(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const o=r.value;if(o.length>=e.minimum)return;const s=Eh(o);r.issues.push({origin:s,code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),H9=pe("$ZodCheckLengthEquals",(t,e)=>{var n;Nn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!_h(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=e.length,o.maximum=e.length,o.length=e.length}),t._zod.check=r=>{const o=r.value,s=o.length;if(s===e.length)return;const u=Eh(o),d=s>e.length;r.issues.push({origin:u,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),mu=pe("$ZodCheckStringFormat",(t,e)=>{var n,r;Nn.init(t,e),t._zod.onattach.push(o=>{const s=o._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=o=>{e.pattern.lastIndex=0,!e.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:e.format,input:o.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),q9=pe("$ZodCheckRegex",(t,e)=>{mu.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),G9=pe("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=D9),mu.init(t,e)}),V9=pe("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=L9),mu.init(t,e)}),F9=pe("$ZodCheckIncludes",(t,e)=>{Nn.init(t,e);const n=du(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=o=>{o.value.includes(e.includes,e.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:o.value,inst:t,continue:!e.abort})}}),$9=pe("$ZodCheckStartsWith",(t,e)=>{Nn.init(t,e);const n=new RegExp(`^${du(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),Y9=pe("$ZodCheckEndsWith",(t,e)=>{Nn.init(t,e);const n=new RegExp(`.*${du(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),J9=pe("$ZodCheckOverwrite",(t,e)=>{Nn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class X9{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(s=>s),r=Math.min(...n.map(s=>s.length-s.trimStart().length)),o=n.map(s=>s.slice(r)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const e=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new e(...n,r.join(`
`))}}const K9={major:4,minor:3,patch:5},Ft=pe("$ZodType",(t,e)=>{var n,r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=K9;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const s of o)for(const u of s._zod.onattach)u(t);if(o.length===0)(r=t._zod).deferred??(r.deferred=[]),(n=t._zod.deferred)==null||n.push(()=>{t._zod.run=t._zod.parse});else{const s=(d,f,h)=>{let g=mo(d),x;for(const b of f){if(b._zod.def.when){if(!b._zod.def.when(d))continue}else if(g)continue;const w=d.issues.length,k=b._zod.check(d);if(k instanceof Promise&&(h==null?void 0:h.async)===!1)throw new yo;if(x||k instanceof Promise)x=(x??Promise.resolve()).then(async()=>{await k,d.issues.length!==w&&(g||(g=mo(d,w)))});else{if(d.issues.length===w)continue;g||(g=mo(d,w))}}return x?x.then(()=>d):d},u=(d,f,h)=>{if(mo(d))return d.aborted=!0,d;const g=s(f,o,h);if(g instanceof Promise){if(h.async===!1)throw new yo;return g.then(x=>t._zod.parse(x,h))}return t._zod.parse(g,h)};t._zod.run=(d,f)=>{if(f.skipChecks)return t._zod.parse(d,f);if(f.direction==="backward"){const g=t._zod.parse({value:d.value,issues:[]},{...f,skipChecks:!0});return g instanceof Promise?g.then(x=>u(x,d,f)):u(g,d,f)}const h=t._zod.parse(d,f);if(h instanceof Promise){if(f.async===!1)throw new yo;return h.then(g=>s(g,o,f))}return s(h,o,f)}}ft(t,"~standard",()=>({validate:s=>{var u;try{const d=t9(t,s);return d.success?{value:d.data}:{issues:(u=d.error)==null?void 0:u.issues}}catch{return n9(t,s).then(d=>{var f;return d.success?{value:d.data}:{issues:(f=d.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}))}),zh=pe("$ZodString",(t,e)=>{var n;Ft.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??N9(t._zod.bag),t._zod.parse=(r,o)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Et=pe("$ZodStringFormat",(t,e)=>{mu.init(t,e),zh.init(t,e)}),Z9=pe("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=y9),Et.init(t,e)}),W9=pe("$ZodUUID",(t,e)=>{if(e.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Uv(n))}else e.pattern??(e.pattern=Uv());Et.init(t,e)}),Q9=pe("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=x9),Et.init(t,e)}),j9=pe("$ZodURL",(t,e)=>{Et.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),eS=pe("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=S9()),Et.init(t,e)}),tS=pe("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=g9),Et.init(t,e)}),nS=pe("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=d9),Et.init(t,e)}),rS=pe("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=f9),Et.init(t,e)}),iS=pe("$ZodULID",(t,e)=>{e.pattern??(e.pattern=h9),Et.init(t,e)}),aS=pe("$ZodXID",(t,e)=>{e.pattern??(e.pattern=m9),Et.init(t,e)}),oS=pe("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=p9),Et.init(t,e)}),sS=pe("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=M9(e)),Et.init(t,e)}),lS=pe("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=k9),Et.init(t,e)}),uS=pe("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=z9(e)),Et.init(t,e)}),cS=pe("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=v9),Et.init(t,e)}),dS=pe("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=w9),Et.init(t,e),t._zod.bag.format="ipv4"}),fS=pe("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=T9),Et.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),hS=pe("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=_9),Et.init(t,e)}),mS=pe("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=A9),Et.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,s]=r;if(!s)throw new Error;const u=Number(s);if(`${u}`!==s)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function L3(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const pS=pe("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=E9),Et.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{L3(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function gS(t){if(!z3.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return L3(n)}const vS=pe("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=z3),Et.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{gS(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),yS=pe("$ZodE164",(t,e)=>{e.pattern??(e.pattern=C9),Et.init(t,e)});function xS(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}}const bS=pe("$ZodJWT",(t,e)=>{Et.init(t,e),t._zod.check=n=>{xS(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),U3=pe("$ZodNumber",(t,e)=>{Ft.init(t,e),t._zod.pattern=t._zod.bag.pattern??I9,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const s=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...s?{received:s}:{}}),n}}),SS=pe("$ZodNumberFormat",(t,e)=>{O9.init(t,e),U3.init(t,e)}),wS=pe("$ZodUnknown",(t,e)=>{Ft.init(t,e),t._zod.parse=n=>n}),TS=pe("$ZodNever",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function Ov(t,e,n){t.issues.length&&e.issues.push(...A3(n,t.issues)),e.value[n]=t.value}const _S=pe("$ZodArray",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),n;n.value=Array(o.length);const s=[];for(let u=0;u<o.length;u++){const d=o[u],f=e.element._zod.run({value:d,issues:[]},r);f instanceof Promise?s.push(f.then(h=>Ov(h,n,u))):Ov(f,n,u)}return s.length?Promise.all(s).then(()=>n):n}});function q0(t,e,n,r,o){if(t.issues.length){if(o&&!(n in r))return;e.issues.push(...A3(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function O3(t){var e,n,r,o;const s=Object.keys(t.shape);for(const d of s)if(!((o=(r=(n=(e=t.shape)==null?void 0:e[d])==null?void 0:n._zod)==null?void 0:r.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const u=Fb(t.shape);return{...t,keys:s,keySet:new Set(s),numKeys:s.length,optionalKeys:new Set(u)}}function P3(t,e,n,r,o,s){const u=[],d=o.keySet,f=o.catchall._zod,h=f.def.type,g=f.optout==="optional";for(const x in e){if(d.has(x))continue;if(h==="never"){u.push(x);continue}const b=f.run({value:e[x],issues:[]},r);b instanceof Promise?t.push(b.then(w=>q0(w,n,x,e,g))):q0(b,n,x,e,g)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const AS=pe("$ZodObject",(t,e)=>{Ft.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...d};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=Th(()=>O3(e));ft(t._zod,"propValues",()=>{const d=e.shape,f={};for(const h in d){const g=d[h]._zod;if(g.values){f[h]??(f[h]=new Set);for(const x of g.values)f[h].add(x)}}return f});const o=H0,s=e.catchall;let u;t._zod.parse=(d,f)=>{u??(u=r.value);const h=d.value;if(!o(h))return d.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),d;d.value={};const g=[],x=u.shape;for(const b of u.keys){const w=x[b],k=w._zod.optout==="optional",E=w._zod.run({value:h[b],issues:[]},f);E instanceof Promise?g.push(E.then(z=>q0(z,d,b,h,k))):q0(E,d,b,h,k)}return s?P3(g,h,d,f,r.value,t):g.length?Promise.all(g).then(()=>d):d}}),ES=pe("$ZodObjectJIT",(t,e)=>{AS.init(t,e);const n=t._zod.parse,r=Th(()=>O3(e)),o=x=>{var b;const w=new X9(["shape","payload","ctx"]),k=r.value,E=B=>{const D=Lv(B);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};w.write("const input = payload.value;");const z=Object.create(null);let R=0;for(const B of k.keys)z[B]=`key_${R++}`;w.write("const newResult = {};");for(const B of k.keys){const D=z[B],U=Lv(B),$=x[B],I=((b=$==null?void 0:$._zod)==null?void 0:b.optout)==="optional";w.write(`const ${D} = ${E(B)};`),I?w.write(`
        if (${D}.issues.length) {
          if (${U} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${U}, ...iss.path] : [${U}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${U} in input) {
            newResult[${U}] = undefined;
          }
        } else {
          newResult[${U}] = ${D}.value;
        }
        
      `):w.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${U}, ...iss.path] : [${U}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${U} in input) {
            newResult[${U}] = undefined;
          }
        } else {
          newResult[${U}] = ${D}.value;
        }
        
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const L=w.compile();return(B,D)=>L(x,B,D)};let s;const u=H0,d=!S3.jitless,f=d&&Gb.value,h=e.catchall;let g;t._zod.parse=(x,b)=>{g??(g=r.value);const w=x.value;return u(w)?d&&f&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(s||(s=o(e.shape)),x=s(x,b),h?P3([],w,x,b,g,t):x):n(x,b):(x.issues.push({expected:"object",code:"invalid_type",input:w,inst:t}),x)}});function Pv(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const o=t.filter(s=>!mo(s));return o.length===1?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(u=>xa(u,r,ya())))}),e)}const CS=pe("$ZodUnion",(t,e)=>{Ft.init(t,e),ft(t._zod,"optin",()=>e.options.some(o=>o._zod.optin==="optional")?"optional":void 0),ft(t._zod,"optout",()=>e.options.some(o=>o._zod.optout==="optional")?"optional":void 0),ft(t._zod,"values",()=>{if(e.options.every(o=>o._zod.values))return new Set(e.options.flatMap(o=>Array.from(o._zod.values)))}),ft(t._zod,"pattern",()=>{if(e.options.every(o=>o._zod.pattern)){const o=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>Ah(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(o,s)=>{if(n)return r(o,s);let u=!1;const d=[];for(const f of e.options){const h=f._zod.run({value:o.value,issues:[]},s);if(h instanceof Promise)d.push(h),u=!0;else{if(h.issues.length===0)return h;d.push(h)}}return u?Promise.all(d).then(f=>Pv(f,o,t,s)):Pv(d,o,t,s)}}),kS=pe("$ZodIntersection",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const o=n.value,s=e.left._zod.run({value:o,issues:[]},r),u=e.right._zod.run({value:o,issues:[]},r);return s instanceof Promise||u instanceof Promise?Promise.all([s,u]).then(([d,f])=>Bv(n,d,f)):Bv(n,s,u)}});function Nf(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Os(t)&&Os(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),o={...t,...e};for(const s of r){const u=Nf(t[s],e[s]);if(!u.valid)return{valid:!1,mergeErrorPath:[s,...u.mergeErrorPath]};o[s]=u.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const o=t[r],s=e[r],u=Nf(o,s);if(!u.valid)return{valid:!1,mergeErrorPath:[r,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Bv(t,e,n){const r=new Map;let o;for(const d of e.issues)if(d.code==="unrecognized_keys"){o??(o=d);for(const f of d.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else t.issues.push(d);for(const d of n.issues)if(d.code==="unrecognized_keys")for(const f of d.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else t.issues.push(d);const s=[...r].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(s.length&&o&&t.issues.push({...o,keys:s}),mo(t))return t;const u=Nf(e.value,n.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return t.value=u.data,t}const zS=pe("$ZodEnum",(t,e)=>{Ft.init(t,e);const n=w3(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(o=>Vb.has(typeof o)).map(o=>typeof o=="string"?du(o):o.toString()).join("|")})$`),t._zod.parse=(o,s)=>{const u=o.value;return r.has(u)||o.issues.push({code:"invalid_value",values:n,input:u,inst:t}),o}}),MS=pe("$ZodTransform",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new b3(t.constructor.name);const o=e.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(n.value=s,n));if(o instanceof Promise)throw new yo;return n.value=o,n}});function Hv(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const B3=pe("$ZodOptional",(t,e)=>{Ft.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ft(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ft(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ah(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Hv(s,n.value)):Hv(o,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),NS=pe("$ZodExactOptional",(t,e)=>{B3.init(t,e),ft(t._zod,"values",()=>e.innerType._zod.values),ft(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),RS=pe("$ZodNullable",(t,e)=>{Ft.init(t,e),ft(t._zod,"optin",()=>e.innerType._zod.optin),ft(t._zod,"optout",()=>e.innerType._zod.optout),ft(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ah(n.source)}|null)$`):void 0}),ft(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),IS=pe("$ZodDefault",(t,e)=>{Ft.init(t,e),t._zod.optin="optional",ft(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>qv(s,e)):qv(o,e)}});function qv(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const DS=pe("$ZodPrefault",(t,e)=>{Ft.init(t,e),t._zod.optin="optional",ft(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),LS=pe("$ZodNonOptional",(t,e)=>{Ft.init(t,e),ft(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Gv(s,t)):Gv(o,t)}});function Gv(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const US=pe("$ZodCatch",(t,e)=>{Ft.init(t,e),ft(t._zod,"optin",()=>e.innerType._zod.optin),ft(t._zod,"optout",()=>e.innerType._zod.optout),ft(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(u=>xa(u,r,ya()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(s=>xa(s,r,ya()))},input:n.value}),n.issues=[]),n)}}),OS=pe("$ZodPipe",(t,e)=>{Ft.init(t,e),ft(t._zod,"values",()=>e.in._zod.values),ft(t._zod,"optin",()=>e.in._zod.optin),ft(t._zod,"optout",()=>e.out._zod.optout),ft(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(u=>v0(u,e.in,r)):v0(s,e.in,r)}const o=e.in._zod.run(n,r);return o instanceof Promise?o.then(s=>v0(s,e.out,r)):v0(o,e.out,r)}});function v0(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const PS=pe("$ZodReadonly",(t,e)=>{Ft.init(t,e),ft(t._zod,"propValues",()=>e.innerType._zod.propValues),ft(t._zod,"values",()=>e.innerType._zod.values),ft(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),ft(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(Vv):Vv(o)}});function Vv(t){return t.value=Object.freeze(t.value),t}const BS=pe("$ZodCustom",(t,e)=>{Nn.init(t,e),Ft.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,o=e.fn(r);if(o instanceof Promise)return o.then(s=>Fv(s,n,r,t));Fv(o,n,r,t)}});function Fv(t,e,n,r){if(!t){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),e.issues.push(Ps(o))}}var $v;class HS{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(e)};return Object.keys(o).length?o:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function qS(){return new HS}($v=globalThis).__zod_globalRegistry??($v.__zod_globalRegistry=qS());const Ns=globalThis.__zod_globalRegistry;function GS(t,e){return new t({type:"string",...Pe(e)})}function VS(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Pe(e)})}function Yv(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Pe(e)})}function FS(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Pe(e)})}function $S(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Pe(e)})}function YS(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Pe(e)})}function JS(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Pe(e)})}function XS(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Pe(e)})}function KS(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Pe(e)})}function ZS(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Pe(e)})}function WS(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Pe(e)})}function QS(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Pe(e)})}function jS(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Pe(e)})}function ew(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Pe(e)})}function tw(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Pe(e)})}function nw(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Pe(e)})}function rw(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Pe(e)})}function iw(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Pe(e)})}function aw(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Pe(e)})}function ow(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Pe(e)})}function sw(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Pe(e)})}function lw(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Pe(e)})}function uw(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Pe(e)})}function cw(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Pe(e)})}function dw(t,e){return new t({type:"string",format:"date",check:"string_format",...Pe(e)})}function fw(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Pe(e)})}function hw(t,e){return new t({type:"string",format:"duration",check:"string_format",...Pe(e)})}function mw(t,e){return new t({type:"number",checks:[],...Pe(e)})}function pw(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Pe(e)})}function gw(t){return new t({type:"unknown"})}function vw(t,e){return new t({type:"never",...Pe(e)})}function Jv(t,e){return new I3({check:"less_than",...Pe(e),value:t,inclusive:!1})}function uf(t,e){return new I3({check:"less_than",...Pe(e),value:t,inclusive:!0})}function Xv(t,e){return new D3({check:"greater_than",...Pe(e),value:t,inclusive:!1})}function cf(t,e){return new D3({check:"greater_than",...Pe(e),value:t,inclusive:!0})}function Kv(t,e){return new U9({check:"multiple_of",...Pe(e),value:t})}function H3(t,e){return new P9({check:"max_length",...Pe(e),maximum:t})}function G0(t,e){return new B9({check:"min_length",...Pe(e),minimum:t})}function q3(t,e){return new H9({check:"length_equals",...Pe(e),length:t})}function yw(t,e){return new q9({check:"string_format",format:"regex",...Pe(e),pattern:t})}function xw(t){return new G9({check:"string_format",format:"lowercase",...Pe(t)})}function bw(t){return new V9({check:"string_format",format:"uppercase",...Pe(t)})}function Sw(t,e){return new F9({check:"string_format",format:"includes",...Pe(e),includes:t})}function ww(t,e){return new $9({check:"string_format",format:"starts_with",...Pe(e),prefix:t})}function Tw(t,e){return new Y9({check:"string_format",format:"ends_with",...Pe(e),suffix:t})}function _o(t){return new J9({check:"overwrite",tx:t})}function _w(t){return _o(e=>e.normalize(t))}function Aw(){return _o(t=>t.trim())}function Ew(){return _o(t=>t.toLowerCase())}function Cw(){return _o(t=>t.toUpperCase())}function kw(){return _o(t=>qb(t))}function zw(t,e,n){return new t({type:"array",element:e,...Pe(n)})}function Mw(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Pe(n)})}function Nw(t){const e=Rw(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ps(r,n.value,e._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!e._zod.def.abort),n.issues.push(Ps(o))}},t(n.value,n)));return e}function Rw(t,e){const n=new Nn({check:"custom",...Pe(e)});return n._zod.check=t,n}function G3(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??Ns,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function on(t,e,n={path:[],schemaPath:[]}){var r,o,s;const u=t._zod.def,d=e.seen.get(t);if(d)return d.count++,n.schemaPath.includes(t)&&(d.cycle=n.path),d.schema;const f={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,f);const h=(o=(r=t._zod).toJSONSchema)==null?void 0:o.call(r);if(h)f.schema=h;else{const x={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,f.schema,x);else{const w=f.schema,k=e.processors[u.type];if(!k)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${u.type}`);k(t,e,w,x)}const b=t._zod.parent;b&&(f.ref||(f.ref=b),on(b,e,x),e.seen.get(b).isParent=!0)}const g=e.metadataRegistry.get(t);return g&&Object.assign(f.schema,g),e.io==="input"&&gn(t)&&(delete f.schema.examples,delete f.schema.default),e.io==="input"&&f.schema._prefault&&((s=f.schema).default??(s.default=f.schema._prefault)),delete f.schema._prefault,e.seen.get(t).schema}function V3(t,e){var n,r,o,s;const u=t.seen.get(e);if(!u)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=new Map;for(const g of t.seen.entries()){const x=(n=t.metadataRegistry.get(g[0]))==null?void 0:n.id;if(x){const b=d.get(x);if(b&&b!==g[0])throw new Error(`Duplicate schema id "${x}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);d.set(x,g[0])}}const f=g=>{var x;const b=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const E=(x=t.external.registry.get(g[0]))==null?void 0:x.id,z=t.external.uri??(L=>L);if(E)return{ref:z(E)};const R=g[1].defId??g[1].schema.id??`schema${t.counter++}`;return g[1].defId=R,{defId:R,ref:`${z("__shared")}#/${b}/${R}`}}if(g[1]===u)return{ref:"#"};const w=`#/${b}/`,k=g[1].schema.id??`__schema${t.counter++}`;return{defId:k,ref:w+k}},h=g=>{if(g[1].schema.$ref)return;const x=g[1],{ref:b,defId:w}=f(g);x.def={...x.schema},w&&(x.defId=w);const k=x.schema;for(const E in k)delete k[E];k.$ref=b};if(t.cycles==="throw")for(const g of t.seen.entries()){const x=g[1];if(x.cycle)throw new Error(`Cycle detected: #/${(r=x.cycle)==null?void 0:r.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const g of t.seen.entries()){const x=g[1];if(e===g[0]){h(g);continue}if(t.external){const b=(o=t.external.registry.get(g[0]))==null?void 0:o.id;if(e!==g[0]&&b){h(g);continue}}if((s=t.metadataRegistry.get(g[0]))!=null&&s.id){h(g);continue}if(x.cycle){h(g);continue}if(x.count>1&&t.reused==="ref"){h(g);continue}}}function F3(t,e){var n,r,o;const s=t.seen.get(e);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const u=h=>{const g=t.seen.get(h);if(g.ref===null)return;const x=g.def??g.schema,b={...x},w=g.ref;if(g.ref=null,w){u(w);const E=t.seen.get(w),z=E.schema;if(z.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(x.allOf=x.allOf??[],x.allOf.push(z)):Object.assign(x,z),Object.assign(x,b),h._zod.parent===w)for(const R in x)R==="$ref"||R==="allOf"||R in b||delete x[R];if(z.$ref)for(const R in x)R==="$ref"||R==="allOf"||R in E.def&&JSON.stringify(x[R])===JSON.stringify(E.def[R])&&delete x[R]}const k=h._zod.parent;if(k&&k!==w){u(k);const E=t.seen.get(k);if(E!=null&&E.schema.$ref&&(x.$ref=E.schema.$ref,E.def))for(const z in x)z==="$ref"||z==="allOf"||z in E.def&&JSON.stringify(x[z])===JSON.stringify(E.def[z])&&delete x[z]}t.override({zodSchema:h,jsonSchema:x,path:g.path??[]})};for(const h of[...t.seen.entries()].reverse())u(h[0]);const d={};if(t.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?d.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?d.$schema="http://json-schema.org/draft-04/schema#":t.target,(n=t.external)!=null&&n.uri){const h=(r=t.external.registry.get(e))==null?void 0:r.id;if(!h)throw new Error("Schema is missing an `id` property");d.$id=t.external.uri(h)}Object.assign(d,s.def??s.schema);const f=((o=t.external)==null?void 0:o.defs)??{};for(const h of t.seen.entries()){const g=h[1];g.def&&g.defId&&(f[g.defId]=g.def)}t.external||Object.keys(f).length>0&&(t.target==="draft-2020-12"?d.$defs=f:d.definitions=f);try{const h=JSON.parse(JSON.stringify(d));return Object.defineProperty(h,"~standard",{value:{...e["~standard"],jsonSchema:{input:V0(e,"input",t.processors),output:V0(e,"output",t.processors)}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function gn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return gn(r.element,n);if(r.type==="set")return gn(r.valueType,n);if(r.type==="lazy")return gn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return gn(r.innerType,n);if(r.type==="intersection")return gn(r.left,n)||gn(r.right,n);if(r.type==="record"||r.type==="map")return gn(r.keyType,n)||gn(r.valueType,n);if(r.type==="pipe")return gn(r.in,n)||gn(r.out,n);if(r.type==="object"){for(const o in r.shape)if(gn(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(gn(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(gn(o,n))return!0;return!!(r.rest&&gn(r.rest,n))}return!1}const Iw=(t,e={})=>n=>{const r=G3({...n,processors:e});return on(t,r),V3(r,t),F3(r,t)},V0=(t,e,n={})=>r=>{const{libraryOptions:o,target:s}=r??{},u=G3({...o??{},target:s,io:e,processors:n});return on(t,u),V3(u,t),F3(u,t)},Dw={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Lw=(t,e,n,r)=>{const o=n;o.type="string";const{minimum:s,maximum:u,format:d,patterns:f,contentEncoding:h}=t._zod.bag;if(typeof s=="number"&&(o.minLength=s),typeof u=="number"&&(o.maxLength=u),d&&(o.format=Dw[d]??d,o.format===""&&delete o.format,d==="time"&&delete o.format),h&&(o.contentEncoding=h),f&&f.size>0){const g=[...f];g.length===1?o.pattern=g[0].source:g.length>1&&(o.allOf=[...g.map(x=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:x.source}))])}},Uw=(t,e,n,r)=>{const o=n,{minimum:s,maximum:u,format:d,multipleOf:f,exclusiveMaximum:h,exclusiveMinimum:g}=t._zod.bag;typeof d=="string"&&d.includes("int")?o.type="integer":o.type="number",typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.minimum=g,o.exclusiveMinimum=!0):o.exclusiveMinimum=g),typeof s=="number"&&(o.minimum=s,typeof g=="number"&&e.target!=="draft-04"&&(g>=s?delete o.minimum:delete o.exclusiveMinimum)),typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.maximum=h,o.exclusiveMaximum=!0):o.exclusiveMaximum=h),typeof u=="number"&&(o.maximum=u,typeof h=="number"&&e.target!=="draft-04"&&(h<=u?delete o.maximum:delete o.exclusiveMaximum)),typeof f=="number"&&(o.multipleOf=f)},Ow=(t,e,n,r)=>{n.not={}},Pw=(t,e,n,r)=>{},Bw=(t,e,n,r)=>{const o=t._zod.def,s=w3(o.entries);s.every(u=>typeof u=="number")&&(n.type="number"),s.every(u=>typeof u=="string")&&(n.type="string"),n.enum=s},Hw=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},qw=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Gw=(t,e,n,r)=>{const o=n,s=t._zod.def,{minimum:u,maximum:d}=t._zod.bag;typeof u=="number"&&(o.minItems=u),typeof d=="number"&&(o.maxItems=d),o.type="array",o.items=on(s.element,e,{...r,path:[...r.path,"items"]})},Vw=(t,e,n,r)=>{var o;const s=n,u=t._zod.def;s.type="object",s.properties={};const d=u.shape;for(const g in d)s.properties[g]=on(d[g],e,{...r,path:[...r.path,"properties",g]});const f=new Set(Object.keys(d)),h=new Set([...f].filter(g=>{const x=u.shape[g]._zod;return e.io==="input"?x.optin===void 0:x.optout===void 0}));h.size>0&&(s.required=Array.from(h)),((o=u.catchall)==null?void 0:o._zod.def.type)==="never"?s.additionalProperties=!1:u.catchall?u.catchall&&(s.additionalProperties=on(u.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(s.additionalProperties=!1)},Fw=(t,e,n,r)=>{const o=t._zod.def,s=o.inclusive===!1,u=o.options.map((d,f)=>on(d,e,{...r,path:[...r.path,s?"oneOf":"anyOf",f]}));s?n.oneOf=u:n.anyOf=u},$w=(t,e,n,r)=>{const o=t._zod.def,s=on(o.left,e,{...r,path:[...r.path,"allOf",0]}),u=on(o.right,e,{...r,path:[...r.path,"allOf",1]}),d=h=>"allOf"in h&&Object.keys(h).length===1,f=[...d(s)?s.allOf:[s],...d(u)?u.allOf:[u]];n.allOf=f},Yw=(t,e,n,r)=>{const o=t._zod.def,s=on(o.innerType,e,r),u=e.seen.get(t);e.target==="openapi-3.0"?(u.ref=o.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},Jw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType},Xw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},Kw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},Zw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType;let u;try{u=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=u},Ww=(t,e,n,r)=>{const o=t._zod.def,s=e.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;on(s,e,r);const u=e.seen.get(t);u.ref=s},Qw=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType,n.readOnly=!0},$3=(t,e,n,r)=>{const o=t._zod.def;on(o.innerType,e,r);const s=e.seen.get(t);s.ref=o.innerType},jw=pe("ZodISODateTime",(t,e)=>{sS.init(t,e),zt.init(t,e)});function eT(t){return cw(jw,t)}const tT=pe("ZodISODate",(t,e)=>{lS.init(t,e),zt.init(t,e)});function nT(t){return dw(tT,t)}const rT=pe("ZodISOTime",(t,e)=>{uS.init(t,e),zt.init(t,e)});function iT(t){return fw(rT,t)}const aT=pe("ZodISODuration",(t,e)=>{cS.init(t,e),zt.init(t,e)});function oT(t){return hw(aT,t)}const sT=(t,e)=>{C3.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>e9(t,n)},flatten:{value:n=>jb(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Mf,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Mf,2)}},isEmpty:{get(){return t.issues.length===0}}})},ur=pe("ZodError",sT,{Parent:Error}),lT=Ch(ur),uT=kh(ur),cT=fu(ur),dT=hu(ur),fT=r9(ur),hT=i9(ur),mT=a9(ur),pT=o9(ur),gT=s9(ur),vT=l9(ur),yT=u9(ur),xT=c9(ur),$t=pe("ZodType",(t,e)=>(Ft.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:V0(t,"input"),output:V0(t,"output")}}),t.toJSONSchema=Iw(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Fi(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>$i(t,n,r),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t),t.parse=(n,r)=>lT(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>cT(t,n,r),t.parseAsync=async(n,r)=>uT(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>dT(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>fT(t,n,r),t.decode=(n,r)=>hT(t,n,r),t.encodeAsync=async(n,r)=>mT(t,n,r),t.decodeAsync=async(n,r)=>pT(t,n,r),t.safeEncode=(n,r)=>gT(t,n,r),t.safeDecode=(n,r)=>vT(t,n,r),t.safeEncodeAsync=async(n,r)=>yT(t,n,r),t.safeDecodeAsync=async(n,r)=>xT(t,n,r),t.refine=(n,r)=>t.check(c_(n,r)),t.superRefine=n=>t.check(d_(n)),t.overwrite=n=>t.check(_o(n)),t.optional=()=>jv(t),t.exactOptional=()=>WT(t),t.nullable=()=>e4(t),t.nullish=()=>jv(e4(t)),t.nonoptional=n=>r_(t,n),t.array=()=>Rf(t),t.or=n=>$T([t,n]),t.and=n=>JT(t,n),t.transform=n=>t4(t,KT(n)),t.default=n=>e_(t,n),t.prefault=n=>n_(t,n),t.catch=n=>a_(t,n),t.pipe=n=>t4(t,n),t.readonly=()=>l_(t),t.describe=n=>{const r=t.clone();return Ns.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=Ns.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ns.get(t);const r=t.clone();return Ns.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),Y3=pe("_ZodString",(t,e)=>{zh.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(r,o,s)=>Lw(t,r,o);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(yw(...r)),t.includes=(...r)=>t.check(Sw(...r)),t.startsWith=(...r)=>t.check(ww(...r)),t.endsWith=(...r)=>t.check(Tw(...r)),t.min=(...r)=>t.check(G0(...r)),t.max=(...r)=>t.check(H3(...r)),t.length=(...r)=>t.check(q3(...r)),t.nonempty=(...r)=>t.check(G0(1,...r)),t.lowercase=r=>t.check(xw(r)),t.uppercase=r=>t.check(bw(r)),t.trim=()=>t.check(Aw()),t.normalize=(...r)=>t.check(_w(...r)),t.toLowerCase=()=>t.check(Ew()),t.toUpperCase=()=>t.check(Cw()),t.slugify=()=>t.check(kw())}),bT=pe("ZodString",(t,e)=>{zh.init(t,e),Y3.init(t,e),t.email=n=>t.check(VS(ST,n)),t.url=n=>t.check(XS(wT,n)),t.jwt=n=>t.check(uw(OT,n)),t.emoji=n=>t.check(KS(TT,n)),t.guid=n=>t.check(Yv(Zv,n)),t.uuid=n=>t.check(FS(y0,n)),t.uuidv4=n=>t.check($S(y0,n)),t.uuidv6=n=>t.check(YS(y0,n)),t.uuidv7=n=>t.check(JS(y0,n)),t.nanoid=n=>t.check(ZS(_T,n)),t.guid=n=>t.check(Yv(Zv,n)),t.cuid=n=>t.check(WS(AT,n)),t.cuid2=n=>t.check(QS(ET,n)),t.ulid=n=>t.check(jS(CT,n)),t.base64=n=>t.check(ow(DT,n)),t.base64url=n=>t.check(sw(LT,n)),t.xid=n=>t.check(ew(kT,n)),t.ksuid=n=>t.check(tw(zT,n)),t.ipv4=n=>t.check(nw(MT,n)),t.ipv6=n=>t.check(rw(NT,n)),t.cidrv4=n=>t.check(iw(RT,n)),t.cidrv6=n=>t.check(aw(IT,n)),t.e164=n=>t.check(lw(UT,n)),t.datetime=n=>t.check(eT(n)),t.date=n=>t.check(nT(n)),t.time=n=>t.check(iT(n)),t.duration=n=>t.check(oT(n))});function Wr(t){return GS(bT,t)}const zt=pe("ZodStringFormat",(t,e)=>{Et.init(t,e),Y3.init(t,e)}),ST=pe("ZodEmail",(t,e)=>{Q9.init(t,e),zt.init(t,e)}),Zv=pe("ZodGUID",(t,e)=>{Z9.init(t,e),zt.init(t,e)}),y0=pe("ZodUUID",(t,e)=>{W9.init(t,e),zt.init(t,e)}),wT=pe("ZodURL",(t,e)=>{j9.init(t,e),zt.init(t,e)}),TT=pe("ZodEmoji",(t,e)=>{eS.init(t,e),zt.init(t,e)}),_T=pe("ZodNanoID",(t,e)=>{tS.init(t,e),zt.init(t,e)}),AT=pe("ZodCUID",(t,e)=>{nS.init(t,e),zt.init(t,e)}),ET=pe("ZodCUID2",(t,e)=>{rS.init(t,e),zt.init(t,e)}),CT=pe("ZodULID",(t,e)=>{iS.init(t,e),zt.init(t,e)}),kT=pe("ZodXID",(t,e)=>{aS.init(t,e),zt.init(t,e)}),zT=pe("ZodKSUID",(t,e)=>{oS.init(t,e),zt.init(t,e)}),MT=pe("ZodIPv4",(t,e)=>{dS.init(t,e),zt.init(t,e)}),NT=pe("ZodIPv6",(t,e)=>{fS.init(t,e),zt.init(t,e)}),RT=pe("ZodCIDRv4",(t,e)=>{hS.init(t,e),zt.init(t,e)}),IT=pe("ZodCIDRv6",(t,e)=>{mS.init(t,e),zt.init(t,e)}),DT=pe("ZodBase64",(t,e)=>{pS.init(t,e),zt.init(t,e)}),LT=pe("ZodBase64URL",(t,e)=>{vS.init(t,e),zt.init(t,e)}),UT=pe("ZodE164",(t,e)=>{yS.init(t,e),zt.init(t,e)}),OT=pe("ZodJWT",(t,e)=>{bS.init(t,e),zt.init(t,e)}),J3=pe("ZodNumber",(t,e)=>{U3.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(r,o,s)=>Uw(t,r,o),t.gt=(r,o)=>t.check(Xv(r,o)),t.gte=(r,o)=>t.check(cf(r,o)),t.min=(r,o)=>t.check(cf(r,o)),t.lt=(r,o)=>t.check(Jv(r,o)),t.lte=(r,o)=>t.check(uf(r,o)),t.max=(r,o)=>t.check(uf(r,o)),t.int=r=>t.check(Wv(r)),t.safe=r=>t.check(Wv(r)),t.positive=r=>t.check(Xv(0,r)),t.nonnegative=r=>t.check(cf(0,r)),t.negative=r=>t.check(Jv(0,r)),t.nonpositive=r=>t.check(uf(0,r)),t.multipleOf=(r,o)=>t.check(Kv(r,o)),t.step=(r,o)=>t.check(Kv(r,o)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Tr(t){return mw(J3,t)}const PT=pe("ZodNumberFormat",(t,e)=>{SS.init(t,e),J3.init(t,e)});function Wv(t){return pw(PT,t)}const BT=pe("ZodUnknown",(t,e)=>{wS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Pw()});function Qv(){return gw(BT)}const HT=pe("ZodNever",(t,e)=>{TS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Ow(t,n,r)});function qT(t){return vw(HT,t)}const GT=pe("ZodArray",(t,e)=>{_S.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Gw(t,n,r,o),t.element=e.element,t.min=(n,r)=>t.check(G0(n,r)),t.nonempty=n=>t.check(G0(1,n)),t.max=(n,r)=>t.check(H3(n,r)),t.length=(n,r)=>t.check(q3(n,r)),t.unwrap=()=>t.element});function Rf(t,e){return zw(GT,t,e)}const VT=pe("ZodObject",(t,e)=>{ES.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Vw(t,n,r,o),ft(t,"shape",()=>e.shape),t.keyof=()=>Ui(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Qv()}),t.loose=()=>t.clone({...t._zod.def,catchall:Qv()}),t.strict=()=>t.clone({...t._zod.def,catchall:qT()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Xb(t,n),t.safeExtend=n=>Kb(t,n),t.merge=n=>Zb(t,n),t.pick=n=>Yb(t,n),t.omit=n=>Jb(t,n),t.partial=(...n)=>Wb(X3,t,n[0]),t.required=(...n)=>Qb(K3,t,n[0])});function Pi(t,e){const n={type:"object",shape:t??{},...Pe(e)};return new VT(n)}const FT=pe("ZodUnion",(t,e)=>{CS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Fw(t,n,r,o),t.options=e.options});function $T(t,e){return new FT({type:"union",options:t,...Pe(e)})}const YT=pe("ZodIntersection",(t,e)=>{kS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$w(t,n,r,o)});function JT(t,e){return new YT({type:"intersection",left:t,right:e})}const If=pe("ZodEnum",(t,e)=>{zS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(r,o,s)=>Bw(t,r,o),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,o)=>{const s={};for(const u of r)if(n.has(u))s[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new If({...e,checks:[],...Pe(o),entries:s})},t.exclude=(r,o)=>{const s={...e.entries};for(const u of r)if(n.has(u))delete s[u];else throw new Error(`Key ${u} not found in enum`);return new If({...e,checks:[],...Pe(o),entries:s})}});function Ui(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new If({type:"enum",entries:n,...Pe(e)})}const XT=pe("ZodTransform",(t,e)=>{MS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>qw(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new b3(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Ps(s,n.value,e));else{const u=s;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(Ps(u))}};const o=e.transform(n.value,n);return o instanceof Promise?o.then(s=>(n.value=s,n)):(n.value=o,n)}});function KT(t){return new XT({type:"transform",transform:t})}const X3=pe("ZodOptional",(t,e)=>{B3.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function jv(t){return new X3({type:"optional",innerType:t})}const ZT=pe("ZodExactOptional",(t,e)=>{NS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function WT(t){return new ZT({type:"optional",innerType:t})}const QT=pe("ZodNullable",(t,e)=>{RS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Yw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function e4(t){return new QT({type:"nullable",innerType:t})}const jT=pe("ZodDefault",(t,e)=>{IS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Xw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function e_(t,e){return new jT({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():_3(e)}})}const t_=pe("ZodPrefault",(t,e)=>{DS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Kw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function n_(t,e){return new t_({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():_3(e)}})}const K3=pe("ZodNonOptional",(t,e)=>{LS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Jw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function r_(t,e){return new K3({type:"nonoptional",innerType:t,...Pe(e)})}const i_=pe("ZodCatch",(t,e)=>{US.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Zw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function a_(t,e){return new i_({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const o_=pe("ZodPipe",(t,e)=>{OS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Ww(t,n,r,o),t.in=e.in,t.out=e.out});function t4(t,e){return new o_({type:"pipe",in:t,out:e})}const s_=pe("ZodReadonly",(t,e)=>{PS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Qw(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function l_(t){return new s_({type:"readonly",innerType:t})}const u_=pe("ZodCustom",(t,e)=>{BS.init(t,e),$t.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Hw(t,n)});function c_(t,e={}){return Mw(u_,t,e)}function d_(t){return Nw(t)}const f_=Pi({name:Wr(),label:Wr().optional(),color:Wr().optional(),left:Tr(),top:Tr()}),h_=Pi({mode:Ui(["arrow","adjunction","corner","corner_inverse"]).optional(),head:Pi({name:Ui(["normal","none","epi","hook","maps_to","harpoon"]).optional(),side:Ui(["top","bottom"]).optional()}).optional(),tail:Pi({name:Ui(["normal","none","mono","hook","maps_to"]).optional(),side:Ui(["top","bottom"]).optional()}).optional(),body:Pi({name:Ui(["solid","dashed","dotted","squiggly","wavy","barred","double_barred","bullet_solid","bullet_hollow","none"]).optional()}).optional(),level:Tr().int().optional()}),m_=Pi({from:Wr(),to:Wr(),name:Wr().optional(),label:Wr().optional(),color:Wr().optional(),label_color:Wr().optional(),curve:Tr().optional(),shift:Tr().optional(),radius:Tr().optional(),angle:Tr().optional(),label_alignment:Ui(["over","left","right"]).optional(),shorten:Pi({source:Tr().optional(),target:Tr().optional()}).optional(),style:h_.optional()}),p_=Pi({version:Tr().int().optional(),nodes:Rf(f_),arrows:Rf(m_).optional()});class x0{constructor(e,...n){for(const r of n)this[r]=Symbol(`${e}::${r}`)}}class Me{constructor(e,n){Ve(this,"x"),Ve(this,"y"),this.x=e,this.y=n}static zero(){return new Me(0,0)}static lendir(e,n){return new Me(Math.cos(n)*e,Math.sin(n)*e)}static diag(e){return new Me(e,e)}toString(){return`${this.x} ${this.y}`}toArray(){return[this.x,this.y]}px(e=!0){return`${this.x}px${e?",":""} ${this.y}px`}eq(e){return this.x===e.x&&this.y===e.y}add(e){return new Me(this.x+e.x,this.y+e.y)}sub(e){return new Me(this.x-e.x,this.y-e.y)}neg(){return new Me(-this.x,-this.y)}scale(e,n){return new Me(this.x*e,this.y*n)}inv_scale(e,n){return new Me(this.x/e,this.y/n)}mul(e){return this.scale(e,e)}div(e){return this.inv_scale(e,e)}max(e){return new Me(Math.max(this.x,e.x),Math.max(this.y,e.y))}min(e){return new Me(Math.min(this.x,e.x),Math.min(this.y,e.y))}rotate(e){return new Me(this.x*Math.cos(e)-this.y*Math.sin(e),this.y*Math.cos(e)+this.x*Math.sin(e))}length(){return Math.hypot(this.y,this.x)}angle(){return Math.atan2(this.y,this.x)}lerp(e,n){return this.add(e.sub(this).mul(n))}is_zero(){return this.x===0&&this.y===0}map(e){return new Me(e(this.x),e(this.y))}}class g_ extends Me{}class M0 extends g_{get width(){return this.x}get height(){return this.y}}function v_(t){return t*180/Math.PI}class b0{constructor(){Ve(this,"commands"),this.commands=[]}toString(){return this.commands.join(`
`)}move_to(e){return this.commands.push(`M ${e.x} ${e.y}`),this}move_by(e){return this.commands.push(`m ${e.x} ${e.y}`),this}line_to(e){return e.x===0?this.commands.push(`V ${e.y}`):e.y===0?this.commands.push(`H ${e.x}`):this.commands.push(`L ${e.x} ${e.y}`),this}line_by(e){return e.x===0?this.commands.push(`v ${e.y}`):e.y===0?this.commands.push(`h ${e.x}`):this.commands.push(`l ${e.x} ${e.y}`),this}curve_by(e,n){return this.commands.push(`q ${e.x} ${e.y} ${n.x} ${n.y}`),this}arc_by(e,n,r,o,s){return this.commands.push(`a ${Math.abs(e.x)} ${Math.abs(e.y)}
      ${v_(n)} ${r?1:0} ${o?1:0}
      ${s.x} ${s.y}`),this}}function N0(t,e){return(t%e+e)%e}const Vn=10**-6,n4=1/Vn;function F0(t){return Math.round(t*n4)/n4}class qn{static point_inside_polygon(e,n){const r=(o,s)=>{const u=o[0],d=o[1].sub(u),f=s.sub(u);return d.x*f.y-d.y*f.x};return n.map((o,s)=>{if(n[s].y<=e.y!=n[(s+1)%4].y<=e.y){const u=r([n[s],n[(s+1)%4]],e);if(u>0)return 1;if(u<0)return-1}return 0}).reduce((o,s)=>o+s,0)!==0}static add_intersection(e,n){for(const r of e)if(Math.abs(r.x-n.x)<Vn&&Math.abs(r.y-n.y)<Vn)return;e.add(new Me(F0(n.x),F0(n.y)))}static check_for_containment(e,n,r){const o=new $0(n.centre,n.size,0);if(qn.point_inside_polygon(e,o.points())){if(r)return[new pu(n.centre,0,0)];throw new Error("Curve was entirely contained by rounded rectangle.")}return[]}}class Df extends qn{constructor(e,n,r,o){super(),Ve(this,"origin"),Ve(this,"w"),Ve(this,"h"),Ve(this,"angle"),Ve(this,"end"),Ve(this,"control"),this.origin=e,this.w=n,this.h=r,this.angle=o,this.end=this.origin.add(new Me(this.w,0).rotate(this.angle)),this.control=this.origin.add(new Me(this.w/2,this.h).rotate(this.angle))}point(e){return this.origin.lerp(this.control,e).lerp(this.control.lerp(this.end,e),e)}tangent(e){return this.control.lerp(this.end,e).sub(this.origin.lerp(this.control,e)).angle()}delineate(e){const n=[[0,this.point(0)],[e,this.point(e)]];let r,o=0;do{r=o,o=0;for(let s=0;s<n.length-1;++s)o+=n[s+1][1].sub(n[s][1]).length()}while(o-r>.25&&(()=>{for(let s=0;s<n.length-1;++s){const u=(n[s][0]+n[s+1][0])/2;n.splice(++s,0,[u,this.point(u)])}return!0})());return{points:n,length:o}}arc_length(e){const{length:n}=this.delineate(e);return n}t_after_length(e=!1){const{points:n}=this.delineate(1);return r=>{if(r===0)return 0;if(r<0){if(e)return 0;throw new Error("Length was less than 0.")}let o=0;for(let s=0;s<n.length-1;++s){const u=n[s+1][1].sub(n[s][1]).length();if(o+u>=r)return n[s][0]+(n[s+1][0]-n[s][0])*(r-o)/u;o+=u}if(e)return 1;throw new Error("Length was greater than the arc length.")}}get height(){return this.h/2}get width(){return this.w}intersections_with_rounded_rectangle(e,n){const r=this.h||1,o=e.points().map(d=>(d=d.sub(this.origin),d=d.rotate(-this.angle),d=d.inv_scale(this.w,r),d)),s=new Set,u=d=>{const f=(d[1].y-d[0].y)/(d[1].x-d[0].x);return{m:f,c:d[0].y-f*d[0].x}};if(this.h===0)for(let d=0;d<o.length;++d){const f=[o[d],o[(d+1)%o.length]];if(Math.abs(f[0].x-f[1].x)<=Vn)f[0].x>=0&&f[0].x<=1&&Math.min(f[0].y,f[1].y)<=0&&Math.max(f[0].y,f[1].y)>=0&&qn.add_intersection(s,new Me(f[0].x,0));else{const{m:h,c:g}=u(f);if(Math.abs(h)>Vn){const x=-g/h;x>=0&&x<=1&&x>=Math.min(f[0].x,f[1].x)-Vn&&x<=Math.max(f[0].x,f[1].x)+Vn&&qn.add_intersection(s,new Me(x,0))}else if(Math.abs(f[0].y)<=Vn){const x=Math.min(f[0].x,f[1].x),b=Math.max(f[0].x,f[1].x);x<=1&&b>=0&&(qn.add_intersection(s,new Me(Math.max(x,0),0)),qn.add_intersection(s,new Me(Math.min(b,1),0)))}}}else for(let d=0;d<o.length;++d){const f=[o[d],o[(d+1)%o.length]];if(Math.abs(f[0].x-f[1].x)<=Vn){const h=r4.y_intersection_with_vertical_line(f[0].x);h>=0&&h>=Math.min(f[0].y,f[1].y)&&h<=Math.max(f[0].y,f[1].y)&&qn.add_intersection(s,new Me(f[0].x,h))}else{const{m:h,c:g}=u(f);r4.x_intersections_with_nonvertical_line(h,g).filter(x=>x>=0&&x<=1&&x>=Math.min(f[0].x,f[1].x)&&x<=Math.max(f[0].x,f[1].x)).map(x=>new Me(x,h*x+g)).forEach(x=>qn.add_intersection(s,x))}}return s.size===0?qn.check_for_containment(this.origin,e,n):Array.from(s).map(d=>new pu(d.scale(this.w,r),d.x,Math.atan2((2-4*d.x)*r,this.w)))}render(e){return e.curve_by(new Me(this.w/2,this.h).rotate(this.angle),new Me(this.w,0).rotate(this.angle))}}class pu extends Me{constructor(e,n,r){super(e.x,e.y),Ve(this,"t"),Ve(this,"tangentAngle"),this.t=n,this.tangentAngle=r}}class r4{static x_intersections_with_nonvertical_line(e,n){const r=e**2-4*e+4-8*n;return r>0?[(2-e+r**.5)/4,(2-e-r**.5)/4]:r===0?[(2-e+r**.5)/4]:[]}static y_intersection_with_vertical_line(e){return 2*e*(1-e)}}class $0{constructor(e,n,r){Ve(this,"centre"),Ve(this,"size"),Ve(this,"r"),this.centre=e,this.size=n,this.r=r}points(e=5){const n=[],r=this.r!==0?Math.PI/Math.atan(e/(2*this.r)):0,o=Math.ceil(r),s=this.r/Math.cos(Math.PI/o),u=(f,h,g)=>{n.push(this.centre.add(this.size.div(2).sub(Me.diag(this.r)).scale(f,h)).add(Me.lendir(this.r,g)));for(let x=0;x<o/4;++x){const b=(x+.5)/o*2*Math.PI+g;n.push(this.centre.add(this.size.div(2).sub(Me.diag(this.r)).scale(f,h)).add(Me.lendir(s,b)))}return g+=Math.PI/2,n.push(this.centre.add(this.size.div(2).sub(Me.diag(this.r)).scale(f,h)).add(Me.lendir(this.r,g))),g};let d=0;d=u(1,1,d),d=u(-1,1,d),d=u(-1,-1,d),d=u(1,-1,d);for(let f=n.length-2;f>=0;--f)Math.abs(n[f].x-n[f+1].x)<=Vn&&Math.abs(n[f].y-n[f+1].y)<=Vn&&n.splice(f+1,1);return n}}class i4 extends qn{constructor(e,n,r,o,s){super(),Ve(this,"origin"),Ve(this,"chord"),Ve(this,"major"),Ve(this,"radius"),Ve(this,"angle"),Ve(this,"sagitta"),Ve(this,"centre_normalised"),Ve(this,"sweep_angle"),Ve(this,"centre"),Ve(this,"start_angle"),this.origin=e,this.chord=n,this.major=r,this.radius=o,this.angle=s,this.sagitta=this.radius-Math.sign(this.radius)*(this.radius**2-this.chord**2/4)**.5,this.centre_normalised=new Me(this.chord/2,(this.radius-this.sagitta)*(this.major?-1:1));const u=N0(this.centre_normalised.neg().angle(),2*Math.PI);this.sweep_angle=Math.PI+(2*Math.PI-2*u)*this.clockwise,this.centre=this.origin.add(this.centre_normalised.rotate(this.angle)),this.start_angle=N0(u+this.angle,2*Math.PI)}get clockwise(){return this.radius>=0?1:-1}point(e){return this.centre.add(new Me(Math.abs(this.radius),0).rotate(this.start_angle+e*this.sweep_angle*this.clockwise))}tangent(e){return this.start_angle+(e*this.sweep_angle+Math.PI/2)*this.clockwise}arc_length(e){return e*this.sweep_angle*Math.abs(this.radius)}t_after_length(e=!1){return n=>{if(n<0){if(e)return 0;throw new Error("Length was less than 0.")}if(n>this.arc_length(1)){if(e)return 1;throw new Error("Length was greater than the arc length.")}return n/(this.sweep_angle*Math.abs(this.radius))}}get height(){return Math.abs(this.major?this.radius*2-this.sagitta:this.sagitta)}get width(){return this.major?Math.abs(this.radius)*2:this.chord}angle_in_arc(e){const n=s=>{for(;s<-Math.PI;)s+=2*Math.PI;for(;s>Math.PI;)s-=2*Math.PI;return s},r=n(this.start_angle-e),o=n(this.start_angle+this.sweep_angle*this.clockwise-e);return(r*o<0&&Math.abs(r-o)<Math.PI)!==this.major}intersections_with_rounded_rectangle(e,n){if(!this.major&&Math.abs(this.sagitta)<=1)return new Df(this.origin,this.chord,0,this.angle).intersections_with_rounded_rectangle(e,n);const r=e.points().map(s=>(s=s.sub(this.centre).map(F0),s));this.radius<0&&r.reverse();const o=new Set;for(let s=0;s<r.length;++s){const u=[r[s],r[(s+1)%r.length]],d=u[1].sub(u[0]),f=u[0].x*u[1].y-u[1].x*u[0].y,h=d.length()**2,g=this.radius**2*h-f**2;if(!(Math.sign(g)<0))for(const x of Math.abs(g)<=Vn?[0]:[1,-1]){const[b,w]=[(f*d.y+x*d.x*g**.5*(d.y<0?-1:1))/h,(-f*d.x+x*g**.5*Math.abs(d.y))/h].map(F0);b>=Math.min(u[0].x,u[1].x)&&b<=Math.max(u[0].x,u[1].x)&&w>=Math.min(u[0].y,u[1].y)&&w<=Math.max(u[0].y,u[1].y)&&this.angle_in_arc(Math.atan2(w,b))&&qn.add_intersection(o,new Me(b,w))}}return o.size===0?qn.check_for_containment(this.origin,e,n):Array.from(o).map(s=>{const u=N0((Math.atan2(s.y,s.x)-this.start_angle)*this.clockwise,2*Math.PI)/this.sweep_angle;return new pu(s.add(this.centre).sub(this.origin).rotate(-this.angle),u,this.tangent(u))})}render(e){return!this.major&&Math.abs(this.sagitta)<=1?e.line_by(new Me(this.chord,0).rotate(this.angle)):e.arc_by(Me.diag(Math.abs(this.radius)),0,this.major,this.radius>=0,new Me(this.chord,0).rotate(this.angle))}}const be={LINE_SPACING:4.5,STROKE_WIDTH:1.5,BACKGROUND_PADDING:16,BACKGROUND_OPACITY:.2,MASK_PADDING:4,HEAD_SPACING:2,SQUIGGLY_PADDING:4,SQUIGGLY_TRIANGLE_HEIGHT:2,ADJUNCTION_LINE_LENGTH:16,CORNER_LINE_LENGTH:12,HANDLE_RADIUS:14,ARC:{OUTER_DIS:96,INNER_DIS:64},ARROW_SHAPE:new x0("ARROW_SHAPE","BEZIER","ARC"),ARROW_BODY_STYLE:new x0("ARROW_BODY_STYLE","NONE","LINE","SQUIGGLY","ADJUNCTION","PROARROW","DOUBLE_PROARROW","BULLET_SOLID","BULLET_HOLLOW"),ARROW_DASH_STYLE:new x0("ARROW_DASH_STYLE","SOLID","DASHED","DOTTED"),ARROW_HEAD_STYLE:{NONE:[],NORMAL:["epi"],EPI:["epi","epi"],MONO:["mono"],MAPS_TO:["maps to"],HARPOON_TOP:["harpoon-top"],HARPOON_BOTTOM:["harpoon-bottom"],HOOK_TOP:["hook-top"],HOOK_BOTTOM:["hook-bottom"],CORNER:["corner"],CORNER_INVERSE:["corner-inverse"]},LABEL_ALIGNMENT:new x0("LABEL_ALIGNMENT","CENTRE","OVER","LEFT","RIGHT")};class Z3{constructor(){Ve(this,"level",1),Ve(this,"label_position",.5),Ve(this,"curve",0),Ve(this,"angle",0),Ve(this,"shift",0),Ve(this,"shorten",{tail:0,head:0}),Ve(this,"shape",be.ARROW_SHAPE.BEZIER),Ve(this,"body_style",be.ARROW_BODY_STYLE.LINE),Ve(this,"dash_style",be.ARROW_DASH_STYLE.SOLID),Ve(this,"heads",be.ARROW_HEAD_STYLE.NORMAL),Ve(this,"tails",be.ARROW_HEAD_STYLE.NONE),Ve(this,"colour","black")}}class y_{constructor(e){Ve(this,"origin"),Ve(this,"size"),Ve(this,"radius"),this.origin=e,this.size=new M0(0,0),this.radius=0}}class a4{constructor(e,n,r){Ve(this,"origin"),Ve(this,"size"),Ve(this,"radius"),this.origin=e,this.size=n,this.radius=r}}class x_{constructor(e,n,r=new Z3,o=null,s="arrow"){Ve(this,"source"),Ve(this,"target"),Ve(this,"style"),Ve(this,"label"),Ve(this,"id"),this.source=e,this.target=n,this.style=r,this.label=o,this.id=s}origin(){const e=this.target.origin.sub(this.source.origin);if(this.style.shape===be.ARROW_SHAPE.BEZIER||e.length()>0)return{source:this.source.origin,target:this.target.origin};{const n=e.angle()+this.style.angle+Math.PI/2,r=Me.lendir(.01/2,n);return{source:this.source.origin.sub(r),target:this.target.origin.add(r)}}}vector(){const e=this.origin();return e.target.sub(e.source)}angle(){return this.vector().angle()}length(){return this.vector().length()}curve(e=this.origin().source,n=this.angle()){const r=this.length();switch(this.style.shape){case be.ARROW_SHAPE.BEZIER:return new Df(e,r,-this.style.curve,n);case be.ARROW_SHAPE.ARC:return r<.1?new i4(e,r,!0,-this.style.curve,n):this.arc_for_chord(e,r,-this.style.curve,n);default:return new Df(e,r,-this.style.curve,n)}}arc_for_chord(e,n,r,o){const s=be.ARC.OUTER_DIS,u=be.ARC.INNER_DIS,d=u/2,f=s-u,h=n>=s?Vn:d*((s-n)/f),g=h/2+n**2/(8*h),x=n<=u?d+(u-n)/u*(r-d):g;return new i4(e,n,n<=u,x,o)}find_endpoints(){const e=this.origin(),n=(s,u,d)=>{const f=this.curve();if(s instanceof y_||s.size.is_zero()){const g=d?0:1;return new pu(u.sub(e.source).rotate(-f.angle),g,f.tangent(g))}const h=f.intersections_with_rounded_rectangle(new $0(u,s.size,s.radius),!1);if(h.length===0)throw new Error("No intersections found.");return h.sort((g,x)=>g.t-x.t),this.style.shape,be.ARROW_SHAPE.BEZIER,h[d?0:h.length-1]},r=n(this.source,e.source,!0),o=n(this.target,e.target,!1);return[r,o]}compute(){var e,n,r,o,s,u,d,f,h;const g=this.style.level*be.STROKE_WIDTH+(this.style.level-1)*be.LINE_SPACING,x=this.style.body_style===be.ARROW_BODY_STYLE.SQUIGGLY?this.style.level*be.SQUIGGLY_TRIANGLE_HEIGHT*2+be.STROKE_WIDTH+(this.style.level-1)*be.LINE_SPACING:g,b=be.LINE_SPACING+be.STROKE_WIDTH+(this.style.level-1)*2,w=x+(be.LINE_SPACING+be.STROKE_WIDTH)*2,k=this.length(),E=this.curve(Me.zero(),0),z=E.t_after_length(!0),R=2*Math.abs(E.height),L=this.angle(),B=new Me(0,this.style.shift).rotate(L),D=this.curve(this.origin().source.add(B),L),U=D.arc_length(1),$=new b0;$.move_to(D.origin),D.render($);const I=$.toString();let O,F;try{[O,F]=this.find_endpoints()}catch{return null}const Z={start:this.style.tails.length>0&&this.style.tails[0].startsWith("hook")?b:0,end:this.style.heads.length>0&&this.style.heads[0].startsWith("hook")?b:0},Y=(We,Qe,St)=>{if(We.length>0&&We[0]==="mono"){const ht=D.tangent(z(D.arc_length(Qe.t)+b*(St?1:-1))),Pt=D.tangent(Qe.t)-ht;return Math.abs(x*Math.sin(Pt)/2)}return 0},X={start:Y(this.style.tails,O,!0),end:Y(this.style.heads,F,!1)},Q={curve:D,start:O,end:F,length:k,height:R,stroke_width:g,edge_width:x,head_width:b,head_height:w,shorten:Z,t_after_length:z,dash_padding:X,offset:Me.zero(),total_width_of_tails:0,total_width_of_heads:0},W=this.determine_label_position(Q);let ie=0;if(((e=this.label)==null?void 0:e.alignment)===be.LABEL_ALIGNMENT.OVER){const We=O.t+(F.t-O.t)*this.style.label_position;ie=D.tangent(We)*180/Math.PI}const G=((r=(n=this.label)==null?void 0:n.size)==null?void 0:r.width)||0,le=((s=(o=this.label)==null?void 0:o.size)==null?void 0:s.height)||0,re={x:W.x-G/2,y:W.y-le/2,width:G,height:le},Ee=[],Le=[],q=[];if(this.style.body_style===be.ARROW_BODY_STYLE.PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.DOUBLE_PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_SOLID||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_HOLLOW){const We=D.arc_length(O.t)+(this.style.shorten.tail+Z.start)-X.start,Qe=D.arc_length(F.t)-(this.style.shorten.head+Z.end)+X.end,St=Math.max(O.t,z(We)),ht=Math.min(F.t,z(Qe)),Pt=(St+ht)/2;if(this.style.body_style===be.ARROW_BODY_STYLE.PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.DOUBLE_PROARROW){const sn=this.style.body_style===be.ARROW_BODY_STYLE.DOUBLE_PROARROW?[-2.5,2.5]:[0],It=D.arc_length(Pt),fn=D.tangent(Pt)+Math.PI/2,cr=new Me(w,0),No=cr.div(2),Ji=new b0;for(const Cu of sn){let Xi=It+Cu;Xi<We&&(Xi=We),Xi>Qe&&(Xi=Qe);const hn=z(Xi),ku=D.point(hn);Ji.move_to(ku.sub(No.rotate(fn))),Ji.line_by(cr.rotate(fn))}Ee.push({props:{d:Ji.toString(),fill:"none",stroke:this.style.colour,strokeWidth:be.STROKE_WIDTH,strokeLinecap:"round"}})}else if(this.style.body_style===be.ARROW_BODY_STYLE.BULLET_SOLID||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_HOLLOW){const sn=D.point(Pt),It=w/2,fn=`M ${sn.x} ${sn.y} m ${It}, 0 a ${It},${It} 0 1,0 -${It*2},0 a ${It},${It} 0 1,0 ${It*2},0`;Ee.push({props:{d:fn,fill:this.style.body_style===be.ARROW_BODY_STYLE.BULLET_SOLID?this.style.colour:"none",stroke:this.style.body_style===be.ARROW_BODY_STYLE.BULLET_HOLLOW?this.style.colour:"none",strokeWidth:be.STROKE_WIDTH,strokeLinecap:"round"}})}}const ne=(We,Qe,St,ht)=>{const{pathD:Pt,total_width:sn}=this.redraw_heads(Q,We,Qe,St,ht);if(Pt!==null)if(ht)q.push({d:Pt,fill:"black",stroke:"none"});else{const It={props:{d:Pt,fill:"none",stroke:this.style.colour,strokeWidth:be.STROKE_WIDTH,strokeLinecap:"round"}};St?Le.push(It):Ee.push(It)}return sn};Q.total_width_of_tails=ne(this.style.tails,O,!0,!1),Q.total_width_of_heads=ne(this.style.heads,F,!1,!1);const{path:ee,dash_array:te}=this.edge_path(Q),xe=[],Te=[];if(this.style.level>1||(u=this.label)!=null&&u.text&&this.label.text.trim()!==""){const We=`${this.id}-mask`;if(q.push({d:"M -10000 -10000 h 20000 v 20000 h -20000 z",fill:"white",stroke:"none",strokeWidth:0}),ne(this.style.tails,O,!0,!0),ne(this.style.heads,F,!1,!0),this.style.level>1)for(let Qe=this.style.level-1,St=!0;Qe>0;--Qe,St=!St){const ht=(Qe-(St?1:0))*be.STROKE_WIDTH+(Qe-(St?0:1))*be.LINE_SPACING;q.push({d:ee.toString(),stroke:St?"black":"white",strokeWidth:ht,fill:"none"})}if((d=this.label)!=null&&d.text&&re.width>0){const Qe={x:re.x+re.width/2,y:re.y+re.height/2},St=`M ${re.x} ${re.y} h ${re.width} v ${re.height} h -${re.width} z`;q.push({d:St,fill:"black",stroke:"none",transform:ie?`rotate(${ie}, ${Qe.x}, ${Qe.y})`:void 0})}Te.push({id:We,paths:q}),xe.push({d:ee.toString(),fill:"none",stroke:this.style.colour,strokeWidth:g,strokeDasharray:te||void 0,mask:`url(#${We})`})}else xe.push({d:ee.toString(),fill:"none",stroke:this.style.colour,strokeWidth:be.STROKE_WIDTH,strokeDasharray:te||void 0});const ce=Q.start.t+(Q.end.t-Q.start.t)*this.style.label_position,ke=Q.curve.point(ce),Ie=O.rotate(L).add(D.origin),$e=F.rotate(L).add(D.origin);return{arrow:{key:this.id,spec:{},paths:xe,heads:Ee,tail:Le,label:{text:(f=this.label)==null?void 0:f.text,color:(h=this.label)==null?void 0:h.color,props:{x:W.x,y:W.y,textAnchor:"middle",dominantBaseline:"middle",fontSize:16},bbox:re,rotation:ie},midpoint:{x:ke.x,y:ke.y},sourcePoint:{x:Ie.x,y:Ie.y},targetPoint:{x:$e.x,y:$e.y},arcLength:U,interactionPath:I},masks:Te}}edge_path(e){const{curve:n,start:r,end:o,shorten:s,dash_padding:u,t_after_length:d,total_width_of_tails:f,total_width_of_heads:h}=e;let g=n.arc_length(r.t)+(this.style.shorten.tail+s.start)-u.start,x=n.arc_length(o.t)-(this.style.shorten.head+s.end)+u.end,b=n.arc_length(1);const w=new b0;if(this.style.body_style===be.ARROW_BODY_STYLE.LINE||this.style.body_style===be.ARROW_BODY_STYLE.PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.DOUBLE_PROARROW||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_SOLID||this.style.body_style===be.ARROW_BODY_STYLE.BULLET_HOLLOW)w.move_to(n.origin),n.render(w);else if(this.style.body_style===be.ARROW_BODY_STYLE.ADJUNCTION){const E=n.point(.5),z=n.tangent(.5),R=z+Math.PI/2,L=new Me(be.ADJUNCTION_LINE_LENGTH,0),B=L.div(2);w.move_to(E.sub(B.rotate(z))),w.line_by(L.rotate(z));const D=E.add(B.rotate(z)).sub(B.rotate(R));w.move_to(D),w.line_by(L.rotate(R))}else if(this.style.body_style===be.ARROW_BODY_STYLE.SQUIGGLY){const E=be.SQUIGGLY_TRIANGLE_HEIGHT*2,z=g+f+be.SQUIGGLY_PADDING,R=x-(h+be.SQUIGGLY_PADDING),L=n.point(d(z)),B=n.point(d(g)),D=n.point(d(x));w.move_to(B),w.line_to(L);for(let U=z,$=-1,I=1;U+I*E/2<R;$=[$,-$][I],I=1-I){U+=E/2;const O=d(U),F=n.tangent(O)+Math.PI/2*$,Z=n.point(O).add(Me.lendir(be.SQUIGGLY_TRIANGLE_HEIGHT*I,F));w.line_to(Z)}w.line_to(D),g=0}let k=null;if(this.style.body_style!==be.ARROW_BODY_STYLE.ADJUNCTION)if(this.style.dash_style!==be.ARROW_DASH_STYLE.SOLID){let E=x-g,z=[];this.style.dash_style===be.ARROW_DASH_STYLE.DASHED?z=[6,6]:this.style.dash_style===be.ARROW_DASH_STYLE.DOTTED&&(z=[2,4]);const R=z.reduce((U,$)=>U+$,0),L=Math.floor(E/R),B=Array(L).fill(z).flat(),D=E-L*R;D>0&&B.push(D),k=`0 ${g} ${B.join(" ")} ${b-x}`}else k=`0 ${g} ${x-g} ${b-x}`;return{path:w,dash_array:k}}redraw_heads(e,n,r,o,s=!1){const{curve:u,head_width:d,head_height:f,t_after_length:h,shorten:g,dash_padding:x,stroke_width:b}=e;if(n.length===0)return{pathD:null,total_width:0};const w=o?1:-1,k=o?0:1;let E=0;const z=u.arc_length(r.t)+(o?g.start+this.style.shorten.tail:g.end+this.style.shorten.head)*w,R=new b0,L=[];let B=0;for(let D=0,U=0;D<n.length;++D){let $=0,I=d,O=0;if(n[D]==="mono"&&(I=d,O=d),n[D]==="maps to"&&($=d/2,I=d/2),D===0)U+=O;else{const F=n[D]===n[D-1]?2:1;U+=(B+I)/F+be.HEAD_SPACING}B=$,L.push(U),E=U+$}for(let D=n.length-1;D>=0;--D){if(s&&D!==0)continue;const U=n[D],$=z+L[D]*w,I=h($),O=u.point(I);let F=u.tangent(I);if(U==="mono"&&(F+=Math.PI),U==="epi"||U==="mono"||U==="arrowhead"){const Z=[[-1,k],[1,1-k]];for(const[Y,X]of Z)if(R.move_to(O),R.arc_by(new Me(w*d,f/2),F,!1,X===1,new Me(w*d,Y*f/2).rotate(F)),s){let Q=0;if(U==="epi"||U==="arrowhead")Q=-w*(d+be.MASK_PADDING);else if(U==="mono"){const W=(o?x.start:x.end)*2;Q=w*(be.MASK_PADDING+W)}R.line_by(Me.lendir(Q,F)),R.line_by(new Me(0,-Y*f/2).rotate(F))}}else if(U==="maps to"){const Z=Me.lendir(f/2,F+Math.PI/2),Y=Me.lendir(f/2,F-Math.PI/2);R.move_to(O.add(Z)),R.line_to(O.add(Y))}else if(U.startsWith("harpoon")){const Z=U.endsWith("top")?1:-1,Y=O,X=Y.add(Me.lendir(d*w,F)),Q=Me.lendir(f/2*Z,F+Math.PI/2);R.move_to(Y),R.line_to(X.add(Q))}else if(U.startsWith("hook")){const Z=U.endsWith("top")?-1:1,Y=.5;for(let X=0;X<this.style.level;++X){const Q=O.add(new Me(Y,Z*b/2-Z*be.STROKE_WIDTH/2-Z*(be.LINE_SPACING+be.STROKE_WIDTH)*X).rotate(F));R.move_to(Q),R.arc_by(new Me(w*d,d),F,!1,Z===1?k===1:k!==1,new Me(0,Z*d*2).rotate(F))}}else if(U==="corner"||U==="corner-inverse"){const Z=U.endsWith("-inverse"),Y=be.CORNER_LINE_LENGTH,X=Y/2**.5,Q=u.point(h($+(Z?0:X*w)));for(const W of[-1,1]){R.move_to(Q);const ie=Math.PI/4,G=this.angle(),le=(Z?0:Math.PI)+ie*Math.round(4*G/Math.PI)-G;R.line_by(Me.lendir(Y,le+Math.PI*k+W*Math.PI/4))}}}return{pathD:R.toString(),total_width:E}}determine_label_position(e){var n;const{start:r,end:o}=e,s=e.curve,u=r.t+(o.t-r.t)*this.style.label_position;let d=s.point(u);const f=(n=this.label)==null?void 0:n.alignment;if(f===be.LABEL_ALIGNMENT.LEFT||f===be.LABEL_ALIGNMENT.RIGHT){const h=s.tangent(u)-Math.PI/2,g=f===be.LABEL_ALIGNMENT.LEFT?1:-1,x=Me.lendir(15*g,h);d=d.add(x)}return d}}const pa=25;function Y0(t){const e=N0(t,360);return e>180?e-360:e}function b_(t,e){var n,r,o,s,u,d,f,h,g,x,b;const w=new Z3;if(w.level=((n=t.style)==null?void 0:n.level)??1,w.curve=t.radius??t.curve??0,w.shift=t.shift??0,w.angle=(t.angle??0)*Math.PI/180,w.label_position=.5,t.color&&(w.colour=t.color),t.shorten&&(w.shorten.tail=t.shorten.source??0,w.shorten.head=t.shorten.target??0),w.shape=e?be.ARROW_SHAPE.ARC:be.ARROW_SHAPE.BEZIER,(r=t.style)!=null&&r.mode&&(t.style.mode==="adjunction"?(w.body_style=be.ARROW_BODY_STYLE.ADJUNCTION,w.heads=be.ARROW_HEAD_STYLE.NONE):t.style.mode==="corner"?(w.body_style=be.ARROW_BODY_STYLE.NONE,w.heads=be.ARROW_HEAD_STYLE.NONE,w.tails=be.ARROW_HEAD_STYLE.CORNER):t.style.mode==="corner_inverse"&&(w.body_style=be.ARROW_BODY_STYLE.NONE,w.heads=be.ARROW_HEAD_STYLE.NONE,w.tails=be.ARROW_HEAD_STYLE.CORNER_INVERSE)),(s=(o=t.style)==null?void 0:o.body)!=null&&s.name){const k=t.style.body.name.toUpperCase();k==="DASHED"&&(w.dash_style=be.ARROW_DASH_STYLE.DASHED),k==="DOTTED"&&(w.dash_style=be.ARROW_DASH_STYLE.DOTTED),k==="NONE"&&(w.body_style=be.ARROW_BODY_STYLE.NONE),(k==="SQUIGGLY"||k==="WAVY")&&(w.body_style=be.ARROW_BODY_STYLE.SQUIGGLY),k==="BARRED"&&(w.body_style=be.ARROW_BODY_STYLE.PROARROW),k==="DOUBLE_BARRED"&&(w.body_style=be.ARROW_BODY_STYLE.DOUBLE_PROARROW),k==="BULLET_SOLID"&&(w.body_style=be.ARROW_BODY_STYLE.BULLET_SOLID),k==="BULLET_HOLLOW"&&(w.body_style=be.ARROW_BODY_STYLE.BULLET_HOLLOW)}if((d=(u=t.style)==null?void 0:u.head)!=null&&d.name){let k=t.style.head.name.toUpperCase();k==="MAPS_TO"&&(k="MAPS_TO"),t.style.head.side&&(k+=`_${t.style.head.side.toUpperCase()}`);let E=k;k==="HOOK"&&(E=`HOOK_${((f=t.style.head.side)==null?void 0:f.toUpperCase())||"TOP"}`),k==="HARPOON"&&(E=`HARPOON_${((h=t.style.head.side)==null?void 0:h.toUpperCase())||"TOP"}`),w.heads=be.ARROW_HEAD_STYLE[E]||be.ARROW_HEAD_STYLE.NORMAL}if((x=(g=t.style)==null?void 0:g.tail)!=null&&x.name){let k=t.style.tail.name.toUpperCase(),E=k;k==="HOOK"&&(E=`HOOK_${((b=t.style.tail.side)==null?void 0:b.toUpperCase())||"TOP"}`),w.tails=be.ARROW_HEAD_STYLE[E]||be.ARROW_HEAD_STYLE.NONE}return w}function Bs(t){try{const e=typeof t=="string"?JSON.parse(t):t,n=p_.parse({...e,version:e.version||1});if(!n.nodes||n.nodes.length===0)return{nodes:[],arrows:[],masks:[],viewBox:"0 0 100 100",error:null};const r=new Map(n.nodes.map(L=>[L.name,{pos:new Me(L.left,L.top),shape:new $0(new Me(L.left,L.top),new M0(pa*2,pa*2),pa),isNode:!0,level:0}])),o=(n.arrows||[]).map((L,B)=>({...L,uniqueId:L.name||`_arrow_${B}`})),s=[],u=[],d=new Set(o);let f=!0;const h=o.length+1;let g=0;for(;d.size>0&&f;){if(g++>h)throw new Error("Dependency cycle detected");f=!1;const L=[...d];for(const B of L){const D=r.get(B.from),U=r.get(B.to);if(D&&U){const $=B.uniqueId,I=new a4(D.pos,D.shape.size,D.shape.r),O=new a4(U.pos,U.shape.size,U.shape.r),F=b_(B,B.from===B.to),Z=B.label_alignment&&be.LABEL_ALIGNMENT[B.label_alignment.toUpperCase()]||be.LABEL_ALIGNMENT.CENTRE,Y=(B.label||"").length,X=Y>0?Math.max(30,Y*10+20):0,Q=Y>0?24:0,W=new x_(I,O,F,{text:B.label||"",color:B.label_color,alignment:Z,size:new M0(X,Q)},$).compute();if(W){const{arrow:ie,masks:G}=W;ie.spec=B,s.push(ie),u.push(...G),r.set($,{pos:new Me(ie.midpoint.x,ie.midpoint.y),shape:new $0(new Me(ie.midpoint.x,ie.midpoint.y),new M0(Math.max(30,X),Math.max(30,Q)),2),isNode:!1,level:Math.max(D.level,U.level)+1})}d.delete(B),f=!0}}}let x=1/0,b=1/0,w=-1/0,k=-1/0;const E=(L,B)=>{x=Math.min(x,L),b=Math.min(b,B),w=Math.max(w,L),k=Math.max(k,B)};n.nodes.forEach(L=>{E(L.left-pa,L.top-pa),E(L.left+pa,L.top+pa)}),s.forEach(L=>{E(L.midpoint.x,L.midpoint.y)});const z=40,R=`${x-z} ${b-z} ${w-x+2*z} ${k-b+2*z}`;return{nodes:n.nodes,arrows:s,masks:u,viewBox:R,error:null}}catch(e){return console.error("Error computing diagram:",e),{nodes:[],arrows:[],masks:[],viewBox:"0 0 100 100",error:e.message}}}function S_(t){return t.from===t.to?{...t,radius:-(t.radius??40),angle:Y0((t.angle??0)+180),label_alignment:t.label_alignment==="left"?"right":t.label_alignment==="right"?"left":t.label_alignment}:{...t,from:t.to,to:t.from}}function w_(t){return t.from===t.to?{...t,angle:Y0((t.angle??0)+180),label_alignment:t.label_alignment==="left"?"right":t.label_alignment==="right"?"left":t.label_alignment}:{...t,curve:t.curve?-t.curve:void 0,shift:t.shift?-t.shift:void 0,angle:t.angle?Y0(-t.angle):void 0,label_alignment:t.label_alignment==="left"?"right":t.label_alignment==="right"?"left":t.label_alignment}}function T_(t=[],e){const n=new Set(e),r=[...e],o=new Set(e);for(;r.length>0;){const s=r.pop();t.forEach(u=>{const d=u.name||u.uniqueId;if(d&&(u.from===s||u.to===s)){o.has(d)||(o.add(d),n.add(d),r.push(d));const f=u.from===s?u.to:u.from;o.has(f)||(o.add(f),n.add(f),r.push(f))}})}return n}function __(t,e,n){const r=t.filter(g=>e.has(g.name));if(r.length===0)return t;const o=Math.min(...r.map(g=>g.left)),s=Math.max(...r.map(g=>g.left)),u=Math.min(...r.map(g=>g.top)),d=Math.max(...r.map(g=>g.top)),f=new Me((o+s)/2,(u+d)/2),h=n*Math.PI/180;return t.map(g=>{if(!e.has(g.name))return g;const x=new Me(g.left,g.top).sub(f).rotate(h).add(f);return{...g,left:Math.round(x.x),top:Math.round(x.y)}})}function o4(t,e,n){const r=t.filter(h=>e.has(h.name));if(r.length===0)return t;const o=Math.min(...r.map(h=>h.left)),s=Math.max(...r.map(h=>h.left)),u=Math.min(...r.map(h=>h.top)),d=Math.max(...r.map(h=>h.top)),f=new Me((o+s)/2,(u+d)/2);return t.map(h=>{if(!e.has(h.name))return h;let g=h.left,x=h.top;return n==="horizontal"?g=f.x-(h.left-f.x):x=f.y-(h.top-f.y),{...h,left:Math.round(g),top:Math.round(x)}})}var s4={exports:{}},Es={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4;function A_(){if(l4)return Es;l4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,s){var u=null;if(s!==void 0&&(u=""+s),o.key!==void 0&&(u=""+o.key),"key"in o){s={};for(var d in o)d!=="key"&&(s[d]=o[d])}else s=o;return o=s.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:s}}return Es.Fragment=e,Es.jsx=n,Es.jsxs=n,Es}var u4;function E_(){return u4||(u4=1,s4.exports=A_()),s4.exports}var un=E_();const c4=16,d4="#333333";function f4({label:t,color:e,textProps:n,isNodeLabel:r=!1}){if(typeof t!="string"||t.trim()==="")return null;const o=t.includes("$"),s={...n,fontWeight:r?"bold":"normal",fontSize:c4,fill:e||d4};if(!o)return un.jsx("text",{...s,children:t});const u=t.replace(/\$/g,""),d=y3.renderToString(u,{throwOnError:!1,displayMode:!1}),f=150,h=50,g=(typeof s.x=="number"?s.x:0)-f/2,x=(typeof s.y=="number"?s.y:0)-h/2;return un.jsx("foreignObject",{x:g,y:x,width:f,height:h,style:{overflow:"visible"},children:un.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:`${c4}px`,fontWeight:r?"bold":"normal",color:e||d4,textAlign:"center"},children:[un.jsx("style",{children:".katex{line-height:1.2;}.katex-mathml{display:none;}"}),un.jsx("div",{dangerouslySetInnerHTML:{__html:d}})]})})}function W3({diagram:t}){return t?un.jsxs("g",{children:[un.jsx("defs",{children:t.masks&&t.masks.map(e=>un.jsx("mask",{id:e.id,maskUnits:"userSpaceOnUse",x:"-10000",y:"-10000",width:"20000",height:"20000",children:e.paths.map((n,r)=>un.jsx("path",{...n},r))},e.id))}),t.arrows.map(e=>un.jsxs("g",{className:"arrow-visual",children:[e.paths.map((n,r)=>un.jsx("path",{...n},r)),e.label.text&&un.jsx(f4,{label:e.label.text,color:e.label.color,textProps:e.label.props}),e.heads.map((n,r)=>un.jsx("path",{...n.props},`h-${r}`)),e.tail.map((n,r)=>un.jsx("path",{...n.props},`t-${r}`))]},e.key)),t.nodes.map(e=>un.jsx("g",{transform:`translate(${e.left}, ${e.top})`,children:un.jsx(f4,{label:e.label,color:e.color,textProps:{x:0,y:0,textAnchor:"middle",dominantBaseline:"middle"},isNodeLabel:!0})},e.name))]}):null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),h4=t=>{const e=k_(t);return e.charAt(0).toUpperCase()+e.slice(1)},Q3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),z_=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=we.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:u,...d},f)=>we.createElement("svg",{ref:f,...M_,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Q3("lucide",o),...!s&&!z_(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,g])=>we.createElement(h,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const n=we.forwardRef(({className:r,...o},s)=>we.createElement(N_,{ref:s,iconNode:e,className:Q3(`lucide-${C_(h4(t))}`,`lucide-${t}`,r),...o}));return n.displayName=h4(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],I_=it("arrow-right",R_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],L_=it("book-open",D_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Lf=it("bot",U_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J0=it("check",O_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],B_=it("chevron-down",P_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],m4=it("chevron-left",H_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],G_=it("circle-alert",q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],F_=it("circle-check-big",V_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mh=it("copy",$_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],J_=it("download",Y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],K_=it("eye-off",X_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W_=it("eye",Z_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],j_=it("file-code",Q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],df=it("file-text",eA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],nA=it("folder-open",tA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],iA=it("grid-3x3",rA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],oA=it("image",aA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lA=it("info",sA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],cA=it("link",uA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],fA=it("mouse-pointer-2",dA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],p4=it("panel-left",hA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],X0=it("panel-right",mA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gA=it("pen",pA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],j3=it("plus",vA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],xA=it("printer",yA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],SA=it("redo",bA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nh=it("save",wA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_A=it("send",TA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EA=it("settings",AA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],g4=it("share-2",CA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zA=it("sparkles",kA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],e5=it("trash-2",MA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],RA=it("undo",NA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],DA=it("user",IA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wa=it("x",LA);function Uf(t){const e=["name","label","from","to","left","top","curve","shift","label_alignment","level","style","body","head","tail"],n=Object.entries(t).filter(([,o])=>o!==void 0);return n.sort(([o],[s])=>{const u=e.indexOf(o),d=e.indexOf(s);return u===-1&&d===-1?o.localeCompare(s):u===-1?1:d===-1?-1:u-d}),`{ ${n.map(([o,s])=>typeof s=="object"&&s!==null&&!Array.isArray(s)?`"${o}": ${Uf(s)}`:`"${o}": ${JSON.stringify(s)}`).join(", ")} }`}function Fn(t){if(!t)return"{}";const e=t.version||1;if((!t.nodes||t.nodes.length===0)&&(!t.arrows||t.arrows.length===0))return JSON.stringify({...t,version:e},null,2);const n=(t.nodes||[]).map(s=>`    ${Uf(s)}`).join(`,
`),r=(t.arrows||[]).map(s=>`    ${Uf(s)}`).join(`,
`),o=[];return o.push(`  "version": ${e}`),t.nodes&&t.nodes.length>0&&o.push(`  "nodes": [
${n}
  ]`),t.arrows&&t.arrows.length>0&&o.push(`  "arrows": [
${r}
  ]`),`{
${o.join(`,
`)}
}`}const v4=t=>{let e;const n=new Set,r=(h,g)=>{const x=typeof h=="function"?h(e):h;if(!Object.is(x,e)){const b=e;e=g??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(w=>w(e,b))}},o=()=>e,d={setState:r,getState:o,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=e=t(r,o,d);return d},t5=t=>t?v4(t):v4,UA=t=>t;function n5(t,e=UA){const n=_r.useSyncExternalStore(t.subscribe,_r.useCallback(()=>e(t.getState()),[t,e]),_r.useCallback(()=>e(t.getInitialState()),[t,e]));return _r.useDebugValue(n),n}const OA=t=>{const e=t5(t),n=r=>n5(e,r);return Object.assign(n,e),n},r5=t=>OA;var y4=(t,e,n)=>(o,s)=>({pastStates:(n==null?void 0:n.pastStates)||[],futureStates:(n==null?void 0:n.futureStates)||[],undo:(u=1)=>{var d,f;if(s().pastStates.length){const h=((d=n==null?void 0:n.partialize)==null?void 0:d.call(n,e()))||e(),g=s().pastStates.splice(-u,u),x=g.shift();t(x),o({pastStates:s().pastStates,futureStates:s().futureStates.concat(((f=n==null?void 0:n.diff)==null?void 0:f.call(n,h,x))||h,g.reverse())})}},redo:(u=1)=>{var d,f;if(s().futureStates.length){const h=((d=n==null?void 0:n.partialize)==null?void 0:d.call(n,e()))||e(),g=s().futureStates.splice(-u,u),x=g.shift();t(x),o({pastStates:s().pastStates.concat(((f=n==null?void 0:n.diff)==null?void 0:f.call(n,h,x))||h,g.reverse()),futureStates:s().futureStates})}},clear:()=>o({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>o({isTracking:!1}),resume:()=>o({isTracking:!0}),setOnSave:u=>o({_onSave:u}),_onSave:n==null?void 0:n.onSave,_handleSet:(u,d,f,h)=>{var g,x;n!=null&&n.limit&&s().pastStates.length>=(n==null?void 0:n.limit)&&s().pastStates.shift(),(x=(g=s())._onSave)==null||x.call(g,u,f),o({pastStates:s().pastStates.concat(h||u),futureStates:[]})}}),PA=(t,e)=>(r,o,s)=>{var h,g;s.temporal=t5(((h=e==null?void 0:e.wrapTemporal)==null?void 0:h.call(e,y4(r,o,e)))||y4(r,o,e));const u=((g=e==null?void 0:e.handleSet)==null?void 0:g.call(e,s.temporal.getState()._handleSet))||s.temporal.getState()._handleSet,d=x=>{var k,E,z;if(!s.temporal.getState().isTracking)return;const b=((k=e==null?void 0:e.partialize)==null?void 0:k.call(e,o()))||o(),w=(E=e==null?void 0:e.diff)==null?void 0:E.call(e,x,b);w===null||(z=e==null?void 0:e.equality)!=null&&z.call(e,x,b)||u(x,void 0,b,w)},f=s.setState;return s.setState=(...x)=>{var w;const b=((w=e==null?void 0:e.partialize)==null?void 0:w.call(e,o()))||o();f(...x),d(b)},t((...x)=>{var w;const b=((w=e==null?void 0:e.partialize)==null?void 0:w.call(e,o()))||o();r(...x),d(b)},o,s)};const BA=JSON.stringify({version:1,nodes:[{name:"A",left:150,top:150,label:"A"},{name:"B",left:450,top:150,label:"B"}],arrows:[{name:"f",from:"A",to:"B",label:"f"}]},null,2),vt=r5()(PA((t,e)=>({spec:BA,filename:"Untitled Diagram",selectedIds:new Set,setSpec:n=>t({spec:n}),setFilename:n=>t({filename:n}),setSelection:n=>t({selectedIds:n}),toggleSelection:n=>{const{selectedIds:r}=e(),o=new Set(r);o.has(n)?o.delete(n):o.add(n),t({selectedIds:o})},deleteSelection:()=>{const{selectedIds:n,spec:r}=e();if(n.size!==0)try{const o=JSON.parse(r),s=(o.nodes||[]).filter(d=>!n.has(d.name)),u=(o.arrows||[]).filter(d=>!(d.name&&n.has(d.name)||n.has(d.from)||n.has(d.to)));t({spec:Fn({nodes:s,arrows:u}),selectedIds:new Set})}catch(o){console.error("Failed to delete items:",o)}},reset:()=>t({spec:JSON.stringify({version:1,nodes:[],arrows:[]},null,2),filename:"Untitled Diagram",selectedIds:new Set}),createNew:()=>{t({spec:JSON.stringify({version:1,nodes:[],arrows:[]},null,2),filename:"Untitled Diagram",selectedIds:new Set}),vt.temporal.getState().clear()}}),{limit:100,partialize:t=>({spec:t.spec})})),Xt=40,Di=25,x4=6;function HA(t,e,n,r,o,s,u){const[d,f]=we.useState({mode:"idle"}),h=vt(D=>D.selectedIds),g=vt(D=>D.setSelection),x=vt(D=>D.toggleSelection),b=vt(D=>D.deleteSelection);we.useEffect(()=>{const D=U=>{const $=document.activeElement,I=$==null?void 0:$.tagName.toLowerCase();if(!(I==="input"||I==="textarea"||$!=null&&$.isContentEditable)){if((U.key==="Delete"||U.key==="Backspace")&&b(),(U.ctrlKey||U.metaKey)&&U.key==="z"&&(U.shiftKey?vt.temporal.getState().redo():vt.temporal.getState().undo(),U.preventDefault()),(U.ctrlKey||U.metaKey)&&U.key==="y"&&(vt.temporal.getState().redo(),U.preventDefault()),(U.ctrlKey||U.metaKey)&&U.key==="a"){U.preventDefault();const F=new Set([...r.map(Z=>Z.name),...o.map(Z=>Z.key)]);g(F)}(U.ctrlKey||U.metaKey)&&U.key==="s"&&(U.preventDefault(),window.dispatchEvent(new CustomEvent("arrowgram:save")))}};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[b,r,o,g]);const w=we.useCallback(D=>{const U=t.current;if(!U)return{x:0,y:0};const $=U.createSVGPoint();$.x=D.clientX,$.y=D.clientY;const I=U.getScreenCTM();return I?$.matrixTransform(I.inverse()):$},[]),k=D=>Math.round(D/Xt)*Xt,E=(D,U)=>{let $=1;for(;U.has(`${D}${$}`);)$++;return`${D}${$}`};return{interaction:d,selectedIds:h,handlers:{onPointerDown:D=>{D.preventDefault();const $=D.target.closest("[data-type]"),I=w(D);if(!$){!D.shiftKey&&!D.metaKey&&!D.ctrlKey&&g(new Set),f({mode:"panning",startPoint:{x:D.clientX,y:D.clientY},initialViewBox:[...e]});return}D.stopPropagation();const O=$,F=O.getAttribute("data-type"),Z=O.getAttribute("data-id");if(F==="handle"){const Y=O.getAttribute("data-arrow-id"),X=O.getAttribute("data-end-type");Y&&X&&f({mode:"reattaching",source:Y,endType:X,endPoint:I});return}if(Z&&(F==="node"||F==="arrow")){if(D.shiftKey||D.metaKey||D.ctrlKey?x(Z):h.has(Z)||g(new Set([Z])),F==="node"){const Y=r.find(X=>X.name===Z);Y&&(D.shiftKey?f({mode:"connecting",source:Z,endPoint:I}):f({mode:"moving",source:Z,startPoint:I,initialPos:{left:Y.left,top:Y.top}}))}else if(F==="arrow"){const Y=u.arrows.find(X=>X.key===Z);if(Y&&D.shiftKey){const X=Y.spec.name;X&&f({mode:"connecting",source:X,endPoint:I})}}}},onPointerMove:D=>{if(d.mode==="idle")return;const U=w(D);if(d.mode==="panning"&&d.startPoint&&d.initialViewBox&&t.current){const $=(D.clientX-d.startPoint.x)*(e[2]/t.current.clientWidth),I=(D.clientY-d.startPoint.y)*(e[3]/t.current.clientHeight);n([d.initialViewBox[0]-$,d.initialViewBox[1]-I,d.initialViewBox[2],d.initialViewBox[3]])}else if(d.mode==="moving"&&d.source&&d.initialPos&&d.startPoint){const $=U.x-d.startPoint.x,I=U.y-d.startPoint.y,O=r.find(ie=>ie.name===d.source);if(!O||!d.initialPos)return;const F=k(d.initialPos.left+$),Z=k(d.initialPos.top+I),Y=F-O.left,X=Z-O.top;if(Y===0&&X===0)return;const Q=r.map(ie=>h.has(ie.name)?{...ie,left:ie.left+Y,top:ie.top+X}:ie),W=o.map(ie=>ie.spec);s(Fn({nodes:Q,arrows:W}))}else if(d.mode==="connecting"||d.mode==="reattaching"){const $=document.elementFromPoint(D.clientX,D.clientY),I=$==null?void 0:$.closest("[data-type]");let O;if(I){const F=I.getAttribute("data-type"),Z=I.getAttribute("data-id");(F==="node"||F==="arrow")&&Z&&(O={type:F,id:Z})}f(F=>({...F,endPoint:U,hoveredTarget:O}))}},onPointerUp:D=>{if(d.mode==="connecting"&&d.source||d.mode==="reattaching"&&d.source){const U=D.target.closest("[data-type]");let $;if(U){const I=U.getAttribute("data-type"),O=U.getAttribute("data-id");if(I==="node")$=O||void 0;else if(I==="arrow"){const F=u.arrows.find(Z=>Z.key===O);$=F==null?void 0:F.spec.name}}if(d.mode==="connecting"){const I=new Set([...r.map(O=>O.name),...o.map(O=>O.spec.name).filter(Boolean)]);if($){const O=$===d.source,F={name:E("arrow",I),from:d.source,to:$,label:"",radius:O?40:void 0,angle:O?-90:void 0},Z=o.map(Y=>Y.spec);s(Fn({nodes:r,arrows:[...Z,F]}))}else if(!$){const O=E("N",I),F=d.endPoint||{x:0,y:0},Z={name:O,label:O,left:k(F.x),top:k(F.y)},Y={name:E("arrow",I),from:d.source,to:O,label:""},X=o.map(Q=>Q.spec);s(Fn({nodes:[...r,Z],arrows:[...X,Y]})),g(new Set([O]))}}else if(d.mode==="reattaching"){let I=$;if(I){const O=o.map(F=>(F.spec.name||F.key)===d.source?{...F.spec,[d.endType]:I}:F.spec);s(Fn({nodes:r,arrows:O}))}else{const O=new Set([...r.map(Q=>Q.name),...o.map(Q=>Q.spec.name).filter(Boolean)]),F=E("N",O),Z=d.endPoint||{x:0,y:0},Y={name:F,label:F,left:k(Z.x),top:k(Z.y)};I=F;const X=o.map(Q=>(Q.spec.name||Q.key)===d.source?{...Q.spec,[d.endType]:I}:Q.spec);s(Fn({nodes:[...r,Y],arrows:X})),g(new Set([F]))}}}f({mode:"idle"})},onDoubleClick:D=>{if(D.target.closest("[data-type]"))return;const $=w(D),I=new Set([...r.map(Y=>Y.name),...o.map(Y=>Y.spec.name).filter(Boolean)]),O=E("N",I),F={name:O,label:O,left:k($.x),top:k($.y)},Z=o.map(Y=>Y.spec);s(Fn({nodes:[...r,F],arrows:Z})),g(new Set([O]))}}}}function i5(){const t=vt(I=>I.spec),e=vt(I=>I.setSpec),n=vt(I=>I.selectedIds),r=vt(I=>I.setSelection),o=we.useRef(null),[s,u]=we.useState([0,0,1e3,600]),[d,f]=we.useState(!0),h=we.useCallback(I=>e(I),[e]),{nodes:g,arrows:x,diagram:b}=we.useMemo(()=>{try{const I=Bs(t);return{nodes:I.nodes,arrows:I.arrows,diagram:I}}catch{return{nodes:[],arrows:[],diagram:{arrows:[],nodes:[],viewBox:"0 0 100 100",error:null}}}},[t]),{interaction:w,handlers:k}=HA(o,s,u,g,x,h,b),E=w.mode==="panning"?"grabbing":w.mode==="connecting"||w.mode==="reattaching"?"crosshair":"default",R=(()=>{if(!w.source)return null;if(w.mode==="connecting"){const I=g.find(F=>F.name===w.source);if(I)return{x:I.left,y:I.top};const O=b.arrows.find(F=>F.spec.name===w.source);if(O)return O.midpoint}else if(w.mode==="reattaching"){const I=b.arrows.find(O=>O.key===w.source);if(I)return w.endType==="from"?I.targetPoint:I.sourcePoint}return null})(),L=we.useCallback((I,O)=>{const[F,Z,Y,X]=s,Q=Y*I,W=X*I;if(Q<10||Q>2e4)return;const ie=O||{x:F+Y/2,y:Z+X/2},G=ie.x-(ie.x-F)*I,le=ie.y-(ie.y-Z)*I;u([G,le,Q,W])},[s]),B=we.useCallback(I=>{if(I.ctrlKey||I.metaKey){I.preventDefault();const O=I.deltaY>0?1.1:.9,F=o.current;if(!F)return;const Z=F.createSVGPoint();Z.x=I.clientX,Z.y=I.clientY;const Y=F.getScreenCTM();if(Y){const X=Z.matrixTransform(Y.inverse());L(O,X)}}},[L]),D=we.useCallback(()=>{if(b.viewBox){const I=b.viewBox.split(" ").map(Number);I.length===4&&u(I)}},[b.viewBox]),U=we.useCallback(()=>{if(o.current){const{clientWidth:I,clientHeight:O}=o.current,[F,Z]=[s[0]+s[2]/2,s[1]+s[3]/2];u([F-I/2,Z-O/2,I,O])}},[s]),$=we.useCallback(I=>{if(n.size===0)return;if(I==="selectConnected"){const Y=T_(x.map(X=>X.spec),n);r(Y);return}let O=g,F=x.map(Y=>Y.spec),Z=!1;I==="reverse"?F=F.map(Y=>n.has(Y.name||"")||Y.uniqueId&&n.has(Y.uniqueId)?(Z=!0,S_(Y)):Y):I==="flip"?F=F.map(Y=>n.has(Y.name||"")||Y.uniqueId&&n.has(Y.uniqueId)?(Z=!0,w_(Y)):Y):["rotate","flipH","flipV"].includes(I)&&(I==="rotate"?O=__(g,n,90):I==="flipH"?O=o4(g,n,"horizontal"):I==="flipV"&&(O=o4(g,n,"vertical")),Z=!0),Z&&h(Fn({nodes:O,arrows:F}))},[n,g,x,h,r]);return we.useEffect(()=>{const I=O=>{const F=document.activeElement;(F==null?void 0:F.tagName.toLowerCase())!=="input"&&(O.key==="r"&&$("reverse"),O.key==="e"&&$("flip"),O.key==="g"&&D(),O.key==="0"&&U(),O.key==="h"&&(O.shiftKey?$("flipH"):f(Z=>!Z)),O.key==="v"&&$("flipV"),O.key==="t"&&$("rotate"),O.shiftKey&&O.key==="A"&&$("selectConnected"))};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[$,D,U]),A.jsx("div",{className:"flex bg-gray-50 h-full w-full relative group select-none",style:{cursor:"auto"},children:A.jsxs("div",{className:"flex-1 relative overflow-hidden h-full",children:[A.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 bg-white/90 backdrop-blur rounded-lg border shadow-sm p-1 z-10",children:[A.jsx("button",{onClick:()=>$("reverse"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Reverse Arrow (R)",children:"Rev"}),A.jsx("button",{onClick:()=>$("flip"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Flip Arrow (E)",children:"Flip"}),A.jsx("div",{className:"w-px bg-gray-200 mx-1"}),A.jsx("button",{onClick:()=>$("flipH"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Flip Horizontally (Shift+H)",children:""}),A.jsx("button",{onClick:()=>$("flipV"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Flip Vertically (V)",children:""}),A.jsx("button",{onClick:()=>$("rotate"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Rotate 90 (T)",children:""}),A.jsx("div",{className:"w-px bg-gray-200 mx-1"}),A.jsx("button",{onClick:()=>$("selectConnected"),className:"p-1.5 hover:bg-gray-100 rounded text-gray-700 text-xs font-medium",title:"Select Connected (Shift+A)",children:"Conn"})]}),A.jsxs("svg",{id:"arrowgram-canvas",ref:o,width:"100%",height:"100%",viewBox:s.join(" "),style:{cursor:E,touchAction:"none"},onWheel:B,...k,children:[A.jsx("defs",{children:A.jsx("pattern",{id:"grid",width:Xt,height:Xt,patternUnits:"userSpaceOnUse",children:A.jsx("path",{d:`M ${Xt} 0 L 0 0 0 ${Xt}`,fill:"none",stroke:"rgba(0,0,0,0.05)",strokeWidth:"1"})})}),d&&A.jsx("rect",{x:s[0],y:s[1],width:s[2],height:s[3],fill:"url(#grid)"}),A.jsx(W3,{diagram:b}),(w.mode==="connecting"||w.mode==="reattaching")&&w.endPoint&&(!w.hoveredTarget||w.hoveredTarget.type==="node")&&(()=>{const I=Math.round(w.endPoint.x/Xt)*Xt,O=Math.round(w.endPoint.y/Xt)*Xt,F=g.find(Z=>Math.abs(Z.left-I)<1&&Math.abs(Z.top-O)<1);return A.jsx("g",{style:{pointerEvents:"none"},children:F?A.jsx("rect",{x:F.left-Di-8,y:F.top-Di-8,width:(Di+8)*2,height:(Di+8)*2,fill:"rgba(0, 0, 0, 0.1)",rx:"12"}):A.jsxs("g",{children:[A.jsx("rect",{x:I-Xt/1.5,y:O-Xt/1.5,width:Xt*1.33,height:Xt*1.33,fill:"rgba(0, 0, 0, 0.05)",rx:"8"}),A.jsx("text",{x:I,y:O,textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fontWeight:"500",fill:"rgba(0,0,0,0.4)",style:{userSelect:"none"},children:"Add Node"})]})})})(),g.map(I=>A.jsx("rect",{x:I.left-Di-5,y:I.top-Di-5,width:(Di+5)*2,height:(Di+5)*2,fill:"transparent",stroke:n.has(I.name)?"#9333ea":"transparent",strokeWidth:"2","data-type":"node","data-id":I.name,style:{cursor:"move"}},I.name)),b.arrows.map(I=>{var Y;const O=n.has(I.key),F=((Y=w.hoveredTarget)==null?void 0:Y.type)==="arrow"&&w.hoveredTarget.id===I.key,Z=w.mode==="connecting"&&w.source===I.spec.name;return A.jsxs("g",{"data-type":"arrow","data-id":I.key,style:{cursor:"pointer"},children:[(O||Z||F)&&(I.interactionPath?A.jsx("path",{d:I.interactionPath,fill:"none",stroke:"rgba(0,0,0,0.1)",strokeWidth:"20",strokeLinecap:"round"}):I.paths.map((X,Q)=>A.jsx("path",{d:X.d,fill:"none",stroke:"rgba(0,0,0,0.1)",strokeWidth:"20",strokeLinecap:"round"},`halo-${Q}`))),I.interactionPath?A.jsx("path",{d:I.interactionPath,fill:"none",stroke:"transparent",strokeWidth:"15"}):I.paths.map((X,Q)=>A.jsx("path",{d:X.d,fill:"none",stroke:"transparent",strokeWidth:"15"},Q)),O&&(I.interactionPath?A.jsx("path",{d:I.interactionPath,fill:"none",stroke:"#9333ea",strokeWidth:"1",strokeDasharray:"4 2"}):I.paths.map((X,Q)=>A.jsx("path",{d:X.d,fill:"none",stroke:"#9333ea",strokeWidth:"1",strokeDasharray:"4 2"},`select-${Q}`))),O&&I.sourcePoint&&A.jsx("circle",{cx:I.sourcePoint.x,cy:I.sourcePoint.y,r:x4,fill:"white",stroke:"#9333ea",strokeWidth:"2","data-type":"handle","data-arrow-id":I.key,"data-end-type":"from",style:{cursor:"crosshair"}}),O&&I.targetPoint&&A.jsx("circle",{cx:I.targetPoint.x,cy:I.targetPoint.y,r:x4,fill:"white",stroke:"#9333ea",strokeWidth:"2","data-type":"handle","data-arrow-id":I.key,"data-end-type":"to",style:{cursor:"crosshair"}})]},I.key)}),(w.mode==="connecting"||w.mode==="reattaching")&&R&&w.endPoint&&(()=>{var Q;let I=!1,O={x:w.endPoint.x,y:w.endPoint.y};if(((Q=w.hoveredTarget)==null?void 0:Q.type)==="node"){const W=g.find(ie=>ie.name===w.hoveredTarget.id);if(W&&(O={x:W.left,y:W.top}),w.mode==="connecting")I=w.source===w.hoveredTarget.id;else if(w.mode==="reattaching"){const ie=b.arrows.find(G=>G.key===w.source);ie&&(I=(w.endType==="to"?ie.spec.from:ie.spec.to)===w.hoveredTarget.id)}}else w.hoveredTarget||(O={x:Math.round(O.x/Xt)*Xt,y:Math.round(O.y/Xt)*Xt},Math.sqrt(Math.pow(O.x-R.x,2)+Math.pow(O.y-R.y,2))<Xt&&(I=!0,O=R));const F=[{name:"A",label:"",left:R.x,top:R.y},{name:"B",label:"",left:O.x,top:O.y}],X=Bs({nodes:F,arrows:[{from:"A",to:I?"A":"B",label:"",radius:I?40:void 0,angle:I?-90:void 0}]}).arrows[0];return X?A.jsxs("g",{style:{pointerEvents:"none",opacity:.6},children:[X.paths.map((W,ie)=>A.jsx("path",{d:W.d,fill:"none",stroke:"#9333ea",strokeWidth:"2",strokeDasharray:"5 5"},ie)),X.heads.map((W,ie)=>A.jsx("path",{d:W.props.d,fill:"none",stroke:"#9333ea",strokeWidth:"2"},`h-${ie}`))]}):null})()]}),A.jsx("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur px-3 py-2 rounded-lg border shadow-sm text-xs text-gray-500 pointer-events-none select-none",children:"Double-click: Add Node  Drag: Move  Shift+Drag: Connect  Ctrl+Scroll: Zoom  H: Grid  R: Reverse  E: Flip"}),A.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 bg-white/90 backdrop-blur rounded-lg border shadow-sm p-1",children:[A.jsx("button",{onClick:()=>L(.9),className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 font-bold w-8 h-8 flex items-center justify-center",title:"Zoom In",children:"+"}),A.jsx("button",{onClick:()=>L(1.1),className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 font-bold w-8 h-8 flex items-center justify-center",title:"Zoom Out",children:"-"}),A.jsx("div",{className:"h-px bg-gray-200 mx-1"}),A.jsx("button",{onClick:()=>f(!d),className:`p-1.5 hover:bg-gray-100 rounded text-gray-600 w-8 h-8 flex items-center justify-center ${d?"":"bg-gray-100 text-gray-900"}`,title:"Toggle Grid (H)",children:A.jsx(iA,{size:16})}),A.jsx("button",{onClick:D,className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 text-xs font-medium w-8 h-8 flex items-center justify-center",title:"Fit View (G)",children:"Fit"}),A.jsx("button",{onClick:U,className:"p-1.5 hover:bg-gray-100 rounded text-gray-600 text-xs font-medium w-8 h-8 flex items-center justify-center",title:"Reset Zoom (0)",children:"1:1"})]})]})})}const qA="modulepreload",GA=function(t){return"/arrowgram/"+t},b4={},zn=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=u(n.map(h=>{if(h=GA(h),h in b4)return;b4[h]=!0;const g=h.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":qA,g||(b.as="script"),b.crossOrigin="",b.href=h,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((w,k)=>{b.addEventListener("load",w),b.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};function Of({spec:t,className:e,onEdit:n}){const{diagram:r,error:o}=we.useMemo(()=>{try{return{diagram:Bs(t),error:null}}catch(s){return{diagram:null,error:s.message||"Unknown error"}}},[t]);return o?A.jsxs("div",{className:`p-4 border border-red-200 bg-red-50 text-red-600 rounded text-sm font-mono whitespace-pre-wrap ${e}`,children:["Failed to render diagram: ",o]}):r?A.jsxs("div",{className:`relative group inline-block ${e}`,children:[A.jsx("div",{className:"arrowgram-container",children:A.jsx("svg",{viewBox:r.viewBox,className:"w-full h-auto max-w-full",style:{minWidth:"200px",minHeight:"100px"},children:A.jsx(W3,{diagram:r})})}),n&&A.jsx("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:A.jsxs("button",{onClick:s=>{s.stopPropagation(),console.log("Edit button clicked"),n()},className:"pointer-events-auto bg-white/90 hover:bg-white text-gray-800 shadow-lg border border-gray-200 px-4 py-2 rounded-full font-medium text-sm flex items-center gap-2 transform translate-y-2 group-hover:translate-y-0 transition-all",children:[A.jsx(gA,{size:16}),"Edit Visual"]})})]}):null}const VA=t=>{const e={"header-left":"@top-left","header-center":"@top-center","header-right":"@top-right","footer-left":"@bottom-left","footer-center":"@bottom-center","footer-right":"@bottom-right"},n=o=>{const s={"[pageNumber]":"counter(page)","[totalPages]":"counter(pages)","[title]":`"${t.title||""}"`,"[authors]":`"${t.authors||""}"`},u=o.split(/(\[pageNumber\]|\[totalPages\]|\[title\]|\[authors\])/g).filter(d=>d);return u.length===0?'""':u.map(d=>s[d]||`"${d.replace(/"/g,'\\"')}"`).join(" ")};let r="";for(const[o,s]of Object.entries(e))if(t[o]){const u=n(t[o]);r+=`${s} { content: ${u}; } `}return r?`@page { ${r} }`:""},FA=({markdown:t,isTwoColumn:e,onEditDiagram:n})=>{const r=we.useRef(null),o=we.useRef(null);return we.useEffect(()=>{let s=!0;const u=Date.now();r.current._latestRenderId=u;const d=[];return(async()=>{var xe,Te;if(!r.current)return;const[h,g,x,b,w,k,E]=await Promise.all([zn(()=>import("./server.browser-bndS9_XB.js").then(ce=>ce.s),[]),zn(()=>import("./showdown-D6HrOiNK.js").then(ce=>ce.s),[]),zn(()=>import("./mermaid.core-CbBXC6xm.js").then(ce=>ce.b7),__vite__mapDeps([0,1])),zn(()=>Promise.resolve().then(()=>x3),void 0),zn(()=>import("./vega.module-DlPeonZJ.js"),__vite__mapDeps([2,3,1,4,5,6,7,8,9,10,11])),zn(()=>import("./index-ByJ9Ii8b.js"),__vite__mapDeps([12,2,3,1,4,5,6,7,8,9,10,11])),zn(()=>import("./index-XUjCaNRt.js"),[])]),z=g.default??g,R=x.default??x,L=b.default??b,B=E.Previewer??((xe=E.default)==null?void 0:xe.Previewer);let D=t;const U=/<div class="vega-lite"([^>]*)>([\s\S]*?)<\/div>/g,$=Array.from(D.matchAll(U)),I=await Promise.all($.map(async ce=>{if(!s)return{original:"",replacement:""};try{const ke=JSON.parse(ce[2].trim()),Ie=k.compile(ke).spec,We=await new w.View(w.parse(Ie),{renderer:"svg"}).toSVG();return{original:ce[0],replacement:`<div class="vega-container"${ce[1]}>${We}</div>`}}catch(ke){return{original:ce[0],replacement:`<div class="vega-error">Chart Error: ${ke.message}</div>`}}}));if(!s||r.current._latestRenderId!==u)return;for(const ce of I)ce.original&&(D=D.replace(ce.original,ce.replacement));R.initialize({startOnLoad:!1,theme:"base"});const O=/<div class="mermaid"([^>]*)>([\s\S]*?)<\/div>/g,F=Array.from(D.matchAll(O)),Z=await Promise.all(F.map(async(ce,ke)=>{if(!s)return{original:"",replacement:""};try{const{svg:Ie}=await R.render(`mermaid-svg-${Date.now()}-${ke}`,ce[2].trim());return{original:ce[0],replacement:`<div class="mermaid-container"${ce[1]}>${Ie}</div>`}}catch{return{original:ce[0],replacement:'<div class="mermaid-error">Diagram Error</div>'}}}));if(!s||r.current._latestRenderId!==u)return;for(const ce of Z)ce.original&&(D=D.replace(ce.original,ce.replacement));const Y=/<div class="arrowgram"([^>]*)>([\s\S]*?)<\/div>/g,X=[];let Q=0;D=D.replace(Y,(ce,ke,Ie)=>{const $e=`arrowgram-hydrate-${Date.now()}-${Q++}`,We=Ie.trim();X.push({id:$e,spec:We});try{const Qe=h.renderToStaticMarkup(A.jsx(Of,{spec:We}));return`<div id="${$e}" class="arrowgram-hydrate-target">${Qe}</div>`}catch(Qe){return console.error("Static Render Error:",Qe),`<div id="${$e}" class="arrowgram-hydrate-target" style="min-height: 100px; border: 1px solid red;">Error rendering diagram</div>`}});const W=new Map;let ie=0;const G=ce=>{const ke=`AGPROTMATH${ie++}AGPROT`;return W.set(ke,ce),ke};D=D.replace(/\$\$[\s\S]+?\$\$/g,G),D=D.replace(/\$(?!\$)(?:\\.|[^$\\\n])+\$/g,G);const le=new z.Converter({metadata:!0,noHeaderId:!0,literalMidWordUnderscores:!0});let re=le.makeHtml(D);const Ee=le.getMetadata(),Le=VA(Ee);for(const[ce,ke]of W.entries())re=re.split(ce).join(ke);const q=new Map;re=re.replace(/<(pre|code)[^>]*>[\s\S]*?<\/\1>/g,ce=>{const ke=`%%PROTECTED_BLOCK_${q.size}%%`;return q.set(ke,ce),ke}),re=re.replace(/\$\$([\s\S]+?)\$\$/g,(ce,ke)=>{const Ie=ke.trim().replace(/\\\\([A-Za-z_])/g,"\\$1").replace(/\\\\([,;:.!])/g,"\\$1");try{return`<span class="katex-display">${L.renderToString(Ie,{displayMode:!0,throwOnError:!1})}</span>`}catch($e){return`<span class="katex-error">${$e.message}</span>`}}),re=re.replace(/\$([^$]+?)\$/g,(ce,ke)=>{const Ie=ke.trim().replace(/\\\\([A-Za-z_])/g,"\\$1").replace(/\\\\([,;:.!])/g,"\\$1");try{return L.renderToString(Ie,{displayMode:!1,throwOnError:!1})}catch($e){return`<span class="katex-error">${$e.message}</span>`}});for(const[ce,ke]of q.entries())re=re.replace(ce,ke);const ne=`<div class="title-block">${Ee.title?`<div class="title">${Ee.title}</div>`:""}${Ee.authors?`<div class="authors">${Ee.authors}</div>`:""}</div>`,te=`<div class="${e?"layout-two-column":"layout-single-column"}">${ne}<div class="paper-body">${re}</div></div>`;if(r.current){if(!s||r.current._latestRenderId!==u)return;r.current.innerHTML="";const ce=[];if(Le){const We=`data:text/css;base64,${btoa(unescape(encodeURIComponent(Le)))}`;ce.push(We)}const ke=((Te=document.querySelector('link[href*="katex"]'))==null?void 0:Te.getAttribute("href"))||"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css";ce.push(ke);const Ie=new B;o.current=Ie,Ie.preview(te,ce,r.current).then(()=>{!s||r.current._latestRenderId!==u||X.forEach(({id:$e,spec:We})=>{var St;const Qe=(St=r.current)==null?void 0:St.querySelector(`#${$e}`);if(Qe){const ht=v2.createRoot(Qe);d.push(ht),ht.render(A.jsx(Of,{spec:We,onEdit:()=>n($e,We)}))}})})}})(),()=>{s=!1,d.forEach(h=>h.unmount())}},[t,e,n]),A.jsx("div",{ref:r,className:"preview-content-area"})},a5=we.createContext(void 0);function Ta(){const t=we.useContext(a5);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function $A({children:t}){const[e,n]=we.useState([]),r=we.useCallback((s,u="info",d=3e3)=>{const f=Date.now().toString();n(h=>[...h,{id:f,message:s,type:u,duration:d}]),d>0&&setTimeout(()=>{o(f)},d)},[]),o=we.useCallback(s=>{n(u=>u.filter(d=>d.id!==s))},[]);return A.jsxs(a5.Provider,{value:{addToast:r,removeToast:o},children:[t,A.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(s=>A.jsxs("div",{className:`
              pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border text-sm font-medium transition-all animate-in slide-in-from-bottom-5 fade-in
              ${s.type==="success"?"bg-white border-green-200 text-green-800":""}
              ${s.type==="error"?"bg-white border-red-200 text-red-800":""}
              ${s.type==="info"?"bg-gray-900 text-white border-transparent":""}
            `,children:[s.type==="success"&&A.jsx(F_,{size:18,className:"text-green-500"}),s.type==="error"&&A.jsx(G_,{size:18,className:"text-red-500"}),s.type==="info"&&A.jsx(lA,{size:18,className:"text-gray-400"}),A.jsx("span",{children:s.message}),A.jsx("button",{onClick:()=>o(s.id),className:`ml-2 p-1 rounded-md hover:bg-black/5 transition-colors ${s.type==="info"?"hover:bg-white/20":""}`,children:A.jsx(wa,{size:14,className:"opacity-70"})})]},s.id))})]})}function o5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=o5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function s5(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=o5(t))&&(r&&(r+=" "),r+=e);return r}const YA=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},JA=(t,e)=>({classGroupId:t,validator:e}),l5=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),K0="-",S4=[],XA="arbitrary..",KA=t=>{const e=WA(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return ZA(u);const d=u.split(K0),f=d[0]===""&&d.length>1?1:0;return u5(d,f,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=r[u],h=n[u];return f?h?YA(h,f):f:h||S4}return n[u]||S4}}},u5=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const o=t[e],s=n.nextPart.get(o);if(s){const h=u5(t,e+1,s);if(h)return h}const u=n.validators;if(u===null)return;const d=e===0?t.join(K0):t.slice(e).join(K0),f=u.length;for(let h=0;h<f;h++){const g=u[h];if(g.validator(d))return g.classGroupId}},ZA=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?XA+r:void 0})(),WA=t=>{const{theme:e,classGroups:n}=t;return QA(n,e)},QA=(t,e)=>{const n=l5();for(const r in t){const o=t[r];Rh(o,n,r,e)}return n},Rh=(t,e,n,r)=>{const o=t.length;for(let s=0;s<o;s++){const u=t[s];jA(u,e,n,r)}},jA=(t,e,n,r)=>{if(typeof t=="string"){eE(t,e,n);return}if(typeof t=="function"){tE(t,e,n,r);return}nE(t,e,n,r)},eE=(t,e,n)=>{const r=t===""?e:c5(e,t);r.classGroupId=n},tE=(t,e,n,r)=>{if(rE(t)){Rh(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(JA(n,t))},nE=(t,e,n,r)=>{const o=Object.entries(t),s=o.length;for(let u=0;u<s;u++){const[d,f]=o[u];Rh(f,c5(e,d),n,r)}},c5=(t,e)=>{let n=t;const r=e.split(K0),o=r.length;for(let s=0;s<o;s++){const u=r[s];let d=n.nextPart.get(u);d||(d=l5(),n.nextPart.set(u,d)),n=d}return n},rE=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,iE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const o=(s,u)=>{n[s]=u,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let u=n[s];if(u!==void 0)return u;if((u=r[s])!==void 0)return o(s,u),u},set(s,u){s in n?n[s]=u:o(s,u)}}},Pf="!",w4=":",aE=[],T4=(t,e,n,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),oE=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const s=[];let u=0,d=0,f=0,h;const g=o.length;for(let E=0;E<g;E++){const z=o[E];if(u===0&&d===0){if(z===w4){s.push(o.slice(f,E)),f=E+1;continue}if(z==="/"){h=E;continue}}z==="["?u++:z==="]"?u--:z==="("?d++:z===")"&&d--}const x=s.length===0?o:o.slice(f);let b=x,w=!1;x.endsWith(Pf)?(b=x.slice(0,-1),w=!0):x.startsWith(Pf)&&(b=x.slice(1),w=!0);const k=h&&h>f?h-f:void 0;return T4(s,w,b,k)};if(e){const o=e+w4,s=r;r=u=>u.startsWith(o)?s(u.slice(o.length)):T4(aE,!1,u,void 0,!0)}if(n){const o=r;r=s=>n({className:s,parseClassName:o})}return r},sE=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let s=0;s<n.length;s++){const u=n[s],d=u[0]==="[",f=e.has(u);d||f?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(u)):o.push(u)}return o.length>0&&(o.sort(),r.push(...o)),r}},lE=t=>({cache:iE(t.cacheSize),parseClassName:oE(t),sortModifiers:sE(t),...KA(t)}),uE=/\s+/,cE=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=e,u=[],d=t.trim().split(uE);let f="";for(let h=d.length-1;h>=0;h-=1){const g=d[h],{isExternal:x,modifiers:b,hasImportantModifier:w,baseClassName:k,maybePostfixModifierPosition:E}=n(g);if(x){f=g+(f.length>0?" "+f:f);continue}let z=!!E,R=r(z?k.substring(0,E):k);if(!R){if(!z){f=g+(f.length>0?" "+f:f);continue}if(R=r(k),!R){f=g+(f.length>0?" "+f:f);continue}z=!1}const L=b.length===0?"":b.length===1?b[0]:s(b).join(":"),B=w?L+Pf:L,D=B+R;if(u.indexOf(D)>-1)continue;u.push(D);const U=o(R,z);for(let $=0;$<U.length;++$){const I=U[$];u.push(B+I)}f=g+(f.length>0?" "+f:f)}return f},dE=(...t)=>{let e=0,n,r,o="";for(;e<t.length;)(n=t[e++])&&(r=d5(n))&&(o&&(o+=" "),o+=r);return o},d5=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=d5(t[r]))&&(n&&(n+=" "),n+=e);return n},fE=(t,...e)=>{let n,r,o,s;const u=f=>{const h=e.reduce((g,x)=>x(g),t());return n=lE(h),r=n.cache.get,o=n.cache.set,s=d,d(f)},d=f=>{const h=r(f);if(h)return h;const g=cE(f,n);return o(f,g),g};return s=u,(...f)=>s(dE(...f))},hE=[],Jt=t=>{const e=n=>n[t]||hE;return e.isThemeGetter=!0,e},f5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,h5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mE=/^\d+\/\d+$/,pE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,co=t=>mE.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),Li=t=>!!t&&Number.isInteger(Number(t)),ff=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),Kr=t=>pE.test(t),bE=()=>!0,SE=t=>gE.test(t)&&!vE.test(t),m5=()=>!1,wE=t=>yE.test(t),TE=t=>xE.test(t),_E=t=>!Ne(t)&&!Re(t),AE=t=>Ao(t,v5,m5),Ne=t=>f5.test(t),ga=t=>Ao(t,y5,SE),hf=t=>Ao(t,ME,Ze),_4=t=>Ao(t,p5,m5),EE=t=>Ao(t,g5,TE),S0=t=>Ao(t,x5,wE),Re=t=>h5.test(t),Cs=t=>Eo(t,y5),CE=t=>Eo(t,NE),A4=t=>Eo(t,p5),kE=t=>Eo(t,v5),zE=t=>Eo(t,g5),w0=t=>Eo(t,x5,!0),Ao=(t,e,n)=>{const r=f5.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Eo=(t,e,n=!1)=>{const r=h5.exec(t);return r?r[1]?e(r[1]):n:!1},p5=t=>t==="position"||t==="percentage",g5=t=>t==="image"||t==="url",v5=t=>t==="length"||t==="size"||t==="bg-size",y5=t=>t==="length",ME=t=>t==="number",NE=t=>t==="family-name",x5=t=>t==="shadow",RE=()=>{const t=Jt("color"),e=Jt("font"),n=Jt("text"),r=Jt("font-weight"),o=Jt("tracking"),s=Jt("leading"),u=Jt("breakpoint"),d=Jt("container"),f=Jt("spacing"),h=Jt("radius"),g=Jt("shadow"),x=Jt("inset-shadow"),b=Jt("text-shadow"),w=Jt("drop-shadow"),k=Jt("blur"),E=Jt("perspective"),z=Jt("aspect"),R=Jt("ease"),L=Jt("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...D(),Re,Ne],$=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],O=()=>[Re,Ne,f],F=()=>[co,"full","auto",...O()],Z=()=>[Li,"none","subgrid",Re,Ne],Y=()=>["auto",{span:["full",Li,Re,Ne]},Li,Re,Ne],X=()=>[Li,"auto",Re,Ne],Q=()=>["auto","min","max","fr",Re,Ne],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...O()],le=()=>[co,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],re=()=>[t,Re,Ne],Ee=()=>[...D(),A4,_4,{position:[Re,Ne]}],Le=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",kE,AE,{size:[Re,Ne]}],ne=()=>[ff,Cs,ga],ee=()=>["","none","full",h,Re,Ne],te=()=>["",Ze,Cs,ga],xe=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Ze,ff,A4,_4],ke=()=>["","none",k,Re,Ne],Ie=()=>["none",Ze,Re,Ne],$e=()=>["none",Ze,Re,Ne],We=()=>[Ze,Re,Ne],Qe=()=>[co,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Kr],breakpoint:[Kr],color:[bE],container:[Kr],"drop-shadow":[Kr],ease:["in","out","in-out"],font:[_E],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Kr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Kr],shadow:[Kr],spacing:["px",Ze],text:[Kr],"text-shadow":[Kr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",co,Ne,Re,z]}],container:["container"],columns:[{columns:[Ze,Ne,Re,d]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Li,"auto",Re,Ne]}],basis:[{basis:[co,"full","auto",d,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,co,"auto","initial","none",Ne]}],grow:[{grow:["",Ze,Re,Ne]}],shrink:[{shrink:["",Ze,Re,Ne]}],order:[{order:[Li,"first","last","none",Re,Ne]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[d,"screen",...le()]}],"min-w":[{"min-w":[d,"screen","none",...le()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",n,Cs,ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Re,hf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ff,Ne]}],"font-family":[{font:[CE,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Re,Ne]}],"line-clamp":[{"line-clamp":[Ze,"none",Re,hf]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Re,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Re,ga]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[Ze,"auto",Re,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:Le()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Li,Re,Ne],radial:["",Re,Ne],conic:[Li,Re,Ne]},zE,EE]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Re,Ne]}],"outline-w":[{outline:["",Ze,Cs,ga]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",g,w0,S0]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",x,w0,S0]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[Ze,ga]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",b,w0,S0]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[Ze,Re,Ne]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[Re,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:Le()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Ne]}],filter:[{filter:["","none",Re,Ne]}],blur:[{blur:ke()}],brightness:[{brightness:[Ze,Re,Ne]}],contrast:[{contrast:[Ze,Re,Ne]}],"drop-shadow":[{"drop-shadow":["","none",w,w0,S0]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",Ze,Re,Ne]}],"hue-rotate":[{"hue-rotate":[Ze,Re,Ne]}],invert:[{invert:["",Ze,Re,Ne]}],saturate:[{saturate:[Ze,Re,Ne]}],sepia:[{sepia:["",Ze,Re,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Ne]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Re,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Re,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Re,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Re,Ne]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Re,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Re,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Re,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Re,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Re,Ne]}],ease:[{ease:["linear","initial",R,Re,Ne]}],delay:[{delay:[Ze,Re,Ne]}],animate:[{animate:["none",L,Re,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Re,Ne]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:$e()}],"scale-x":[{"scale-x":$e()}],"scale-y":[{"scale-y":$e()}],"scale-z":[{"scale-z":$e()}],"scale-3d":["scale-3d"],skew:[{skew:We()}],"skew-x":[{"skew-x":We()}],"skew-y":[{"skew-y":We()}],transform:[{transform:[Re,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Ne]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[Ze,Cs,ga,hf]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},IE=fE(RE);function gu(...t){return IE(s5(t))}const Kt=we.forwardRef(({className:t,type:e,...n},r)=>A.jsx("input",{type:e,className:gu("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Kt.displayName="Input";const fo=we.forwardRef(({className:t,children:e,...n},r)=>A.jsxs("div",{className:"relative",children:[A.jsx("select",{className:gu("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none",t),ref:r,...n,children:e}),A.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:A.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:A.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}));fo.displayName="Select";const E4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,C4=s5,b5=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return C4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=e,u=Object.keys(o).map(h=>{const g=n==null?void 0:n[h],x=s==null?void 0:s[h];if(g===null)return null;const b=E4(g)||E4(x);return o[h][b]}),d=n&&Object.entries(n).reduce((h,g)=>{let[x,b]=g;return b===void 0||(h[x]=b),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:x,className:b,...w}=g;return Object.entries(w).every(k=>{let[E,z]=k;return Array.isArray(z)?z.includes({...s,...d}[E]):{...s,...d}[E]===z})?[...h,x,b]:h},[]);return C4(t,u,f,n==null?void 0:n.class,n==null?void 0:n.className)},DE=b5("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ut=we.forwardRef(({className:t,...e},n)=>A.jsx("label",{ref:n,className:gu(DE(),t),...e}));Ut.displayName="Label";const LE=b5("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),cn=we.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},s)=>A.jsx("button",{className:gu(LE({variant:e,size:n,className:t})),ref:s,...o}));cn.displayName="Button";function UE({node:t,nodes:e,arrows:n,onSpecChange:r}){const o=s=>{const{name:u,value:d}=s.target,f=e.map(h=>h.name===t.name?{...h,[u]:d}:h);r(Fn({nodes:f,arrows:n}))};return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Label"}),A.jsx(Kt,{type:"text",name:"label",value:t.label||"",onChange:o})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Color"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Kt,{type:"color",name:"color",value:t.color||"#000000",onChange:o,className:"w-12 h-10 p-1"}),A.jsx(Kt,{type:"text",name:"color",value:t.color||"",onChange:o,placeholder:"#000000"})]})]})]})}function OE({arrow:t,nodes:e,arrows:n,onSpecChange:r}){var d,f,h,g,x,b,w,k,E,z,R;const o=L=>{const{name:B,value:D,type:U}=L.target;let $=U==="number"?Number(D):D;B==="angle"&&typeof $=="number"&&!isNaN($)&&($=Y0($));const I=n.map((O,F)=>(O.name||`_arrow_${F}`)===t.key?{...O,[B]:$}:O);r(Fn({nodes:e,arrows:I}))},s=(L,B)=>{const D=n.map((U,$)=>{if((U.name||`_arrow_${$}`)===t.key){const O=U.shorten||{};return{...U,shorten:{...O,[L]:B}}}return U});r(Fn({nodes:e,arrows:D}))},u=(L,B,D)=>{const U=n.map(($,I)=>{if(($.name||`_arrow_${I}`)===t.key){const F={...$.style};if(L==="level")F.level=D;else if(L==="mode")F.mode=D;else if(D!==void 0){const Z=F[L]||{};F[L]={...Z,[B]:D}}else F[L]=B;return{...$,style:F}}return $});r(Fn({nodes:e,arrows:U}))};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Content"}),A.jsx(Kt,{type:"text",name:"label",value:t.label||"",onChange:o,placeholder:"Label text"})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Colors"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx(Ut,{className:"text-xs",children:"Arrow"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Kt,{type:"color",name:"color",value:t.color||"#000000",onChange:o,className:"w-8 h-8 p-0"}),A.jsx(Kt,{type:"text",name:"color",value:t.color||"",onChange:o,placeholder:"Arrow Color"})]})]}),A.jsxs("div",{children:[A.jsx(Ut,{className:"text-xs",children:"Label"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Kt,{type:"color",name:"label_color",value:t.label_color||"#000000",onChange:o,className:"w-8 h-8 p-0"}),A.jsx(Kt,{type:"text",name:"label_color",value:t.label_color||"",onChange:o,placeholder:"Label Color"})]})]})]})]}),A.jsxs("div",{children:[A.jsx("div",{className:"pb-2 border-b border-gray-100 mb-3 font-semibold text-gray-700 text-sm",children:"Label Placement"}),A.jsx("div",{className:"space-y-3",children:A.jsxs("div",{children:[A.jsx(Ut,{children:"Alignment"}),A.jsxs(fo,{name:"label_alignment",value:t.label_alignment||"over",onChange:o,children:[A.jsx("option",{value:"over",children:"Over"}),A.jsx("option",{value:"left",children:"Left"}),A.jsx("option",{value:"right",children:"Right"})]})]})})]}),A.jsxs("div",{children:[A.jsx("div",{className:"pb-2 border-b border-gray-100 mb-3 font-semibold text-gray-700 text-sm",children:"Geometry"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.from===t.to?A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Radius"}),A.jsx(Kt,{type:"number",name:"radius",value:t.radius||0,onChange:o})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Angle"}),A.jsx(Kt,{type:"number",name:"angle",value:t.angle||0,min:-180,max:180,onChange:o})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Curve"}),A.jsx(Kt,{type:"number",name:"curve",value:t.curve||0,onChange:o})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Shift"}),A.jsx(Kt,{type:"number",name:"shift",value:t.shift||0,onChange:o})]})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Shorten Start"}),A.jsx(Kt,{type:"number",value:((d=t.shorten)==null?void 0:d.source)||0,onChange:L=>s("source",L.target.valueAsNumber)})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Shorten End"}),A.jsx(Kt,{type:"number",value:((f=t.shorten)==null?void 0:f.target)||0,onChange:L=>s("target",L.target.valueAsNumber)})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx(Ut,{children:"Level (Parallel)"}),A.jsx(Kt,{type:"number",name:"level",value:((h=t.style)==null?void 0:h.level)||1,min:1,onChange:L=>u("level","level",L.target.valueAsNumber)})]})]})]}),A.jsxs("div",{children:[A.jsx("div",{className:"pb-2 border-b border-gray-100 mb-3 font-semibold text-gray-700 text-sm",children:"Styling"}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Type"}),A.jsxs(fo,{value:((g=t.style)==null?void 0:g.mode)||"arrow",onChange:L=>u("mode","arrow",L.target.value),children:[A.jsx("option",{value:"arrow",children:"Arrow"}),A.jsx("option",{value:"adjunction",children:"Adjunction ()"}),A.jsx("option",{value:"corner",children:"Pullback ()"}),A.jsx("option",{value:"corner_inverse",children:"Pushout ()"})]})]}),(!((x=t.style)!=null&&x.mode)||t.style.mode==="arrow")&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Body Style"}),A.jsxs(fo,{value:((w=(b=t.style)==null?void 0:b.body)==null?void 0:w.name)||"solid",onChange:L=>u("body","name",L.target.value),children:[A.jsx("option",{value:"solid",children:"Solid"}),A.jsx("option",{value:"dashed",children:"Dashed"}),A.jsx("option",{value:"dotted",children:"Dotted"}),A.jsx("option",{value:"none",children:"None"}),A.jsx("option",{value:"squiggly",children:"Squiggly"}),A.jsx("option",{value:"barred",children:"Barred"}),A.jsx("option",{value:"double_barred",children:"Double Barred"}),A.jsx("option",{value:"bullet_solid",children:"Bullet (Solid)"}),A.jsx("option",{value:"bullet_hollow",children:"Bullet (Hollow)"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx(Ut,{children:"Head"}),A.jsxs(fo,{value:((E=(k=t.style)==null?void 0:k.head)==null?void 0:E.name)||"normal",onChange:L=>u("head","name",L.target.value),children:[A.jsx("option",{value:"normal",children:"Normal"}),A.jsx("option",{value:"epi",children:"Epi ()"}),A.jsx("option",{value:"none",children:"None"}),A.jsx("option",{value:"maps_to",children:"Bar (|)"}),A.jsx("option",{value:"hook",children:"Hook ()"}),A.jsx("option",{value:"harpoon",children:"Harpoon ()"})]})]}),A.jsxs("div",{children:[A.jsx(Ut,{children:"Tail"}),A.jsxs(fo,{value:((R=(z=t.style)==null?void 0:z.tail)==null?void 0:R.name)||"none",onChange:L=>u("tail","name",L.target.value),children:[A.jsx("option",{value:"none",children:"None"}),A.jsx("option",{value:"mono",children:"Mono ()"}),A.jsx("option",{value:"maps_to",children:"Maps to (|)"}),A.jsx("option",{value:"hook",children:"Hook ()"})]})]})]})]})]})]})]})}function S5({selection:t,spec:e,onSpecChange:n}){const r=vt(f=>f.deleteSelection),{nodes:o,arrows:s}=we.useMemo(()=>{try{const f=JSON.parse(e);return{nodes:f.nodes||[],arrows:f.arrows||[]}}catch{return{nodes:[],arrows:[]}}},[e]),u=we.useMemo(()=>{if(!(t!=null&&t.key))return null;const{key:f}=t,h=o.find(x=>x.name===f);if(h)return{type:"node",data:h};const g=s.find((x,b)=>(x.name||`_arrow_${b}`)===f);return g?{type:"arrow",data:{...g,key:f}}:null},[t,o,s]);if(!u)return A.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[A.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4 text-gray-300",children:A.jsx(fA,{size:32})}),A.jsx("p",{className:"text-sm font-medium",children:"No item selected"}),A.jsx("p",{className:"text-xs mt-1",children:"Select a node or arrow on the canvas to edit its properties."})]});const d=u.type==="node"?u.data.name:u.data.name||u.data.key;return A.jsxs("div",{children:[A.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[A.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[A.jsx("span",{className:"capitalize",children:u.type}),A.jsx("span",{className:"text-sm font-normal text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full max-w-[150px] truncate",children:d})]}),A.jsx(cn,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:r,title:"Delete",children:A.jsx(e5,{size:18})})]}),u.type==="node"&&A.jsx(UE,{node:u.data,nodes:o,arrows:s,onSpecChange:n}),u.type==="arrow"&&A.jsx(OE,{arrow:u.data,nodes:o,arrows:s,onSpecChange:n})]})}function PE({initialMarkdown:t,filename:e,onPersist:n,onChange:r,onPrint:o,showSaveButton:s=!0,showPrintButton:u=!0}){const[d,f]=we.useState(t),[h,g]=we.useState(!1),[x,b]=we.useState("split"),[w,k]=we.useState(null),{addToast:E}=Ta();_r.useEffect(()=>{f(t)},[t]);const z=async()=>{if(!n){E("Save is not configured in this host app.","error");return}try{await n(d),E("Paper saved successfully!","success")}catch(D){console.error(D),E("Failed to save paper.","error")}},R=()=>{if(o){o(d,{isTwoColumn:h});return}localStorage.setItem("print_content",d),localStorage.setItem("print_layout",String(h));const D=new URL("/arrowgram/",window.location.origin),U=new URL("print-preview",D).toString();window.open(U,"_blank")},L=(D,U)=>{k({id:D,spec:U})},B=D=>{if(!w)return;const U=w.spec;if(d.includes(U)){const $=d.replace(U,D);f($),E("Diagram updated in document","success")}else E("Could not find the original diagram code to replace.","error");k(null)};return A.jsxs("div",{className:"paper-editor-root flex flex-col h-full bg-gray-50 overflow-hidden",children:[A.jsxs("div",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 shrink-0 z-20 print:hidden",children:[A.jsx("div",{className:"flex items-center gap-4",children:A.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[A.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded flex items-center justify-center text-white text-xs font-bold",children:"P"}),e]})}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg mr-4",children:[A.jsx("button",{onClick:()=>b("code"),className:`p-1.5 rounded ${x==="code"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Editor Only",children:A.jsx(p4,{size:16})}),A.jsx("button",{onClick:()=>b("split"),className:`p-1.5 rounded ${x==="split"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Split View",children:A.jsxs("div",{className:"flex",children:[A.jsx(p4,{size:16,className:"-mr-1"}),A.jsx(X0,{size:16,className:"-ml-1"})]})}),A.jsx("button",{onClick:()=>b("preview"),className:`p-1.5 rounded ${x==="preview"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Preview Only",children:A.jsx(X0,{size:16})})]}),A.jsx("button",{onClick:()=>g(!h),className:`text-sm px-3 py-1.5 rounded border transition-colors ${h?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:h?"Two Column":"Single Column"}),A.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-3 py-1.5 text-gray-600 hover:bg-gray-100 rounded-md text-sm font-medium transition-colors",style:{display:u?void 0:"none"},children:[A.jsx(xA,{size:16}),"Print PDF"]}),A.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md text-sm font-medium transition-colors shadow-sm",style:{display:s?void 0:"none"},children:[A.jsx(Nh,{size:16}),"Save"]})]})]}),A.jsxs("div",{className:"flex-1 flex overflow-hidden paper-editor-main",children:[A.jsxs("div",{className:`${x==="preview"?"hidden":x==="code"?"w-full":"w-1/2"} flex flex-col border-r border-gray-200 transition-all duration-300 print:hidden`,children:[A.jsx("div",{className:"bg-gray-50 px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"Markdown Source"}),A.jsx("textarea",{className:"flex-1 w-full h-full p-6 resize-none outline-none font-mono text-sm bg-white text-gray-800 leading-relaxed",value:d,onChange:D=>{const U=D.target.value;f(U),r==null||r(U)},placeholder:"# Start writing your paper...",spellCheck:!1})]}),A.jsxs("div",{className:`${x==="code"?"hidden":x==="preview"?"w-full":"w-1/2"} bg-gray-100 flex flex-col relative overflow-hidden transition-all duration-300 paper-preview-pane`,children:[A.jsxs("div",{className:"bg-gray-100 px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200 flex justify-between print:hidden",children:[A.jsx("span",{children:"Live Preview"}),A.jsx("span",{className:"text-[10px] text-gray-400",children:"Paged.js Rendering"})]}),A.jsx("div",{className:"flex-1 overflow-auto p-8 relative paper-scroll-container",children:A.jsx("div",{className:"mx-auto w-fit paper-content-wrapper",children:A.jsx(FA,{markdown:d,isTwoColumn:h,onEditDiagram:L})})})]})]}),w&&A.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-8",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl h-[80vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"h-14 border-b border-gray-200 flex items-center justify-between px-6 bg-gray-50",children:[A.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[A.jsx(oA,{size:20,className:"text-indigo-600"}),"Edit Diagram"]}),A.jsx("button",{onClick:()=>k(null),className:"p-2 hover:bg-gray-200 rounded-full text-gray-500 transition-colors",children:A.jsx(wa,{size:20})})]}),A.jsx("div",{className:"flex-1 overflow-hidden relative",children:A.jsx(BE,{initialSpec:w.spec,onSave:D=>B(D)})})]})})]})}function BE({initialSpec:t,onSave:e}){const n=vt(s=>s.setSpec),r=vt(s=>s.spec),o=vt(s=>s.selection);return _r.useEffect(()=>{n(t)},[]),A.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[A.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[A.jsx("div",{className:"flex-1 relative",children:A.jsx(i5,{})}),A.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[A.jsx("div",{className:"p-4 border-b border-gray-100 font-semibold text-gray-700 bg-gray-50/50",children:"Properties"}),A.jsx("div",{className:"p-4",children:A.jsx(S5,{selection:o,spec:r,onSpecChange:n})})]})]}),A.jsx("div",{className:"h-16 border-t border-gray-200 flex items-center justify-end px-6 gap-3 bg-white z-10",children:A.jsx("button",{onClick:()=>e(r),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-sm transition-colors",children:"Apply Changes"})})]})}var vu=g2();function HE(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var s;const u=f=>f===null?null:JSON.parse(f,void 0),d=(s=n.getItem(o))!=null?s:null;return d instanceof Promise?d.then(u):u(d)},setItem:(o,s)=>n.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>n.removeItem(o)}}const Bf=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Bf(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Bf(r)(n)}}}},qE=(t,e)=>(n,r,o)=>{let s={storage:HE(()=>localStorage),partialize:E=>E,version:0,merge:(E,z)=>({...z,...E}),...e},u=!1;const d=new Set,f=new Set;let h=s.storage;if(!h)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...E)},r,o);const g=()=>{const E=s.partialize({...r()});return h.setItem(s.name,{state:E,version:s.version})},x=o.setState;o.setState=(E,z)=>(x(E,z),g());const b=t((...E)=>(n(...E),g()),r,o);o.getInitialState=()=>b;let w;const k=()=>{var E,z;if(!h)return;u=!1,d.forEach(L=>{var B;return L((B=r())!=null?B:b)});const R=((z=s.onRehydrateStorage)==null?void 0:z.call(s,(E=r())!=null?E:b))||void 0;return Bf(h.getItem.bind(h))(s.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==s.version){if(s.migrate){const B=s.migrate(L.state,L.version);return B instanceof Promise?B.then(D=>[!0,D]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var B;const[D,U]=L;if(w=s.merge(U,(B=r())!=null?B:b),n(w,!0),D)return g()}).then(()=>{R==null||R(w,void 0),w=r(),u=!0,f.forEach(L=>L(w))}).catch(L=>{R==null||R(void 0,L)})};return o.persist={setOptions:E=>{s={...s,...E},E.storage&&(h=E.storage)},clearStorage:()=>{h==null||h.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:E=>(d.add(E),()=>{d.delete(E)}),onFinishHydration:E=>(f.add(E),()=>{f.delete(E)})},s.skipHydration||k(),w||b},GE=qE,Ih=r5()(GE(t=>({apiKey:"",setApiKey:e=>t({apiKey:e}),apiProvider:"gemini",setApiProvider:e=>t({apiProvider:e}),customEndpoint:"",setCustomEndpoint:e=>t({customEndpoint:e})}),{name:"arrowgram-settings"}));function VE({isOpen:t,onClose:e}){const{apiKey:n,setApiKey:r,apiProvider:o}=Ih(),[s,u]=we.useState(!1);return t?vu.createPortal(A.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-96 ring-1 ring-black/5 animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Settings"}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:A.jsx(wa,{size:24})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx(Ut,{className:"mb-2 block",children:"AI Provider"}),A.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[A.jsx("button",{className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${o==="gemini"?"bg-white shadow text-purple-700":"text-gray-500 hover:text-gray-700"}`,children:"Google Gemini"}),A.jsx("button",{className:"flex-1 py-1.5 text-sm font-medium rounded-md text-gray-400 cursor-not-allowed",disabled:!0,children:"Custom (Soon)"})]})]}),A.jsxs("div",{children:[A.jsx(Ut,{className:"mb-2 block",children:"Gemini API Key"}),A.jsxs("div",{className:"relative",children:[A.jsx(Kt,{type:s?"text":"password",value:n,onChange:d=>r(d.target.value),placeholder:"AIzaSy...",className:"pr-10"}),A.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>u(!s),children:s?A.jsx(K_,{size:16}):A.jsx(W_,{size:16})})]}),A.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Your API key is stored locally in your browser.",A.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:underline ml-1",children:"Get an API key"})]})]})]}),A.jsx("div",{className:"mt-8 flex justify-end",children:A.jsx(cn,{onClick:e,children:"Done"})})]})}),document.body):null}const FE=`
{
  "nodes": [
    { "name": "T", "left": 100, "top": 100, "label": "T" },
    { "name": "P", "left": 300, "top": 300, "label": "$A \\times_C B$" },
    { "name": "A", "left": 300, "top": 600, "label": "A" },
    { "name": "B", "left": 600, "top": 300, "label": "B" },
    { "name": "C", "left": 600, "top": 600, "label": "C" }
  ],
  "arrows": [
    { "from": "P", "to": "A", "label": "p", "style": { "tail": { "name": "mono" } } },
    { "from": "P", "to": "B", "label": "p" },
    { "from": "A", "to": "C", "label": "f", "label_alignment": "left", "style": { "head": { "name": "epi" } } },
    { "from": "B", "to": "C", "label": "g", "label_alignment": "right", "style": { "tail": { "name": "mono" } } },
    { "from": "T", "to": "A", "label": "t", "curve": -80 },
    { "from": "T", "to": "B", "label": "t", "curve": 80 },
    { "from": "T", "to": "P", "label": "! u", "style": { "body": { "name": "dashed" } } }
  ]
}
`,$E=`
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "A" },
    { "name": "B", "left": 400, "top": 100, "label": "B" }
  ],
  "arrows": [
    { "name": "f", "from": "A", "to": "B", "label": "F(f)", "curve": -90 },
    { "name": "g", "from": "A", "to": "B", "label": "G(f)", "curve": 90 },
    { "name": "eta", "from": "f", "to": "g", "label": "", "style": { "head": { "name": "epi" } } }
  ]
}
`,YE=`
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "A" },
    { "name": "B", "left": 500, "top": 100, "label": "B" },
    { "name": "C", "left": 100, "top": 400, "label": "C" },
    { "name": "D", "left": 500, "top": 400, "label": "D" }
  ],
  "arrows": [
    { "name": "top_arrow", "from": "A", "to": "B", "label": "f", "curve": 90 },
    { "name": "bottom_arrow", "from": "C", "to": "D", "label": "g" },
    { "name": "left_arrow", "from": "A", "to": "C", "label": "" },
    { "name": "right_arrow", "from": "B", "to": "D", "label": "" },
    { "name": "diag1", "from": "top_arrow", "to": "right_arrow", "label": "", "curve": 40, "label_alignment": "left",
      "style": { "level": 2,  "head": { "name": "epi" },  "tail": { "name": "mono" }  } },
    { "name": "diag2", "from": "left_arrow", "to": "bottom_arrow", "label": "", "curve": -40, "label_alignment": "right" }
  ]
}
`,JE=`
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "A" },
    { "name": "B", "left": 600, "top": 100, "label": "B" },
    { "name": "C", "left": 100, "top": 400, "label": "C" },
    { "name": "D", "left": 600, "top": 400, "label": "D" }
  ],
  "arrows": [
    { "name": "f1", "from": "A", "to": "B", "label": "f", "curve": -90 },
    { "name": "f2", "from": "A", "to": "B", "label": "f", "curve": 90 },
    { "name": "g1", "from": "C", "to": "D", "label": "g", "curve": -60 },
    { "name": "g2", "from": "C", "to": "D", "label": "g", "curve": 60 },
    { "name": "h1", "from": "f1", "to": "f2", "label": "h", "curve": -90,
      "style": { "level": 2 }  },
    { "name": "h2", "from": "g1", "to": "g2", "label": "h", "curve": 90  },
    { "name": "h3", "from": "h1", "to": "h2", "label": "h", "curve": -50,
      "style": { "level": 3 } }
  ]
}
`,k4={Pullback:FE.trim(),"Natural Transformation":$E.trim(),"Higher Order Square":YE.trim(),"Higher Orderception":JE.trim()};function XE({isOpen:t,onClose:e}){const n=vt(R=>R.spec),r=vt(R=>R.setSpec),[o,s]=we.useState(n),[u,d]=we.useState(null),{addToast:f}=Ta(),[h,g]=we.useState(!1),[x,b]=we.useState(!1);we.useEffect(()=>{s(n),d(null)},[n,t]);const w=R=>{s(R.target.value),d(null)},k=()=>{try{JSON.parse(o),r(o),f("Specification updated","success"),e()}catch(R){d(R.message)}},E=()=>{navigator.clipboard.writeText(o),g(!0),setTimeout(()=>g(!1),2e3),f("Copied to clipboard","info")},z=R=>{s(k4[R]),b(!1),f(`Loaded example: ${R}`,"info")};return t?vu.createPortal(A.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-[800px] h-[80vh] flex flex-col ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 relative",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:["JSON Specification",u&&A.jsx("span",{className:"text-xs font-normal text-red-500 bg-red-50 px-2 py-1 rounded",children:"Invalid JSON"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>b(!x),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2",title:"Load Example",children:A.jsx(L_,{size:20})}),x&&A.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden z-50",children:[A.jsx("div",{className:"p-2 text-xs font-semibold text-gray-400 bg-gray-50 border-b border-gray-100",children:"Load Example"}),Object.keys(k4).map(R=>A.jsx("button",{onClick:()=>z(R),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-700 transition-colors",children:R},R))]})]}),A.jsx("button",{onClick:E,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy to Clipboard",children:h?A.jsx(J0,{size:20,className:"text-green-500"}):A.jsx(Mh,{size:20})}),A.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:A.jsx(wa,{size:20})})]})]}),A.jsx("div",{className:"flex-1 p-0 relative",children:A.jsx("textarea",{value:o,onChange:w,className:"w-full h-full p-4 font-mono text-sm resize-none focus:outline-none text-gray-700 bg-gray-50",spellCheck:!1})}),A.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50 rounded-b-2xl flex justify-between items-center",children:[A.jsx("div",{className:"text-xs text-gray-500",children:"Edit the raw JSON to modify the diagram directly."}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(cn,{variant:"secondary",onClick:e,children:"Cancel"}),A.jsx(cn,{onClick:k,disabled:!!u,children:"Apply Changes"})]})]})]})}),document.body):null}const Z0=40,w5=-25,Hf=10,qf=-90,z4={left:0,centre:1,right:2,over:3},KE={0:"left",1:"over",2:"right",3:"over"},ZE={none:[],normal:["epi"],epi:["epi","epi"],mono:["mono"],maps_to:["maps to"],hook:["hook"],harpoon:["harpoon"],corner:["corner"],corner_inverse:["corner-inverse"]},WE={none:[],normal:[],mono:["mono"],maps_to:["maps to"],hook:["hook"]},QE={solid:"cell",dashed:"dashed",dotted:"dotted",squiggly:"squiggly",wavy:"squiggly",barred:"barred",double_barred:"double barred",bullet_solid:"bullet solid",bullet_hollow:"bullet hollow",none:"none"};function jE(t){if(typeof t>"u")return{name:"normal"};if(t.length===0)return{name:"none"};const e=JSON.stringify(t);if(e==='["epi"]')return{name:"normal"};if(e==='["epi","epi"]')return{name:"epi"};if(e==='["mono"]')return{name:"mono"};if(e==='["maps to"]')return{name:"maps_to"};if(e==='["corner"]')return{name:"corner"};const n=t[0];return n.startsWith("harpoon")?{name:"harpoon",side:n.endsWith("top")?"top":"bottom"}:n.startsWith("hook")?{name:"hook",side:n.endsWith("top")?"top":"bottom"}:{name:"normal"}}function eC(t){if(!t||t.length===0)return{name:"none"};const e=JSON.stringify(t);if(e==='["mono"]')return{name:"mono"};if(e==='["maps to"]')return{name:"maps_to"};const n=t[0];return n.startsWith("hook")?{name:"hook",side:n.endsWith("top")?"top":"bottom"}:{name:"none"}}const tC={cell:"solid",dashed:"dashed",dotted:"dotted",squiggly:"squiggly",barred:"barred","double barred":"double_barred","bullet solid":"bullet_solid","bullet hollow":"bullet_hollow",none:"none"};function mf(t){const e=t[0],n=t[1],r=t[2],o=t[3]!==void 0?t[3]:1;return`hsla(${e}, ${n}%, ${r}%, ${o})`}function pf(t){if(!t)return[0,0,0,1];const e=t.trim().toLowerCase();if(e==="black")return[0,0,0,1];if(e==="white")return[0,0,100,1];if(e==="red")return[0,100,50,1];if(e==="blue")return[240,100,50,1];if(e==="green")return[120,100,50,1];if(e==="transparent")return[0,0,0,0];if(e.startsWith("#")){let n=e.substring(1);n.length===3&&(n=n.split("").map(u=>u+u).join(""));const r=parseInt(n.substring(0,2),16)/255,o=parseInt(n.substring(2,4),16)/255,s=parseInt(n.substring(4,6),16)/255;return M4(r,o,s)}if(e.startsWith("rgb")){const n=e.match(/[\d.]+/g);if(n&&n.length>=3){const r=parseFloat(n[0])/255,o=parseFloat(n[1])/255,s=parseFloat(n[2])/255,u=n.length>3?parseFloat(n[3]):1,[d,f,h]=M4(r,o,s);return[d,f,h,u]}}if(e.startsWith("hsl")){const n=e.match(/[\d.]+/g);if(n&&n.length>=3){const r=parseFloat(n[0]),o=parseFloat(n[1]),s=parseFloat(n[2]),u=n.length>3?parseFloat(n[3]):1;return[r,o,s,u]}}return[0,0,0,1]}function M4(t,e,n){const r=Math.max(t,e,n),o=Math.min(t,e,n);let s=0,u=0,d=(r+o)/2;if(r!==o){const f=r-o;switch(u=d>.5?f/(2-r-o):f/(r+o),r){case t:s=(e-n)/f+(e<n?6:0);break;case e:s=(n-t)/f+2;break;case n:s=(t-e)/f+4;break}s*=60}return[Math.round(s),Math.round(u*100),Math.round(d*100),1]}function nC(t){var e,n,r;try{const s=(t.includes("#")?t.substring(t.indexOf("#")+1):t).split("&").find(z=>z.startsWith("q="));if(!s)throw new Error("No 'q' parameter found in URL fragment.");const u=s.substring(2),d=atob(u),f=new Uint8Array(d.length);for(let z=0;z<d.length;z++)f[z]=d.charCodeAt(z);const h=new TextDecoder().decode(f),g=JSON.parse(h),[x,b,...w]=g,k={version:1,nodes:[],arrows:[]},E=[];for(let z=0;z<b;z++){const R=w[z],[L,B,D="",U]=R,$=`v${z}`,I={name:$,left:L*Z0,top:B*Z0,label:D?`$${D}$`:""};U&&Array.isArray(U)&&U.length>=3&&(U[0]===0&&U[2]===0||(I.color=mf(U))),k.nodes.push(I),E[z]={name:$,type:"node"}}for(let z=b;z<w.length;z++){const R=w[z],L=R[0],B=R[1],D=(e=E[L])==null?void 0:e.name,U=(n=E[B])==null?void 0:n.name;if(D&&U){const $=`e${z-b}`,I={name:$,from:D,to:U,label:"",label_alignment:"over"};let O=2;if(O<R.length&&typeof R[O]=="string"){const ie=R[O];ie&&(I.label=`$${ie}$`),O++}let F=0;O<R.length&&typeof R[O]=="number"&&(F=R[O],O++),I.label_alignment=KE[F]||"over";let Z={};if(O<R.length&&typeof R[O]=="object"&&!Array.isArray(R[O])&&(Z=R[O],O++),typeof Z.curve=="number"&&(I.curve=Z.curve*w5),typeof Z.offset=="number"&&(I.shift=Z.offset),Z.shorten)I.shorten={source:Z.shorten.source,target:Z.shorten.target};else if(typeof Z.length=="number"){const ie=(100-Z.length)/2;I.shorten={source:ie,target:ie}}if(L===B){const ie=typeof Z.radius=="number"?Z.radius:3,G=typeof Z.angle=="number"?Z.angle:0;I.radius=-1*ie*Hf,I.angle=G+qf}else typeof Z.radius=="number"&&(I.radius=Z.radius*Hf),typeof Z.angle=="number"&&(I.angle=Z.angle+qf);I.style={level:Z.level||1};const Y=Z.style||{};Y.name==="adjunction"?I.style.mode="adjunction":Y.name==="corner"?I.style.mode="corner":Y.name==="corner-inverse"&&(I.style.mode="corner_inverse");const X=jE(Y.heads);X.name!=="normal"&&(I.style.head=X);const Q=eC(Y.tails);Q.name!=="none"&&(I.style.tail=Q);const W=(r=Y.body)!=null&&r.name?tC[Y.body.name]:null;if(W&&W!=="solid"?I.style.body={name:W}:Y.dash_style&&(Y.dash_style==="dashed"&&(I.style.body={name:"dashed"}),Y.dash_style==="dotted"&&(I.style.body={name:"dotted"})),typeof Z.colour<"u"){const ie=Z.colour;Array.isArray(ie)&&(I.color=mf(ie))}O<R.length&&Array.isArray(R[O])&&(I.label_color=mf(R[O])),k.arrows?k.arrows.push(I):k.arrows=[I],E[z]={name:$,type:"arrow"}}}return k}catch(o){throw console.error("Failed to decode Quiver URL:",o),new Error("Failed to decode URL. Please check the format.")}}function rC(t){try{const e=[],n=[],r=new Map;t.nodes.forEach((g,x)=>{const b=[Math.round(g.left/Z0),Math.round(g.top/Z0)];if(g.label){let w=g.label;w.startsWith("$")&&w.endsWith("$")&&(w=w.slice(1,-1)),b.push(w)}g.color&&g.label&&b.push(pf(g.color)),e.push(b),r.set(g.name,x)});const o=Bs(t);let s=e.length;o.arrows.forEach((g,x)=>{r.set(g.spec.name||g.key,s+x)}),o.arrows.forEach(g=>{var X,Q,W,ie;const x=g.spec,b=r.get(x.from),w=r.get(x.to);if(b===void 0||w===void 0)return;const k=[b,w],E={},z={};if(x.curve&&(E.curve=Math.round(x.curve/w5)),x.shift&&(E.offset=x.shift),(X=x.style)!=null&&X.level&&x.style.level>1&&(E.level=x.style.level),x.shorten&&g.arcLength>0){const G=(x.shorten.source||0)/g.arcLength*100,le=(x.shorten.target||0)/g.arcLength*100;(G>0||le>0)&&(E.shorten={source:Math.round(G),target:Math.round(le)})}const R=b===w;if(x.radius){const G=x.radius/Hf,le=R?-1*G:G;(!R||le!==3)&&(E.radius=le)}if(typeof x.angle=="number"){const G=x.angle-qf;(!R||G!==0)&&(E.angle=G)}x.color&&(E.colour=pf(x.color));const L=x.style||{};if(L.mode==="adjunction"?z.name="adjunction":L.mode==="corner"?z.name="corner":L.mode==="corner_inverse"?z.name="corner-inverse":z.name="arrow",(Q=L.head)!=null&&Q.name&&L.head.name!=="normal"){const G=ZE[L.head.name];G&&(z.heads=[...G],L.head.side&&(L.head.name==="harpoon"||L.head.name==="hook")&&(z.heads[0]+=L.head.side==="top"?"-top":"-bottom"))}if((W=L.tail)!=null&&W.name&&L.tail.name!=="none"){const G=WE[L.tail.name];G&&(z.tails=[...G],L.tail.side&&L.tail.name==="hook"&&(z.tails[0]+=L.tail.side==="top"?"-top":"-bottom"))}(ie=L.body)!=null&&ie.name&&L.body.name!=="solid"&&(z.body={name:QE[L.body.name]||"cell"}),Object.keys(z).length>0&&(z.name==="arrow"&&Object.keys(z).length===1||(E.style=z));let B="";x.label&&(B=x.label,B.startsWith("$")&&B.endsWith("$")&&(B=B.slice(1,-1)));const D=z4[x.label_alignment||"over"],U=Object.keys(E).length>0,$=D!==z4.over,I=x.label_color?pf(x.label_color):null,O=B!==""||$||U||I,F=$||U||I,Z=U||I,Y=!!I;O&&k.push(B),F&&k.push(D),Z&&k.push(E),Y&&k.push(I),n.push(k)});const u=[0,e.length,...e,...n],d=JSON.stringify(u),f=new TextEncoder().encode(d),h=String.fromCharCode.apply(null,Array.from(f));return btoa(h)}catch(e){throw console.error("Failed to encode Arrowgram spec:",e),new Error("Failed to encode spec.")}}function iC({isOpen:t,onClose:e}){const{spec:n,setSpec:r}=vt(),[o,s]=we.useState(""),[u,d]=we.useState(""),{addToast:f}=Ta(),[h,g]=we.useState(!1),x=()=>{try{const k=nC(o);r(Fn(k)),f("Quiver diagram imported successfully!","success"),e()}catch(k){f(k.message||"Failed to decode Quiver URL","error")}},b=()=>{try{const k=JSON.parse(n),z=`https://q.uiver.app/#q=${rC(k)}`;d(z)}catch{f("Failed to encode diagram","error")}},w=()=>{navigator.clipboard.writeText(u),g(!0),setTimeout(()=>g(!1),2e3),f("Quiver URL copied!","success")};return t?vu.createPortal(A.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-[500px] ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[A.jsx(cA,{size:18})," Quiver Integration"]}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:A.jsx(wa,{size:20})})]}),A.jsxs("div",{className:"p-6 space-y-8",children:[A.jsxs("div",{className:"space-y-3",children:[A.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Import from Quiver"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Kt,{value:o,onChange:k=>s(k.target.value),placeholder:"Paste https://q.uiver.app/... URL here",className:"flex-1"}),A.jsx(cn,{onClick:x,disabled:!o,children:"Import"})]}),A.jsx("p",{className:"text-xs text-gray-500",children:"Paste a URL from q.uiver.app to load the diagram here."})]}),A.jsx("div",{className:"h-px bg-gray-100"}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Export to Quiver"}),A.jsx("div",{className:"flex gap-2 items-start",children:A.jsxs(cn,{onClick:b,variant:"outline",className:"w-full justify-center",children:["Generate Quiver URL ",A.jsx(I_,{size:16,className:"ml-2"})]})}),u&&A.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex items-center gap-2 mt-2",children:[A.jsx("div",{className:"flex-1 text-xs text-gray-600 font-mono break-all line-clamp-2",children:u}),A.jsx("button",{onClick:w,className:"p-1.5 text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"Copy",children:h?A.jsx(J0,{size:16}):A.jsx(Mh,{size:16})})]}),A.jsx("p",{className:"text-xs text-gray-500",children:"Generate a URL to open this diagram in q.uiver.app."})]})]})]})}),document.body):null}function Co(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function aC(t,e){let n;const r=()=>{if(n)return n;const o=indexedDB.open(t);return o.onupgradeneeded=()=>o.result.createObjectStore(e),n=Co(o),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(o,s)=>r().then(u=>s(u.transaction(e,o).objectStore(e)))}let gf;function yu(){return gf||(gf=aC("keyval-store","keyval")),gf}function T5(t,e=yu()){return e("readonly",n=>Co(n.get(t)))}function oC(t,e,n=yu()){return n("readwrite",r=>(r.put(e,t),Co(r.transaction)))}function sC(t,e=yu()){return e("readwrite",n=>(n.delete(t),Co(n.transaction)))}function lC(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Co(t.transaction)}function uC(t=yu()){return t("readonly",e=>{if(e.getAllKeys)return Co(e.getAllKeys());const n=[];return lC(e,r=>n.push(r.key)).then(()=>n)})}const xu="arrowgram_project_";async function cC(t,e,n="diagram"){const r={name:t,updatedAt:new Date().toISOString(),type:n,spec:e};return await oC(xu+t,r),r}async function dC(t){return await T5(xu+t)}async function fC(t){await sC(xu+t)}async function hC(){const e=(await uC()).filter(r=>r.toString().startsWith(xu));return(await Promise.all(e.map(r=>T5(r)))).sort((r,o)=>new Date(o.updatedAt).getTime()-new Date(r.updatedAt).getTime())}const mC={saveProject:cC,loadProject:dC,deleteProject:fC,listProjects:hC},pC=_r.createContext(null);function Dh(){const t=_r.useContext(pC);return t||mC}function gC({onExport:t,onShare:e,onToggleChat:n,isChatOpen:r}){const{spec:o,setSpec:s,filename:u,setFilename:d,reset:f}=vt(),{undo:h,redo:g,pastStates:x,futureStates:b}=n5(vt.temporal),{addToast:w}=Ta(),k=Dh(),[E,z]=we.useState(!1),[R,L]=we.useState(!1),[B,D]=we.useState(!1),[U,$]=we.useState(!1),[I,O]=we.useState([]),[F,Z]=we.useState(!1),[Y,X]=we.useState(u),[Q,W]=we.useState(!1),[ie,G]=we.useState({fitView:!0,showGrid:!0}),le=x.length>0,re=b.length>0,Ee=async()=>{const te=await k.listProjects();O(te)},Le=async()=>{try{await k.saveProject(Y,o,"diagram"),d(Y),Z(!1),w(`Project "${Y}" saved successfully`,"success")}catch(te){w("Failed to save project","error"),console.error(te)}},q=te=>{s(te.spec),d(te.name),z(!1),w(`Project "${te.name}" loaded`,"info")};we.useEffect(()=>{E&&Ee()},[E]);const ne="p-2 rounded-lg text-gray-600 hover:bg-gray-100/80 hover:text-gray-900 transition-all disabled:opacity-40 disabled:cursor-not-allowed active:scale-95",ee=A.jsx("div",{className:"h-5 w-px bg-gray-200 mx-1"});return A.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white/90 backdrop-blur-md border border-gray-200/50 shadow-lg rounded-xl ring-1 ring-black/5",children:[A.jsx("button",{className:ne,onClick:()=>{f(),d("Untitled"),w("New project created","info")},title:"New Project",children:A.jsx(j3,{size:18})}),A.jsx("button",{className:ne,onClick:()=>z(!0),title:"Open Project",children:A.jsx(nA,{size:18})}),A.jsx("button",{className:ne,onClick:()=>{X(u),Z(!0)},title:"Save Project",children:A.jsx(Nh,{size:18})}),ee,A.jsx("button",{className:ne,onClick:()=>h(),disabled:!le,title:"Undo",children:A.jsx(RA,{size:18})}),A.jsx("button",{className:ne,onClick:()=>g(),disabled:!re,title:"Redo",children:A.jsx(SA,{size:18})}),ee,A.jsx("button",{className:`${ne} ${r?"bg-purple-100 text-purple-700 hover:bg-purple-200":""}`,onClick:n,title:"AI Assistant",children:A.jsx(Lf,{size:18})}),A.jsx("button",{className:ne,onClick:()=>L(!0),title:"Settings",children:A.jsx(EA,{size:18})}),A.jsx("button",{className:ne,onClick:()=>D(!0),title:"Edit JSON Spec",children:A.jsx(j_,{size:18})}),A.jsxs("button",{className:ne,onClick:()=>$(!0),title:"Quiver Integration",children:[A.jsx(g4,{size:18,className:"rotate-90"})," "]}),ee,A.jsxs("div",{className:"relative flex items-center",children:[A.jsx("button",{className:`${ne} rounded-r-none border-r border-gray-200/50 pr-1`,onClick:()=>t("svg",ie),title:"Export SVG",children:A.jsx(J_,{size:18})}),A.jsx("button",{className:`${ne} rounded-l-none px-1`,onClick:()=>W(!Q),title:"Export Options",children:A.jsx(B_,{size:14})}),Q&&A.jsxs("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 p-2 z-50 animate-in fade-in zoom-in-95",children:[A.jsx("div",{className:"text-xs font-semibold text-gray-500 px-2 py-1 uppercase tracking-wider",children:"Export Settings"}),A.jsxs("button",{className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors",onClick:()=>G(te=>({...te,fitView:!te.fitView})),children:[A.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${ie.fitView?"bg-purple-600 border-purple-600 text-white":"border-gray-300"}`,children:ie.fitView&&A.jsx(J0,{size:10})}),"Fit View to Content"]}),A.jsxs("button",{className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors",onClick:()=>G(te=>({...te,showGrid:!te.showGrid})),children:[A.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${ie.showGrid?"bg-purple-600 border-purple-600 text-white":"border-gray-300"}`,children:ie.showGrid&&A.jsx(J0,{size:10})}),"Include Grid"]}),A.jsx("div",{className:"h-px bg-gray-100 my-2"}),A.jsx("button",{className:"w-full text-left px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 font-medium transition-colors",onClick:()=>{t("svg",ie),W(!1)},children:"Export SVG"}),A.jsx("button",{className:"w-full text-left px-2 py-1.5 hover:bg-gray-100 rounded-lg text-sm text-gray-700 font-medium transition-colors",onClick:()=>{t("png",ie),W(!1)},children:"Export PNG"})]})]}),A.jsx("button",{className:ne,onClick:()=>t("tikz"),title:"Export TikZ",children:A.jsx("span",{className:"font-mono font-bold text-xs",children:"TeX"})}),A.jsx("button",{className:ne,onClick:e,title:"Share Link",children:A.jsx(g4,{size:18})}),ee,A.jsx("div",{className:"px-3 py-1 font-medium text-sm text-gray-500 max-w-[150px] truncate select-none",title:u,children:u}),A.jsx(VE,{isOpen:R,onClose:()=>L(!1)}),A.jsx(XE,{isOpen:B,onClose:()=>D(!1)}),A.jsx(iC,{isOpen:U,onClose:()=>$(!1)}),E&&A.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-96 max-h-[80vh] overflow-y-auto ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your Projects"}),A.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:A.jsx(wa,{size:20})})]}),A.jsxs("div",{className:"space-y-2",children:[I.length===0&&A.jsx("p",{className:"text-gray-400 text-center py-8",children:"No saved projects."}),I.map(te=>A.jsxs("div",{onClick:()=>q(te),className:"p-3 border border-gray-100 rounded-xl hover:bg-purple-50 hover:border-purple-100 cursor-pointer flex justify-between items-center group transition-colors",children:[A.jsx("div",{className:"font-medium text-gray-700 group-hover:text-purple-700",children:te.name}),A.jsx("div",{className:"text-xs text-gray-400",children:new Date(te.updatedAt).toLocaleDateString()})]},te.name))]})]})}),F&&A.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-80 ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-200",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Save Project"}),A.jsx(Kt,{className:"mb-4",value:Y,onChange:te=>X(te.target.value),placeholder:"Project Name",autoFocus:!0}),A.jsxs("div",{className:"flex justify-end gap-2",children:[A.jsx(cn,{variant:"secondary",onClick:()=>Z(!1),children:"Cancel"}),A.jsx(cn,{onClick:Le,children:"Save"})]})]})})]})}function vC({tikzCode:t,onClose:e,isOpen:n}){const{addToast:r}=Ta();if(!n)return null;const o=()=>{navigator.clipboard.writeText(t),r("TikZ code copied to clipboard","success")};return vu.createPortal(A.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-3/4 max-w-2xl ring-1 ring-black/5 animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Export to TikZ-CD"}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:A.jsx(wa,{size:24})})]}),A.jsxs("div",{className:"relative mb-6",children:[A.jsx("textarea",{readOnly:!0,value:t||"",className:"w-full h-64 p-4 font-mono text-sm border border-gray-200 rounded-xl bg-gray-50 text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-500/50 resize-none"}),A.jsx("div",{className:"absolute top-2 right-2",children:A.jsxs(cn,{size:"sm",variant:"secondary",onClick:o,title:"Copy",children:[A.jsx(Mh,{size:14,className:"mr-1.5"})," Copy"]})})]}),A.jsxs("div",{className:"flex justify-end gap-2",children:[A.jsx(cn,{variant:"ghost",onClick:e,children:"Close"}),A.jsx(cn,{onClick:o,children:"Copy to Clipboard"})]})]})}),document.body)}function N4(t,e){return(t%e+e)%e}const T0=40;function R4(t){const e=(t||"").replace(/^\$|\$$/g,"").trim();return e?e.includes("\\\\")?`\\begin{array}{c} ${e} \\end{array}`:`{${e}}`:""}function vf(t){const e=t.replace("#",""),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16);return`{rgb,255:red,${n};green,${r};blue,${o}}`}function yC(t){try{const e=JSON.parse(t);if(!e.nodes||e.nodes.length===0)return"";const n=.75,r=.4,o=1.3;let s=1/0,u=-1/0,d=1/0,f=-1/0;const h=new Map,g=new Map;e.nodes.forEach(E=>{const z=Math.round(E.left/T0),R=Math.round(E.top/T0);s=Math.min(s,z),u=Math.max(u,z),d=Math.min(d,R),f=Math.max(f,R),h.set(E.name,{r:R,c:z,label:E.label||"",color:E.color})}),e.arrows&&e.arrows.forEach((E,z)=>{const R=`${z}`;E.name&&g.set(E.name,R)});const x=f-d+1,b=u-s+1,w=Array(x).fill(null).map(()=>Array(b).fill(""));h.forEach((E,z)=>{const R=E.r-d,L=E.c-s;let B=R4(E.label);E.color&&E.color!=="#000000"&&(B=`\\textcolor${vf(E.color)}{${B}}`),w[R][L]=B,h.set(z,{r:R+1,c:L+1,label:E.label})});const k=[];k.push("\\[\\begin{tikzcd}");for(let E=0;E<x;E++){const z=w[E].join(" & ");k.push(`	${z}${E<x-1?" \\\\":""}`)}return e.arrows&&e.arrows.forEach((E,z)=>{var Y,X,Q,W,ie,G,le,re,Ee,Le,q,ne;const R=h.get(E.from),L=h.get(E.to),B=R?null:g.get(E.from),D=L?null:g.get(E.to);if(!R&&!B||!L&&!D)return;const U=[],$=[],I=`${z}`;if($.push(`""{name=${I}, anchor=center, inner sep=0}`),E.label){const ee=(E.label||"").replace(/^$|"$/g,"");let te=`"${R4(ee)}"`;const xe=[];E.label_alignment==="left"&&(te+="'"),E.label_color&&E.label_color!=="#000000"&&xe.push(`text=${vf(E.label_color)}`),E.label_alignment==="over"&&xe.push("description"),xe.length>0&&(te+=`{${xe.join(", ")}}`),$.push(te)}E.color&&E.color!=="#000000"&&U.push(`draw=${vf(E.color)}`);const O=E.style||{};((Y=O.head)==null?void 0:Y.name)==="epi"&&U.push("two heads"),((X=O.head)==null?void 0:X.name)==="none"&&U.push("no head"),((Q=O.head)==null?void 0:Q.name)==="maps_to"&&U.push("maps to"),((W=O.head)==null?void 0:W.name)==="harpoon"&&U.push((O.head.side==="bottom","harpoon")),((ie=O.head)==null?void 0:ie.name)==="hook"&&U.push((O.head.side==="bottom","hook")),((G=O.tail)==null?void 0:G.name)==="mono"&&U.push("tail"),((le=O.tail)==null?void 0:le.name)==="maps_to"&&U.push("maps to"),((re=O.tail)==null?void 0:re.name)==="hook"&&U.push((O.tail.side==="bottom","hook")),((Ee=O.body)==null?void 0:Ee.name)==="dashed"&&U.push("dashed"),((Le=O.body)==null?void 0:Le.name)==="dotted"&&U.push("dotted"),((q=O.body)==null?void 0:q.name)==="squiggly"&&U.push("squiggly"),((ne=O.body)==null?void 0:ne.name)==="barred"&&U.push("slashed"),O.level===2?U.push("Rightarrow"):O.level===3&&U.push("Rrightarrow"),R?U.push(`from=${R.r}-${R.c}`):U.push(`from=${B}`),L?U.push(`to=${L.r}-${L.c}`):U.push(`to=${D}`);let F=!1;if(R&&L&&R.r===L.r&&R.c===L.c){F=!0,U.push("loop");const te=(E.radius??40)/10,xe=E.angle??-90,Te=te>=0?1:-1,ce=180-90*Te-xe,ke=35,Ie=N4(ce-ke*Te,360),$e=N4(ce+ke*Te,360);U.push(`in=${Math.round(Ie)}`),U.push(`out=${Math.round($e)}`),U.push(`distance=${Math.abs(te)*3}mm`)}else{if(E.curve){const ee=E.curve*o;let te=ee;if(R&&L){const xe=(L.r-R.r)*T0,Te=(L.c-R.c)*T0,ce=Math.sqrt(xe*xe+Te*Te);ce>0&&(te=2*Math.atan(2*ee/ce)*(180/Math.PI))}U.push(`bend left=${Math.round(te)}`)}E.shift&&U.push(`shift left=${E.shift/20}em`)}if(E.shorten){let ee=E.shorten.source||0,te=E.shorten.target||0;ee*=n,te*=n,F&&(ee*=r,te*=r);const xe=20;F&&(ee=Math.min(ee,xe),te=Math.min(te,xe)),ee>0&&U.push(`shorten <=${Math.round(ee)}pt`),te>0&&U.push(`shorten >=${Math.round(te)}pt`)}const Z=[...U,...$];k.push(`	\\arrow[${Z.join(", ")}]`)}),k.push("\\end{tikzcd}\\]"),k.join(`
`)}catch(e){return`% Failed to export to TikZ-CD: ${e.message}`}}var yf={},I4;function xC(){return I4||(I4=1,function(t){(function(){var e=t||!1||this||window;e.default=e;var n="http://www.w3.org/2000/xmlns/",r="http://www.w3.org/1999/xhtml",o="http://www.w3.org/2000/svg",s='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',u=/url\(["']?(.+?)["']?\)/,d={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},f=function(X){return X instanceof HTMLElement||X instanceof SVGElement},h=function(X){if(!f(X))throw new Error("an HTMLElement or SVGElement is required; got "+X)},g=function(X){return new Promise(function(Q,W){f(X)?Q(X):W(new Error("an HTMLElement or SVGElement is required; got "+X))})},x=function(X){return X&&X.lastIndexOf("http",0)===0&&X.lastIndexOf(window.location.host)===-1},b=function(X){var Q=Object.keys(d).filter(function(W){return X.indexOf("."+W)>0}).map(function(W){return d[W]});return Q?Q[0]:(console.error("Unknown font format for "+X+". Fonts may not be working correctly."),"application/octet-stream")},w=function(X){for(var Q="",W=new Uint8Array(X),ie=0;ie<W.byteLength;ie++)Q+=String.fromCharCode(W[ie]);return window.btoa(Q)},k=function(X,Q,W){var ie=X.viewBox&&X.viewBox.baseVal&&X.viewBox.baseVal[W]||Q.getAttribute(W)!==null&&!Q.getAttribute(W).match(/%$/)&&parseInt(Q.getAttribute(W))||X.getBoundingClientRect()[W]||parseInt(Q.style[W])||parseInt(window.getComputedStyle(X).getPropertyValue(W));return typeof ie>"u"||ie===null||isNaN(parseFloat(ie))?0:ie},E=function(X,Q,W,ie){if(X.tagName==="svg")return{width:W||k(X,Q,"width"),height:ie||k(X,Q,"height")};if(X.getBBox){var G=X.getBBox(),le=G.x,re=G.y,Ee=G.width,Le=G.height;return{width:le+Ee,height:re+Le}}},z=function(X){return decodeURIComponent(encodeURIComponent(X).replace(/%([0-9A-F]{2})/g,function(Q,W){var ie=String.fromCharCode("0x"+W);return ie==="%"?"%25":ie}))},R=function(X){for(var Q=window.atob(X.split(",")[1]),W=X.split(",")[0].split(":")[1].split(";")[0],ie=new ArrayBuffer(Q.length),G=new Uint8Array(ie),le=0;le<Q.length;le++)G[le]=Q.charCodeAt(le);return new Blob([ie],{type:W})},L=function(X,Q){if(Q)try{return X.querySelector(Q)||X.parentNode&&X.parentNode.querySelector(Q)}catch(W){console.warn('Invalid CSS selector "'+Q+'"',W)}},B=function(X,Q){var W=X.cssText.match(u),ie=W&&W[1]||"";if(!(!ie||ie.match(/^data:/)||ie==="about:blank")){var G=ie.startsWith("../")?Q+"/../"+ie:ie.startsWith("./")?Q+"/."+ie:ie;return{text:X.cssText,format:b(G),url:G}}},D=function(X){return Promise.all(Array.from(X.querySelectorAll("image")).map(function(Q){var W=Q.getAttributeNS("http://www.w3.org/1999/xlink","href")||Q.getAttribute("href");return W?(x(W)&&(W+=(W.indexOf("?")===-1?"?":"&")+"t="+new Date().valueOf()),new Promise(function(ie,G){var le=document.createElement("canvas"),re=new Image;re.crossOrigin="anonymous",re.src=W,re.onerror=function(){return G(new Error("Could not load "+W))},re.onload=function(){le.width=re.width,le.height=re.height,le.getContext("2d").drawImage(re,0,0),Q.setAttributeNS("http://www.w3.org/1999/xlink","href",le.toDataURL("image/png")),ie(!0)}})):Promise.resolve(null)}))},U={},$=function(X){return Promise.all(X.map(function(Q){return new Promise(function(W,ie){if(U[Q.url])return W(U[Q.url]);var G=new XMLHttpRequest;G.addEventListener("load",function(){var le=w(G.response),re=Q.text.replace(u,'url("data:'+Q.format+";base64,"+le+'")')+`
`;U[Q.url]=re,W(re)}),G.addEventListener("error",function(le){console.warn("Failed to load font from: "+Q.url,le),U[Q.url]=null,W(null)}),G.addEventListener("abort",function(le){console.warn("Aborted loading font from: "+Q.url,le),W(null)}),G.open("GET",Q.url),G.responseType="arraybuffer",G.send()})})).then(function(Q){return Q.filter(function(W){return W}).join("")})},I=null,O=function(){return I||(I=Array.from(document.styleSheets).map(function(X){try{return{rules:X.cssRules,href:X.href}}catch(Q){return console.warn("Stylesheet could not be loaded: "+X.href,Q),{}}}))},F=function(X,Q){var W=Q||{},ie=W.selectorRemap,G=W.modifyStyle,le=W.modifyCss,re=W.fonts,Ee=W.excludeUnusedCss,Le=le||function(te,xe){var Te=ie?ie(te):te,ce=G?G(xe):xe;return Te+"{"+ce+`}
`},q=[],ne=typeof re>"u",ee=re||[];return O().forEach(function(te){var xe=te.rules,Te=te.href;xe&&Array.from(xe).forEach(function(ce){if(typeof ce.style<"u")if(L(X,ce.selectorText))q.push(Le(ce.selectorText,ce.style.cssText));else if(ne&&ce.cssText.match(/^@font-face/)){var ke=B(ce,Te);ke&&ee.push(ke)}else Ee||q.push(ce.cssText)})}),$(ee).then(function(te){return q.join(`
`)+te})},Z=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};e.prepareSvg=function(Y,X,Q){h(Y);var W=X||{},ie=W.left,G=ie===void 0?0:ie,le=W.top,re=le===void 0?0:le,Ee=W.width,Le=W.height,q=W.scale,ne=q===void 0?1:q,ee=W.responsive,te=ee===void 0?!1:ee,xe=W.excludeCss,Te=xe===void 0?!1:xe;return D(Y).then(function(){var ce=Y.cloneNode(!0);ce.style.backgroundColor=(X||{}).backgroundColor||Y.style.backgroundColor;var ke=E(Y,ce,Ee,Le),Ie=ke.width,$e=ke.height;if(Y.tagName!=="svg")if(Y.getBBox){ce.getAttribute("transform")!=null&&ce.setAttribute("transform",ce.getAttribute("transform").replace(/translate\(.*?\)/,""));var We=document.createElementNS("http://www.w3.org/2000/svg","svg");We.appendChild(ce),ce=We}else{console.error("Attempted to render non-SVG element",Y);return}if(ce.setAttribute("version","1.1"),ce.setAttribute("viewBox",[G,re,Ie,$e].join(" ")),ce.getAttribute("xmlns")||ce.setAttributeNS(n,"xmlns",o),ce.getAttribute("xmlns:xlink")||ce.setAttributeNS(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),te?(ce.removeAttribute("width"),ce.removeAttribute("height"),ce.setAttribute("preserveAspectRatio","xMinYMin meet")):(ce.setAttribute("width",Ie*ne),ce.setAttribute("height",$e*ne)),Array.from(ce.querySelectorAll("foreignObject > *")).forEach(function(ht){ht.setAttributeNS(n,"xmlns",ht.tagName==="svg"?o:r)}),Te){var Qe=document.createElement("div");Qe.appendChild(ce);var St=Qe.innerHTML;if(typeof Q=="function")Q(St,Ie,$e);else return{src:St,width:Ie,height:$e}}else return F(Y,X).then(function(ht){var Pt=document.createElement("style");Pt.setAttribute("type","text/css"),Pt.innerHTML=`<![CDATA[
`+ht+`
]]>`;var sn=document.createElement("defs");sn.appendChild(Pt),ce.insertBefore(sn,ce.firstChild);var It=document.createElement("div");It.appendChild(ce);var fn=It.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof Q=="function")Q(fn,Ie,$e);else return{src:fn,width:Ie,height:$e}})})},e.svgAsDataUri=function(Y,X,Q){return h(Y),e.prepareSvg(Y,X).then(function(W){var ie=W.src,G=W.width,le=W.height,re="data:image/svg+xml;base64,"+window.btoa(z(s+ie));return typeof Q=="function"&&Q(re,G,le),re})},e.svgAsPngUri=function(Y,X,Q){h(Y);var W=X||{},ie=W.encoderType,G=ie===void 0?"image/png":ie,le=W.encoderOptions,re=le===void 0?.8:le,Ee=W.canvg,Le=function(ne){var ee=ne.src,te=ne.width,xe=ne.height,Te=document.createElement("canvas"),ce=Te.getContext("2d"),ke=window.devicePixelRatio||1;Te.width=te*ke,Te.height=xe*ke,Te.style.width=Te.width+"px",Te.style.height=Te.height+"px",ce.setTransform(ke,0,0,ke,0,0),Ee?Ee(Te,ee):ce.drawImage(ee,0,0);var Ie=void 0;try{Ie=Te.toDataURL(G,re)}catch($e){if(typeof SecurityError<"u"&&$e instanceof SecurityError||$e.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw $e}return typeof Q=="function"&&Q(Ie,Te.width,Te.height),Promise.resolve(Ie)};return Ee?e.prepareSvg(Y,X).then(Le):e.svgAsDataUri(Y,X).then(function(q){return new Promise(function(ne,ee){var te=new Image;te.onload=function(){return ne(Le({src:te,width:te.width,height:te.height}))},te.onerror=function(){ee(`There was an error loading the data URI as an image on the following SVG
`+window.atob(q.slice(26))+`Open the following link to see browser's diagnosis
`+q)},te.src=q})})},e.download=function(Y,X,Q){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(R(X),Y);else{var W=document.createElement("a");if("download"in W){W.download=Y,W.style.display="none",document.body.appendChild(W);try{var ie=R(X),G=URL.createObjectURL(ie);W.href=G,W.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(G)})}}catch(le){console.error(le),console.warn("Error while getting object URL. Falling back to string URL."),W.href=X}W.click(),document.body.removeChild(W)}else Q&&Q.popup&&(Q.popup.document.title=Y,Q.popup.location.replace(X))}},e.saveSvg=function(Y,X,Q){var W=Z();return g(Y).then(function(ie){return e.svgAsDataUri(ie,Q||{})}).then(function(ie){return e.download(X,ie,W)})},e.saveSvgAsPng=function(Y,X,Q){var W=Z();return g(Y).then(function(ie){return e.svgAsPngUri(ie,Q||{})}).then(function(ie){return e.download(X,ie,W)})}})()}(yf)),yf}var bC=xC(),R0={exports:{}},SC=R0.exports,D4;function wC(){return D4||(D4=1,function(t,e){(function(n,r){r()})(SC,function(){function n(h,g){return typeof g>"u"?g={autoBom:!1}:typeof g!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function r(h,g,x){var b=new XMLHttpRequest;b.open("GET",h),b.responseType="blob",b.onload=function(){f(b.response,g,x)},b.onerror=function(){console.error("could not download file")},b.send()}function o(h){var g=new XMLHttpRequest;g.open("HEAD",h,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(g)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof o0=="object"&&o0.global===o0?o0:void 0,d=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(h,g,x){var b=u.URL||u.webkitURL,w=document.createElement("a");g=g||h.name||"download",w.download=g,w.rel="noopener",typeof h=="string"?(w.href=h,w.origin===location.origin?s(w):o(w.href)?r(h,g,x):s(w,w.target="_blank")):(w.href=b.createObjectURL(h),setTimeout(function(){b.revokeObjectURL(w.href)},4e4),setTimeout(function(){s(w)},0))}:"msSaveOrOpenBlob"in navigator?function(h,g,x){if(g=g||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(n(h,x),g);else if(o(h))r(h,g,x);else{var b=document.createElement("a");b.href=h,b.target="_blank",setTimeout(function(){s(b)})}}:function(h,g,x,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof h=="string")return r(h,g,x);var w=h.type==="application/octet-stream",k=/constructor/i.test(u.HTMLElement)||u.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||w&&k||d)&&typeof FileReader<"u"){var z=new FileReader;z.onloadend=function(){var B=z.result;B=E?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=B:location=B,b=null},z.readAsDataURL(h)}else{var R=u.URL||u.webkitURL,L=R.createObjectURL(h);b?b.location=L:location.href=L,b=null,setTimeout(function(){R.revokeObjectURL(L)},4e4)}});u.saveAs=f.saveAs=f,t.exports=f})}(R0)),R0.exports}var TC=wC(),_C={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let AC,EC;function CC(){return{geminiUrl:AC,vertexUrl:EC}}function kC(t,e,n,r){var o,s;if(!(t!=null&&t.baseUrl)){const u=CC();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(s=u.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ai{}function Ae(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function p(t,e,n){for(let s=0;s<e.length-1;s++){const u=e[s];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const f=t[d];if(Array.isArray(n))for(let h=0;h<f.length;h++){const g=f[h];p(g,e.slice(s+1),n[h])}else for(const h of f)p(h,e.slice(s+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const f=t[d];p(f[0],e.slice(s+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const u=t[s];return Array.isArray(u)?u.map(d=>m(d,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function zC(t,e){for(const[n,r]of Object.entries(e)){const o=n.split("."),s=r.split("."),u=new Set;let d=-1;for(let f=0;f<o.length;f++)if(o[f]==="*"){d=f;break}if(d!==-1&&s.length>d)for(let f=d;f<s.length;f++){const h=s[f];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}Gf(t,o,s,0,u)}}function Gf(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const u=s.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const f of d[u])Gf(f,e,n,r+1,o)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(h=>!h.startsWith("_")&&!o.has(h)),f={};for(const h of d)f[h]=u[h];for(const[h,g]of Object.entries(f)){const x=[];for(const b of n.slice(r))b==="*"?x.push(h):x.push(b);p(u,x,g)}for(const h of d)delete u[h]}}else{const u=t;s in u&&Gf(u[s],e,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lh(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(t){const e={},n=m(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function NC(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],IC(u)),e}function RC(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],DC(u)),e}function IC(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>LC(u))),p(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function DC(t){const e={},n=m(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>UC(u))),p(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function LC(t){const e={},n=m(t,["video"]);return n!=null&&p(e,["video"],GC(n)),e}function UC(t){const e={},n=m(t,["_self"]);return n!=null&&p(e,["video"],VC(n)),e}function OC(t){const e={},n=m(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function PC(t){const e={},n=m(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function BC(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],HC(u)),e}function HC(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&p(e,["parent"],r);const o=m(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function _5(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],qC(u)),e}function qC(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&p(e,["parent"],r);const o=m(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function GC(t){const e={},n=m(t,["uri"]);n!=null&&p(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Lh(r));const o=m(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function VC(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Lh(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var L4;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(L4||(L4={}));var U4;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(U4||(U4={}));var O4;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(O4||(O4={}));var Bi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Bi||(Bi={}));var P4;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(P4||(P4={}));var B4;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(B4||(B4={}));var H4;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(H4||(H4={}));var q4;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(q4||(q4={}));var G4;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(G4||(G4={}));var V4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(V4||(V4={}));var F4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(F4||(F4={}));var $4;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})($4||($4={}));var Y4;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Y4||(Y4={}));var J4;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(J4||(J4={}));var X4;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(X4||(X4={}));var K4;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(K4||(K4={}));var Z4;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Z4||(Z4={}));var W4;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(W4||(W4={}));var Q4;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Q4||(Q4={}));var j4;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(j4||(j4={}));var ey;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ey||(ey={}));var W0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(W0||(W0={}));var ty;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ty||(ty={}));var ny;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ny||(ny={}));var ry;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ry||(ry={}));var Vf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vf||(Vf={}));var iy;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(iy||(iy={}));var ay;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ay||(ay={}));var oy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oy||(oy={}));var sy;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sy||(sy={}));var ly;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ly||(ly={}));var uy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(uy||(uy={}));var cy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(cy||(cy={}));var dy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dy||(dy={}));var fy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fy||(fy={}));var hy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hy||(hy={}));var my;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(my||(my={}));var py;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(py||(py={}));var gy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(gy||(gy={}));var vy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(vy||(vy={}));var yy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(yy||(yy={}));var xy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xy||(xy={}));var by;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(by||(by={}));var Sy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Sy||(Sy={}));var wy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(wy||(wy={}));var Ty;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ty||(Ty={}));var _y;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_y||(_y={}));var Ay;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ay||(Ay={}));var Ey;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ey||(Ey={}));var Cy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Cy||(Cy={}));var ky;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ky||(ky={}));var zy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zy||(zy={}));var My;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(My||(My={}));var Ny;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ny||(Ny={}));var po;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(po||(po={}));class Ff{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ks{get text(){var e,n,r,o,s,u,d,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",g=!1;const x=[];for(const b of(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&f!==void 0?f:[]){for(const[w,k]of Object.entries(b))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(k!==null||k!==void 0)&&x.push(w);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;g=!0,h+=b.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?h:void 0}get data(){var e,n,r,o,s,u,d,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const g=[];for(const x of(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&f!==void 0?f:[]){for(const[b,w]of Object.entries(x))b!=="inlineData"&&(w!==null||w!==void 0)&&g.push(b);x.inlineData&&typeof x.inlineData.data=="string"&&(h+=atob(x.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,r,o,s,u,d,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,r,o,s,u,d,f,h;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,r,o,s,u,d,f,h;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(f=(d=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.output}}class Ry{}class Iy{}class FC{}class $C{}class YC{}class JC{}class Dy{}class Ly{}class Uy{}class XC{}class Q0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Q0;let o;const s=e;return n?o=RC(s):o=NC(s),Object.assign(r,o),r}}class Oy{}class Py{}class By{}class Hy{}class KC{}class ZC{}class WC{}class Uh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Uh,s=BC(e);return Object.assign(r,s),r}}class QC{}class jC{}class ek{}class qy{}class tk{get text(){var e,n,r;let o="",s=!1;const u=[];for(const d of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,h]of Object.entries(d))f!=="text"&&f!=="thought"&&h!==null&&u.push(f);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;s=!0,o+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,n,r;let o="";const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="inlineData"&&f!==null&&s.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class nk{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Oh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Oh,s=_5(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function A5(t,e){const n=lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function E5(t){return Array.isArray(t)?t.map(e=>j0(e)):[j0(t)]}function j0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function C5(t){const e=j0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function k5(t){const e=j0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Gy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function z5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Gy(e)):[Gy(t)]}function $f(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Vy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Fy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function dn(t){if(t==null)throw new Error("ContentUnion is required");return $f(t)?t:{role:"user",parts:z5(t)}}function Ph(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=dn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=dn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>dn(n)):[dn(e)]}function ar(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vy(t)||Fy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dn(t)]}const e=[],n=[],r=$f(t[0]);for(const o of t){const s=$f(o);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(o);else{if(Vy(o)||Fy(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:z5(n)}),e}function rk(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Bi).includes(n[0].toUpperCase())?n[0].toUpperCase():Bi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Bi).includes(r.toUpperCase())?r.toUpperCase():Bi.TYPE_UNSPECIFIED})}}function xo(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&rk(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Bi).includes(d.toUpperCase())?d.toUpperCase():Bi.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=xo(d);else if(r.includes(u)){const f=[];for(const h of d){if(h.type=="null"){e.nullable=!0;continue}f.push(xo(h))}e[u]=f}else if(o.includes(u)){const f={};for(const[h,g]of Object.entries(d))f[h]=xo(g);e[u]=f}else{if(u==="additionalProperties")continue;e[u]=d}return e}function Bh(t){return xo(t)}function Hh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function qh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ko(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=xo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=xo(e.response));return t}function zo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function ik(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function oi(t,e){if(typeof e!="string")throw new Error("name must be a string");return ik(t,e,"cachedContents")}function M5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Yi(t){return Lh(t)}function ak(t){return t!=null&&typeof t=="object"&&"name"in t}function ok(t){return t!=null&&typeof t=="object"&&"video"in t}function sk(t){return t!=null&&typeof t=="object"&&"uri"in t}function N5(t){var e;let n;if(ak(t)&&(n=t.name),!(sk(t)&&(n=t.uri,n===void 0))&&!(ok(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function R5(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function I5(t){for(const e of["models","tunedModels","publisherModels"])if(lk(t,e))return t[e];return[]}function lk(t,e){return t!==null&&typeof t=="object"&&e in t}function uk(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ck(t,e={}){const n=[],r=new Set;for(const o of t){const s=o.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const u=uk(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function D5(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function dk(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function L5(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let s=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const f=u.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Mo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function U5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fk(t){const e={},n=m(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Yk(u))),p(e,["inlinedResponses"],s)}const o=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["inlinedEmbedContentResponses"],s)}return e}function hk(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const o=m(t,["bigqueryDestination","outputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function mk(t){const e={},n=m(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const o=m(t,["bigqueryUri"]);if(o!=null&&p(e,["bigqueryDestination","outputUri"],o),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function I0(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const o=m(t,["metadata","state"]);o!=null&&p(e,["state"],U5(o));const s=m(t,["metadata","createTime"]);s!=null&&p(e,["createTime"],s);const u=m(t,["metadata","endTime"]);u!=null&&p(e,["endTime"],u);const d=m(t,["metadata","updateTime"]);d!=null&&p(e,["updateTime"],d);const f=m(t,["metadata","model"]);f!=null&&p(e,["model"],f);const h=m(t,["metadata","output"]);return h!=null&&p(e,["dest"],fk(L5(h))),e}function Yf(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const o=m(t,["state"]);o!=null&&p(e,["state"],U5(o));const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["createTime"]);u!=null&&p(e,["createTime"],u);const d=m(t,["startTime"]);d!=null&&p(e,["startTime"],d);const f=m(t,["endTime"]);f!=null&&p(e,["endTime"],f);const h=m(t,["updateTime"]);h!=null&&p(e,["updateTime"],h);const g=m(t,["model"]);g!=null&&p(e,["model"],g);const x=m(t,["inputConfig"]);x!=null&&p(e,["src"],pk(x));const b=m(t,["outputConfig"]);b!=null&&p(e,["dest"],hk(L5(b)));const w=m(t,["completionStats"]);return w!=null&&p(e,["completionStats"],w),e}function pk(t){const e={},n=m(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const o=m(t,["bigquerySource","inputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function gk(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&p(n,["fileName"],r);const o=m(e,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>$k(t,u))),p(n,["requests","requests"],s)}return n}function vk(t){const e={},n=m(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const o=m(t,["bigqueryUri"]);if(o!=null&&p(e,["bigquerySource","inputUri"],o),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function yk(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xk(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function bk(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function Sk(t){const e={},n=m(t,["content"]);n!=null&&p(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],wk(r));const o=m(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const s=m(t,["finishReason"]);s!=null&&p(e,["finishReason"],s);const u=m(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const d=m(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const f=m(t,["index"]);f!=null&&p(e,["index"],f);const h=m(t,["logprobsResult"]);h!=null&&p(e,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(w=>w)),p(e,["safetyRatings"],b)}const x=m(t,["urlContextMetadata"]);return x!=null&&p(e,["urlContextMetadata"],x),e}function wk(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),p(e,["citations"],r)}return e}function O5(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>jk(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function Tk(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _k(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const o=m(t,["dest"]);return e!==void 0&&o!=null&&p(e,["outputConfig"],mk(dk(o))),n}function $y(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["src"]);o!=null&&p(n,["batch","inputConfig"],gk(t,D5(t,o)));const s=m(e,["config"]);return s!=null&&Tk(s,n),n}function Ak(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["model"],lt(t,r));const o=m(e,["src"]);o!=null&&p(n,["inputConfig"],vk(D5(t,o)));const s=m(e,["config"]);return s!=null&&_k(s,n),n}function Ek(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function Ck(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["src"]);o!=null&&p(n,["batch","inputConfig"],Dk(t,o));const s=m(e,["config"]);return s!=null&&Ek(s,n),n}function kk(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function zk(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function Mk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);return s!=null&&p(e,["error"],s),e}function Nk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);return s!=null&&p(e,["error"],s),e}function Rk(t,e){const n={},r=m(e,["contents"]);if(r!=null){let s=Ph(t,r);Array.isArray(s)&&(s=s.map(u=>u)),p(n,["requests[]","request","content"],s)}const o=m(e,["config"]);return o!=null&&(p(n,["_self"],Ik(o,n)),zC(n,{"requests[].*":"requests[].request.*"})),n}function Ik(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const o=m(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const s=m(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&p(e,["requests[]","outputDimensionality"],s),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Dk(t,e){const n={},r=m(e,["fileName"]);r!=null&&p(n,["file_name"],r);const o=m(e,["inlinedRequests"]);return o!=null&&p(n,["requests"],Rk(t,o)),n}function Lk(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Uk(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ok(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&p(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Pk(t,e,n){const r={},o=m(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],O5(dn(o)));const s=m(e,["temperature"]);s!=null&&p(r,["temperature"],s);const u=m(e,["topP"]);u!=null&&p(r,["topP"],u);const d=m(e,["topK"]);d!=null&&p(r,["topK"],d);const f=m(e,["candidateCount"]);f!=null&&p(r,["candidateCount"],f);const h=m(e,["maxOutputTokens"]);h!=null&&p(r,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const x=m(e,["responseLogprobs"]);x!=null&&p(r,["responseLogprobs"],x);const b=m(e,["logprobs"]);b!=null&&p(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const k=m(e,["frequencyPenalty"]);k!=null&&p(r,["frequencyPenalty"],k);const E=m(e,["seed"]);E!=null&&p(r,["seed"],E);const z=m(e,["responseMimeType"]);z!=null&&p(r,["responseMimeType"],z);const R=m(e,["responseSchema"]);R!=null&&p(r,["responseSchema"],Bh(R));const L=m(e,["responseJsonSchema"]);if(L!=null&&p(r,["responseJsonSchema"],L),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=m(e,["safetySettings"]);if(n!==void 0&&B!=null){let Q=B;Array.isArray(Q)&&(Q=Q.map(W=>ez(W))),p(n,["safetySettings"],Q)}const D=m(e,["tools"]);if(n!==void 0&&D!=null){let Q=zo(D);Array.isArray(Q)&&(Q=Q.map(W=>nz(ko(W)))),p(n,["tools"],Q)}const U=m(e,["toolConfig"]);if(n!==void 0&&U!=null&&p(n,["toolConfig"],tz(U)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=m(e,["cachedContent"]);n!==void 0&&$!=null&&p(n,["cachedContent"],oi(t,$));const I=m(e,["responseModalities"]);I!=null&&p(r,["responseModalities"],I);const O=m(e,["mediaResolution"]);O!=null&&p(r,["mediaResolution"],O);const F=m(e,["speechConfig"]);if(F!=null&&p(r,["speechConfig"],Hh(F)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=m(e,["thinkingConfig"]);Z!=null&&p(r,["thinkingConfig"],Z);const Y=m(e,["imageConfig"]);Y!=null&&p(r,["imageConfig"],Fk(Y));const X=m(e,["enableEnhancedCivicAnswers"]);return X!=null&&p(r,["enableEnhancedCivicAnswers"],X),r}function Bk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Sk(h))),p(e,["candidates"],f)}const o=m(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=m(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const u=m(t,["responseId"]);u!=null&&p(e,["responseId"],u);const d=m(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function Hk(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function qk(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],Mo(t,r)),n}function Gk(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Vk(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Fk(t){const e={},n=m(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $k(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["request","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let d=ar(o);Array.isArray(d)&&(d=d.map(f=>O5(f))),p(n,["request","contents"],d)}const s=m(e,["metadata"]);s!=null&&p(n,["metadata"],s);const u=m(e,["config"]);return u!=null&&p(n,["request","generationConfig"],Pk(t,u,m(n,["request"],{}))),n}function Yk(t){const e={},n=m(t,["response"]);n!=null&&p(e,["response"],Bk(n));const r=m(t,["error"]);return r!=null&&p(e,["error"],r),e}function Jk(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);if(e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Xk(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=m(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),n}function Kk(t){const e={},n=m(t,["config"]);return n!=null&&Jk(n,e),e}function Zk(t){const e={},n=m(t,["config"]);return n!=null&&Xk(n,e),e}function Wk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>I0(u))),p(e,["batchJobs"],s)}return e}function Qk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Yf(u))),p(e,["batchJobs"],s)}return e}function jk(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],Lk(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],Uk(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],yk(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const x=m(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function ez(t){const e={},n=m(t,["category"]);if(n!=null&&p(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function tz(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],Ok(r)),e}function nz(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(x=>x)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],Gk(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],Vk(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ri;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ri||(ri={}));class _a{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!r||Object.keys(r).length===0?u={config:{}}:typeof r=="object"?u=Object.assign({},r):u=r,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(s=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rz extends ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _a(ri.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=$y(this.apiClient,e),r=n._url,o=Ae("{model}:batchGenerateContent",r),d=n.batch.inputConfig.requests,f=d.requests,h=[];for(const g of f){const x=Object.assign({},g);if(x.systemInstruction){const b=x.systemInstruction;delete x.systemInstruction;const w=x.request;w.systemInstruction=b,x.request=w}h.push(x)}return d.requests=h,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const s=this.getGcsUri(e),u=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${o}`;else if(u)r.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Ak(this.apiClient,e);return d=Ae("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Yf(g))}else{const h=$y(this.apiClient,e);return d=Ae("{model}:batchGenerateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>I0(g))}}async createEmbeddingsInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Ck(this.apiClient,e);return s=Ae("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>I0(f))}}async get(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=qk(this.apiClient,e);return d=Ae("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Yf(g))}else{const h=Hk(this.apiClient,e);return d=Ae("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>I0(g))}}async cancel(e){var n,r,o,s;let u="",d={};if(this.apiClient.isVertexAI()){const f=bk(this.apiClient,e);u=Ae("batchPredictionJobs/{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=xk(this.apiClient,e);u=Ae("batches/{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Zk(e);return d=Ae("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=Qk(g),b=new qy;return Object.assign(b,x),b})}else{const h=Kk(e);return d=Ae("batches",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=Wk(g),b=new qy;return Object.assign(b,x),b})}}async delete(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=zk(this.apiClient,e);return d=Ae("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>Nk(g))}else{const h=kk(this.apiClient,e);return d=Ae("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>Mk(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iz(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Yy(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Cz(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function az(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const o=m(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const s=m(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const u=m(t,["contents"]);if(e!==void 0&&u!=null){let g=ar(u);Array.isArray(g)&&(g=g.map(x=>Yy(x))),p(e,["contents"],g)}const d=m(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],Yy(dn(d)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(x=>zz(x))),p(e,["tools"],g)}const h=m(t,["toolConfig"]);if(e!==void 0&&h!=null&&p(e,["toolConfig"],kz(h)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function oz(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const o=m(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const s=m(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const u=m(t,["contents"]);if(e!==void 0&&u!=null){let x=ar(u);Array.isArray(x)&&(x=x.map(b=>b)),p(e,["contents"],x)}const d=m(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],dn(d));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let x=f;Array.isArray(x)&&(x=x.map(b=>Mz(b))),p(e,["tools"],x)}const h=m(t,["toolConfig"]);e!==void 0&&h!=null&&p(e,["toolConfig"],h);const g=m(t,["kmsKeyName"]);return e!==void 0&&g!=null&&p(e,["encryption_spec","kmsKeyName"],g),n}function sz(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["model"],A5(t,r));const o=m(e,["config"]);return o!=null&&az(o,n),n}function lz(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["model"],A5(t,r));const o=m(e,["config"]);return o!=null&&oz(o,n),n}function uz(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],oi(t,r)),n}function cz(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],oi(t,r)),n}function dz(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function fz(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function hz(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function mz(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pz(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&p(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function gz(t){const e={},n=m(t,["description"]);n!=null&&p(e,["description"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=m(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const u=m(t,["response"]);u!=null&&p(e,["response"],u);const d=m(t,["responseJsonSchema"]);if(d!=null&&p(e,["responseJsonSchema"],d),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function vz(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],oi(t,r)),n}function yz(t,e){const n={},r=m(e,["name"]);return r!=null&&p(n,["_url","name"],oi(t,r)),n}function xz(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function bz(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Sz(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function wz(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function Tz(t){const e={},n=m(t,["config"]);return n!=null&&Sz(n,e),e}function _z(t){const e={},n=m(t,["config"]);return n!=null&&wz(n,e),e}function Az(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["cachedContents"],s)}return e}function Ez(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["cachedContents"],s)}return e}function Cz(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],hz(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],mz(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],iz(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const x=m(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function kz(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],pz(r)),e}function zz(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(x=>x)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],xz(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],bz(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}function Mz(t){const e={},n=m(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(t,["codeExecution"]);o!=null&&p(e,["codeExecution"],o);const s=m(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const u=m(t,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>gz(b))),p(e,["functionDeclarations"],x)}const d=m(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],d);const f=m(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],f);const h=m(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&p(e,["urlContext"],g),e}function Nz(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const o=m(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function Rz(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const o=m(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function Iz(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],oi(t,r));const o=m(e,["config"]);return o!=null&&Nz(o,n),n}function Dz(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],oi(t,r));const o=m(e,["config"]);return o!=null&&Rz(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lz extends ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _a(ri.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=lz(this.apiClient,e);return d=Ae("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=sz(this.apiClient,e);return d=Ae("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=yz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=vz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=cz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=fz(g),b=new By;return Object.assign(b,x),b})}else{const h=uz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=dz(g),b=new By;return Object.assign(b,x),b})}}async update(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Dz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=Iz(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=_z(e);return d=Ae("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=Ez(g),b=new Hy;return Object.assign(b,x),b})}else{const h=Tz(e);return d=Ae("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=Az(g),b=new Hy;return Object.assign(b,x),b})}}}function eu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Jy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(t){return this instanceof Fe?(this.v=t,this):new Fe(t)}function pr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(w){return function(k){return Promise.resolve(k).then(w,x)}}function d(w,k){r[w]&&(o[w]=function(E){return new Promise(function(z,R){s.push([w,E,z,R])>1||f(w,E)})},k&&(o[w]=k(o[w])))}function f(w,k){try{h(r[w](k))}catch(E){b(s[0][3],E)}}function h(w){w.value instanceof Fe?Promise.resolve(w.value.v).then(g,x):b(s[0][2],w)}function g(w){f("next",w)}function x(w){f("throw",w)}function b(w,k){w(k),s.shift(),s.length&&f(s[0][0],s[0][1])}}function gr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Jy=="function"?Jy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(u){return new Promise(function(d,f){u=t[s](u),o(d,f,u.done,u.value)})}}function o(s,u,d,f){Promise.resolve(f).then(function(h){s({value:h,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uz(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:P5(n)}function P5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Oz(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Xy(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let s=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),s&&!P5(t[r])&&(s=!1),r++;s?e.push(...o):e.pop()}return e}class Pz{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Bz(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Bz{constructor(e,n,r,o={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),Oz(s)}async sendMessage(e){var n;await this.sendPromise;const r=dn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,u,d;const f=await o,h=(u=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content,g=f.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let b=[];g!=null&&(b=(d=g.slice(x))!==null&&d!==void 0?d:[]);const w=h?[h]:[];this.recordHistory(r,w,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=dn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?Xy(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return pr(this,arguments,function*(){var o,s,u,d,f,h;const g=[];try{for(var x=!0,b=gr(e),w;w=yield Fe(b.next()),o=w.done,!o;x=!0){d=w.value,x=!1;const k=d;if(Uz(k)){const E=(h=(f=k.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content;E!==void 0&&g.push(E)}yield yield Fe(k)}}catch(k){s={error:k}}finally{try{!x&&!o&&(u=b.return)&&(yield Fe(u.call(b)))}finally{if(s)throw s.error}}this.recordHistory(n,g)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Xy(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,bu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hz(t){const e={},n=m(t,["file"]);return n!=null&&p(e,["file"],n),e}function qz(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Gz(t){const e={},n=m(t,["name"]);return n!=null&&p(e,["_url","file"],N5(n)),e}function Vz(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Fz(t){const e={},n=m(t,["name"]);return n!=null&&p(e,["_url","file"],N5(n)),e}function $z(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function Yz(t){const e={},n=m(t,["config"]);return n!=null&&$z(n,e),e}function Jz(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xz extends ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _a(ri.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Yz(e);return s=Ae("files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Jz(f),g=new QC;return Object.assign(g,h),g})}}async createInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Hz(e);return s=Ae("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=qz(f),g=new jC;return Object.assign(g,h),g})}}async get(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Fz(e);return s=Ae("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Gz(e);return s=Ae("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Vz(f),g=new ek;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D0(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Kz(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>dM(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function Zz(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Wz(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qz(t){const e={},n=m(t,["description"]);n!=null&&p(e,["description"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=m(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const u=m(t,["response"]);u!=null&&p(e,["response"],u);const d=m(t,["responseJsonSchema"]);if(d!=null&&p(e,["responseJsonSchema"],d),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function jz(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const o=m(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const s=m(t,["candidateCount"]);s!=null&&p(e,["candidateCount"],s);const u=m(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const d=m(t,["frequencyPenalty"]);d!=null&&p(e,["frequencyPenalty"],d);const f=m(t,["logprobs"]);f!=null&&p(e,["logprobs"],f);const h=m(t,["maxOutputTokens"]);h!=null&&p(e,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&p(e,["mediaResolution"],g);const x=m(t,["presencePenalty"]);x!=null&&p(e,["presencePenalty"],x);const b=m(t,["responseLogprobs"]);b!=null&&p(e,["responseLogprobs"],b);const w=m(t,["responseMimeType"]);w!=null&&p(e,["responseMimeType"],w);const k=m(t,["responseModalities"]);k!=null&&p(e,["responseModalities"],k);const E=m(t,["responseSchema"]);E!=null&&p(e,["responseSchema"],E);const z=m(t,["routingConfig"]);z!=null&&p(e,["routingConfig"],z);const R=m(t,["seed"]);R!=null&&p(e,["seed"],R);const L=m(t,["speechConfig"]);L!=null&&p(e,["speechConfig"],L);const B=m(t,["stopSequences"]);B!=null&&p(e,["stopSequences"],B);const D=m(t,["temperature"]);D!=null&&p(e,["temperature"],D);const U=m(t,["thinkingConfig"]);U!=null&&p(e,["thinkingConfig"],U);const $=m(t,["topK"]);$!=null&&p(e,["topK"],$);const I=m(t,["topP"]);if(I!=null&&p(e,["topP"],I),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function eM(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function tM(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function nM(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const o=m(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const s=m(t,["temperature"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","temperature"],s);const u=m(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=m(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","maxOutputTokens"],f);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","mediaResolution"],h);const g=m(t,["seed"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","seed"],g);const x=m(t,["speechConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","speechConfig"],qh(x));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],w);const k=m(t,["systemInstruction"]);e!==void 0&&k!=null&&p(e,["setup","systemInstruction"],Kz(dn(k)));const E=m(t,["tools"]);if(e!==void 0&&E!=null){let $=zo(E);Array.isArray($)&&($=$.map(I=>hM(ko(I)))),p(e,["setup","tools"],$)}const z=m(t,["sessionResumption"]);e!==void 0&&z!=null&&p(e,["setup","sessionResumption"],fM(z));const R=m(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&p(e,["setup","inputAudioTranscription"],R);const L=m(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&p(e,["setup","outputAudioTranscription"],L);const B=m(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&p(e,["setup","realtimeInputConfig"],B);const D=m(t,["contextWindowCompression"]);e!==void 0&&D!=null&&p(e,["setup","contextWindowCompression"],D);const U=m(t,["proactivity"]);if(e!==void 0&&U!=null&&p(e,["setup","proactivity"],U),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function rM(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],jz(r));const o=m(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const s=m(t,["temperature"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","temperature"],s);const u=m(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=m(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","maxOutputTokens"],f);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","mediaResolution"],h);const g=m(t,["seed"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","seed"],g);const x=m(t,["speechConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","speechConfig"],qh(x));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],w);const k=m(t,["systemInstruction"]);e!==void 0&&k!=null&&p(e,["setup","systemInstruction"],dn(k));const E=m(t,["tools"]);if(e!==void 0&&E!=null){let I=zo(E);Array.isArray(I)&&(I=I.map(O=>mM(ko(O)))),p(e,["setup","tools"],I)}const z=m(t,["sessionResumption"]);e!==void 0&&z!=null&&p(e,["setup","sessionResumption"],z);const R=m(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&p(e,["setup","inputAudioTranscription"],R);const L=m(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&p(e,["setup","outputAudioTranscription"],L);const B=m(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&p(e,["setup","realtimeInputConfig"],B);const D=m(t,["contextWindowCompression"]);e!==void 0&&D!=null&&p(e,["setup","contextWindowCompression"],D);const U=m(t,["proactivity"]);e!==void 0&&U!=null&&p(e,["setup","proactivity"],U);const $=m(t,["explicitVadSignal"]);return e!==void 0&&$!=null&&p(e,["setup","explicitVadSignal"],$),n}function iM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["setup","model"],lt(t,r));const o=m(e,["config"]);return o!=null&&p(n,["config"],nM(o,n)),n}function aM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["setup","model"],lt(t,r));const o=m(e,["config"]);return o!=null&&p(n,["config"],rM(o,n)),n}function oM(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function sM(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),p(e,["weightedPrompts"],r)}return e}function lM(t){const e={},n=m(t,["media"]);if(n!=null){let h=E5(n);Array.isArray(h)&&(h=h.map(g=>D0(g))),p(e,["mediaChunks"],h)}const r=m(t,["audio"]);r!=null&&p(e,["audio"],D0(k5(r)));const o=m(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const s=m(t,["video"]);s!=null&&p(e,["video"],D0(C5(s)));const u=m(t,["text"]);u!=null&&p(e,["text"],u);const d=m(t,["activityStart"]);d!=null&&p(e,["activityStart"],d);const f=m(t,["activityEnd"]);return f!=null&&p(e,["activityEnd"],f),e}function uM(t){const e={},n=m(t,["media"]);if(n!=null){let h=E5(n);Array.isArray(h)&&(h=h.map(g=>g)),p(e,["mediaChunks"],h)}const r=m(t,["audio"]);r!=null&&p(e,["audio"],k5(r));const o=m(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const s=m(t,["video"]);s!=null&&p(e,["video"],C5(s));const u=m(t,["text"]);u!=null&&p(e,["text"],u);const d=m(t,["activityStart"]);d!=null&&p(e,["activityStart"],d);const f=m(t,["activityEnd"]);return f!=null&&p(e,["activityEnd"],f),e}function cM(t){const e={},n=m(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const o=m(t,["toolCall"]);o!=null&&p(e,["toolCall"],o);const s=m(t,["toolCallCancellation"]);s!=null&&p(e,["toolCallCancellation"],s);const u=m(t,["usageMetadata"]);u!=null&&p(e,["usageMetadata"],pM(u));const d=m(t,["goAway"]);d!=null&&p(e,["goAway"],d);const f=m(t,["sessionResumptionUpdate"]);f!=null&&p(e,["sessionResumptionUpdate"],f);const h=m(t,["voiceActivityDetectionSignal"]);return h!=null&&p(e,["voiceActivityDetectionSignal"],h),e}function dM(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],Zz(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],Wz(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],D0(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const x=m(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function fM(t){const e={},n=m(t,["handle"]);if(n!=null&&p(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hM(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(x=>x)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],eM(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],tM(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}function mM(t){const e={},n=m(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(t,["codeExecution"]);o!=null&&p(e,["codeExecution"],o);const s=m(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const u=m(t,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>Qz(b))),p(e,["functionDeclarations"],x)}const d=m(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],d);const f=m(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],f);const h=m(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&p(e,["urlContext"],g),e}function pM(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const o=m(t,["candidatesTokenCount"]);o!=null&&p(e,["responseTokenCount"],o);const s=m(t,["toolUsePromptTokenCount"]);s!=null&&p(e,["toolUsePromptTokenCount"],s);const u=m(t,["thoughtsTokenCount"]);u!=null&&p(e,["thoughtsTokenCount"],u);const d=m(t,["totalTokenCount"]);d!=null&&p(e,["totalTokenCount"],d);const f=m(t,["promptTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(k=>k)),p(e,["promptTokensDetails"],w)}const h=m(t,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(k=>k)),p(e,["cacheTokensDetails"],w)}const g=m(t,["candidatesTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(k=>k)),p(e,["responseTokensDetails"],w)}const x=m(t,["toolUsePromptTokensDetails"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(k=>k)),p(e,["toolUsePromptTokensDetails"],w)}const b=m(t,["trafficType"]);return b!=null&&p(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gM(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vM(t){const e={},n=m(t,["content"]);n!=null&&p(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],yM(r));const o=m(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const s=m(t,["finishReason"]);s!=null&&p(e,["finishReason"],s);const u=m(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const d=m(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const f=m(t,["index"]);f!=null&&p(e,["index"],f);const h=m(t,["logprobsResult"]);h!=null&&p(e,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(w=>w)),p(e,["safetyRatings"],b)}const x=m(t,["urlContextMetadata"]);return x!=null&&p(e,["urlContextMetadata"],x),e}function yM(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),p(e,["citations"],r)}return e}function xM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let s=ar(o);Array.isArray(s)&&(s=s.map(u=>u)),p(n,["contents"],s)}return n}function bM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["tokensInfo"],o)}return e}function SM(t){const e={},n=m(t,["values"]);n!=null&&p(e,["values"],n);const r=m(t,["statistics"]);return r!=null&&p(e,["statistics"],wM(r)),e}function wM(t){const e={},n=m(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=m(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Su(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>NN(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function TM(t){const e={},n=m(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=m(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function _M(t){const e={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function AM(t,e){const n={},r=m(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],dn(r));const o=m(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>G5(d))),p(e,["tools"],u)}const s=m(t,["generationConfig"]);return e!==void 0&&s!=null&&p(e,["generationConfig"],gN(s)),n}function EM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=ar(o);Array.isArray(u)&&(u=u.map(d=>Su(d))),p(n,["contents"],u)}const s=m(e,["config"]);return s!=null&&_M(s),n}function CM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=ar(o);Array.isArray(u)&&(u=u.map(d=>d)),p(n,["contents"],u)}const s=m(e,["config"]);return s!=null&&AM(s,n),n}function kM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const o=m(t,["cachedContentTokenCount"]);return o!=null&&p(e,["cachedContentTokenCount"],o),e}function zM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function MM(t,e){const n={},r=m(e,["model"]);return r!=null&&p(n,["_url","name"],lt(t,r)),n}function NM(t,e){const n={},r=m(e,["model"]);return r!=null&&p(n,["_url","name"],lt(t,r)),n}function RM(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function IM(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function DM(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const o=m(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const s=m(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const u=m(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=m(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const f=m(t,["seed"]);e!==void 0&&f!=null&&p(e,["parameters","seed"],f);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&p(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&p(e,["parameters","personGeneration"],g);const x=m(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&p(e,["parameters","includeSafetyAttributes"],x);const b=m(t,["includeRaiReason"]);e!==void 0&&b!=null&&p(e,["parameters","includeRaiReason"],b);const w=m(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const k=m(t,["outputMimeType"]);e!==void 0&&k!=null&&p(e,["parameters","outputOptions","mimeType"],k);const E=m(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","compressionQuality"],E);const z=m(t,["addWatermark"]);e!==void 0&&z!=null&&p(e,["parameters","addWatermark"],z);const R=m(t,["labels"]);e!==void 0&&R!=null&&p(e,["labels"],R);const L=m(t,["editMode"]);e!==void 0&&L!=null&&p(e,["parameters","editMode"],L);const B=m(t,["baseSteps"]);return e!==void 0&&B!=null&&p(e,["parameters","editConfig","baseSteps"],B),n}function LM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["referenceImages"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>ON(f))),p(n,["instances[0]","referenceImages"],d)}const u=m(e,["config"]);return u!=null&&DM(u,n),n}function UM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>wu(s))),p(e,["generatedImages"],o)}return e}function OM(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const o=m(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const s=m(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&p(e,["requests[]","outputDimensionality"],s),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function PM(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const o=m(t,["title"]);e!==void 0&&o!=null&&p(e,["instances[]","title"],o);const s=m(t,["outputDimensionality"]);e!==void 0&&s!=null&&p(e,["parameters","outputDimensionality"],s);const u=m(t,["mimeType"]);e!==void 0&&u!=null&&p(e,["instances[]","mimeType"],u);const d=m(t,["autoTruncate"]);return e!==void 0&&d!=null&&p(e,["parameters","autoTruncate"],d),n}function BM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let d=Ph(t,o);Array.isArray(d)&&(d=d.map(f=>f)),p(n,["requests[]","content"],d)}const s=m(e,["config"]);s!=null&&OM(s,n);const u=m(e,["model"]);return u!==void 0&&p(n,["requests[]","model"],lt(t,u)),n}function HM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=Ph(t,o);Array.isArray(u)&&(u=u.map(d=>d)),p(n,["instances[]","content"],u)}const s=m(e,["config"]);return s!=null&&PM(s,n),n}function qM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["embeddings"],s)}const o=m(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function GM(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>SM(u))),p(e,["embeddings"],s)}const o=m(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function VM(t){const e={},n=m(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=m(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function FM(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function $M(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function YM(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&p(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function JM(t){const e={},n=m(t,["description"]);n!=null&&p(e,["description"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=m(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const u=m(t,["response"]);u!=null&&p(e,["response"],u);const d=m(t,["responseJsonSchema"]);if(d!=null&&p(e,["responseJsonSchema"],d),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function XM(t,e,n){const r={},o=m(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Su(dn(o)));const s=m(e,["temperature"]);s!=null&&p(r,["temperature"],s);const u=m(e,["topP"]);u!=null&&p(r,["topP"],u);const d=m(e,["topK"]);d!=null&&p(r,["topK"],d);const f=m(e,["candidateCount"]);f!=null&&p(r,["candidateCount"],f);const h=m(e,["maxOutputTokens"]);h!=null&&p(r,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const x=m(e,["responseLogprobs"]);x!=null&&p(r,["responseLogprobs"],x);const b=m(e,["logprobs"]);b!=null&&p(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const k=m(e,["frequencyPenalty"]);k!=null&&p(r,["frequencyPenalty"],k);const E=m(e,["seed"]);E!=null&&p(r,["seed"],E);const z=m(e,["responseMimeType"]);z!=null&&p(r,["responseMimeType"],z);const R=m(e,["responseSchema"]);R!=null&&p(r,["responseSchema"],Bh(R));const L=m(e,["responseJsonSchema"]);if(L!=null&&p(r,["responseJsonSchema"],L),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=m(e,["safetySettings"]);if(n!==void 0&&B!=null){let Q=B;Array.isArray(Q)&&(Q=Q.map(W=>PN(W))),p(n,["safetySettings"],Q)}const D=m(e,["tools"]);if(n!==void 0&&D!=null){let Q=zo(D);Array.isArray(Q)&&(Q=Q.map(W=>$N(ko(W)))),p(n,["tools"],Q)}const U=m(e,["toolConfig"]);if(n!==void 0&&U!=null&&p(n,["toolConfig"],FN(U)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=m(e,["cachedContent"]);n!==void 0&&$!=null&&p(n,["cachedContent"],oi(t,$));const I=m(e,["responseModalities"]);I!=null&&p(r,["responseModalities"],I);const O=m(e,["mediaResolution"]);O!=null&&p(r,["mediaResolution"],O);const F=m(e,["speechConfig"]);if(F!=null&&p(r,["speechConfig"],Hh(F)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=m(e,["thinkingConfig"]);Z!=null&&p(r,["thinkingConfig"],Z);const Y=m(e,["imageConfig"]);Y!=null&&p(r,["imageConfig"],SN(Y));const X=m(e,["enableEnhancedCivicAnswers"]);return X!=null&&p(r,["enableEnhancedCivicAnswers"],X),r}function KM(t,e,n){const r={},o=m(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],dn(o));const s=m(e,["temperature"]);s!=null&&p(r,["temperature"],s);const u=m(e,["topP"]);u!=null&&p(r,["topP"],u);const d=m(e,["topK"]);d!=null&&p(r,["topK"],d);const f=m(e,["candidateCount"]);f!=null&&p(r,["candidateCount"],f);const h=m(e,["maxOutputTokens"]);h!=null&&p(r,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const x=m(e,["responseLogprobs"]);x!=null&&p(r,["responseLogprobs"],x);const b=m(e,["logprobs"]);b!=null&&p(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const k=m(e,["frequencyPenalty"]);k!=null&&p(r,["frequencyPenalty"],k);const E=m(e,["seed"]);E!=null&&p(r,["seed"],E);const z=m(e,["responseMimeType"]);z!=null&&p(r,["responseMimeType"],z);const R=m(e,["responseSchema"]);R!=null&&p(r,["responseSchema"],Bh(R));const L=m(e,["responseJsonSchema"]);L!=null&&p(r,["responseJsonSchema"],L);const B=m(e,["routingConfig"]);B!=null&&p(r,["routingConfig"],B);const D=m(e,["modelSelectionConfig"]);D!=null&&p(r,["modelConfig"],D);const U=m(e,["safetySettings"]);if(n!==void 0&&U!=null){let G=U;Array.isArray(G)&&(G=G.map(le=>le)),p(n,["safetySettings"],G)}const $=m(e,["tools"]);if(n!==void 0&&$!=null){let G=zo($);Array.isArray(G)&&(G=G.map(le=>G5(ko(le)))),p(n,["tools"],G)}const I=m(e,["toolConfig"]);n!==void 0&&I!=null&&p(n,["toolConfig"],I);const O=m(e,["labels"]);n!==void 0&&O!=null&&p(n,["labels"],O);const F=m(e,["cachedContent"]);n!==void 0&&F!=null&&p(n,["cachedContent"],oi(t,F));const Z=m(e,["responseModalities"]);Z!=null&&p(r,["responseModalities"],Z);const Y=m(e,["mediaResolution"]);Y!=null&&p(r,["mediaResolution"],Y);const X=m(e,["speechConfig"]);X!=null&&p(r,["speechConfig"],Hh(X));const Q=m(e,["audioTimestamp"]);Q!=null&&p(r,["audioTimestamp"],Q);const W=m(e,["thinkingConfig"]);W!=null&&p(r,["thinkingConfig"],W);const ie=m(e,["imageConfig"]);if(ie!=null&&p(r,["imageConfig"],wN(ie)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Ky(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=ar(o);Array.isArray(u)&&(u=u.map(d=>Su(d))),p(n,["contents"],u)}const s=m(e,["config"]);return s!=null&&p(n,["generationConfig"],XM(t,s,n)),n}function Zy(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["contents"]);if(o!=null){let u=ar(o);Array.isArray(u)&&(u=u.map(d=>d)),p(n,["contents"],u)}const s=m(e,["config"]);return s!=null&&p(n,["generationConfig"],KM(t,s,n)),n}function Wy(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>vM(h))),p(e,["candidates"],f)}const o=m(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=m(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const u=m(t,["responseId"]);u!=null&&p(e,["responseId"],u);const d=m(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function Qy(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["candidates"],h)}const o=m(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=m(t,["modelVersion"]);s!=null&&p(e,["modelVersion"],s);const u=m(t,["promptFeedback"]);u!=null&&p(e,["promptFeedback"],u);const d=m(t,["responseId"]);d!=null&&p(e,["responseId"],d);const f=m(t,["usageMetadata"]);return f!=null&&p(e,["usageMetadata"],f),e}function ZM(t,e){const n={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const o=m(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=m(t,["guidanceScale"]);if(e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=m(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d);const f=m(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=m(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=m(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const x=m(t,["outputMimeType"]);e!==void 0&&x!=null&&p(e,["parameters","outputOptions","mimeType"],x);const b=m(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&p(e,["parameters","outputOptions","compressionQuality"],b),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=m(t,["imageSize"]);if(e!==void 0&&w!=null&&p(e,["parameters","sampleImageSize"],w),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function WM(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const o=m(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const s=m(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const u=m(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=m(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const f=m(t,["seed"]);e!==void 0&&f!=null&&p(e,["parameters","seed"],f);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&p(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&p(e,["parameters","personGeneration"],g);const x=m(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&p(e,["parameters","includeSafetyAttributes"],x);const b=m(t,["includeRaiReason"]);e!==void 0&&b!=null&&p(e,["parameters","includeRaiReason"],b);const w=m(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const k=m(t,["outputMimeType"]);e!==void 0&&k!=null&&p(e,["parameters","outputOptions","mimeType"],k);const E=m(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","compressionQuality"],E);const z=m(t,["addWatermark"]);e!==void 0&&z!=null&&p(e,["parameters","addWatermark"],z);const R=m(t,["labels"]);e!==void 0&&R!=null&&p(e,["labels"],R);const L=m(t,["imageSize"]);e!==void 0&&L!=null&&p(e,["parameters","sampleImageSize"],L);const B=m(t,["enhancePrompt"]);return e!==void 0&&B!=null&&p(e,["parameters","enhancePrompt"],B),n}function QM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["config"]);return s!=null&&ZM(s,n),n}function jM(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["config"]);return s!=null&&WM(s,n),n}function eN(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>fN(u))),p(e,["generatedImages"],s)}const o=m(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],H5(o)),e}function tN(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>wu(u))),p(e,["generatedImages"],s)}const o=m(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],q5(o)),e}function nN(t,e){const n={},r=m(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=m(t,["durationSeconds"]);if(e!==void 0&&o!=null&&p(e,["parameters","durationSeconds"],o),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=m(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const u=m(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const d=m(t,["personGeneration"]);if(e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=m(t,["negativePrompt"]);e!==void 0&&f!=null&&p(e,["parameters","negativePrompt"],f);const h=m(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=m(t,["lastFrame"]);e!==void 0&&g!=null&&p(e,["instances[0]","lastFrame"],Tu(g));const x=m(t,["referenceImages"]);if(e!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(w=>iR(w))),p(e,["instances[0]","referenceImages"],b)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function rN(t,e){const n={},r=m(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const s=m(t,["fps"]);e!==void 0&&s!=null&&p(e,["parameters","fps"],s);const u=m(t,["durationSeconds"]);e!==void 0&&u!=null&&p(e,["parameters","durationSeconds"],u);const d=m(t,["seed"]);e!==void 0&&d!=null&&p(e,["parameters","seed"],d);const f=m(t,["aspectRatio"]);e!==void 0&&f!=null&&p(e,["parameters","aspectRatio"],f);const h=m(t,["resolution"]);e!==void 0&&h!=null&&p(e,["parameters","resolution"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&p(e,["parameters","personGeneration"],g);const x=m(t,["pubsubTopic"]);e!==void 0&&x!=null&&p(e,["parameters","pubsubTopic"],x);const b=m(t,["negativePrompt"]);e!==void 0&&b!=null&&p(e,["parameters","negativePrompt"],b);const w=m(t,["enhancePrompt"]);e!==void 0&&w!=null&&p(e,["parameters","enhancePrompt"],w);const k=m(t,["generateAudio"]);e!==void 0&&k!=null&&p(e,["parameters","generateAudio"],k);const E=m(t,["lastFrame"]);e!==void 0&&E!=null&&p(e,["instances[0]","lastFrame"],vr(E));const z=m(t,["referenceImages"]);if(e!==void 0&&z!=null){let B=z;Array.isArray(B)&&(B=B.map(D=>aR(D))),p(e,["instances[0]","referenceImages"],B)}const R=m(t,["mask"]);e!==void 0&&R!=null&&p(e,["instances[0]","mask"],rR(R));const L=m(t,["compressionQuality"]);return e!==void 0&&L!=null&&p(e,["parameters","compressionQuality"],L),n}function iN(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],lN(u)),e}function aN(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],uN(u)),e}function oN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["image"]);s!=null&&p(n,["instances[0]","image"],Tu(s));const u=m(e,["video"]);u!=null&&p(n,["instances[0]","video"],V5(u));const d=m(e,["source"]);d!=null&&cN(d,n);const f=m(e,["config"]);return f!=null&&nN(f,n),n}function sN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=m(e,["image"]);s!=null&&p(n,["instances[0]","image"],vr(s));const u=m(e,["video"]);u!=null&&p(n,["instances[0]","video"],F5(u));const d=m(e,["source"]);d!=null&&dN(d,n);const f=m(e,["config"]);return f!=null&&rN(f,n),n}function lN(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>mN(u))),p(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function uN(t){const e={},n=m(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>pN(u))),p(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function cN(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const o=m(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Tu(o));const s=m(t,["video"]);return e!==void 0&&s!=null&&p(e,["instances[0]","video"],V5(s)),n}function dN(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const o=m(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],vr(o));const s=m(t,["video"]);return e!==void 0&&s!=null&&p(e,["instances[0]","video"],F5(s)),n}function fN(t){const e={},n=m(t,["_self"]);n!=null&&p(e,["image"],TN(n));const r=m(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const o=m(t,["_self"]);return o!=null&&p(e,["safetyAttributes"],H5(o)),e}function wu(t){const e={},n=m(t,["_self"]);n!=null&&p(e,["image"],B5(n));const r=m(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const o=m(t,["_self"]);o!=null&&p(e,["safetyAttributes"],q5(o));const s=m(t,["prompt"]);return s!=null&&p(e,["enhancedPrompt"],s),e}function hN(t){const e={},n=m(t,["_self"]);n!=null&&p(e,["mask"],B5(n));const r=m(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["labels"],o)}return e}function mN(t){const e={},n=m(t,["video"]);return n!=null&&p(e,["video"],tR(n)),e}function pN(t){const e={},n=m(t,["_self"]);return n!=null&&p(e,["video"],nR(n)),e}function gN(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const o=m(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const s=m(t,["candidateCount"]);s!=null&&p(e,["candidateCount"],s);const u=m(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const d=m(t,["frequencyPenalty"]);d!=null&&p(e,["frequencyPenalty"],d);const f=m(t,["logprobs"]);f!=null&&p(e,["logprobs"],f);const h=m(t,["maxOutputTokens"]);h!=null&&p(e,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&p(e,["mediaResolution"],g);const x=m(t,["presencePenalty"]);x!=null&&p(e,["presencePenalty"],x);const b=m(t,["responseLogprobs"]);b!=null&&p(e,["responseLogprobs"],b);const w=m(t,["responseMimeType"]);w!=null&&p(e,["responseMimeType"],w);const k=m(t,["responseModalities"]);k!=null&&p(e,["responseModalities"],k);const E=m(t,["responseSchema"]);E!=null&&p(e,["responseSchema"],E);const z=m(t,["routingConfig"]);z!=null&&p(e,["routingConfig"],z);const R=m(t,["seed"]);R!=null&&p(e,["seed"],R);const L=m(t,["speechConfig"]);L!=null&&p(e,["speechConfig"],L);const B=m(t,["stopSequences"]);B!=null&&p(e,["stopSequences"],B);const D=m(t,["temperature"]);D!=null&&p(e,["temperature"],D);const U=m(t,["thinkingConfig"]);U!=null&&p(e,["thinkingConfig"],U);const $=m(t,["topK"]);$!=null&&p(e,["topK"],$);const I=m(t,["topP"]);if(I!=null&&p(e,["topP"],I),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function vN(t,e){const n={},r=m(e,["model"]);return r!=null&&p(n,["_url","name"],lt(t,r)),n}function yN(t,e){const n={},r=m(e,["model"]);return r!=null&&p(n,["_url","name"],lt(t,r)),n}function xN(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function bN(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function SN(t){const e={},n=m(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function wN(t){const e={},n=m(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=m(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const o=m(t,["personGeneration"]);o!=null&&p(e,["personGeneration"],o);const s=m(t,["outputMimeType"]);s!=null&&p(e,["imageOutputOptions","mimeType"],s);const u=m(t,["outputCompressionQuality"]);return u!=null&&p(e,["imageOutputOptions","compressionQuality"],u),e}function TN(t){const e={},n=m(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Yi(n));const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function B5(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Yi(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function Tu(t){const e={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Yi(n));const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vr(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=m(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Yi(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function _N(t,e,n){const r={},o=m(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const s=m(e,["pageToken"]);n!==void 0&&s!=null&&p(n,["_query","pageToken"],s);const u=m(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const d=m(e,["queryBase"]);return n!==void 0&&d!=null&&p(n,["_url","models_url"],R5(t,d)),r}function AN(t,e,n){const r={},o=m(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const s=m(e,["pageToken"]);n!==void 0&&s!=null&&p(n,["_query","pageToken"],s);const u=m(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const d=m(e,["queryBase"]);return n!==void 0&&d!=null&&p(n,["_url","models_url"],R5(t,d)),r}function EN(t,e){const n={},r=m(e,["config"]);return r!=null&&_N(t,r,n),n}function CN(t,e){const n={},r=m(e,["config"]);return r!=null&&AN(t,r,n),n}function kN(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["_self"]);if(o!=null){let s=I5(o);Array.isArray(s)&&(s=s.map(u=>Jf(u))),p(e,["models"],s)}return e}function zN(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["_self"]);if(o!=null){let s=I5(o);Array.isArray(s)&&(s=s.map(u=>Xf(u))),p(e,["models"],s)}return e}function MN(t){const e={},n=m(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=m(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const o=m(t,["maskDilation"]);return o!=null&&p(e,["dilation"],o),e}function Jf(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const o=m(t,["description"]);o!=null&&p(e,["description"],o);const s=m(t,["version"]);s!=null&&p(e,["version"],s);const u=m(t,["_self"]);u!=null&&p(e,["tunedModelInfo"],YN(u));const d=m(t,["inputTokenLimit"]);d!=null&&p(e,["inputTokenLimit"],d);const f=m(t,["outputTokenLimit"]);f!=null&&p(e,["outputTokenLimit"],f);const h=m(t,["supportedGenerationMethods"]);h!=null&&p(e,["supportedActions"],h);const g=m(t,["temperature"]);g!=null&&p(e,["temperature"],g);const x=m(t,["maxTemperature"]);x!=null&&p(e,["maxTemperature"],x);const b=m(t,["topP"]);b!=null&&p(e,["topP"],b);const w=m(t,["topK"]);w!=null&&p(e,["topK"],w);const k=m(t,["thinking"]);return k!=null&&p(e,["thinking"],k),e}function Xf(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const o=m(t,["description"]);o!=null&&p(e,["description"],o);const s=m(t,["versionId"]);s!=null&&p(e,["version"],s);const u=m(t,["deployedModels"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>VM(b))),p(e,["endpoints"],x)}const d=m(t,["labels"]);d!=null&&p(e,["labels"],d);const f=m(t,["_self"]);f!=null&&p(e,["tunedModelInfo"],JN(f));const h=m(t,["defaultCheckpointId"]);h!=null&&p(e,["defaultCheckpointId"],h);const g=m(t,["checkpoints"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(b=>b)),p(e,["checkpoints"],x)}return e}function NN(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],FM(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],$M(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],gM(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const x=m(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function RN(t){const e={},n=m(t,["productImage"]);return n!=null&&p(e,["image"],vr(n)),e}function IN(t,e){const n={},r=m(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const o=m(t,["baseSteps"]);e!==void 0&&o!=null&&p(e,["parameters","baseSteps"],o);const s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const u=m(t,["seed"]);e!==void 0&&u!=null&&p(e,["parameters","seed"],u);const d=m(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&p(e,["parameters","safetySetting"],d);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&p(e,["parameters","personGeneration"],f);const h=m(t,["addWatermark"]);e!==void 0&&h!=null&&p(e,["parameters","addWatermark"],h);const g=m(t,["outputMimeType"]);e!==void 0&&g!=null&&p(e,["parameters","outputOptions","mimeType"],g);const x=m(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&p(e,["parameters","outputOptions","compressionQuality"],x);const b=m(t,["enhancePrompt"]);e!==void 0&&b!=null&&p(e,["parameters","enhancePrompt"],b);const w=m(t,["labels"]);return e!==void 0&&w!=null&&p(e,["labels"],w),n}function DN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["source"]);o!=null&&UN(o,n);const s=m(e,["config"]);return s!=null&&IN(s,n),n}function LN(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>wu(o))),p(e,["generatedImages"],r)}return e}function UN(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const o=m(t,["personImage"]);e!==void 0&&o!=null&&p(e,["instances[0]","personImage","image"],vr(o));const s=m(t,["productImages"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>RN(d))),p(e,["instances[0]","productImages"],u)}return n}function ON(t){const e={},n=m(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],vr(n));const r=m(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const o=m(t,["referenceType"]);o!=null&&p(e,["referenceType"],o);const s=m(t,["maskImageConfig"]);s!=null&&p(e,["maskImageConfig"],MN(s));const u=m(t,["controlImageConfig"]);u!=null&&p(e,["controlImageConfig"],TM(u));const d=m(t,["styleImageConfig"]);d!=null&&p(e,["styleImageConfig"],d);const f=m(t,["subjectImageConfig"]);return f!=null&&p(e,["subjectImageConfig"],f),e}function H5(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const o=m(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function q5(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const o=m(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function PN(t){const e={},n=m(t,["category"]);if(n!=null&&p(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function BN(t){const e={},n=m(t,["image"]);return n!=null&&p(e,["image"],vr(n)),e}function HN(t,e){const n={},r=m(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const o=m(t,["maxPredictions"]);e!==void 0&&o!=null&&p(e,["parameters","maxPredictions"],o);const s=m(t,["confidenceThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","confidenceThreshold"],s);const u=m(t,["maskDilation"]);e!==void 0&&u!=null&&p(e,["parameters","maskDilation"],u);const d=m(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&p(e,["parameters","binaryColorThreshold"],d);const f=m(t,["labels"]);return e!==void 0&&f!=null&&p(e,["labels"],f),n}function qN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["source"]);o!=null&&VN(o,n);const s=m(e,["config"]);return s!=null&&HN(s,n),n}function GN(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>hN(o))),p(e,["generatedMasks"],r)}return e}function VN(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const o=m(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],vr(o));const s=m(t,["scribbleImage"]);return e!==void 0&&s!=null&&p(e,["instances[0]","scribble"],BN(s)),n}function FN(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],YM(r)),e}function $N(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(x=>x)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],xN(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],bN(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}function G5(t){const e={},n=m(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(t,["codeExecution"]);o!=null&&p(e,["codeExecution"],o);const s=m(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const u=m(t,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>JM(b))),p(e,["functionDeclarations"],x)}const d=m(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],d);const f=m(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],f);const h=m(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&p(e,["urlContext"],g),e}function YN(t){const e={},n=m(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&p(e,["createTime"],r);const o=m(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function JN(t){const e={},n=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&p(e,["createTime"],r);const o=m(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function XN(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const o=m(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const s=m(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&p(e,["defaultCheckpointId"],s),n}function KN(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const o=m(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const s=m(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&p(e,["defaultCheckpointId"],s),n}function ZN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","name"],lt(t,r));const o=m(e,["config"]);return o!=null&&XN(o,n),n}function WN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["config"]);return o!=null&&KN(o,n),n}function QN(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const o=m(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&p(e,["parameters","safetySetting"],o);const s=m(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const u=m(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const d=m(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const f=m(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","compressionQuality"],f);const h=m(t,["enhanceInputImage"]);e!==void 0&&h!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=m(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const x=m(t,["labels"]);e!==void 0&&x!=null&&p(e,["labels"],x);const b=m(t,["numberOfImages"]);e!==void 0&&b!=null&&p(e,["parameters","sampleCount"],b);const w=m(t,["mode"]);return e!==void 0&&w!=null&&p(e,["parameters","mode"],w),n}function jN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],lt(t,r));const o=m(e,["image"]);o!=null&&p(n,["instances[0]","image"],vr(o));const s=m(e,["upscaleFactor"]);s!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],s);const u=m(e,["config"]);return u!=null&&QN(u,n),n}function eR(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>wu(s))),p(e,["generatedImages"],o)}return e}function tR(t){const e={},n=m(t,["uri"]);n!=null&&p(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Yi(r));const o=m(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function nR(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Yi(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function rR(t){const e={},n=m(t,["image"]);n!=null&&p(e,["_self"],vr(n));const r=m(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function iR(t){const e={},n=m(t,["image"]);n!=null&&p(e,["image"],Tu(n));const r=m(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function aR(t){const e={},n=m(t,["image"]);n!=null&&p(e,["image"],vr(n));const r=m(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function V5(t){const e={},n=m(t,["uri"]);n!=null&&p(e,["uri"],n);const r=m(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],Yi(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["encoding"],o),e}function F5(t){const e={},n=m(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=m(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Yi(r));const o=m(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oR(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function sR(t){const e={},n=m(t,["config"]);return n!=null&&oR(n,e),e}function lR(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function uR(t){const e={},n=m(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&lR(r,e),e}function cR(t){const e={},n=m(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function dR(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["customMetadata"],s)}const o=m(t,["chunkingConfig"]);return e!==void 0&&o!=null&&p(e,["chunkingConfig"],o),n}function fR(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const o=m(t,["done"]);o!=null&&p(e,["done"],o);const s=m(t,["error"]);s!=null&&p(e,["error"],s);const u=m(t,["response"]);return u!=null&&p(e,["response"],mR(u)),e}function hR(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&p(e,["fileName"],r);const o=m(t,["config"]);return o!=null&&dR(o,e),e}function mR(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&p(e,["parent"],r);const o=m(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function pR(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function gR(t){const e={},n=m(t,["config"]);return n!=null&&pR(n,e),e}function vR(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["fileSearchStores"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["fileSearchStores"],s)}return e}function $5(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const o=m(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=m(t,["customMetadata"]);if(e!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),p(e,["customMetadata"],d)}const u=m(t,["chunkingConfig"]);return e!==void 0&&u!=null&&p(e,["chunkingConfig"],u),n}function yR(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&$5(r,e),e}function xR(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bR="Content-Type",SR="X-Server-Timeout",wR="User-Agent",Kf="x-goog-api-client",TR="1.35.0",_R=`google-genai-sdk/${TR}`,AR="v1beta1",ER="v1beta";class CR{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:AR,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ER,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))o.searchParams.append(u,String(d));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(n))typeof s=="object"?r[o]=Object.assign(Object.assign({},r[o]),s):s!==void 0&&(r[o]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){const s=new AbortController,u=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>s.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=u}return n&&n.extraBody!==null&&kR(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await jy(o),new Ff(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await jy(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return pr(this,arguments,function*(){var r;const o=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";const d="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:g}=yield Fe(o.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=s.decode(g,{stream:!0});try{const k=JSON.parse(x);if("error"in k){const E=JSON.parse(JSON.stringify(k.error)),z=E.status,R=E.code,L=`got status: ${z}. ${JSON.stringify(k)}`;if(R>=400&&R<600)throw new bu({message:L,status:R})}}catch(k){if(k.name==="ApiError")throw k}u+=x;let b=-1,w=0;for(;;){b=-1,w=0;for(const z of f){const R=u.indexOf(z);R!==-1&&(b===-1||R<b)&&(b=R,w=z.length)}if(b===-1)break;const k=u.substring(0,b);u=u.substring(b+w);const E=k.trim();if(E.startsWith(d)){const z=E.substring(d.length).trim();try{const R=new Response(z,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Fe(new Ff(R))}catch(R){throw new Error(`exception parsing stream chunk ${z}. ${R}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=_R+" "+this.clientOptions.userAgentExtra;return e[wR]=n,e[Kf]=n,e[bR]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))r.append(o,s);e.timeout&&e.timeout>0&&r.append(SR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,u=await s.stat(e);o.sizeBytes=String(u.size);const d=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const f={file:o},h=this.getFileName(e),g=Ae("upload/v1beta/files",f._url),x=await this.fetchUploadUrl(g,o.sizeBytes,o.mimeType,h,f,n==null?void 0:n.httpOptions);return s.upload(e,x,this)}async uploadFileToFileSearchStore(e,n,r){var o;const s=this.clientOptions.uploader,u=await s.stat(n),d=String(u.size),f=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(n),x={};r!=null&&$5(r,x);const b=await this.fetchUploadUrl(h,d,f,g,x,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,s,u){var d;let f={};u?f=u:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const h=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:f});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(d=h==null?void 0:h.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function jy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new bu({message:o,status:n}):new Error(o)}}function kR(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,u){const d=Object.assign({},s);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f)){const h=u[f],g=d[f];h&&typeof h=="object"&&!Array.isArray(h)&&g&&typeof g=="object"&&!Array.isArray(g)?d[f]=r(g,h):(g&&h&&typeof g!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof g}, New type: ${typeof h}. Overwriting.`),d[f]=h)}return d}const o=r(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zR="mcp_used/unknown";let MR=!1;function Y5(t){for(const e of t)if(NR(e)||typeof e=="object"&&"inputSchema"in e)return!0;return MR}function J5(t){var e;const n=(e=t[Kf])!==null&&e!==void 0?e:"";t[Kf]=(n+` ${zR}`).trimStart()}function NR(t){return t!==null&&typeof t=="object"&&t instanceof Gh}function RR(t){return pr(this,arguments,function*(n,r=100){let o,s=0;for(;s<r;){const u=yield Fe(n.listTools({cursor:o}));for(const d of u.tools)yield yield Fe(d),s++;if(!u.nextCursor)break;o=u.nextCursor}})}class Gh{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Gh(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;const s={},u=[];for(const g of this.mcpClients)try{for(var d=!0,f=(n=void 0,gr(RR(g))),h;h=await f.next(),e=h.done,!e;d=!0){o=h.value,d=!1;const x=o;u.push(x);const b=x.name;if(s[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);s[b]=g}}catch(x){n={error:x}}finally{try{!d&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),ck(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const u=await o.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function IR(t,e,n){const r=new nk;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}class DR{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),u=OR(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),f=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const g=new Promise(B=>{h=B}),x=e.callbacks,b=function(){h({})},w=this.apiClient,k={onopen:b,onmessage:B=>{IR(w,x.onmessage,B)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(B){}},E=this.webSocketFactory.create(f,UR(u),k);E.connect(),await g;const L={setup:{model:lt(this.apiClient,e.model)}};return E.send(JSON.stringify(L)),new LR(E,this.apiClient)}}class LR{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=sM(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=oM(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(po.PLAY)}pause(){this.sendPlaybackControl(po.PAUSE)}stop(){this.sendPlaybackControl(po.STOP)}resetContext(){this.sendPlaybackControl(po.RESET_CONTEXT)}close(){this.conn.close()}}function UR(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function OR(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function BR(t,e,n){const r=new tk;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(t.isVertexAI()){const u=cM(s);Object.assign(r,u)}else Object.assign(r,s);e(r)}class HR{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new DR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,s,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let g;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&Y5(e.config.tools)&&J5(x);const b=FR(x);if(this.apiClient.isVertexAI())g=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,g);else{const F=this.apiClient.getApiKey();let Z="BidiGenerateContent",Y="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Z="BidiGenerateContentConstrained",Y="access_token"),g=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${Z}?${Y}=${F}`}let w=()=>{};const k=new Promise(F=>{w=F}),E=e.callbacks,z=function(){var F;(F=E==null?void 0:E.onopen)===null||F===void 0||F.call(E),w({})},R=this.apiClient,L={onopen:z,onmessage:F=>{BR(R,E.onmessage,F)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(F){}},B=this.webSocketFactory.create(g,VR(b),L);B.connect(),await k;let D=lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const F=this.apiClient.getProject(),Z=this.apiClient.getLocation();D=`projects/${F}/locations/${Z}/`+D}let U={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[W0.AUDIO]}:e.config.responseModalities=[W0.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],I=[];for(const F of $)if(this.isCallableTool(F)){const Z=F;I.push(await Z.tool())}else I.push(F);I.length>0&&(e.config.tools=I);const O={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=aM(this.apiClient,O):U=iM(this.apiClient,O),delete U.config,B.send(JSON.stringify(U)),new GR(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const qR={turnComplete:!0};class GR{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ar(n.turns),e.isVertexAI()||(r=r.map(o=>Su(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(PR)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},qR),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:uM(e)}:n={realtimeInput:lM(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function VR(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function FR(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e2=10;function t2(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(bo(u)){o=!0;break}if(!o)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function bo(t){return"callTool"in t&&typeof t.callTool=="function"}function $R(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>bo(o)))!==null&&r!==void 0?r:!1}function n2(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(bo(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(o)}),n}function r2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YR extends ai{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,s,u,d;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!$R(n)||t2(n.config))return await this.generateContentInternal(f);const h=n2(n);if(h.length>0){const E=h.map(z=>`tools[${z}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let g,x;const b=ar(f.contents),w=(s=(o=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:e2;let k=0;for(;k<w&&(g=await this.generateContentInternal(f),!(!g.functionCalls||g.functionCalls.length===0));){const E=g.candidates[0].content,z=[];for(const R of(d=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(bo(R)){const B=await R.callTool(g.functionCalls);z.push(...B)}k++,x={role:"user",parts:z},f.contents=ar(f.contents),f.contents.push(E),f.contents.push(x),r2(f.config)&&(b.push(E),b.push(x))}return r2(f.config)&&(g.automaticFunctionCallingHistory=b),g},this.generateContentStream=async n=>{var r,o,s,u,d;if(this.maybeMoveToResponseJsonSchem(n),t2(n.config)){const x=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(x)}const f=n2(n);if(f.length>0){const x=f.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(s=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,g=(d=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(h&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let s;const u=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:u.push(f);let d;return s?d={generatedImages:u,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:r.sdkHttpResponse},d}),this.list=async n=>{var r;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((r=u.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new _a(ri.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,s,u,d,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(s=n.source)===null||s===void 0?void 0:s.video)===null||u===void 0)&&u.uri&&(!((f=(d=n.source)===null||d===void 0?void 0:d.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const u=await Promise.all(s.map(async f=>bo(f)?await f.tool():f)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&Y5(e.config.tools)){const f=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),J5(h),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(e){var n,r,o;const s=new Map;for(const u of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(bo(u)){const d=u,f=await d.tool();for(const h of(o=f.functionDeclarations)!==null&&o!==void 0?o:[]){if(!h.name)throw new Error("Function declaration name is required.");if(s.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);s.set(h.name,d)}}return s}async processAfcStream(e){var n,r,o;const s=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:e2;let u=!1,d=0;const f=await this.initAfcToolsMap(e);return function(h,g,x){return pr(this,arguments,function*(){for(var b,w,k,E,z,R;d<s;){u&&(d++,u=!1);const U=yield Fe(h.processParamsMaybeAddMcpUsage(x)),$=yield Fe(h.generateContentStreamInternal(U)),I=[],O=[];try{for(var L=!0,B=(w=void 0,gr($)),D;D=yield Fe(B.next()),b=D.done,!b;L=!0){E=D.value,L=!1;const F=E;if(yield yield Fe(F),F.candidates&&(!((z=F.candidates[0])===null||z===void 0)&&z.content)){O.push(F.candidates[0].content);for(const Z of(R=F.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(d<s&&Z.functionCall){if(!Z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(Z.functionCall.name)){const Y=yield Fe(g.get(Z.functionCall.name).callTool([Z.functionCall]));I.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${Z.functionCall.name}`)}}}}catch(F){w={error:F}}finally{try{!L&&!b&&(k=B.return)&&(yield Fe(k.call(B)))}finally{if(w)throw w.error}}if(I.length>0){u=!0;const F=new ks;F.candidates=[{content:{role:"user",parts:I}}],yield yield Fe(F);const Z=[];Z.push(...O),Z.push({role:"user",parts:I});const Y=ar(x.contents).concat(Z);x.contents=Y}else break}})}(this,f,e)}async generateContentInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Zy(this.apiClient,e);return d=Ae("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=Qy(g),b=new ks;return Object.assign(b,x),b})}else{const h=Ky(this.apiClient,e);return d=Ae("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=Wy(g),b=new ks;return Object.assign(b,x),b})}}async generateContentStreamInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Zy(this.apiClient,e);return d=Ae("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(x){return pr(this,arguments,function*(){var b,w,k,E;try{for(var z=!0,R=gr(x),L;L=yield Fe(R.next()),b=L.done,!b;z=!0){E=L.value,z=!1;const B=E,D=Qy(yield Fe(B.json()));D.sdkHttpResponse={headers:B.headers};const U=new ks;Object.assign(U,D),yield yield Fe(U)}}catch(B){w={error:B}}finally{try{!z&&!b&&(k=R.return)&&(yield Fe(k.call(R)))}finally{if(w)throw w.error}}})})}else{const h=Ky(this.apiClient,e);return d=Ae("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(x){return pr(this,arguments,function*(){var b,w,k,E;try{for(var z=!0,R=gr(x),L;L=yield Fe(R.next()),b=L.done,!b;z=!0){E=L.value,z=!1;const B=E,D=Wy(yield Fe(B.json()));D.sdkHttpResponse={headers:B.headers};const U=new ks;Object.assign(U,D),yield yield Fe(U)}}catch(B){w={error:B}}finally{try{!z&&!b&&(k=R.return)&&(yield Fe(k.call(R)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=HM(this.apiClient,e);return d=Ae("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=GM(g),b=new Ry;return Object.assign(b,x),b})}else{const h=BM(this.apiClient,e);return d=Ae("{model}:batchEmbedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=qM(g),b=new Ry;return Object.assign(b,x),b})}}async generateImagesInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=jM(this.apiClient,e);return d=Ae("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=tN(g),b=new Iy;return Object.assign(b,x),b})}else{const h=QM(this.apiClient,e);return d=Ae("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=eN(g),b=new Iy;return Object.assign(b,x),b})}}async editImageInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=LM(this.apiClient,e);return s=Ae("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=UM(f),g=new FC;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=jN(this.apiClient,e);return s=Ae("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=eR(f),g=new $C;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=DN(this.apiClient,e);return s=Ae("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=LN(f),g=new YC;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=qN(this.apiClient,e);return s=Ae("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=GN(f),g=new JC;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=yN(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Xf(g))}else{const h=vN(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Jf(g))}}async listInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=CN(this.apiClient,e);return d=Ae("{models_url}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=zN(g),b=new Dy;return Object.assign(b,x),b})}else{const h=EN(this.apiClient,e);return d=Ae("{models_url}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=kN(g),b=new Dy;return Object.assign(b,x),b})}}async update(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=WN(this.apiClient,e);return d=Ae("{model}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Xf(g))}else{const h=ZN(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Jf(g))}}async delete(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=NM(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=IM(g),b=new Ly;return Object.assign(b,x),b})}else{const h=MM(this.apiClient,e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=RM(g),b=new Ly;return Object.assign(b,x),b})}}async countTokens(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=CM(this.apiClient,e);return d=Ae("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=zM(g),b=new Uy;return Object.assign(b,x),b})}else{const h=EM(this.apiClient,e);return d=Ae("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=kM(g),b=new Uy;return Object.assign(b,x),b})}}async computeTokens(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=xM(this.apiClient,e);return s=Ae("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=bM(f),g=new XC;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=sN(this.apiClient,e);return d=Ae("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>{const x=aN(g),b=new Q0;return Object.assign(b,x),b})}else{const h=oN(this.apiClient,e);return d=Ae("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const x=iN(g),b=new Q0;return Object.assign(b,x),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JR extends ai{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=PC(e);return d=Ae("{operationName}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u}else{const h=OC(e);return d=Ae("{operationName}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=MC(e);return s=Ae("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XR(t){const e={},n=m(t,["data"]);if(n!=null&&p(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function KR(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>iI(s))),p(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function ZR(t,e,n){const r={},o=m(e,["expireTime"]);n!==void 0&&o!=null&&p(n,["expireTime"],o);const s=m(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&p(n,["newSessionExpireTime"],s);const u=m(e,["uses"]);n!==void 0&&u!=null&&p(n,["uses"],u);const d=m(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&p(n,["bidiGenerateContentSetup"],rI(t,d));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&p(n,["fieldMask"],f),r}function WR(t,e){const n={},r=m(e,["config"]);return r!=null&&p(n,["config"],ZR(t,r,n)),n}function QR(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function jR(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const o=m(t,["name"]);if(o!=null&&p(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eI(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function tI(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function nI(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const o=m(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const s=m(t,["temperature"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","temperature"],s);const u=m(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=m(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","maxOutputTokens"],f);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","mediaResolution"],h);const g=m(t,["seed"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","seed"],g);const x=m(t,["speechConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","speechConfig"],qh(x));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],w);const k=m(t,["systemInstruction"]);e!==void 0&&k!=null&&p(e,["setup","systemInstruction"],KR(dn(k)));const E=m(t,["tools"]);if(e!==void 0&&E!=null){let $=zo(E);Array.isArray($)&&($=$.map(I=>oI(ko(I)))),p(e,["setup","tools"],$)}const z=m(t,["sessionResumption"]);e!==void 0&&z!=null&&p(e,["setup","sessionResumption"],aI(z));const R=m(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&p(e,["setup","inputAudioTranscription"],R);const L=m(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&p(e,["setup","outputAudioTranscription"],L);const B=m(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&p(e,["setup","realtimeInputConfig"],B);const D=m(t,["contextWindowCompression"]);e!==void 0&&D!=null&&p(e,["setup","contextWindowCompression"],D);const U=m(t,["proactivity"]);if(e!==void 0&&U!=null&&p(e,["setup","proactivity"],U),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function rI(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["setup","model"],lt(t,r));const o=m(e,["config"]);return o!=null&&p(n,["config"],nI(o,n)),n}function iI(t){const e={},n=m(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=m(t,["fileData"]);s!=null&&p(e,["fileData"],QR(s));const u=m(t,["functionCall"]);u!=null&&p(e,["functionCall"],jR(u));const d=m(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&p(e,["inlineData"],XR(f));const h=m(t,["text"]);h!=null&&p(e,["text"],h);const g=m(t,["thought"]);g!=null&&p(e,["thought"],g);const x=m(t,["thoughtSignature"]);x!=null&&p(e,["thoughtSignature"],x);const b=m(t,["videoMetadata"]);return b!=null&&p(e,["videoMetadata"],b),e}function aI(t){const e={},n=m(t,["handle"]);if(n!=null&&p(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oI(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(x=>x)),p(e,["functionDeclarations"],g)}const u=m(t,["googleMaps"]);u!=null&&p(e,["googleMaps"],eI(u));const d=m(t,["googleSearch"]);d!=null&&p(e,["googleSearch"],tI(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&p(e,["googleSearchRetrieval"],f);const h=m(t,["urlContext"]);return h!=null&&p(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(s=>`${n}.${s}`);e.push(...o)}else e.push(n)}return e.join(",")}function lI(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const s=sI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(h=>u.includes(h)?`generationConfig.${h}`:h));const f=[];s&&f.push(s),d.length>0&&f.push(...d),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class uI extends ai{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=WR(this.apiClient,e);s=Ae("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const f=lI(d,e.config);return o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cI(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function dI(t){const e={},n=m(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&cI(r,e),e}function fI(t){const e={},n=m(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function hI(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function mI(t){const e={},n=m(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&hI(r,e),e}function pI(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const o=m(t,["documents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),p(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gI extends ai{constructor(e){super(),this.apiClient=e,this.list=async n=>new _a(ri.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=fI(e);return s=Ae("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dI(e);o=Ae("{name}",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mI(e);return s=Ae("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=pI(f),g=new KC;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vI extends ai{constructor(e,n=new gI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new _a(ri.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=sR(e);return s=Ae("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async get(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=cR(e);return s=Ae("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uR(e);o=Ae("{name}",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=gR(e);return s=Ae("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=vR(f),g=new ZC;return Object.assign(g,h),g})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=yR(e);return s=Ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=xR(f),g=new WC;return Object.assign(g,h),g})}}async importFile(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=hR(e);return s=Ae("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=fR(f),g=new Uh;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let X5=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return X5=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const yI=()=>X5();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zf(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Wf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lr extends Error{}class xn extends lr{constructor(e,n,r,o){super(`${xn.makeMessage(e,n,r)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,r){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,r,o){if(!e||!o)return new _u({message:r,cause:Wf(n)});const s=n;return e===400?new Z5(e,s,r,o):e===401?new W5(e,s,r,o):e===403?new Q5(e,s,r,o):e===404?new j5(e,s,r,o):e===409?new e6(e,s,r,o):e===422?new t6(e,s,r,o):e===429?new n6(e,s,r,o):e>=500?new r6(e,s,r,o):new xn(e,s,r,o)}}class Qf extends xn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class _u extends xn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class K5 extends _u{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Z5 extends xn{}class W5 extends xn{}class Q5 extends xn{}class j5 extends xn{}class e6 extends xn{}class t6 extends xn{}class n6 extends xn{}class r6 extends xn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xI=/^[a-z][a-z0-9+.-]*:/i,bI=t=>xI.test(t);let jf=t=>(jf=Array.isArray,jf(t));const SI=jf;let wI=SI;const i2=wI;function TI(t){if(!t)return!0;for(const e in t)return!1;return!0}function _I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const AI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new lr(`${t} must be an integer`);if(e<0)throw new lr(`${t} must be a positive integer`);return e},EI=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CI=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ho="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const zI=()=>{var t,e,n,r,o;const s=kI();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":o2(Deno.build.os),"X-Stainless-Arch":a2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":o2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":a2((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const u=MI();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function MI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const o=r[1]||0,s=r[2]||0,u=r[3]||0;return{browser:e,version:`${o}.${s}.${u}`}}}return null}const a2=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",o2=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let _0;const NI=()=>_0??(_0=zI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function i6(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function II(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return i6({start(){},async pull(n){const{done:r,value:o}=await e.next();r?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function a6(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function DI(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),o=r.cancel();r.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o6=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function xf(t,e,n){return o6(),new File(t,e??"unknown_file",n)}function UI(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const OI=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s6=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",PI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&s6(t),BI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function HI(t,e,n){if(o6(),t=await t,PI(t))return t instanceof File?t:xf([await t.arrayBuffer()],t.name);if(BI(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),xf(await eh(o),e,n)}const r=await eh(t);if(e||(e=UI(t)),!(n!=null&&n.type)){const o=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return xf(r,e,n)}async function eh(t){var e,n,r,o,s;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(s6(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(OI(t))try{for(var d=!0,f=gr(t),h;h=await f.next(),e=h.done,!e;d=!0){o=h.value,d=!1;const g=o;u.push(...await eh(g))}}catch(g){n={error:g}}finally{try{!d&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const g=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${g?`; constructor: ${g}`:""}${qI(t)}`)}return u}function qI(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l6{constructor(e){this._client=e}}l6._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u6(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const s2=Object.freeze(Object.create(null)),GI=(t=u6)=>function(n,...r){if(n.length===1)return n[0];let o=!1;const s=[],u=n.reduce((g,x,b)=>{var w,k,E;/[?#]/.test(x)&&(o=!0);const z=r[b];let R=(o?encodeURIComponent:t)(""+z);return b!==r.length&&(z==null||typeof z=="object"&&z.toString===((E=Object.getPrototypeOf((k=Object.getPrototypeOf((w=z.hasOwnProperty)!==null&&w!==void 0?w:s2))!==null&&k!==void 0?k:s2))===null||E===void 0?void 0:E.toString))&&(R=z+"",s.push({start:g.length+x.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(z).slice(8,-1)} is not a valid path parameter`})),g+x+(b===r.length?"":R)},""),d=u.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=f.exec(d))!==null;)s.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(s.sort((g,x)=>g.start-x.start),s.length>0){let g=0;const x=s.reduce((b,w)=>{const k=" ".repeat(w.start-g),E="^".repeat(w.length);return g=w.start+w.length,b+k+E},"");throw new lr(`Path parameters result in path with invalid segments:
${s.map(b=>b.error).join(`
`)}
${u}
${x}`)}return u},A0=GI(u6);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c6 extends l6{create(e,n){var r;const{api_version:o=this._client.apiVersion}=e,s=eu(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new lr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new lr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(A0`/${o}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(A0`/${o}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(A0`/${o}/interactions/${e}/cancel`,r)}get(e,n={},r){var o;const s=n??{},{api_version:u=this._client.apiVersion}=s,d=eu(s,["api_version"]);return this._client.get(A0`/${u}/interactions/${e}`,Object.assign(Object.assign({query:d},r),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}c6._key=Object.freeze(["interactions"]);class d6 extends c6{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VI(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}let E0;function Vh(t){let e;return(E0??(e=new globalThis.TextEncoder,E0=e.encode.bind(e)))(t)}let C0;function l2(t){let e;return(C0??(e=new globalThis.TextDecoder,C0=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Au{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Vh(e):e;this.buffer=VI([this.buffer,n]);const r=[];let o;for(;(o=FI(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(l2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,u=l2(this.buffer.subarray(0,s));r.push(u),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Au.NEWLINE_CHARS=new Set([`
`,"\r"]);Au.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function FI(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function $I(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tu={off:0,error:200,warn:300,info:400,debug:500},u2=(t,e,n)=>{if(t){if(_I(tu,t))return t;vn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(tu))}`)}};function Rs(){}function k0(t,e,n){return!e||tu[t]>tu[n]?Rs:e[t].bind(e)}const YI={error:Rs,warn:Rs,info:Rs,debug:Rs};let c2=new WeakMap;function vn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return YI;const o=c2.get(n);if(o&&o[0]===r)return o[1];const s={error:k0("error",n,r),warn:k0("warn",n,r),info:k0("info",n,r),debug:k0("debug",n,r)};return c2.set(n,[r,s]),s}const va=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class go{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let o=!1;const s=r?vn(r):console;function u(){return pr(this,arguments,function*(){var f,h,g,x;if(o)throw new lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let b=!1;try{try{for(var w=!0,k=gr(JI(e,n)),E;E=yield Fe(k.next()),f=E.done,!f;w=!0){x=E.value,w=!1;const z=x;if(!b)if(z.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield Fe(JSON.parse(z.data))}catch(R){throw s.error("Could not parse message into JSON:",z.data),s.error("From chunk:",z.raw),R}}}catch(z){h={error:z}}finally{try{!w&&!f&&(g=k.return)&&(yield Fe(g.call(k)))}finally{if(h)throw h.error}}b=!0}catch(z){if(Zf(z))return yield Fe(void 0);throw z}finally{b||n.abort()}})}return new go(u,n,r)}static fromReadableStream(e,n,r){let o=!1;function s(){return pr(this,arguments,function*(){var f,h,g,x;const b=new Au,w=a6(e);try{for(var k=!0,E=gr(w),z;z=yield Fe(E.next()),f=z.done,!f;k=!0){x=z.value,k=!1;const R=x;for(const L of b.decode(R))yield yield Fe(L)}}catch(R){h={error:R}}finally{try{!k&&!f&&(g=E.return)&&(yield Fe(g.call(E)))}finally{if(h)throw h.error}}for(const R of b.flush())yield yield Fe(R)})}function u(){return pr(this,arguments,function*(){var f,h,g,x;if(o)throw new lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let b=!1;try{try{for(var w=!0,k=gr(s()),E;E=yield Fe(k.next()),f=E.done,!f;w=!0){x=E.value,w=!1;const z=x;b||z&&(yield yield Fe(JSON.parse(z)))}}catch(z){h={error:z}}finally{try{!w&&!f&&(g=k.return)&&(yield Fe(g.call(k)))}finally{if(h)throw h.error}}b=!0}catch(z){if(Zf(z))return yield Fe(void 0);throw z}finally{b||n.abort()}})}return new go(u,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),o=s=>({next:()=>{if(s.length===0){const u=r.next();e.push(u),n.push(u)}return s.shift()}});return[new go(()=>o(e),this.controller,this.client),new go(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return i6({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:s}=await n.next();if(s)return r.close();const u=Vh(JSON.stringify(o)+`
`);r.enqueue(u)}catch(o){r.error(o)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function JI(t,e){return pr(this,arguments,function*(){var r,o,s,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new lr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new lr("Attempted to iterate over a response with no body");const d=new KI,f=new Au,h=a6(t.body);try{for(var g=!0,x=gr(XI(h)),b;b=yield Fe(x.next()),r=b.done,!r;g=!0){u=b.value,g=!1;const w=u;for(const k of f.decode(w)){const E=d.decode(k);E&&(yield yield Fe(E))}}}catch(w){o={error:w}}finally{try{!g&&!r&&(s=x.return)&&(yield Fe(s.call(x)))}finally{if(o)throw o.error}}for(const w of f.flush()){const k=d.decode(w);k&&(yield yield Fe(k))}})}function XI(t){return pr(this,arguments,function*(){var n,r,o,s;let u=new Uint8Array;try{for(var d=!0,f=gr(t),h;h=yield Fe(f.next()),n=h.done,!n;d=!0){s=h.value,d=!1;const g=s;if(g==null)continue;const x=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?Vh(g):g;let b=new Uint8Array(u.length+x.length);b.set(u),b.set(x,u.length),u=b;let w;for(;(w=$I(u))!==-1;)yield yield Fe(u.slice(0,w)),u=u.slice(w)}}catch(g){r={error:g}}finally{try{!d&&!n&&(o=f.return)&&(yield Fe(o.call(f)))}finally{if(r)throw r.error}}u.length>0&&(yield yield Fe(u))})}class KI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,o]=ZI(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function ZI(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function WI(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:s}=e,u=await(async()=>{var d;if(e.options.stream)return vn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):go.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),h=(d=f==null?void 0:f.split(";")[0])===null||d===void 0?void 0:d.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return vn(t).debug(`[${r}] response parsed`,va({retryOfRequestLogID:o,url:n.url,status:n.status,body:u,durationMs:Date.now()-s})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fh extends Promise{constructor(e,n,r=WI){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Fh(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f6=Symbol("brand.privateNullableHeaders");function*QI(t){if(!t)return;if(f6 in t){const{values:r,nulls:o}=t;yield*r.entries();for(const s of o)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():i2(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const s=i2(r[1])?r[1]:[r[1]];let u=!1;for(const d of s)d!==void 0&&(e&&!u&&(u=!0,yield[o,null]),yield[o,d])}}const zs=t=>{const e=new Headers,n=new Set;for(const r of t){const o=new Set;for(const[s,u]of QI(r)){const d=s.toLowerCase();o.has(d)||(e.delete(s),o.add(d)),u===null?(e.delete(s),n.add(d)):(e.append(s,u),n.delete(d))}}return{[f6]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bf=t=>{var e,n,r,o,s,u;if(typeof globalThis.process<"u")return(r=(n=(e=_C)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(u=(s=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||s===void 0?void 0:s.call(o,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var h6;class Eu{constructor(e){var n,r,o,s,u,d,f,{baseURL:h=bf("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(n=bf("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:x="v1beta"}=e,b=eu(e,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:g,apiVersion:x},b),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(r=w.timeout)!==null&&r!==void 0?r:Eu.DEFAULT_TIMEOUT,this.logger=(o=w.logger)!==null&&o!==void 0?o:console;const k="warn";this.logLevel=k,this.logLevel=(u=(s=u2(w.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:u2(bf("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:k,this.fetchOptions=w.fetchOptions,this.maxRetries=(d=w.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(f=w.fetch)!==null&&f!==void 0?f:RI(),this.encoder=LI,this._options=w,this.apiKey=g,this.apiVersion=x,this.clientAdapter=w.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=zs([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return zs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return zs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new lr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ho}`}defaultIdempotencyKey(){return`stainless-node-retry-${yI()}`}makeStatusError(e,n,r,o){return xn.generate(e,n,r,o)}buildURL(e,n,r){const o=!this.baseURLOverridden()&&r||this.baseURL,s=bI(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return TI(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Fh(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var o,s,u;const d=await e,f=(o=d.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=f),await this.prepareOptions(d);const{req:h,url:g,timeout:x}=await this.buildRequest(d,{retryCount:f-n});await this.prepareRequest(h,{url:g,options:d});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=r===void 0?"":`, retryOf: ${r}`,k=Date.now();if(vn(this).debug(`[${b}] sending request`,va({retryOfRequestLogID:r,method:d.method,url:g,options:d,headers:h.headers})),!((s=d.signal)===null||s===void 0)&&s.aborted)throw new Qf;const E=new AbortController,z=await this.fetchWithTimeout(g,h,x,E).catch(Wf),R=Date.now();if(z instanceof globalThis.Error){const B=`retrying, ${n} attempts remaining`;if(!((u=d.signal)===null||u===void 0)&&u.aborted)throw new Qf;const D=Zf(z)||/timed? ?out/i.test(String(z)+("cause"in z?String(z.cause):""));if(n)return vn(this).info(`[${b}] connection ${D?"timed out":"failed"} - ${B}`),vn(this).debug(`[${b}] connection ${D?"timed out":"failed"} (${B})`,va({retryOfRequestLogID:r,url:g,durationMs:R-k,message:z.message})),this.retryRequest(d,n,r??b);throw vn(this).info(`[${b}] connection ${D?"timed out":"failed"} - error; no more retries left`),vn(this).debug(`[${b}] connection ${D?"timed out":"failed"} (error; no more retries left)`,va({retryOfRequestLogID:r,url:g,durationMs:R-k,message:z.message})),D?new K5:new _u({cause:z})}const L=`[${b}${w}] ${h.method} ${g} ${z.ok?"succeeded":"failed"} with status ${z.status} in ${R-k}ms`;if(!z.ok){const B=await this.shouldRetry(z);if(n&&B){const F=`retrying, ${n} attempts remaining`;return await DI(z.body),vn(this).info(`${L} - ${F}`),vn(this).debug(`[${b}] response error (${F})`,va({retryOfRequestLogID:r,url:z.url,status:z.status,headers:z.headers,durationMs:R-k})),this.retryRequest(d,n,r??b,z.headers)}const D=B?"error; no more retries left":"error; not retryable";vn(this).info(`${L} - ${D}`);const U=await z.text().catch(F=>Wf(F).message),$=EI(U),I=$?void 0:U;throw vn(this).debug(`[${b}] response error (${D})`,va({retryOfRequestLogID:r,url:z.url,status:z.status,headers:z.headers,message:I,durationMs:Date.now()-k})),this.makeStatusError(z.status,$,I,z.headers)}return vn(this).info(L),vn(this).debug(`[${b}] response start`,va({retryOfRequestLogID:r,url:z.url,status:z.status,headers:z.headers,durationMs:R-k})),{response:z,options:d,controller:E,requestLogID:b,retryOfRequestLogID:r,startTime:k}}async fetchWithTimeout(e,n,r,o){const s=n||{},{signal:u,method:d}=s,f=eu(s,["signal","method"]);u&&u.addEventListener("abort",()=>o.abort());const h=setTimeout(()=>o.abort(),r),g=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,x=Object.assign(Object.assign(Object.assign({signal:o.signal},g?{duplex:"half"}:{}),{method:"GET"}),f);d&&(x.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,x)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,o){var s;let u;const d=o==null?void 0:o.get("retry-after-ms");if(d){const h=parseFloat(d);Number.isNaN(h)||(u=h)}const f=o==null?void 0:o.get("retry-after");if(f&&!u){const h=parseFloat(f);Number.isNaN(h)?u=Date.parse(f)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,h)}return await CI(u),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,u=Math.min(.5*Math.pow(2,s),8),d=1-Math.random()*.25;return u*d*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,o,s;const u=Object.assign({},e),{method:d,path:f,query:h,defaultBaseURL:g}=u,x=this.buildURL(f,h,g);"timeout"in u&&AI("timeout",u.timeout),u.timeout=(r=u.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:b,body:w}=this.buildBody({options:u}),k=await this.buildHeaders({options:e,method:d,bodyHeaders:b,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:k},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(s=u.fetchOptions)!==null&&s!==void 0?s:{}),url:x,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:o}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let d=zs([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),NI()),this._options.defaultHeaders,r,e.headers,u]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=zs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:II(e)}:this.encoder({body:e,headers:r})}}Eu.DEFAULT_TIMEOUT=6e4;class jt extends Eu{constructor(){super(...arguments),this.interactions=new d6(this)}}h6=jt;jt.GeminiNextGenAPIClient=h6;jt.GeminiNextGenAPIClientError=lr;jt.APIError=xn;jt.APIConnectionError=_u;jt.APIConnectionTimeoutError=K5;jt.APIUserAbortError=Qf;jt.NotFoundError=j5;jt.ConflictError=e6;jt.RateLimitError=n6;jt.BadRequestError=Z5;jt.AuthenticationError=W5;jt.InternalServerError=r6;jt.PermissionDeniedError=Q5;jt.UnprocessableEntityError=t6;jt.toFile=HI;jt.Interactions=d6;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jI(t,e){const n={},r=m(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function eD(t,e){const n={},r=m(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function tD(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function nD(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function rD(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=m(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&p(e,["displayName"],o),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(t,["epochCount"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","epochCount"],s);const u=m(t,["learningRateMultiplier"]);if(u!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=m(t,["batchSize"]);e!==void 0&&d!=null&&p(e,["tuningTask","hyperparameters","batchSize"],d);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&p(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function iD(t,e,n){const r={};let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const w=m(t,["validationDataset"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec"],d2(w))}else if(o==="PREFERENCE_TUNING"){const w=m(t,["validationDataset"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec"],d2(w))}const s=m(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&p(e,["tunedModelDisplayName"],s);const u=m(t,["description"]);e!==void 0&&u!=null&&p(e,["description"],u);let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=m(t,["epochCount"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(d==="PREFERENCE_TUNING"){const w=m(t,["epochCount"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=m(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(f==="PREFERENCE_TUNING"){const w=m(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let h=m(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const w=m(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(h==="PREFERENCE_TUNING"){const w=m(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let g=m(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const w=m(t,["adapterSize"]);e!==void 0&&w!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(g==="PREFERENCE_TUNING"){const w=m(t,["adapterSize"]);e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(m(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=m(t,["labels"]);e!==void 0&&x!=null&&p(e,["labels"],x);const b=m(t,["beta"]);return e!==void 0&&b!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function aD(t,e){const n={},r=m(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const o=m(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const s=m(t,["trainingDataset"]);s!=null&&gD(s);const u=m(t,["config"]);return u!=null&&rD(u,n),n}function oD(t,e){const n={},r=m(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const o=m(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const s=m(t,["trainingDataset"]);s!=null&&vD(s,n,e);const u=m(t,["config"]);return u!=null&&iD(u,n,e),n}function sD(t,e){const n={},r=m(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function lD(t,e){const n={},r=m(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function uD(t,e,n){const r={},o=m(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&p(e,["_query","pageToken"],s);const u=m(t,["filter"]);return e!==void 0&&u!=null&&p(e,["_query","filter"],u),r}function cD(t,e,n){const r={},o=m(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&p(e,["_query","pageToken"],s);const u=m(t,["filter"]);return e!==void 0&&u!=null&&p(e,["_query","filter"],u),r}function dD(t,e){const n={},r=m(t,["config"]);return r!=null&&uD(r,n),n}function fD(t,e){const n={},r=m(t,["config"]);return r!=null&&cD(r,n),n}function hD(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const s=m(t,["tunedModels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>m6(d))),p(n,["tuningJobs"],u)}return n}function mD(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const s=m(t,["tuningJobs"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>th(d))),p(n,["tuningJobs"],u)}return n}function pD(t,e){const n={},r=m(t,["name"]);r!=null&&p(n,["model"],r);const o=m(t,["name"]);return o!=null&&p(n,["endpoint"],o),n}function gD(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(n,["examples","examples"],o)}return n}function vD(t,e,n){const r={};let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=m(t,["gcsUri"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=m(t,["gcsUri"]);e!==void 0&&u!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const u=m(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(s==="PREFERENCE_TUNING"){const u=m(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function m6(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["name"]);o!=null&&p(n,["name"],o);const s=m(t,["state"]);s!=null&&p(n,["state"],M5(s));const u=m(t,["createTime"]);u!=null&&p(n,["createTime"],u);const d=m(t,["tuningTask","startTime"]);d!=null&&p(n,["startTime"],d);const f=m(t,["tuningTask","completeTime"]);f!=null&&p(n,["endTime"],f);const h=m(t,["updateTime"]);h!=null&&p(n,["updateTime"],h);const g=m(t,["description"]);g!=null&&p(n,["description"],g);const x=m(t,["baseModel"]);x!=null&&p(n,["baseModel"],x);const b=m(t,["_self"]);return b!=null&&p(n,["tunedModel"],pD(b)),n}function th(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["name"]);o!=null&&p(n,["name"],o);const s=m(t,["state"]);s!=null&&p(n,["state"],M5(s));const u=m(t,["createTime"]);u!=null&&p(n,["createTime"],u);const d=m(t,["startTime"]);d!=null&&p(n,["startTime"],d);const f=m(t,["endTime"]);f!=null&&p(n,["endTime"],f);const h=m(t,["updateTime"]);h!=null&&p(n,["updateTime"],h);const g=m(t,["error"]);g!=null&&p(n,["error"],g);const x=m(t,["description"]);x!=null&&p(n,["description"],x);const b=m(t,["baseModel"]);b!=null&&p(n,["baseModel"],b);const w=m(t,["tunedModel"]);w!=null&&p(n,["tunedModel"],w);const k=m(t,["preTunedModel"]);k!=null&&p(n,["preTunedModel"],k);const E=m(t,["supervisedTuningSpec"]);E!=null&&p(n,["supervisedTuningSpec"],E);const z=m(t,["preferenceOptimizationSpec"]);z!=null&&p(n,["preferenceOptimizationSpec"],z);const R=m(t,["tuningDataStats"]);R!=null&&p(n,["tuningDataStats"],R);const L=m(t,["encryptionSpec"]);L!=null&&p(n,["encryptionSpec"],L);const B=m(t,["partnerModelTuningSpec"]);B!=null&&p(n,["partnerModelTuningSpec"],B);const D=m(t,["customBaseModel"]);D!=null&&p(n,["customBaseModel"],D);const U=m(t,["experiment"]);U!=null&&p(n,["experiment"],U);const $=m(t,["labels"]);$!=null&&p(n,["labels"],$);const I=m(t,["outputUri"]);I!=null&&p(n,["outputUri"],I);const O=m(t,["pipelineJob"]);O!=null&&p(n,["pipelineJob"],O);const F=m(t,["serviceAccount"]);F!=null&&p(n,["serviceAccount"],F);const Z=m(t,["tunedModelDisplayName"]);Z!=null&&p(n,["tunedModelDisplayName"],Z);const Y=m(t,["veoTuningSpec"]);return Y!=null&&p(n,["veoTuningSpec"],Y),n}function yD(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const o=m(t,["name"]);o!=null&&p(n,["name"],o);const s=m(t,["metadata"]);s!=null&&p(n,["metadata"],s);const u=m(t,["done"]);u!=null&&p(n,["done"],u);const d=m(t,["error"]);return d!=null&&p(n,["error"],d),n}function d2(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const o=m(t,["vertexDatasetResource"]);return o!=null&&p(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xD extends ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _a(ri.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),s=await this.tuneMldevInternal(o);let u="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?u=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(u=s.name.split("/operations/")[0]),{name:u,state:Vf.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=lD(e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>th(g))}else{const h=sD(e);return d=Ae("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>m6(g))}}async listInternal(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=fD(e);return d=Ae("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=mD(g),b=new Oy;return Object.assign(b,x),b})}else{const h=dD(e);return d=Ae("tunedModels",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=hD(g),b=new Oy;return Object.assign(b,x),b})}}async cancel(e){var n,r,o,s;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=eD(e);return d=Ae("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=nD(g),b=new Py;return Object.assign(b,x),b})}else{const h=jI(e);return d=Ae("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),u.then(g=>{const x=tD(g),b=new Py;return Object.assign(b,x),b})}}async tuneInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=oD(e,e);return s=Ae("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>th(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=aD(e);return s=Ae("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>yD(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bD{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const SD=1024*1024*8,wD=3,TD=1e3,_D=2,nu="x-goog-upload-status";async function AD(t,e,n){var r;const o=await p6(t,e,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function ED(t,e,n){var r;const o=await p6(t,e,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=_5(s),d=new Oh;return Object.assign(d,u),d}async function p6(t,e,n){var r,o;let s=0,u=0,d=new Ff(new Response),f="upload";for(s=t.size;u<s;){const h=Math.min(SD,s-u),g=t.slice(u,u+h);u+h>=s&&(f+=", finalize");let x=0,b=TD;for(;x<wD&&(d=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[nu]));)x++,await kD(b),b=b*_D;if(u+=h,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[nu])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function CD(t){return{size:t.size,type:t.type}}function kD(t){return new Promise(e=>setTimeout(e,t))}class zD{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AD(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ED(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await CD(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MD{create(e,n,r){return new ND(e,n,r)}}class ND{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f2="x-goog-api-key";class RD{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(f2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(f2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ID="gl-node/";class DD{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new jt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=kC(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new RD(this.apiKey);this.apiClient=new CR({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ID+"web",uploader:new zD,downloader:new bD}),this.models=new YR(this.apiClient),this.live=new HR(this.apiClient,o,new MD),this.batches=new rz(this.apiClient),this.chats=new Pz(this.models,this.apiClient),this.caches=new Lz(this.apiClient),this.files=new Xz(this.apiClient),this.operations=new JR(this.apiClient),this.authTokens=new uI(this.apiClient),this.tunings=new xD(this.apiClient),this.fileSearchStores=new vI(this.apiClient)}}const h2=`
You are an expert in Category Theory and Commutative Diagrams. 
Your goal is to generate "Arrowgram" diagram specifications based on the user's description.

Output ONLY valid JSON. Do not include markdown formatting.

The JSON specification format is as follows (TypeScript interface):

// Source of Truth: packages/arrowgram/src/types.ts
// IMPORTANT: Keep this in sync with the actual code!

interface NodeSpec {
  name: string; // Unique ID (e.g., "A", "node_1")
  label?: string; // LaTeX label (e.g. "$A$", "$X \\times B$"). MUST be wrapped in $.
  color?: string; // Hex color code (e.g. "#FF0000"). Default: "black".
  left: number; // X coordinate (pixels)
  top: number; // Y coordinate (pixels)
}

interface ArrowStyleSpec {
  mode?: "arrow" | "adjunction" | "corner" | "corner_inverse";
  head?: { 
    name?: "normal" | "none" | "epi" | "hook" | "maps_to" | "harpoon"; 
    side?: "top" | "bottom" 
  }; 
  tail?: { 
    name?: "normal" | "none" | "mono" | "hook" | "maps_to"; 
    side?: "top" | "bottom" 
  };
  body?: { 
    name?: "solid" | "dashed" | "dotted" | "squiggly" | "wavy" | "barred" | "double_barred" | "bullet_solid" | "bullet_hollow" | "none" 
  };
  level?: number; // 1 for single (->), 2 for double (=>), 3 for triple.
}

interface ArrowSpec {
  from: string; // Node ID OR Arrow ID (for 2-cells)
  to: string; // Node ID OR Arrow ID
  name?: string; // Unique arrow ID (required if this arrow is a target)
  label?: string; // LaTeX label (e.g. "$f$", "$\\pi$"). MUST be wrapped in $.
  label_alignment?: "over" | "left" | "right"; // "over" is default.
  color?: string; // Hex color for arrow stroke.
  label_color?: string; // Hex color for label.
  curve?: number; // Curvature (-100 to 100), 0 is straight
  shift?: number; // Parallel shift
  radius?: number; // For loops
  angle?: number; // For loops (degrees)
  shorten?: {
      source?: number; // Gap at source (px)
      target?: number; // Gap at target (px)
  };
  style?: ArrowStyleSpec;
}

interface DiagramSpec {
  version?: number;
  nodes: NodeSpec[];
  arrows?: ArrowSpec[];
}

Layout Guidelines:
- Coordinate system: (0,0) is top-left.
- Standard spacing: Nodes are usually 100-200 pixels apart.
- Centered diagrams usually look best around (300, 300) or similar.
- Use standard LaTeX for labels (e.g., "$\\pi$", "$f \\circ g$").
- IMPORTANT: All labels MUST be wrapped in dollar signs for math mode (e.g., "$A$", "$f$").
- For 2-cells (natural transformations), name the source/target arrows and connect a new arrow between them.

CRITICAL JSON SYNTAX RULE:
- **Double Escape Backslashes**: When writing LaTeX commands in the JSON string, you MUST double-escape backslashes. 
  - WRONG: "label": "$A 	o B$" (Invalid JSON escape sequence)
  - CORRECT: "label": "$A \\to B$" (becomes "$A 	o B$" in the parser, which is correct)

CRITICAL RULES FOR UPDATES:
1. When provided with an existing spec ("Current Diagram Spec"), you must return the FULL merged JSON.
2. PRESERVE the coordinates (left, top) of existing nodes unless the user explicitly asks to move them or reorganize the layout.
3. PRESERVE existing node IDs ("name") to maintain arrow connections.
4. If adding a new node, place it intelligently relative to connected nodes (e.g., forming a square or triangle).

---
EXAMPLES:

1. **Pullback Square (Corner)**
{
  "version": 1,
  "nodes": [
    { "name": "P", "left": 100, "top": 100, "label": "$P$" },
    { "name": "A", "left": 300, "top": 100, "label": "$A$" },
    { "name": "B", "left": 100, "top": 300, "label": "$B$" },
    { "name": "C", "left": 300, "top": 300, "label": "$C$" }
  ],
  "arrows": [
    { "from": "P", "to": "A", "label": "$p_1$" },
    { "from": "P", "to": "B", "label": "$p_2$" },
    { "from": "A", "to": "C", "label": "$f$" },
    { "from": "B", "to": "C", "label": "$g$" },
    { "from": "P", "to": "C", "style": { "mode": "corner" } }
  ]
}

2. **Natural Transformation (2-cell)**
{
  "nodes": [
    { "name": "A", "left": 100, "top": 200, "label": "$A$" },
    { "name": "B", "left": 400, "top": 200, "label": "$B$" }
  ],
  "arrows": [
    { "name": "F", "from": "A", "to": "B", "label": "$F$", "curve": -40 },
    { "name": "G", "from": "A", "to": "B", "label": "$G$", "curve": 40 },
    { "from": "F", "to": "G", "label": "$\\alpha$", "style": { "level": 2 }, "shorten": { "source": 10, "target": 10 } }
  ]
}

3. **Adjunction with Loops and Dashed Lines**
{
  "nodes": [
    { "name": "X", "left": 200, "top": 200, "label": "$X$", "color": "blue" }
  ],
  "arrows": [
    { "from": "X", "to": "X", "label": "$1_X$", "radius": 40, "angle": 0, "style": { "body": { "name": "dashed" } } },
    { "from": "X", "to": "X", "label": "$e$", "radius": 40, "angle": 180 }
  ]
}

4. **Styles: Hook, Epi, Squiggly, Color**
{
  "nodes": [
    { "name": "A", "left": 100, "top": 100, "label": "$A$" },
    { "name": "B", "left": 300, "top": 100, "label": "$B$" }
  ],
  "arrows": [
    {
      "from": "A", "to": "B", 
      "label": "$f$", 
      "color": "red",
      "style": { 
        "tail": { "name": "hook", "side": "top" }, 
        "head": { "name": "epi" },
        "body": { "name": "squiggly" } 
      } 
    }
  ]
}

5. **Maps To (|->)**
{
  "nodes": [
    { "name": "x", "left": 100, "top": 100, "label": "$x$" },
    { "name": "y", "left": 300, "top": 100, "label": "$y$" }
  ],
  "arrows": [
    {
      "from": "x", "to": "y", 
      "style": { "tail": { "name": "maps_to" } } 
    }
  ]
}
`,LD=`
You are an expert academic writer and researcher. Your goal is to write and edit academic papers in Markdown format.
The papers are rendered using a pipeline supporting Arrowgram, Vega-Lite, Mermaid, and KaTeX.

Output ONLY valid Markdown.

### Document Structure & Metadata
Start the document with YAML frontmatter for the title and authors:
---
title: My Paper Title
authors: Author One & Author Two
---

### Capabilities & Syntax

1. **Standard Markdown**: Use headers (#, ##), lists, bold, italics, etc.

2. **Mathematics (KaTeX)**:
   - Inline: $E=mc^2$
   - Display:
     $$
     int_{-infty}^infty e^{-x^2} dx = sqrt{pi}
     $$

3. **Commutative Diagrams (Arrowgram)**:
   Embed the JSON spec in a div with class "arrowgram".
   **IMPORTANT**: In the JSON inside the div, double-escape all LaTeX backslashes. (e.g. use "\\to" not "	o").
   <div class="arrowgram">
   {
     "version": 1,
     "nodes": [...],
     "arrows": [...] 
   }
   </div>

4. **Charts (Vega-Lite)**:
   Embed the JSON spec in a div with class "vega-lite".
   <div class="vega-lite">
   {
     "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
     "mark": "bar",
     "encoding": { ... },
     "data": { ... }
   }
   </div>

5. **Diagrams (Mermaid)**:
   Embed the Mermaid syntax in a div with class "mermaid".
   <div class="mermaid">
   graph TD;
       A-->B;
   </div>

### Editing Rules
- If editing, PRESERVE existing structure and diagrams unless explicitly changed.
- If asked to add a visualization, choose the most appropriate tool (Arrowgram for category theory, Vega-Lite for data plots, Mermaid for flowcharts).
`;async function UD(t,e,n="diagram"){const{apiKey:r,apiProvider:o}=Ih.getState();if(!r&&o==="gemini")throw new Error("API Key is missing. Please set it in Settings.");const s=n==="paper"?LD+`

`+h2:h2;let u=t;e?u+=`

Task: Update this based on the request. Return the FULL updated content.

Current ${n==="paper"?"Paper Content":"Diagram Spec"}:
${e}`:u+=`

Task: Generate new content. Return the FULL content.`;try{if(o==="gemini"){let h=(await new DD({apiKey:r}).models.generateContent({model:"gemini-2.5-flash",contents:u,config:{systemInstruction:s}})).text;if(!h)throw new Error("No response from Gemini.");return n==="diagram"?h=h.replace(/```json/g,"").replace(/```/g,"").trim():h.startsWith("```markdown")&&(h=h.replace(/^```markdown\n/,"").replace(/\n```$/,"")),h}else throw new Error("Custom provider not implemented yet.")}catch(d){throw console.error("AI Generation Error:",d),new Error(d.message||"Failed to generate content.")}}function m2({context:t}){const[e,n]=we.useState([{role:"assistant",text:"Hello! I am the Arrowgram AI. Describe what you want to create, and I will generate it for you."}]),[r,o]=we.useState(""),[s,u]=we.useState(!1),d=vt(E=>E.spec),f=vt(E=>E.setSpec),h=t||{type:"diagram",content:d,onUpdate:f},{apiKey:g}=Ih(),{addToast:x}=Ta(),b=we.useRef(null),w=()=>{var E;(E=b.current)==null||E.scrollIntoView({behavior:"smooth"})};we.useEffect(w,[e]);const k=async()=>{if(!r.trim())return;const E={role:"user",text:r};n(z=>[...z,E]),o(""),u(!0);try{if(!g){n(R=>[...R,{role:"assistant",text:"Please set your Google Gemini API Key in Settings to use the AI features.",isError:!0}]),u(!1);return}const z=await UD(E.text,h.content,h.type);if(h.type==="diagram")try{JSON.parse(z),h.onUpdate(z),n(R=>[...R,{role:"assistant",text:"I've updated the diagram based on your request."}]),x("Diagram generated successfully","success")}catch{console.error("Invalid JSON from AI:",z),n(L=>[...L,{role:"assistant",text:"I generated a response, but it wasn't valid diagram code. Please try again."}])}else h.onUpdate(z),n(R=>[...R,{role:"assistant",text:"I've updated the paper based on your request."}]),x("Paper updated successfully","success")}catch(z){n(R=>[...R,{role:"assistant",text:z.message||"Something went wrong.",isError:!0}])}finally{u(!1)}};return A.jsxs("div",{className:"flex flex-col h-full bg-white border-l border-gray-200 w-80 shadow-lg",children:[A.jsxs("div",{className:"p-4 border-b bg-purple-50 flex items-center justify-between gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(zA,{className:"text-purple-600",size:20}),A.jsx("h3",{className:"font-bold text-gray-800",children:"AI Assistant"})]}),!g&&A.jsx("div",{title:"API Key Missing",className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[e.map((E,z)=>A.jsxs("div",{className:`flex gap-2 ${E.role==="user"?"flex-row-reverse":""}`,children:[A.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${E.role==="assistant"?"bg-purple-100 text-purple-600":"bg-gray-200 text-gray-600"}`,children:E.role==="assistant"?A.jsx(Lf,{size:16}):A.jsx(DA,{size:16})}),A.jsx("div",{className:`p-3 rounded-lg text-sm max-w-[80%] ${E.role==="assistant"?E.isError?"bg-red-50 border border-red-200 text-red-800":"bg-white border border-gray-100 shadow-sm":"bg-blue-600 text-white"}`,children:E.text})]},z)),s&&A.jsxs("div",{className:"flex gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center",children:A.jsx(Lf,{size:16})}),A.jsx("div",{className:"text-gray-400 text-sm flex items-center",children:"Thinking..."})]}),A.jsx("div",{ref:b})]}),A.jsx("div",{className:"p-4 border-t bg-white",children:A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",className:"flex-1 border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:g?"Ask to draw a diagram...":"Set API Key to start",value:r,onChange:E=>o(E.target.value),onKeyDown:E=>E.key==="Enter"&&k(),disabled:!g&&e.length>1}),A.jsx("button",{onClick:k,className:"bg-purple-600 text-white p-2 rounded-md hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!r.trim(),children:A.jsx(_A,{size:18})})]})})]})}function OD({onOpenProject:t}){const[e,n]=we.useState([]),{setSpec:r,setFilename:o,createNew:s}=vt(),u=Dh();we.useEffect(()=>{d()},[]);const d=async()=>{const b=await u.listProjects();n(b)},f=()=>{s(),t("diagram",{name:`Untitled-${Date.now()}`,spec:"",updatedAt:"",type:"diagram"})},h=()=>{t("paper",{name:`Paper-${Date.now()}`,spec:`---
title: My New Paper
authors: Author Name
---

# Introduction

Start writing here...
`,updatedAt:"",type:"paper"})},g=b=>{(b.type==="diagram"||!b.type)&&(r(b.spec),o(b.name)),t(b.type||"diagram",b)},x=async(b,w)=>{b.stopPropagation(),confirm(`Are you sure you want to delete "${w}"?`)&&(await u.deleteProject(w),d())};return A.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:A.jsxs("div",{className:"max-w-5xl mx-auto",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Workspace"}),A.jsx("p",{className:"text-gray-500 mt-2",children:"Manage your Diagrams and Papers"})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs(cn,{onClick:h,className:"gap-2 bg-indigo-600 hover:bg-indigo-700",children:[A.jsx(df,{className:"w-4 h-4"})," New Paper"]}),A.jsxs(cn,{onClick:f,className:"gap-2 bg-white text-gray-700 border hover:bg-gray-50",children:[A.jsx(j3,{className:"w-4 h-4"})," New Diagram"]})]})]}),e.length===0?A.jsxs("div",{className:"text-center py-20 bg-white rounded-lg border border-dashed border-gray-300",children:[A.jsx(df,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No projects yet"}),A.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first project to get started."}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx(cn,{onClick:h,children:"Create Paper"}),A.jsx(cn,{onClick:f,variant:"outline",children:"Create Diagram"})]})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(b=>A.jsxs("div",{onClick:()=>g(b),className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow cursor-pointer group relative",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsx("div",{className:`p-3 rounded-lg transition-colors ${b.type==="paper"?"bg-indigo-50 group-hover:bg-indigo-100":"bg-blue-50 group-hover:bg-blue-100"}`,children:b.type==="paper"?A.jsx(df,{className:`w-6 h-6 ${b.type==="paper"?"text-indigo-600":"text-blue-600"}`}):A.jsxs("svg",{className:"w-6 h-6 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[A.jsx("circle",{cx:"6",cy:"6",r:"3"}),A.jsx("circle",{cx:"18",cy:"18",r:"3"}),A.jsx("path",{d:"M8.5 8.5l7 7"})]})}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider py-1 px-2 rounded-full ${b.type==="paper"?"bg-indigo-100 text-indigo-700":"bg-blue-100 text-blue-700"}`,children:b.type||"Diagram"}),A.jsx("button",{onClick:w=>x(w,b.name),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:A.jsx(e5,{className:"w-4 h-4"})})]})]}),A.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:b.name}),A.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Edited ",new Date(b.updatedAt).toLocaleDateString()]})]},b.name))})]})})}function PD({markdown:t,isTwoColumn:e}){const n=we.useRef(null);return we.useEffect(()=>{let r=!0;return(async()=>{var ne;const[s,u,d,f,h,g,x]=await Promise.all([zn(()=>import("./server.browser-bndS9_XB.js").then(ee=>ee.s),[]),zn(()=>import("./showdown-D6HrOiNK.js").then(ee=>ee.s),[]),zn(()=>import("./mermaid.core-CbBXC6xm.js").then(ee=>ee.b7),__vite__mapDeps([0,1])),zn(()=>Promise.resolve().then(()=>x3),void 0),zn(()=>import("./vega.module-DlPeonZJ.js"),__vite__mapDeps([2,3,1,4,5,6,7,8,9,10,11])),zn(()=>import("./index-ByJ9Ii8b.js"),__vite__mapDeps([12,2,3,1,4,5,6,7,8,9,10,11])),zn(()=>import("./index-XUjCaNRt.js"),[])]),b=u.default??u,w=d.default??d,k=f.default??f,E=x.Previewer??((ne=x.default)==null?void 0:ne.Previewer);let z=t;const R=/<div class="vega-lite"([^>]*)>([\s\S]*?)<\/div>/g,L=Array.from(z.matchAll(R)),B=await Promise.all(L.map(async ee=>{try{const te=JSON.parse(ee[2].trim()),xe=g.compile(te).spec,ce=await new h.View(h.parse(xe),{renderer:"svg"}).toSVG();return{original:ee[0],replacement:`<div class="vega-container"${ee[1]}>${ce}</div>`}}catch(te){return{original:ee[0],replacement:`<div class="vega-error">Chart Error: ${te.message}</div>`}}}));for(const ee of B)z=z.replace(ee.original,ee.replacement);w.initialize({startOnLoad:!1,theme:"base"});const D=/<div class="mermaid"([^>]*)>([\s\S]*?)<\/div>/g,U=Array.from(z.matchAll(D)),$=await Promise.all(U.map(async(ee,te)=>{try{const{svg:xe}=await w.render(`mermaid-svg-${Date.now()}-${te}`,ee[2].trim());return{original:ee[0],replacement:`<div class="mermaid-container"${ee[1]}>${xe}</div>`}}catch{return{original:ee[0],replacement:'<div class="mermaid-error">Diagram Error</div>'}}}));for(const ee of $)z=z.replace(ee.original,ee.replacement);const I=/<div class="arrowgram"([^>]*)>([\s\S]*?)<\/div>/g,F=Array.from(z.matchAll(I)).map(ee=>{try{const te=ee[2].trim();JSON.parse(te);const xe=s.renderToStaticMarkup(A.jsx(Of,{spec:te}));return{original:ee[0],replacement:`<div class="arrowgram-container"${ee[1]}>${xe}</div>`}}catch(te){return console.error("Arrowgram Error:",te),{original:ee[0],replacement:`<div class="arrowgram-error">Diagram Error: ${te.message}</div>`}}});for(const ee of F)z=z.replace(ee.original,ee.replacement);const Z=new Map;let Y=0;const X=ee=>{const te=`AGPROTMATH${Y++}AGPROT`;return Z.set(te,ee),te};z=z.replace(/\$\$[\s\S]+?\$\$/g,X),z=z.replace(/\$(?!\$)(?:\\.|[^$\\\n])+\$/g,X);const Q=new b.Converter({metadata:!0,noHeaderId:!0,literalMidWordUnderscores:!0});let W=Q.makeHtml(z);const ie=Q.getMetadata();for(const[ee,te]of Z.entries())W=W.split(ee).join(te);const G=new Map;let le=0;const re=ee=>{const te=`__AG_PROTECTED_BLOCK_${le++}__`;return G.set(te,ee),te};W=W.replace(/<pre[^>]*>.*?<\/pre>/gs,re),W=W.replace(/<code[^>]*>.*?<\/code>/gs,re),W=W.replace(/\$\$([\s\S]+?)\$\$/g,(ee,te)=>k.renderToString(te.trim(),{throwOnError:!1,displayMode:!0})),W=W.replace(/\$([^$]+?)\$/g,(ee,te)=>k.renderToString(te.trim(),{throwOnError:!1,displayMode:!1}));for(const[ee,te]of G.entries())W=W.replace(ee,te);const Ee=`<div class="title-block">${ie.title?`<div class="title">${ie.title}</div>`:""}${ie.authors?`<div class="authors">${ie.authors}</div>`:""}</div>`,q=`<div class="${e?"layout-two-column":"layout-single-column"}">${Ee}<div class="paper-body">${W}</div></div>`;r&&n.current&&(n.current.innerHTML="",new E().preview(q,["https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"],n.current))})(),()=>{r=!1}},[t,e]),A.jsx("div",{ref:n,className:"preview-content-area",children:A.jsx("p",{className:"loading-indicator",children:"Processing Document..."})})}function BD({markdown:t,initialIsTwoColumn:e=!1,showCloseButton:n=!1,onClose:r}){const[o,s]=we.useState(e);return A.jsxs("div",{className:"preview-container",children:[A.jsxs("div",{className:"preview-controls",children:[n&&A.jsx("button",{className:"control-button",onClick:()=>r?r():window.close(),children:"Close"}),A.jsx("button",{className:`control-button ${o?"active":""}`,onClick:()=>s(!o),children:o?"Single Column":"Two Column"}),A.jsx("button",{className:"control-button",onClick:()=>window.print(),children:"Print / Save PDF"})]}),A.jsx(PD,{markdown:t,isTwoColumn:o})]})}function HD(){const[t,e]=we.useState(null),[n,r]=we.useState(!1);return we.useEffect(()=>{const o=localStorage.getItem("print_content"),s=localStorage.getItem("print_layout");e(o||`# Error: No content found

Please close this window and try printing again.`),s&&r(s==="true")},[]),t?A.jsx(BD,{markdown:t,initialIsTwoColumn:n,showCloseButton:!0}):A.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."})}const qD='@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_AMS-Regular-BQhdFMY1.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_AMS-Regular-DMm9YOAa.woff) format("woff"),url(/arrowgram/assets/KaTeX_AMS-Regular-DRggAlZN.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_Caligraphic-Bold-Dq_IR9rO.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Caligraphic-Bold-BEiXGLvX.woff) format("woff"),url(/arrowgram/assets/KaTeX_Caligraphic-Bold-ATXxdsX0.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Caligraphic-Regular-Di6jR-x-.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Caligraphic-Regular-CTRA-rTL.woff) format("woff"),url(/arrowgram/assets/KaTeX_Caligraphic-Regular-wX97UBjC.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_Fraktur-Bold-CL6g_b3V.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Fraktur-Bold-BsDP51OF.woff) format("woff"),url(/arrowgram/assets/KaTeX_Fraktur-Bold-BdnERNNW.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Fraktur-Regular-CTYiF6lA.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Fraktur-Regular-Dxdc4cR9.woff) format("woff"),url(/arrowgram/assets/KaTeX_Fraktur-Regular-CB_wures.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_Main-Bold-Cx986IdX.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-Bold-Jm3AIy58.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-Bold-waoOVXN0.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(/arrowgram/assets/KaTeX_Main-BoldItalic-DxDJ3AOS.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-BoldItalic-SpSLRI95.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-BoldItalic-DzxPMmG6.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(/arrowgram/assets/KaTeX_Main-Italic-NWA7e6Wa.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-Italic-BMLOBm91.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-Italic-3WenGoN9.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Main-Regular-B22Nviop.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Main-Regular-Dr94JaBh.woff) format("woff"),url(/arrowgram/assets/KaTeX_Main-Regular-ypZvNtVU.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(/arrowgram/assets/KaTeX_Math-BoldItalic-CZnvNsCZ.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Math-BoldItalic-iY-2wyZ7.woff) format("woff"),url(/arrowgram/assets/KaTeX_Math-BoldItalic-B3XSjfu4.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(/arrowgram/assets/KaTeX_Math-Italic-t53AETM-.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Math-Italic-DA0__PXp.woff) format("woff"),url(/arrowgram/assets/KaTeX_Math-Italic-flOr_0UB.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:normal;font-weight:700;src:url(/arrowgram/assets/KaTeX_SansSerif-Bold-D1sUS0GD.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_SansSerif-Bold-DbIhKOiC.woff) format("woff"),url(/arrowgram/assets/KaTeX_SansSerif-Bold-CFMepnvq.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:italic;font-weight:400;src:url(/arrowgram/assets/KaTeX_SansSerif-Italic-C3H0VqGB.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_SansSerif-Italic-DN2j7dab.woff) format("woff"),url(/arrowgram/assets/KaTeX_SansSerif-Italic-YYjJ1zSn.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_SansSerif-Regular-DDBCnlJ7.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_SansSerif-Regular-CS6fqUqJ.woff) format("woff"),url(/arrowgram/assets/KaTeX_SansSerif-Regular-BNo7hRIc.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Script-Regular-D3wIWfF6.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Script-Regular-D5yQViql.woff) format("woff"),url(/arrowgram/assets/KaTeX_Script-Regular-C5JkGWo-.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Size1-Regular-mCD8mA8B.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Size1-Regular-C195tn64.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size1-Regular-Dbsnue_I.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Size2-Regular-Dy4dx90m.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Size2-Regular-oD1tc_U0.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size2-Regular-B7gKUWhC.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(data:font/woff2;base64,d09GMgABAAAAAA4oAA4AAAAAHbQAAA3TAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAgRQIDgmcDBEICo1oijYBNgIkA14LMgAEIAWJAAeBHAyBHBvbGiMRdnO0IkRRkiYDgr9KsJ1NUAf2kILNxgUmgqIgq1P89vcbIcmsQbRps3vCcXdYOKSWEPEKgZgQkprQQsxIXUgq0DqpGKmIvrgkeVGtEQD9DzAO29fM9jYhxZEsL2FeURH2JN4MIcTdO049NCVdxQ/w9NrSYFEBKTDKpLKfNkCGDc1RwjZLQcm3vqJ2UW9Xfa3tgAHz6ivp6vgC2yD4/6352ndnN0X0TL7seypkjZlMsjmZnf0Mm5Q+JykRWQBKCVCVPbARPXWyQtb5VgLB6Biq7/Uixcj2WGqdI8tGSgkuRG+t910GKP2D7AQH0DB9FMDW/obJZ8giFI3Wg8Cvevz0M+5m0rTh7XDBlvo9Y4vm13EXmfttwI4mBo1EG15fxJhUiCLbiiyCf/ZA6MFAhg3pGIZGdGIVjtPn6UcMk9A/UUr9PhoNsCENw1APAq0gpH73e+M+0ueyHbabc3vkbcdtzcf/fiy+NxQEjf9ud/ELBHAXJ0nk4z+MXH2Ev/kWyV4k7SkvpPc9Qr38F6RPWnM9cN6DJ0AdD1BhtgABtmoRoFCvPsBAumNm6soZG2Gk5GyVTo2sJncSyp0jQTYoR6WDvTwaaEcHsxHfvuWhHA3a6bN7twRKtcGok6NsCi7jYRrM2jExsUFMxMQYuJbMhuWNOumEJy9hi29Dmg5zMp/A5+hhPG19j1vBrq8JTLr8ki5VLPmG/PynJHVul440bxg5xuymHUFPBshC+nA9I1FmwbRBTNHAcik3Oae0cxKoI3MOriM42UrPe51nsaGxJ+WfXubAsP84aabUlQSJ1IiE0iPETLUU4CATgfXSCSpuRFRmCGbO+wSpAnzaeaCYW1VNEysRtuXCEL1kUFUbbtMv3Tilt/1c11jt3Q5bbMa84cpWipp8Elw3MZhOHsOlwwVUQM3lAR35JiFQbaYCRnMF2lxAWoOg2gyoIV4PouX8HytNIfLhqpJtXB4vjiViUI8IJ7bkC4ikkQvKksnOTKICwnqWSZ9YS5f0WCxmpgjbIq7EJcM4aI2nmhLNY2JIUgOjXZFWBHb+x5oh6cwb0Tv1ackHdKi0I9OO2wE9aogIOn540CCCziyhN+IaejtgAONKznHlHyutPrHGwCx9S6B8kfS4Mfi4Eyv7OU730bT1SCBjt834cXsf43zVjPUqqJjgrjeGnBxSG4aYAKFuVbeCfkDIjAqMb6yLNIbCuvXhMH2/+k2vkNpkORhR59N1CkzoOENvneIosjYmuTxlhUzaGEJQ/iWqx4dmwpmKjrwTiTGTCVozNAYqk/zXOndWxuWSmJkQpJw3pK5KX6QrLt5LATMqpmPAQhkhK6PUjzHUn7E0gHE0kPE0iKkolgkUx9SZmVAdDgpffdyJKg3k7VmzYGCwVXGz/tXmkOIp+vcWs+EMuhhvN0h9uhfzWJziBQmCREGSIFmQIkgVpAnSBRmC//6hkLZwaVhwxlrJSOdqlFtOYxlau9F2QN5Y98xmIAsiM1HVp2VFX+DHHGg6Ecjh3vmqtidX3qHI2qycTk/iwxSt5UzTmEP92ZBnEWTk4Mx8Mpl78ZDokxg/KWb+Q0QkvdKVmq3TMW+RXEgrsziSAfNXFMhDc60N5N9jQzjfO0kBKpUZl0ZmwJ41j/B9Hz6wmRaJB84niNmQrzp9eSlQCDDzazGDdVi3P36VZQ+Jy4f9UBNp+3zTjqI4abaFAm+GShVaXlsGdF3FYzZcDI6cori4kMxUECl9IjJZpzkvitAoxKue+90pDMvcKRxLl53TmOKCmV/xRolNKSqqUxc6LStOETmFOiLZZptlZepcKiAzteG8PEdpnQpbOMNcMsR4RR2Bs0cKFEvSmIjAFcnarqwUL4lDhHmnVkwu1IwshbiCcgvOheZuYyOteufZZwlcTlLgnZ3o/WcYdzZHW/WGaqaVfmTZ1aWCceJjkbZqsfbkOtcFlUZM/jy+hXHDbaUobWqqXaeWobbLO99yG5N3U4wxco0rQGGcOLASFMXeJoham8M+/x6O2WywK2l4HGbq1CoUyC/IZikQhdq3SiuNrvAEj0AVu9x2x3lp/xWzahaxidezFVtdcb5uEnzyl0ZmYiuKI0exvCd4Xc9CV1KB0db00z92wDPde0kukbvZIWN6jUWFTmPIC/Y4UPCm8UfDTFZpZNon1qLFTkBhxzB+FjQRA2Q/YRJT8pQigslMaUpFyAG8TMlXigiqmAZX4xgijKjRlGpLE0GdplRfCaJo0JQaSxNBk6ZmMzcya0FmrcisDdn0Q3HI2sWSppYigmlM1XT/kLQZSNpMJG0WkjYbSZuDpM1F0uYhFc1HxU4m1QJjDK6iL0S5uSj5rgXc3RejEigtcRBtqYPQsiTskmO5vosV+q4VGIKbOkDg0jtRrq+Em1YloaTFar3EGr1EUC8R0kus1Uus00usL97ABr2BjXoDm/QGNhuWtMVBKOwg/i78lT7hBsAvDmwHc/ao3vmUbBmhjeYySZNWvGkfZAgISDSaDo1SVpzGDsAEkF8B+gEapViUoZgUWXcRIGFZNm6gWbAKk0bp0k1MHG9fLYtV4iS2SmLEQFARzRcnf9PUS0LVn05/J9MiRRBU3v2IrvW974v4N00L7ZMk0wXP1409CHo/an8zTRHD3eSJ6m8D4YMkZNl3M79sqeuAsr/m3f+8/yl7A50aiAEJgeBeMWzu7ui9UfUBCe2TIqZIoOd/3/udRBOQidQZUERzb2/VwZN1H/Sju82ew2H2Wfr6qvfVf3hqwDvAIpkQVFy4B9Pe9e4/XvPeceu7h3dvO56iJPf0+A6cqA2ip18ER+iFgggiuOkvj24bby0N9j2UHIkgqIt+sVgfodC4YghLSMjSZbH0VR/6dMDrYJeKHilKTemt6v6kvzvn3/RrdWtr0GoN/xL+Sex/cPYLUpepx9cz/D46UPU5KXgAQa+NDps1v6J3xP1i2HtaDB0M9aX2deA7SYff//+gUCovMmIK/qfsFcOk+4Y5ZN97XlG6zebqtMbKgeRFi51vnxTQYBUik2rS/Cn6PC8ADR8FGxsRPB82dzfND90gIcshOcYUkfjherBz53odpm6TP8txlwOZ71xmfHHOvq053qFF/MRlS3jP0ELudrf2OeN8DHvp6ZceLe8qKYvWz/7yp0u4dKPfli3CYq0O13Ih71mylJ80tOi10On8wi+F4+LWgDPeJ30msSQt9/vkmHq9/Lvo2b461mP801v3W4xTcs6CbvF9UDdrSt+A8OUbpSh55qAUFXWznBBfdeJ8a4d7ugT5tvxUza3h9m4H7ptTqiG4z0g5dc0X29OcGlhpGFMpQo9ytTS+NViZpNdvU4kWx+LKxNY10kQ1yqGXrhe4/1nvP7E+nd5A92TtaRplbHSqoIdOqtRWti+fkB5/n1+/VvCmz12pG1kpQWsfi1ftlBobm0bpngs16CHkbIwdLnParxtTV3QYRlfJ0KFskH7pdN/YDn+yRuSd7sNH3aO0DYPggk6uWuXrfOc+fa3VTxFVvKaNxHsiHmsXyCLIE5yuOeN3/Jdf8HBL/5M6shjyhxHx9BjB1O0+4NLOnjLLSxwO7ukN4jMbOIcD879KLSi6Pk61Oqm2377n8079PXEEQ7cy7OKEC9nbpet118fxweTafpt69x/Bt8UqGzNQt7aelpc44dn5cqhwf71+qKp/Zf/+a0zcizOUWpl/iBcSXip0pplkatCchoH5c5aUM8I7/dWxAej8WicPL1URFZ9BDJelUwEwTkGqUhgSlydVes95YdXvhh9Gfz/aeFWvgVb4tuLbcv4+wLdutVZv/cUonwBD/6eDlE0aSiKK/uoH3+J1wDE/jMVqY2ysGufN84oIXB0sPzy8ollX/LegY74DgJXJR57sn+VGza0x3DnuIgABFM15LmajjjsNlYj+JEZGbuRYcAMOWxFkPN2w6Wd46xo4gVWQR/X4lyI/R6K/YK0110GzudPRW7Y+UOBGTfNNzHeYT0fiH0taunBpq9HEW8OKSaBGj21L0MqenEmNRWBAWDWAk4CpNoEZJ2tTaPFgbQYj8HxtFilErs3BTRwT8uO1NXQaWfIotchmPkAF5mMBAliEmZiOGVgCG9LgRzpscMAOOwowlT3JhusdazXGSC/hxR3UlmWVwWHpOIKheqONvjyhSiTHIkVUco5bnji8m//zL7PKaT1Vl5I6UE609f+gkr6MZKVyKc7zJRmCahLsdlyA5fdQkRSan9LgnnLEyGSkaKJCJog0wAgvepWBt80+1yKln1bMVtCljfNWDueKLsWwaEbBSfSPTEmVRsUcYYMnEjcjeyCZzBXK9E9BYBXLKjOSpUDR+nEV3TFSUdQaz+ot98QxgXwx0GQ+EEUAKB2qZPkQQ0GqFD8UPFMqyaCHM24BZmSGic9EYMagKizOw9Hz50DMrDLrqqLkTAhplMictiCAx5S3BIUQdeJeLnBy2CNtMfz6cV4u8XKoFZQesbf9YZiIERiHjaNodDW6LgcirX/mPnJIkBGDUpTBhSa0EIr38D5hCIszhCM8URGBqImoWjpvpt1ebu/v3Gl3qJfMnNM+9V+kiRFyROTPHQWOcs1dNW94/ukKMPZBvDi55i5CttdeJz84DLngLqjcdwEZ87bFFR8CIG35OAkDVN6VRDZ7aq67NteYqZ2lpT8oYB2CytoBd6VuAx4WgiAsnuj3WohG+LugzXiQRDeM3XYXlULv4dp5VFYC) format("woff2"),url(/arrowgram/assets/KaTeX_Size3-Regular-CTq5MqoE.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size3-Regular-DgpXs0kz.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Size4-Regular-Dl5lxZxV.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Size4-Regular-BF-4gkZK.woff) format("woff"),url(/arrowgram/assets/KaTeX_Size4-Regular-DWFBv043.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(/arrowgram/assets/KaTeX_Typewriter-Regular-CO6r4hn1.woff2) format("woff2"),url(/arrowgram/assets/KaTeX_Typewriter-Regular-C0xS9mPB.woff) format("woff"),url(/arrowgram/assets/KaTeX_Typewriter-Regular-D3Ib7_Hf.ttf) format("truetype")}.katex{font: 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.16.22"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathboldfrak,.katex .textboldfrak{font-family:KaTeX_Fraktur;font-weight:700}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .mathsfit,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.2777777778em;margin-right:-.5555555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.1666666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.6666666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.4566666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.1466666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.7142857143em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.8571428571em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.1428571429em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.2857142857em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.4285714286em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.7142857143em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.0571428571em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.4685714286em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.9628571429em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.5542857143em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.7777777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.8888888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.1111111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.3044444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.7644444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.5833333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.7283333333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.0733333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.4861111111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.4402777778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.7277777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.2893518519em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.4050925926em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.462962963em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.5208333333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.2002314815em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.4398148148em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.2410800386em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.2892960463em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.337512054em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.3857280617em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.4339440694em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.4821600771em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.5785920926em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.6943105111em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.8331726133em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.1996142719em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.2009646302em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.2411575563em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.2813504823em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.3215434084em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.3617363344em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.4019292605em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.4823151125em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.578778135em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.6945337621em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.8336012862em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}',GD={enablePrintPreview:!0},VD=_r.createContext(GD);function FD(){return _r.useContext(VD)}function $D(){const t=Dh(),e=FD(),n=new URL("/arrowgram/",window.location.origin).pathname.replace(/\/$/,""),r=window.location.pathname.startsWith(n+"/")?window.location.pathname.slice(n.length):window.location.pathname;if(e.enablePrintPreview&&(r==="/print-preview"||r==="/print-preview/"))return A.jsx(HD,{});const o=vt(Z=>Z.spec),s=vt(Z=>Z.setSpec),u=vt(Z=>Z.filename),f={key:vt(Z=>Z.selectedIds).values().next().value},[h,g]=we.useState("dashboard"),[x,b]=we.useState(null),[w,k]=we.useState(!1),[E,z]=we.useState(""),[R,L]=we.useState(!1),[B,D]=we.useState(!0),{addToast:U}=Ta(),$=async(Z,Y={fitView:!0,showGrid:!0})=>{if(Z==="tikz"){const W=yC(o);z(W),k(!0);return}const X=document.getElementById("arrowgram-canvas");if(!X){U("Could not find the diagram to export.","error");return}let Q=X.getAttribute("viewBox")||"0 0 1000 600";if(Y.fitView){const W=Bs(o);W.viewBox&&(Q=W.viewBox)}try{const W=X.cloneNode(!0);if(W.setAttribute("viewBox",Q),!Y.showGrid){const le=W.querySelector('rect[fill*="#grid"]');le&&le.remove()}let ie=qD;ie=ie.replace(/url\((['"]?)fonts\//g,(le,re)=>`url(${re}https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/`);const G=document.createElementNS("http://www.w3.org/2000/svg","style");if(G.textContent=ie,W.insertBefore(G,W.firstChild),Z==="svg"){const le=new XMLSerializer().serializeToString(W),re=new Blob([le],{type:"image/svg+xml"});TC.saveAs(re,`${u||"diagram"}.svg`),U("Diagram exported as SVG","success")}else if(Z==="png"){const le=Q.split(" ").map(parseFloat),re={backgroundColor:"white",scale:2,left:le[0],top:le[1],width:le[2],height:le[3]},Ee=document.createElement("div");Ee.style.position="absolute",Ee.style.top="-9999px",Ee.style.left="-9999px",Ee.style.visibility="hidden",Ee.appendChild(W),document.body.appendChild(Ee);try{await bC.saveSvgAsPng(W,`${u||"diagram"}.png`,re),U("Diagram exported as PNG","success")}finally{document.body.removeChild(Ee)}}}catch(W){console.error("Export failed:",W),U("Failed to export diagram.","error")}},I=async()=>{try{await t.saveProject(u,o,"diagram"),U("Project saved successfully!","success")}catch(Z){console.error(Z),U("Failed to save project.","error")}},O=()=>{try{const Z=new TextEncoder().encode(o),Y=String.fromCharCode.apply(null,Z),X=btoa(Y),Q=`${window.location.origin}${window.location.pathname}?spec=${X}`;navigator.clipboard.writeText(Q),U("Shareable URL copied to clipboard!","success")}catch(Z){console.error(Z),U("Failed to create share URL","error")}};we.useEffect(()=>{const Y=new URLSearchParams(window.location.search).get("spec");if(Y)try{const X=atob(Y),Q=new Uint8Array(X.length);for(let ie=0;ie<X.length;ie++)Q[ie]=X.charCodeAt(ie);const W=new TextDecoder().decode(Q);s(W),g("editor"),b({name:"Shared Diagram",spec:W,updatedAt:"",type:"diagram"})}catch(X){console.error("Failed to load shared spec",X)}},[]);const F=(Z="diagram",Y)=>{g("editor"),b(Y||{name:u,spec:o,updatedAt:"",type:Z})};return h==="dashboard"?A.jsx(OD,{onOpenProject:F}):(x==null?void 0:x.type)==="paper"?A.jsx("div",{className:"h-screen w-screen bg-gray-50 flex flex-col font-sans overflow-hidden",children:A.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[A.jsx("div",{className:`transition-all duration-300 ease-in-out border-r border-gray-200 bg-white relative z-30 shadow-xl ${R?"w-80 translate-x-0":"w-0 -translate-x-full opacity-0"}`,children:A.jsx("div",{className:"w-80 h-full absolute right-0",children:A.jsx(m2,{context:{type:"paper",content:x.spec,onUpdate:Z=>b(Y=>Y?{...Y,spec:Z}:null)}})})}),A.jsxs("div",{className:"flex-1 relative flex flex-col min-w-0",children:[A.jsx("div",{className:"absolute top-3 left-4 z-40",children:A.jsx("button",{onClick:()=>g("dashboard"),className:"p-2 bg-white/50 hover:bg-white text-gray-500 hover:text-gray-900 border border-transparent hover:border-gray-200 rounded-lg transition-all shadow-sm backdrop-blur",title:"Back to Dashboard",children:A.jsx(m4,{size:20})})}),A.jsx("div",{className:"absolute top-3 right-20 z-40",children:A.jsx("button",{onClick:()=>L(!R),className:`p-2 rounded-lg transition-colors border shadow-sm ${R?"bg-indigo-100 text-indigo-700 border-indigo-200":"bg-white text-gray-600 hover:bg-gray-50 border-gray-200"}`,children:R?"Close AI":"Ask AI"})}),A.jsx(PE,{initialMarkdown:x.spec,filename:x.name,onPersist:async Z=>{await t.saveProject(x.name,Z,"paper"),b(Y=>Y?{...Y,spec:Z}:null)},onChange:Z=>{b(Y=>Y?{...Y,spec:Z}:null)},showPrintButton:e.enablePrintPreview})]})]})}):A.jsxs("div",{className:"h-screen w-screen bg-gray-50 flex flex-col font-sans overflow-hidden",children:[A.jsxs("nav",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-4 z-10 shadow-sm relative",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:()=>g("dashboard"),className:"p-2 -ml-2 text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:A.jsx(m4,{size:20})}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold shadow-sm",children:"A"}),A.jsx("span",{className:"font-semibold text-gray-800 text-lg tracking-tight hidden sm:block",children:"Arrowgram"}),A.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2 hidden sm:block"}),A.jsx("span",{className:"text-gray-600 font-medium",children:u})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors",children:[A.jsx(Nh,{size:16}),A.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),A.jsx("button",{onClick:()=>D(!B),className:`p-2 rounded-lg transition-colors ${B?"bg-purple-100 text-purple-700":"text-gray-500 hover:bg-gray-100"}`,title:"Toggle Properties",children:A.jsx(X0,{size:20})})]})]}),A.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[A.jsx("div",{className:`transition-all duration-300 ease-in-out border-r border-gray-200 bg-white relative z-20 shadow-xl ${R?"w-80 translate-x-0":"w-0 -translate-x-full opacity-0"}`,children:A.jsx("div",{className:"w-80 h-full absolute right-0",children:A.jsx(m2,{})})}),A.jsxs("div",{className:"flex-1 relative bg-gray-50 flex flex-col min-w-0",children:[A.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30",children:A.jsx(gC,{onExport:$,onShare:O,onToggleChat:()=>L(!R),isChatOpen:R})}),A.jsx("div",{className:"flex-1 overflow-hidden relative",children:A.jsx(i5,{})})]}),A.jsx("div",{className:`${B?"w-80 border-l border-gray-200":"w-0"} transition-all duration-300 ease-in-out bg-white z-20 shadow-xl flex flex-col overflow-hidden`,children:A.jsxs("div",{className:"w-80 h-full flex flex-col",children:[A.jsxs("div",{className:"p-4 border-b border-gray-100 font-semibold text-gray-700 bg-gray-50/50 flex justify-between items-center",children:["Properties",A.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600 lg:hidden",children:A.jsx(X0,{size:16})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:A.jsx(S5,{selection:f,spec:o,onSpecChange:s})})]})})]}),A.jsx(vC,{tikzCode:E,onClose:()=>k(!1),isOpen:w})]})}(()=>{const t=window.location;if(t.search&&t.search[1]==="/"){const e=t.search.slice(1).split("&").map(r=>r.replace(/~and~/g,"&")).join("?"),n=new URL("/arrowgram/",t.origin).pathname.replace(/\/$/,"");window.history.replaceState(null,"",n+e+t.hash)}})();const p2=document.getElementById("root");p2&&v2.createRoot(p2).render(A.jsx(we.StrictMode,{children:A.jsx($A,{children:A.jsx($D,{})})}));export{zn as _,g2 as a,L8 as g,x3 as k,nh as r};
